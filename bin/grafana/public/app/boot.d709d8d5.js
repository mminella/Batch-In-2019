/*! grafana - v4.3.2 - 2017-05-31
 * Copyright (c) 2017 Torkel Ödegaard; Licensed Apache-2.0 */

!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";var a,b=Function.call.bind(Function.apply),c=Function.call.bind(Function.call),d=Array.isArray,e=Object.keys,f=function(a){return function(){return!b(a,this,arguments)}},g=function(a){try{return a(),!1}catch(a){return!0}},h=function(a){try{return a()}catch(a){return!1}},i=f(g),j=function(){return!g(function(){Object.defineProperty({},"x",{get:function(){}})})},k=!!Object.defineProperty&&j(),l="foo"===function(){}.name,m=Function.call.bind(Array.prototype.forEach),n=Function.call.bind(Array.prototype.reduce),o=Function.call.bind(Array.prototype.filter),p=Function.call.bind(Array.prototype.some),q=function(a,b,c,d){!d&&b in a||(k?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c}):a[b]=c)},r=function(a,b,c){m(e(b),function(d){var e=b[d];q(a,d,e,!!c)})},s=Function.call.bind(Object.prototype.toString),t="function"==typeof/abc/?function(a){return"function"==typeof a&&"[object Function]"===s(a)}:function(a){return"function"==typeof a},u={getter:function(a,b,c){if(!k)throw new TypeError("getters require true ES5 support");Object.defineProperty(a,b,{configurable:!0,enumerable:!1,get:c})},proxy:function(a,b,c){if(!k)throw new TypeError("getters require true ES5 support");var d=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,{configurable:d.configurable,enumerable:d.enumerable,get:function(){return a[b]},set:function(c){a[b]=c}})},redefine:function(a,b,c){if(k){var d=Object.getOwnPropertyDescriptor(a,b);d.value=c,Object.defineProperty(a,b,d)}else a[b]=c},defineByDescriptor:function(a,b,c){k?Object.defineProperty(a,b,c):"value"in c&&(a[b]=c.value)},preserveToString:function(a,b){b&&t(b.toString)&&q(a,"toString",b.toString.bind(b),!0)}},v=Object.create||function(a,b){var c=function(){};c.prototype=a;var d=new c;return"undefined"!=typeof b&&e(b).forEach(function(a){u.defineByDescriptor(d,a,b[a])}),d},w=function(a,b){return!!Object.setPrototypeOf&&h(function(){var c=function b(c){var d=new a(c);return Object.setPrototypeOf(d,b.prototype),d};return Object.setPrototypeOf(c,a),c.prototype=v(a.prototype,{constructor:{value:c}}),b(c)})},x=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")},y=x(),z=y.isFinite,A=Function.call.bind(String.prototype.indexOf),B=Function.apply.bind(Array.prototype.indexOf),C=Function.call.bind(Array.prototype.concat),D=Function.call.bind(String.prototype.slice),E=Function.call.bind(Array.prototype.push),F=Function.apply.bind(Array.prototype.push),G=Function.call.bind(Array.prototype.shift),H=Math.max,I=Math.min,J=Math.floor,K=Math.abs,L=Math.exp,M=Math.log,N=Math.sqrt,O=Function.call.bind(Object.prototype.hasOwnProperty),P=function(){},Q=y.Map,R=Q&&Q.prototype.delete,S=Q&&Q.prototype.get,T=Q&&Q.prototype.has,U=Q&&Q.prototype.set,V=y.Symbol||{},W=V.species||"@@species",X=Number.isNaN||function(a){return a!==a},Y=Number.isFinite||function(a){return"number"==typeof a&&z(a)},Z=t(Math.sign)?Math.sign:function(a){var b=Number(a);return 0===b?b:X(b)?b:b<0?-1:1},$=function(a){return"[object Arguments]"===s(a)},_=function(a){return null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Array]"!==s(a)&&"[object Function]"===s(a.callee)},aa=$(arguments)?$:_,ba={primitive:function(a){return null===a||"function"!=typeof a&&"object"!=typeof a},string:function(a){return"[object String]"===s(a)},regex:function(a){return"[object RegExp]"===s(a)},symbol:function(a){return"function"==typeof y.Symbol&&"symbol"==typeof a}},ca=function(a,b,c){var d=a[b];q(a,b,c,!0),u.preserveToString(a[b],d)},da="function"==typeof V&&"function"==typeof V.for&&ba.symbol(V()),ea=ba.symbol(V.iterator)?V.iterator:"_es6-shim iterator_";y.Set&&"function"==typeof(new y.Set)["@@iterator"]&&(ea="@@iterator"),y.Reflect||q(y,"Reflect",{},!0);var fa=y.Reflect,ga=String,ha="undefined"!=typeof document&&document?document.all:null,ia=null==ha?function(a){return null==a}:function(a){return null==a&&a!==ha},ja={Call:function(a,c){var d=arguments.length>2?arguments[2]:[];if(!ja.IsCallable(a))throw new TypeError(a+" is not a function");return b(a,c,d)},RequireObjectCoercible:function(a,b){if(ia(a))throw new TypeError(b||"Cannot call method on "+a);return a},TypeIsObject:function(a){return void 0!==a&&null!==a&&a!==!0&&a!==!1&&("function"==typeof a||"object"==typeof a||a===ha)},ToObject:function(a,b){return Object(ja.RequireObjectCoercible(a,b))},IsCallable:t,IsConstructor:function(a){return ja.IsCallable(a)},ToInt32:function(a){return ja.ToNumber(a)>>0},ToUint32:function(a){return ja.ToNumber(a)>>>0},ToNumber:function(a){if("[object Symbol]"===s(a))throw new TypeError("Cannot convert a Symbol value to a number");return+a},ToInteger:function(a){var b=ja.ToNumber(a);return X(b)?0:0!==b&&Y(b)?(b>0?1:-1)*J(K(b)):b},ToLength:function(a){var b=ja.ToInteger(a);return b<=0?0:b>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:b},SameValue:function(a,b){return a===b?0!==a||1/a===1/b:X(a)&&X(b)},SameValueZero:function(a,b){return a===b||X(a)&&X(b)},IsIterable:function(a){return ja.TypeIsObject(a)&&("undefined"!=typeof a[ea]||aa(a))},GetIterator:function(b){if(aa(b))return new a(b,"value");var c=ja.GetMethod(b,ea);if(!ja.IsCallable(c))throw new TypeError("value is not an iterable");var d=ja.Call(c,b);if(!ja.TypeIsObject(d))throw new TypeError("bad iterator");return d},GetMethod:function(a,b){var c=ja.ToObject(a)[b];if(!ia(c)){if(!ja.IsCallable(c))throw new TypeError("Method not callable: "+b);return c}},IteratorComplete:function(a){return!!a.done},IteratorClose:function(a,b){var c=ja.GetMethod(a,"return");if(void 0!==c){var d,e;try{d=ja.Call(c,a)}catch(a){e=a}if(!b){if(e)throw e;if(!ja.TypeIsObject(d))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(a){var b=arguments.length>1?a.next(arguments[1]):a.next();if(!ja.TypeIsObject(b))throw new TypeError("bad iterator");return b},IteratorStep:function(a){var b=ja.IteratorNext(a),c=ja.IteratorComplete(b);return!c&&b},Construct:function(a,b,c,d){var e="undefined"==typeof c?a:c;if(!d&&fa.construct)return fa.construct(a,b,e);var f=e.prototype;ja.TypeIsObject(f)||(f=Object.prototype);var g=v(f),h=ja.Call(a,g,b);return ja.TypeIsObject(h)?h:g},SpeciesConstructor:function(a,b){var c=a.constructor;if(void 0===c)return b;if(!ja.TypeIsObject(c))throw new TypeError("Bad constructor");var d=c[W];if(ia(d))return b;if(!ja.IsConstructor(d))throw new TypeError("Bad @@species");return d},CreateHTML:function(a,b,c,d){var e=ja.ToString(a),f="<"+b;if(""!==c){var g=ja.ToString(d),h=g.replace(/"/g,"&quot;");f+=" "+c+'="'+h+'"'}var i=f+">",j=i+e;return j+"</"+b+">"},IsRegExp:function(a){if(!ja.TypeIsObject(a))return!1;var b=a[V.match];return"undefined"!=typeof b?!!b:ba.regex(a)},ToString:function(a){return ga(a)}};if(k&&da){var ka=function(a){if(ba.symbol(V[a]))return V[a];var b=V.for("Symbol."+a);return Object.defineProperty(V,a,{configurable:!1,enumerable:!1,writable:!1,value:b}),b};if(!ba.symbol(V.search)){var la=ka("search"),ma=String.prototype.search;q(RegExp.prototype,la,function(a){return ja.Call(ma,a,[this])});var na=function(a){var b=ja.RequireObjectCoercible(this);if(!ia(a)){var c=ja.GetMethod(a,la);if("undefined"!=typeof c)return ja.Call(c,a,[b])}return ja.Call(ma,b,[ja.ToString(a)])};ca(String.prototype,"search",na)}if(!ba.symbol(V.replace)){var oa=ka("replace"),pa=String.prototype.replace;q(RegExp.prototype,oa,function(a,b){return ja.Call(pa,a,[this,b])});var qa=function(a,b){var c=ja.RequireObjectCoercible(this);if(!ia(a)){var d=ja.GetMethod(a,oa);if("undefined"!=typeof d)return ja.Call(d,a,[c,b])}return ja.Call(pa,c,[ja.ToString(a),b])};ca(String.prototype,"replace",qa)}if(!ba.symbol(V.split)){var ra=ka("split"),sa=String.prototype.split;q(RegExp.prototype,ra,function(a,b){return ja.Call(sa,a,[this,b])});var ta=function(a,b){var c=ja.RequireObjectCoercible(this);if(!ia(a)){var d=ja.GetMethod(a,ra);if("undefined"!=typeof d)return ja.Call(d,a,[c,b])}return ja.Call(sa,c,[ja.ToString(a),b])};ca(String.prototype,"split",ta)}var ua=ba.symbol(V.match),va=ua&&function(){var a={};return a[V.match]=function(){return 42},42!=="a".match(a)}();if(!ua||va){var wa=ka("match"),xa=String.prototype.match;q(RegExp.prototype,wa,function(a){return ja.Call(xa,a,[this])});var ya=function(a){var b=ja.RequireObjectCoercible(this);if(!ia(a)){var c=ja.GetMethod(a,wa);if("undefined"!=typeof c)return ja.Call(c,a,[b])}return ja.Call(xa,b,[ja.ToString(a)])};ca(String.prototype,"match",ya)}}var za=function(a,b,c){u.preserveToString(b,a),Object.setPrototypeOf&&Object.setPrototypeOf(a,b),k?m(Object.getOwnPropertyNames(a),function(d){d in P||c[d]||u.proxy(a,d,b)}):m(Object.keys(a),function(d){d in P||c[d]||(b[d]=a[d])}),b.prototype=a.prototype,u.redefine(a.prototype,"constructor",b)},Aa=function(){return this},Ba=function(a){k&&!O(a,W)&&u.getter(a,W,Aa)},Ca=function(a,b){var c=b||function(){return this};q(a,ea,c),!a[ea]&&ba.symbol(ea)&&(a[ea]=c)},Da=function(a,b,c){k?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,writable:!0,value:c}):a[b]=c},Ea=function(a,b,c){if(Da(a,b,c),!ja.SameValue(a[b],c))throw new TypeError("property is nonconfigurable")},Fa=function(a,b,c,d){if(!ja.TypeIsObject(a))throw new TypeError("Constructor requires `new`: "+b.name);var e=b.prototype;ja.TypeIsObject(e)||(e=c);var f=v(e);for(var g in d)if(O(d,g)){var h=d[g];q(f,g,h,!0)}return f};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Ga=String.fromCodePoint;ca(String,"fromCodePoint",function(a){return ja.Call(Ga,this,arguments)})}var Ha={fromCodePoint:function(a){for(var b,c=[],d=0,e=arguments.length;d<e;d++){if(b=Number(arguments[d]),!ja.SameValue(b,ja.ToInteger(b))||b<0||b>1114111)throw new RangeError("Invalid code point "+b);b<65536?E(c,String.fromCharCode(b)):(b-=65536,E(c,String.fromCharCode((b>>10)+55296)),E(c,String.fromCharCode(b%1024+56320)))}return c.join("")},raw:function(a){var b=ja.ToObject(a,"bad callSite"),c=ja.ToObject(b.raw,"bad raw value"),d=c.length,e=ja.ToLength(d);if(e<=0)return"";for(var f,g,h,i,j=[],k=0;k<e&&(f=ja.ToString(k),h=ja.ToString(c[f]),E(j,h),!(k+1>=e));)g=k+1<arguments.length?arguments[k+1]:"",i=ja.ToString(g),E(j,i),k+=1;return j.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&ca(String,"raw",Ha.raw),r(String,Ha);var Ia=function a(b,c){if(c<1)return"";if(c%2)return a(b,c-1)+b;var d=a(b,c/2);return d+d},Ja=1/0,Ka={repeat:function(a){var b=ja.ToString(ja.RequireObjectCoercible(this)),c=ja.ToInteger(a);if(c<0||c>=Ja)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Ia(b,c)},startsWith:function(a){var b=ja.ToString(ja.RequireObjectCoercible(this));if(ja.IsRegExp(a))throw new TypeError('Cannot call method "startsWith" with a regex');var c,d=ja.ToString(a);arguments.length>1&&(c=arguments[1]);var e=H(ja.ToInteger(c),0);return D(b,e,e+d.length)===d},endsWith:function(a){var b=ja.ToString(ja.RequireObjectCoercible(this));if(ja.IsRegExp(a))throw new TypeError('Cannot call method "endsWith" with a regex');var c,d=ja.ToString(a),e=b.length;arguments.length>1&&(c=arguments[1]);var f="undefined"==typeof c?e:ja.ToInteger(c),g=I(H(f,0),e);return D(b,g-d.length,g)===d},includes:function(a){if(ja.IsRegExp(a))throw new TypeError('"includes" does not accept a RegExp');var b,c=ja.ToString(a);return arguments.length>1&&(b=arguments[1]),A(this,c,b)!==-1},codePointAt:function(a){var b=ja.ToString(ja.RequireObjectCoercible(this)),c=ja.ToInteger(a),d=b.length;if(c>=0&&c<d){var e=b.charCodeAt(c),f=c+1===d;if(e<55296||e>56319||f)return e;var g=b.charCodeAt(c+1);return g<56320||g>57343?e:1024*(e-55296)+(g-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",1/0)!==!1&&ca(String.prototype,"includes",Ka.includes),String.prototype.startsWith&&String.prototype.endsWith){var La=g(function(){"/a/".startsWith(/a/)}),Ma=h(function(){return"abc".startsWith("a",1/0)===!1});La&&Ma||(ca(String.prototype,"startsWith",Ka.startsWith),ca(String.prototype,"endsWith",Ka.endsWith))}if(da){var Na=h(function(){var a=/a/;return a[V.match]=!1,"/a/".startsWith(a)});Na||ca(String.prototype,"startsWith",Ka.startsWith);var Oa=h(function(){var a=/a/;return a[V.match]=!1,"/a/".endsWith(a)});Oa||ca(String.prototype,"endsWith",Ka.endsWith);var Pa=h(function(){var a=/a/;return a[V.match]=!1,"/a/".includes(a)});Pa||ca(String.prototype,"includes",Ka.includes)}r(String.prototype,Ka);var Qa=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),Ra=new RegExp("(^["+Qa+"]+)|(["+Qa+"]+$)","g"),Sa=function(){return ja.ToString(ja.RequireObjectCoercible(this)).replace(Ra,"")},Ta=["","​","￾"].join(""),Ua=new RegExp("["+Ta+"]","g"),Va=/^[-+]0x[0-9a-f]+$/i,Wa=Ta.trim().length!==Ta.length;q(String.prototype,"trim",Sa,Wa);var Xa=function(a){return{value:a,done:0===arguments.length}},Ya=function(a){ja.RequireObjectCoercible(a),this._s=ja.ToString(a),this._i=0};Ya.prototype.next=function(){var a=this._s,b=this._i;if("undefined"==typeof a||b>=a.length)return this._s=void 0,Xa();var c,d,e=a.charCodeAt(b);return e<55296||e>56319||b+1===a.length?d=1:(c=a.charCodeAt(b+1),d=c<56320||c>57343?1:2),this._i=b+d,Xa(a.substr(b,d))},Ca(Ya.prototype),Ca(String.prototype,function(){return new Ya(this)});var Za={from:function(a){var b,d=this;arguments.length>1&&(b=arguments[1]);var e,f;if("undefined"==typeof b)e=!1;else{if(!ja.IsCallable(b))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(f=arguments[2]),e=!0}var g,h,i,j="undefined"!=typeof(aa(a)||ja.GetMethod(a,ea));if(j){h=ja.IsConstructor(d)?Object(new d):[];var k,l,m=ja.GetIterator(a);for(i=0;;){if(k=ja.IteratorStep(m),k===!1)break;l=k.value;try{e&&(l="undefined"==typeof f?b(l,i):c(b,f,l,i)),h[i]=l}catch(a){throw ja.IteratorClose(m,!0),a}i+=1}g=i}else{var n=ja.ToObject(a);g=ja.ToLength(n.length),h=ja.IsConstructor(d)?Object(new d(g)):new Array(g);var o;for(i=0;i<g;++i)o=n[i],e&&(o="undefined"==typeof f?b(o,i):c(b,f,o,i)),Ea(h,i,o)}return h.length=g,h},of:function(){for(var a=arguments.length,b=this,c=d(b)||!ja.IsCallable(b)?new Array(a):ja.Construct(b,[a]),e=0;e<a;++e)Ea(c,e,arguments[e]);return c.length=a,c}};r(Array,Za),Ba(Array),a=function(a,b){this.i=0,this.array=a,this.kind=b},r(a.prototype,{next:function(){var b=this.i,c=this.array;if(!(this instanceof a))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof c)for(var d=ja.ToLength(c.length);b<d;b++){var e,f=this.kind;return"key"===f?e=b:"value"===f?e=c[b]:"entry"===f&&(e=[b,c[b]]),this.i=b+1,Xa(e)}return this.array=void 0,Xa()}}),Ca(a.prototype);var $a=Array.of===Za.of||function(){var a=function(a){this.length=a};a.prototype=[];var b=Array.of.apply(a,[1,2]);return b instanceof a&&2===b.length}();$a||ca(Array,"of",Za.of);var _a={copyWithin:function(a,b){var c,d=ja.ToObject(this),e=ja.ToLength(d.length),f=ja.ToInteger(a),g=ja.ToInteger(b),h=f<0?H(e+f,0):I(f,e),i=g<0?H(e+g,0):I(g,e);arguments.length>2&&(c=arguments[2]);var j="undefined"==typeof c?e:ja.ToInteger(c),k=j<0?H(e+j,0):I(j,e),l=I(k-i,e-h),m=1;for(i<h&&h<i+l&&(m=-1,i+=l-1,h+=l-1);l>0;)i in d?d[h]=d[i]:delete d[h],i+=m,h+=m,l-=1;return d},fill:function(a){var b;arguments.length>1&&(b=arguments[1]);var c;arguments.length>2&&(c=arguments[2]);var d=ja.ToObject(this),e=ja.ToLength(d.length);b=ja.ToInteger("undefined"==typeof b?0:b),c=ja.ToInteger("undefined"==typeof c?e:c);for(var f=b<0?H(e+b,0):I(b,e),g=c<0?e+c:c,h=f;h<e&&h<g;++h)d[h]=a;return d},find:function(a){var b=ja.ToObject(this),d=ja.ToLength(b.length);if(!ja.IsCallable(a))throw new TypeError("Array#find: predicate must be a function");for(var e,f=arguments.length>1?arguments[1]:null,g=0;g<d;g++)if(e=b[g],f){if(c(a,f,e,g,b))return e}else if(a(e,g,b))return e},findIndex:function(a){var b=ja.ToObject(this),d=ja.ToLength(b.length);if(!ja.IsCallable(a))throw new TypeError("Array#findIndex: predicate must be a function");for(var e=arguments.length>1?arguments[1]:null,f=0;f<d;f++)if(e){if(c(a,e,b[f],f,b))return f}else if(a(b[f],f,b))return f;return-1},keys:function(){return new a(this,"key")},values:function(){return new a(this,"value")},entries:function(){return new a(this,"entry")}};if(Array.prototype.keys&&!ja.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ja.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ea]&&(r(Array.prototype,{values:Array.prototype[ea]}),ba.symbol(V.unscopables)&&(Array.prototype[V.unscopables].values=!0)),l&&Array.prototype.values&&"values"!==Array.prototype.values.name){var ab=Array.prototype.values;ca(Array.prototype,"values",function(){return ja.Call(ab,this,arguments)}),q(Array.prototype,ea,Array.prototype.values,!0)}r(Array.prototype,_a),1/[!0].indexOf(!0,-0)<0&&q(Array.prototype,"indexOf",function(a){var b=B(this,arguments);return 0===b&&1/b<0?0:b},!0),Ca(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&Ca(Object.getPrototypeOf([].values()));var bb=function(){return h(function(){return 0===Array.from({length:-1}).length})}(),cb=function(){var a=Array.from([0].entries());return 1===a.length&&d(a[0])&&0===a[0][0]&&0===a[0][1]}();bb&&cb||ca(Array,"from",Za.from);var db=function(){return h(function(){return Array.from([0],void 0)})}();if(!db){var eb=Array.from;ca(Array,"from",function(a){return arguments.length>1&&"undefined"!=typeof arguments[1]?ja.Call(eb,this,arguments):c(eb,this,a)})}var fb=-(Math.pow(2,32)-1),gb=function(a,b){var d={length:fb};return d[b?(d.length>>>0)-1:0]=!0,h(function(){return c(a,d,function(){throw new RangeError("should not reach here")},[]),!0})};if(!gb(Array.prototype.forEach)){var hb=Array.prototype.forEach;ca(Array.prototype,"forEach",function(a){return ja.Call(hb,this.length>=0?this:[],arguments)},!0)}if(!gb(Array.prototype.map)){var ib=Array.prototype.map;ca(Array.prototype,"map",function(a){return ja.Call(ib,this.length>=0?this:[],arguments)},!0)}if(!gb(Array.prototype.filter)){var jb=Array.prototype.filter;ca(Array.prototype,"filter",function(a){return ja.Call(jb,this.length>=0?this:[],arguments)},!0)}if(!gb(Array.prototype.some)){var kb=Array.prototype.some;ca(Array.prototype,"some",function(a){return ja.Call(kb,this.length>=0?this:[],arguments)},!0)}if(!gb(Array.prototype.every)){var lb=Array.prototype.every;ca(Array.prototype,"every",function(a){return ja.Call(lb,this.length>=0?this:[],arguments)},!0)}if(!gb(Array.prototype.reduce)){var mb=Array.prototype.reduce;ca(Array.prototype,"reduce",function(a){return ja.Call(mb,this.length>=0?this:[],arguments)},!0)}if(!gb(Array.prototype.reduceRight,!0)){var nb=Array.prototype.reduceRight;ca(Array.prototype,"reduceRight",function(a){return ja.Call(nb,this.length>=0?this:[],arguments)},!0)}var ob=8!==Number("0o10"),pb=2!==Number("0b10"),qb=p(Ta,function(a){return 0===Number(a+0+a)});if(ob||pb||qb){var rb=Number,sb=/^0b[01]+$/i,tb=/^0o[0-7]+$/i,ub=sb.test.bind(sb),vb=tb.test.bind(tb),wb=function(a){var b;if("function"==typeof a.valueOf&&(b=a.valueOf(),ba.primitive(b)))return b;if("function"==typeof a.toString&&(b=a.toString(),ba.primitive(b)))return b;throw new TypeError("No default value")},xb=Ua.test.bind(Ua),yb=Va.test.bind(Va),zb=function(){var a=function(b){var c;c=arguments.length>0?ba.primitive(b)?b:wb(b,"number"):0,"string"==typeof c&&(c=ja.Call(Sa,c),ub(c)?c=parseInt(D(c,2),2):vb(c)?c=parseInt(D(c,2),8):(xb(c)||yb(c))&&(c=NaN));var d=this,e=h(function(){return rb.prototype.valueOf.call(d),!0});return d instanceof a&&!e?new rb(c):rb(c)};return a}();za(rb,zb,{}),r(zb,{NaN:rb.NaN,MAX_VALUE:rb.MAX_VALUE,MIN_VALUE:rb.MIN_VALUE,NEGATIVE_INFINITY:rb.NEGATIVE_INFINITY,POSITIVE_INFINITY:rb.POSITIVE_INFINITY}),Number=zb,u.redefine(y,"Number",zb)}var Ab=Math.pow(2,53)-1;r(Number,{MAX_SAFE_INTEGER:Ab,MIN_SAFE_INTEGER:-Ab,EPSILON:2.220446049250313e-16,parseInt:y.parseInt,parseFloat:y.parseFloat,isFinite:Y,isInteger:function(a){return Y(a)&&ja.ToInteger(a)===a},isSafeInteger:function(a){return Number.isInteger(a)&&K(a)<=Number.MAX_SAFE_INTEGER},isNaN:X}),q(Number,"parseInt",y.parseInt,Number.parseInt!==y.parseInt),1===[,1].find(function(){return!0})&&ca(Array.prototype,"find",_a.find),0!==[,1].findIndex(function(){return!0})&&ca(Array.prototype,"findIndex",_a.findIndex);var Bb=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Cb=function(a,b){k&&Bb(a,b)&&Object.defineProperty(a,b,{enumerable:!1})},Db=function(){for(var a=Number(this),b=arguments.length,c=b-a,d=new Array(c<0?0:c),e=a;e<b;++e)d[e-a]=arguments[e];return d},Eb=function(a){return function(b,c){return b[c]=a[c],b}},Fb=function(a,b){var c,d=e(Object(b));return ja.IsCallable(Object.getOwnPropertySymbols)&&(c=o(Object.getOwnPropertySymbols(Object(b)),Bb(b))),n(C(d,c||[]),Eb(b),a)},Gb={assign:function(a,b){var c=ja.ToObject(a,"Cannot convert undefined or null to object");return n(ja.Call(Db,1,arguments),Fb,c)},is:function(a,b){return ja.SameValue(a,b)}},Hb=Object.assign&&Object.preventExtensions&&function(){var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch(b){return"y"===a[1]}}();if(Hb&&ca(Object,"assign",Gb.assign),r(Object,Gb),k){var Ib={setPrototypeOf:function(a,b){var d,e=function(a,b){if(!ja.TypeIsObject(a))throw new TypeError("cannot set prototype on a non-object");if(null!==b&&!ja.TypeIsObject(b))throw new TypeError("can only set prototype to an object or null"+b)},f=function(a,b){return e(a,b),c(d,a,b),a};try{d=a.getOwnPropertyDescriptor(a.prototype,b).set,c(d,{},null)}catch(c){if(a.prototype!=={}[b])return;d=function(a){this[b]=a},f.polyfill=f(f({},null),a.prototype)instanceof a}return f}(Object,"__proto__")};r(Object,Ib)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var a=Object.create(null),b=Object.getPrototypeOf,c=Object.setPrototypeOf;Object.getPrototypeOf=function(c){var d=b(c);return d===a?null:d},Object.setPrototypeOf=function(b,d){var e=null===d?a:d;return c(b,e)},Object.setPrototypeOf.polyfill=!1}();var Jb=!g(function(){Object.keys("foo")});if(!Jb){var Kb=Object.keys;ca(Object,"keys",function(a){return Kb(ja.ToObject(a))}),e=Object.keys}var Lb=g(function(){Object.keys(/a/g)});if(Lb){var Mb=Object.keys;ca(Object,"keys",function(a){if(ba.regex(a)){var b=[];for(var c in a)O(a,c)&&E(b,c);return b}return Mb(a)}),e=Object.keys}if(Object.getOwnPropertyNames){var Nb=!g(function(){Object.getOwnPropertyNames("foo")});if(!Nb){var Ob="object"==typeof window?Object.getOwnPropertyNames(window):[],Pb=Object.getOwnPropertyNames;ca(Object,"getOwnPropertyNames",function(a){var b=ja.ToObject(a);if("[object Window]"===s(b))try{return Pb(b)}catch(a){return C([],Ob)}return Pb(b)})}}if(Object.getOwnPropertyDescriptor){var Qb=!g(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Qb){var Rb=Object.getOwnPropertyDescriptor;ca(Object,"getOwnPropertyDescriptor",function(a,b){return Rb(ja.ToObject(a),b)})}}if(Object.seal){var Sb=!g(function(){Object.seal("foo")});if(!Sb){var Tb=Object.seal;ca(Object,"seal",function(a){return ja.TypeIsObject(a)?Tb(a):a})}}if(Object.isSealed){var Ub=!g(function(){Object.isSealed("foo")});if(!Ub){var Vb=Object.isSealed;ca(Object,"isSealed",function(a){return!ja.TypeIsObject(a)||Vb(a)})}}if(Object.freeze){var Wb=!g(function(){Object.freeze("foo")});if(!Wb){var Xb=Object.freeze;ca(Object,"freeze",function(a){return ja.TypeIsObject(a)?Xb(a):a})}}if(Object.isFrozen){var Yb=!g(function(){Object.isFrozen("foo")});if(!Yb){var Zb=Object.isFrozen;ca(Object,"isFrozen",function(a){return!ja.TypeIsObject(a)||Zb(a)})}}if(Object.preventExtensions){var $b=!g(function(){Object.preventExtensions("foo")});if(!$b){var _b=Object.preventExtensions;ca(Object,"preventExtensions",function(a){return ja.TypeIsObject(a)?_b(a):a})}}if(Object.isExtensible){var ac=!g(function(){Object.isExtensible("foo")});if(!ac){var bc=Object.isExtensible;ca(Object,"isExtensible",function(a){return!!ja.TypeIsObject(a)&&bc(a)})}}if(Object.getPrototypeOf){var cc=!g(function(){Object.getPrototypeOf("foo")});if(!cc){var dc=Object.getPrototypeOf;ca(Object,"getPrototypeOf",function(a){return dc(ja.ToObject(a))})}}var ec=k&&function(){var a=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return a&&ja.IsCallable(a.get)}();if(k&&!ec){var fc=function(){if(!ja.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var a="";return this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),this.unicode&&(a+="u"),this.sticky&&(a+="y"),a};u.getter(RegExp.prototype,"flags",fc)}var gc=k&&h(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),hc=da&&k&&function(){var a=/./;return a[V.match]=!1,RegExp(a)===a}(),ic=h(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),jc=ic&&h(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!ic||!jc){var kc=RegExp.prototype.toString;q(RegExp.prototype,"toString",function(){var a=ja.RequireObjectCoercible(this);if(ba.regex(a))return c(kc,a);var b=ga(a.source),d=ga(a.flags);return"/"+b+"/"+d},!0),u.preserveToString(RegExp.prototype.toString,kc)}if(k&&(!gc||hc)){var lc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,mc=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},nc=function(){return this.source},oc=ja.IsCallable(mc.get)?mc.get:nc,pc=RegExp,qc=function(){return function a(b,c){var d=ja.IsRegExp(b),e=this instanceof a;if(!e&&d&&"undefined"==typeof c&&b.constructor===a)return b;var f=b,g=c;return ba.regex(b)?(f=ja.Call(oc,b),g="undefined"==typeof c?ja.Call(lc,b):c,new a(f,g)):(d&&(f=b.source,g="undefined"==typeof c?b.flags:c),new pc(b,c))}}();za(pc,qc,{$input:!0}),RegExp=qc,u.redefine(y,"RegExp",qc)}if(k){var rc={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};m(e(rc),function(a){a in RegExp&&!(rc[a]in RegExp)&&u.getter(RegExp,rc[a],function(){return RegExp[a]})})}Ba(RegExp);var sc=1/Number.EPSILON,tc=function(a){return a+sc-sc},uc=Math.pow(2,-23),vc=Math.pow(2,127)*(2-uc),wc=Math.pow(2,-126),xc=Math.E,yc=Math.LOG2E,zc=Math.LOG10E,Ac=Number.prototype.clz;delete Number.prototype.clz;var Bc={acosh:function(a){var b=Number(a);return X(b)||a<1?NaN:1===b?0:b===1/0?b:M(b/xc+N(b+1)*N(b-1)/xc)+1},asinh:function a(b){var c=Number(b);return 0!==c&&z(c)?c<0?-a(-c):M(c+N(c*c+1)):c},atanh:function(a){var b=Number(a);return X(b)||b<-1||b>1?NaN:b===-1?-(1/0):1===b?1/0:0===b?b:.5*M((1+b)/(1-b))},cbrt:function(a){var b=Number(a);if(0===b)return b;var c,d=b<0;return d&&(b=-b),b===1/0?c=1/0:(c=L(M(b)/3),c=(b/(c*c)+2*c)/3),d?-c:c},clz32:function(a){var b=Number(a),c=ja.ToUint32(b);return 0===c?32:Ac?ja.Call(Ac,c):31-J(M(c+.5)*yc)},cosh:function(a){var b=Number(a);return 0===b?1:X(b)?NaN:z(b)?(b<0&&(b=-b),b>21?L(b)/2:(L(b)+L(-b))/2):1/0},expm1:function(a){var b=Number(a);if(b===-(1/0))return-1;if(!z(b)||0===b)return b;if(K(b)>.5)return L(b)-1;for(var c=b,d=0,e=1;d+c!==d;)d+=c,e+=1,c*=b/e;return d},hypot:function(a,b){for(var c=0,d=0,e=0;e<arguments.length;++e){var f=K(Number(arguments[e]));d<f?(c*=d/f*(d/f),c+=1,d=f):c+=f>0?f/d*(f/d):f}return d===1/0?1/0:d*N(c)},log2:function(a){return M(a)*yc},log10:function(a){return M(a)*zc},log1p:function(a){var b=Number(a);return b<-1||X(b)?NaN:0===b||b===1/0?b:b===-1?-(1/0):1+b-1===0?b:b*(M(1+b)/(1+b-1))},sign:Z,sinh:function(a){var b=Number(a);return z(b)&&0!==b?K(b)<1?(Math.expm1(b)-Math.expm1(-b))/2:(L(b-1)-L(-b-1))*xc/2:b},tanh:function(a){var b=Number(a);return X(b)||0===b?b:b>=20?1:b<=-20?-1:(Math.expm1(b)-Math.expm1(-b))/(L(b)+L(-b))},trunc:function(a){var b=Number(a);return b<0?-J(-b):J(b)},imul:function(a,b){var c=ja.ToUint32(a),d=ja.ToUint32(b),e=c>>>16&65535,f=65535&c,g=d>>>16&65535,h=65535&d;return f*h+(e*h+f*g<<16>>>0)|0},fround:function(a){var b=Number(a);if(0===b||b===1/0||b===-(1/0)||X(b))return b;var c=Z(b),d=K(b);if(d<wc)return c*tc(d/wc/uc)*wc*uc;var e=(1+uc/Number.EPSILON)*d,f=e-(e-d);return f>vc||X(f)?c*(1/0):c*f}};r(Math,Bc),q(Math,"log1p",Bc.log1p,Math.log1p(-1e-17)!==-1e-17),q(Math,"asinh",Bc.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),q(Math,"tanh",Bc.tanh,Math.tanh(-2e-17)!==-2e-17),q(Math,"acosh",Bc.acosh,Math.acosh(Number.MAX_VALUE)===1/0),q(Math,"cbrt",Bc.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),q(Math,"sinh",Bc.sinh,Math.sinh(-2e-17)!==-2e-17);var Cc=Math.expm1(10);q(Math,"expm1",Bc.expm1,Cc>22025.465794806718||Cc<22025.465794806718);var Dc=Math.round,Ec=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),Fc=sc+1,Gc=2*sc-1,Hc=[Fc,Gc].every(function(a){return Math.round(a)===a});q(Math,"round",function(a){var b=J(a),c=b===-1?-0:b+1;return a-b<.5?b:c},!Ec||!Hc),u.preserveToString(Math.round,Dc);var Ic=Math.imul;Math.imul(4294967295,5)!==-5&&(Math.imul=Bc.imul,u.preserveToString(Math.imul,Ic)),2!==Math.imul.length&&ca(Math,"imul",function(a,b){return ja.Call(Ic,Math,arguments)});var Jc=function(){var a=y.setTimeout;if("function"==typeof a||"object"==typeof a){ja.IsPromise=function(a){return!!ja.TypeIsObject(a)&&"undefined"!=typeof a._promise};var b,d=function(a){if(!ja.IsConstructor(a))throw new TypeError("Bad promise constructor");var b=this,c=function(a,c){if(void 0!==b.resolve||void 0!==b.reject)throw new TypeError("Bad Promise implementation!");b.resolve=a,b.reject=c};if(b.resolve=void 0,b.reject=void 0,b.promise=new a(c),!ja.IsCallable(b.resolve)||!ja.IsCallable(b.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ja.IsCallable(window.postMessage)&&(b=function(){var a=[],b="zero-timeout-message",c=function(c){E(a,c),window.postMessage(b,"*")},d=function(c){if(c.source===window&&c.data===b){if(c.stopPropagation(),0===a.length)return;var d=G(a);d()}};return window.addEventListener("message",d,!0),c});var e,f,g=function(){var a=y.Promise,b=a&&a.resolve&&a.resolve();return b&&function(a){return b.then(a)}},h=ja.IsCallable(y.setImmediate)?y.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:g()||(ja.IsCallable(b)?b():function(b){a(b,0)}),i=function(a){return a},j=function(a){throw a},k=0,l=1,m=2,n=0,o=1,p=2,q={},s=function(a,b,c){h(function(){t(a,b,c)})},t=function(a,b,c){var d,e;if(b===q)return a(c);try{d=a(c),e=b.resolve}catch(a){d=a,e=b.reject}e(d)},u=function(a,b){var c=a._promise,d=c.reactionLength;if(d>0&&(s(c.fulfillReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,d>1))for(var e=1,f=0;e<d;e++,f+=3)s(c[f+n],c[f+p],b),a[f+n]=void 0,a[f+o]=void 0,a[f+p]=void 0;c.result=b,c.state=l,c.reactionLength=0},v=function(a,b){var c=a._promise,d=c.reactionLength;if(d>0&&(s(c.rejectReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,d>1))for(var e=1,f=0;e<d;e++,f+=3)s(c[f+o],c[f+p],b),a[f+n]=void 0,a[f+o]=void 0,a[f+p]=void 0;c.result=b,c.state=m,c.reactionLength=0},w=function(a){var b=!1,c=function(c){var d;if(!b){if(b=!0,c===a)return v(a,new TypeError("Self resolution"));if(!ja.TypeIsObject(c))return u(a,c);try{d=c.then}catch(b){return v(a,b)}return ja.IsCallable(d)?void h(function(){z(a,c,d)}):u(a,c)}},d=function(c){if(!b)return b=!0,v(a,c)};return{resolve:c,reject:d}},x=function(a,b,d,e){a===f?c(a,b,d,e,q):c(a,b,d,e)},z=function(a,b,c){var d=w(a),e=d.resolve,f=d.reject;try{x(c,b,e,f)}catch(a){f(a)}},A=function(){var a=function(b){if(!(this instanceof a))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ja.IsCallable(b))throw new TypeError("not a valid resolver");var c=Fa(this,a,e,{_promise:{result:void 0,state:k,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,
reactionCapability0:void 0}}),d=w(c),f=d.reject;try{b(d.resolve,f)}catch(a){f(a)}return c};return a}();e=A.prototype;var B=function(a,b,c,d){var e=!1;return function(f){if(!e&&(e=!0,b[a]=f,0===--d.count)){var g=c.resolve;g(b)}}},C=function(a,b,c){for(var d,e,f=a.iterator,g=[],h={count:1},i=0;;){try{if(d=ja.IteratorStep(f),d===!1){a.done=!0;break}e=d.value}catch(b){throw a.done=!0,b}g[i]=void 0;var j=b.resolve(e),k=B(i,g,c,h);h.count+=1,x(j.then,j,k,c.reject),i+=1}if(0===--h.count){var l=c.resolve;l(g)}return c.promise},D=function(a,b,c){for(var d,e,f,g=a.iterator;;){try{if(d=ja.IteratorStep(g),d===!1){a.done=!0;break}e=d.value}catch(b){throw a.done=!0,b}f=b.resolve(e),x(f.then,f,c.resolve,c.reject)}return c.promise};return r(A,{all:function(a){var b=this;if(!ja.TypeIsObject(b))throw new TypeError("Promise is not object");var c,e,f=new d(b);try{return c=ja.GetIterator(a),e={iterator:c,done:!1},C(e,b,f)}catch(a){var g=a;if(e&&!e.done)try{ja.IteratorClose(c,!0)}catch(a){g=a}var h=f.reject;return h(g),f.promise}},race:function(a){var b=this;if(!ja.TypeIsObject(b))throw new TypeError("Promise is not object");var c,e,f=new d(b);try{return c=ja.GetIterator(a),e={iterator:c,done:!1},D(e,b,f)}catch(a){var g=a;if(e&&!e.done)try{ja.IteratorClose(c,!0)}catch(a){g=a}var h=f.reject;return h(g),f.promise}},reject:function(a){var b=this;if(!ja.TypeIsObject(b))throw new TypeError("Bad promise constructor");var c=new d(b),e=c.reject;return e(a),c.promise},resolve:function(a){var b=this;if(!ja.TypeIsObject(b))throw new TypeError("Bad promise constructor");if(ja.IsPromise(a)){var c=a.constructor;if(c===b)return a}var e=new d(b),f=e.resolve;return f(a),e.promise}}),r(e,{catch:function(a){return this.then(null,a)},then:function(a,b){var c=this;if(!ja.IsPromise(c))throw new TypeError("not a promise");var e,f=ja.SpeciesConstructor(c,A),g=arguments.length>2&&arguments[2]===q;e=g&&f===A?q:new d(f);var h,r=ja.IsCallable(a)?a:i,t=ja.IsCallable(b)?b:j,u=c._promise;if(u.state===k){if(0===u.reactionLength)u.fulfillReactionHandler0=r,u.rejectReactionHandler0=t,u.reactionCapability0=e;else{var v=3*(u.reactionLength-1);u[v+n]=r,u[v+o]=t,u[v+p]=e}u.reactionLength+=1}else if(u.state===l)h=u.result,s(r,e,h);else{if(u.state!==m)throw new TypeError("unexpected Promise state");h=u.result,s(t,e,h)}return e.promise}}),q=new d(A),f=e.then,A}}();if(y.Promise&&(delete y.Promise.accept,delete y.Promise.defer,delete y.Promise.prototype.chain),"function"==typeof Jc){r(y,{Promise:Jc});var Kc=w(y.Promise,function(a){return a.resolve(42).then(function(){})instanceof a}),Lc=!g(function(){y.Promise.reject(42).then(null,5).then(null,P)}),Mc=g(function(){y.Promise.call(3,P)}),Nc=function(a){var b=a.resolve(5);b.constructor={};var c=a.resolve(b);try{c.then(null,P).then(null,P)}catch(a){return!0}return b===c}(y.Promise),Oc=k&&function(){var a=0,b=Object.defineProperty({},"then",{get:function(){a+=1}});return Promise.resolve(b),1===a}(),Pc=function a(b){var c=new Promise(b);b(3,function(){}),this.then=c.then,this.constructor=a};Pc.prototype=Promise.prototype,Pc.all=Promise.all;var Qc=h(function(){return!!Pc.all([1,2])});if(Kc&&Lc&&Mc&&!Nc&&Oc&&!Qc||(Promise=Jc,ca(y,"Promise",Jc)),1!==Promise.all.length){var Rc=Promise.all;ca(Promise,"all",function(a){return ja.Call(Rc,this,arguments)})}if(1!==Promise.race.length){var Sc=Promise.race;ca(Promise,"race",function(a){return ja.Call(Sc,this,arguments)})}if(1!==Promise.resolve.length){var Tc=Promise.resolve;ca(Promise,"resolve",function(a){return ja.Call(Tc,this,arguments)})}if(1!==Promise.reject.length){var Uc=Promise.reject;ca(Promise,"reject",function(a){return ja.Call(Uc,this,arguments)})}Cb(Promise,"all"),Cb(Promise,"race"),Cb(Promise,"resolve"),Cb(Promise,"reject"),Ba(Promise)}var Vc=function(a){var b=e(n(a,function(a,b){return a[b]=!0,a},{}));return a.join(":")===b.join(":")},Wc=Vc(["z","a","bb"]),Xc=Vc(["z",1,"a","3",2]);if(k){var Yc=function(a,b){return b||Wc?ia(a)?"^"+ja.ToString(a):"string"==typeof a?"$"+a:"number"==typeof a?Xc?a:"n"+a:"boolean"==typeof a?"b"+a:null:null},Zc=function(){return Object.create?Object.create(null):{}},$c=function(a,b,e){if(d(e)||ba.string(e))m(e,function(a){if(!ja.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");b.set(a[0],a[1])});else if(e instanceof a)c(a.prototype.forEach,e,function(a,c){b.set(c,a)});else{var f,g;if(!ia(e)){if(g=b.set,!ja.IsCallable(g))throw new TypeError("bad map");f=ja.GetIterator(e)}if("undefined"!=typeof f)for(;;){var h=ja.IteratorStep(f);if(h===!1)break;var i=h.value;try{if(!ja.TypeIsObject(i))throw new TypeError("Iterator value "+i+" is not an entry object");c(g,b,i[0],i[1])}catch(a){throw ja.IteratorClose(f,!0),a}}}},_c=function(a,b,e){if(d(e)||ba.string(e))m(e,function(a){b.add(a)});else if(e instanceof a)c(a.prototype.forEach,e,function(a){b.add(a)});else{var f,g;if(!ia(e)){if(g=b.add,!ja.IsCallable(g))throw new TypeError("bad set");f=ja.GetIterator(e)}if("undefined"!=typeof f)for(;;){var h=ja.IteratorStep(f);if(h===!1)break;var i=h.value;try{c(g,b,i)}catch(a){throw ja.IteratorClose(f,!0),a}}}},ad={Map:function(){var a={},b=function(a,b){this.key=a,this.value=b,this.next=null,this.prev=null};b.prototype.isRemoved=function(){return this.key===a};var d=function(a){return!!a._es6map},e=function(a,b){if(!ja.TypeIsObject(a)||!d(a))throw new TypeError("Method Map.prototype."+b+" called on incompatible receiver "+ja.ToString(a))},f=function(a,b){e(a,"[[MapIterator]]"),this.head=a._head,this.i=this.head,this.kind=b};f.prototype={next:function(){var a=this.i,b=this.kind,c=this.head;if("undefined"==typeof this.i)return Xa();for(;a.isRemoved()&&a!==c;)a=a.prev;for(var d;a.next!==c;)if(a=a.next,!a.isRemoved())return d="key"===b?a.key:"value"===b?a.value:[a.key,a.value],this.i=a,Xa(d);return this.i=void 0,Xa()}},Ca(f.prototype);var g,h=function a(){if(!(this instanceof a))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var c=Fa(this,a,g,{_es6map:!0,_head:null,_map:Q?new Q:null,_size:0,_storage:Zc()}),d=new b(null,null);return d.next=d.prev=d,c._head=d,arguments.length>0&&$c(a,c,arguments[0]),c};return g=h.prototype,u.getter(g,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),r(g,{get:function(a){e(this,"get");var b,c=Yc(a,!0);if(null!==c)return b=this._storage[c],b?b.value:void 0;if(this._map)return b=S.call(this._map,a),b?b.value:void 0;for(var d=this._head,f=d;(f=f.next)!==d;)if(ja.SameValueZero(f.key,a))return f.value},has:function(a){e(this,"has");var b=Yc(a,!0);if(null!==b)return"undefined"!=typeof this._storage[b];if(this._map)return T.call(this._map,a);for(var c=this._head,d=c;(d=d.next)!==c;)if(ja.SameValueZero(d.key,a))return!0;return!1},set:function(a,c){e(this,"set");var d,f=this._head,g=f,h=Yc(a,!0);if(null!==h){if("undefined"!=typeof this._storage[h])return this._storage[h].value=c,this;d=this._storage[h]=new b(a,c),g=f.prev}else this._map&&(T.call(this._map,a)?S.call(this._map,a).value=c:(d=new b(a,c),U.call(this._map,a,d),g=f.prev));for(;(g=g.next)!==f;)if(ja.SameValueZero(g.key,a))return g.value=c,this;return d=d||new b(a,c),ja.SameValue(-0,a)&&(d.key=0),d.next=this._head,d.prev=this._head.prev,d.prev.next=d,d.next.prev=d,this._size+=1,this},delete:function(b){e(this,"delete");var c=this._head,d=c,f=Yc(b,!0);if(null!==f){if("undefined"==typeof this._storage[f])return!1;d=this._storage[f].prev,delete this._storage[f]}else if(this._map){if(!T.call(this._map,b))return!1;d=S.call(this._map,b).prev,R.call(this._map,b)}for(;(d=d.next)!==c;)if(ja.SameValueZero(d.key,b))return d.key=a,d.value=a,d.prev.next=d.next,d.next.prev=d.prev,this._size-=1,!0;return!1},clear:function(){e(this,"clear"),this._map=Q?new Q:null,this._size=0,this._storage=Zc();for(var b=this._head,c=b,d=c.next;(c=d)!==b;)c.key=a,c.value=a,d=c.next,c.next=c.prev=b;b.next=b.prev=b},keys:function(){return e(this,"keys"),new f(this,"key")},values:function(){return e(this,"values"),new f(this,"value")},entries:function(){return e(this,"entries"),new f(this,"key+value")},forEach:function(a){e(this,"forEach");for(var b=arguments.length>1?arguments[1]:null,d=this.entries(),f=d.next();!f.done;f=d.next())b?c(a,b,f.value[1],f.value[0],this):a(f.value[1],f.value[0],this)}}),Ca(g,g.entries),h}(),Set:function(){var a,b=function(a){return a._es6set&&"undefined"!=typeof a._storage},d=function(a,c){if(!ja.TypeIsObject(a)||!b(a))throw new TypeError("Set.prototype."+c+" called on incompatible receiver "+ja.ToString(a))},f=function b(){if(!(this instanceof b))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var c=Fa(this,b,a,{_es6set:!0,"[[SetData]]":null,_storage:Zc()});if(!c._es6set)throw new TypeError("bad set");return arguments.length>0&&_c(b,c,arguments[0]),c};a=f.prototype;var g=function(a){var b=a;if("^null"===b)return null;if("^undefined"!==b){var c=b.charAt(0);return"$"===c?D(b,1):"n"===c?+D(b,1):"b"===c?"btrue"===b:+b}},h=function(a){if(!a["[[SetData]]"]){var b=new ad.Map;a["[[SetData]]"]=b,m(e(a._storage),function(a){var c=g(a);b.set(c,c)}),a["[[SetData]]"]=b}a._storage=null};return u.getter(f.prototype,"size",function(){return d(this,"size"),this._storage?e(this._storage).length:(h(this),this["[[SetData]]"].size)}),r(f.prototype,{has:function(a){d(this,"has");var b;return this._storage&&null!==(b=Yc(a))?!!this._storage[b]:(h(this),this["[[SetData]]"].has(a))},add:function(a){d(this,"add");var b;return this._storage&&null!==(b=Yc(a))?(this._storage[b]=!0,this):(h(this),this["[[SetData]]"].set(a,a),this)},delete:function(a){d(this,"delete");var b;if(this._storage&&null!==(b=Yc(a))){var c=O(this._storage,b);return delete this._storage[b]&&c}return h(this),this["[[SetData]]"].delete(a)},clear:function(){d(this,"clear"),this._storage&&(this._storage=Zc()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return d(this,"values"),h(this),this["[[SetData]]"].values()},entries:function(){return d(this,"entries"),h(this),this["[[SetData]]"].entries()},forEach:function(a){d(this,"forEach");var b=arguments.length>1?arguments[1]:null,e=this;h(e),this["[[SetData]]"].forEach(function(d,f){b?c(a,b,f,f,e):a(f,f,e)})}}),q(f.prototype,"keys",f.prototype.values,!0),Ca(f.prototype,f.prototype.values),f}()};if(y.Map||y.Set){var bd=h(function(){return 2===new Map([[1,2]]).get(1)});bd||(y.Map=function a(){if(!(this instanceof a))throw new TypeError('Constructor Map requires "new"');var b=new Q;return arguments.length>0&&$c(a,b,arguments[0]),delete b.constructor,Object.setPrototypeOf(b,y.Map.prototype),b},y.Map.prototype=v(Q.prototype),q(y.Map.prototype,"constructor",y.Map,!0),u.preserveToString(y.Map,Q));var cd=new Map,dd=function(){var a=new Map([[1,0],[2,0],[3,0],[4,0]]);return a.set(-0,a),a.get(0)===a&&a.get(-0)===a&&a.has(0)&&a.has(-0)}(),ed=cd.set(1,2)===cd;dd&&ed||ca(Map.prototype,"set",function(a,b){return c(U,this,0===a?0:a,b),this}),dd||(r(Map.prototype,{get:function(a){return c(S,this,0===a?0:a)},has:function(a){return c(T,this,0===a?0:a)}},!0),u.preserveToString(Map.prototype.get,S),u.preserveToString(Map.prototype.has,T));var fd=new Set,gd=function(a){return a.delete(0),a.add(-0),!a.has(0)}(fd),hd=fd.add(1)===fd;if(!gd||!hd){var id=Set.prototype.add;Set.prototype.add=function(a){return c(id,this,0===a?0:a),this},u.preserveToString(Set.prototype.add,id)}if(!gd){var jd=Set.prototype.has;Set.prototype.has=function(a){return c(jd,this,0===a?0:a)},u.preserveToString(Set.prototype.has,jd);var kd=Set.prototype.delete;Set.prototype.delete=function(a){return c(kd,this,0===a?0:a)},u.preserveToString(Set.prototype.delete,kd)}var ld=w(y.Map,function(a){var b=new a([]);return b.set(42,42),b instanceof a}),md=Object.setPrototypeOf&&!ld,nd=function(){try{return!(y.Map()instanceof y.Map)}catch(a){return a instanceof TypeError}}();0===y.Map.length&&!md&&nd||(y.Map=function a(){if(!(this instanceof a))throw new TypeError('Constructor Map requires "new"');var b=new Q;return arguments.length>0&&$c(a,b,arguments[0]),delete b.constructor,Object.setPrototypeOf(b,a.prototype),b},y.Map.prototype=Q.prototype,q(y.Map.prototype,"constructor",y.Map,!0),u.preserveToString(y.Map,Q));var od=w(y.Set,function(a){var b=new a([]);return b.add(42,42),b instanceof a}),pd=Object.setPrototypeOf&&!od,qd=function(){try{return!(y.Set()instanceof y.Set)}catch(a){return a instanceof TypeError}}();if(0!==y.Set.length||pd||!qd){var rd=y.Set;y.Set=function a(){if(!(this instanceof a))throw new TypeError('Constructor Set requires "new"');var b=new rd;return arguments.length>0&&_c(a,b,arguments[0]),delete b.constructor,Object.setPrototypeOf(b,a.prototype),b},y.Set.prototype=rd.prototype,q(y.Set.prototype,"constructor",y.Set,!0),u.preserveToString(y.Set,rd)}var sd=new y.Map,td=!h(function(){return sd.keys().next().done});if(("function"!=typeof y.Map.prototype.clear||0!==(new y.Set).size||0!==sd.size||"function"!=typeof y.Map.prototype.keys||"function"!=typeof y.Set.prototype.keys||"function"!=typeof y.Map.prototype.forEach||"function"!=typeof y.Set.prototype.forEach||i(y.Map)||i(y.Set)||"function"!=typeof sd.keys().next||td||!ld)&&r(y,{Map:ad.Map,Set:ad.Set},!0),y.Set.prototype.keys!==y.Set.prototype.values&&q(y.Set.prototype,"keys",y.Set.prototype.values,!0),Ca(Object.getPrototypeOf((new y.Map).keys())),Ca(Object.getPrototypeOf((new y.Set).keys())),l&&"has"!==y.Set.prototype.has.name){var ud=y.Set.prototype.has;ca(y.Set.prototype,"has",function(a){return c(ud,this,a)})}}r(y,ad),Ba(y.Map),Ba(y.Set)}var vd=function(a){if(!ja.TypeIsObject(a))throw new TypeError("target must be an object")},wd={apply:function(){return ja.Call(ja.Call,null,arguments)},construct:function(a,b){if(!ja.IsConstructor(a))throw new TypeError("First argument must be a constructor.");var c=arguments.length>2?arguments[2]:a;if(!ja.IsConstructor(c))throw new TypeError("new.target must be a constructor.");return ja.Construct(a,b,c,"internal")},deleteProperty:function(a,b){if(vd(a),k){var c=Object.getOwnPropertyDescriptor(a,b);if(c&&!c.configurable)return!1}return delete a[b]},has:function(a,b){return vd(a),b in a}};Object.getOwnPropertyNames&&Object.assign(wd,{ownKeys:function(a){vd(a);var b=Object.getOwnPropertyNames(a);return ja.IsCallable(Object.getOwnPropertySymbols)&&F(b,Object.getOwnPropertySymbols(a)),b}});var xd=function(a){return!g(a)};if(Object.preventExtensions&&Object.assign(wd,{isExtensible:function(a){return vd(a),Object.isExtensible(a)},preventExtensions:function(a){return vd(a),xd(function(){Object.preventExtensions(a)})}}),k){var yd=function(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(!d){var e=Object.getPrototypeOf(a);if(null===e)return;return yd(e,b,c)}return"value"in d?d.value:d.get?ja.Call(d.get,c):void 0},zd=function(a,b,d,e){var f=Object.getOwnPropertyDescriptor(a,b);if(!f){var g=Object.getPrototypeOf(a);if(null!==g)return zd(g,b,d,e);f={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in f){if(!f.writable)return!1;if(!ja.TypeIsObject(e))return!1;var h=Object.getOwnPropertyDescriptor(e,b);return h?fa.defineProperty(e,b,{value:d}):fa.defineProperty(e,b,{value:d,writable:!0,enumerable:!0,configurable:!0})}return!!f.set&&(c(f.set,e,d),!0)};Object.assign(wd,{defineProperty:function(a,b,c){return vd(a),xd(function(){Object.defineProperty(a,b,c)})},getOwnPropertyDescriptor:function(a,b){return vd(a),Object.getOwnPropertyDescriptor(a,b)},get:function(a,b){vd(a);var c=arguments.length>2?arguments[2]:a;return yd(a,b,c)},set:function(a,b,c){vd(a);var d=arguments.length>3?arguments[3]:a;return zd(a,b,c,d)}})}if(Object.getPrototypeOf){var Ad=Object.getPrototypeOf;wd.getPrototypeOf=function(a){return vd(a),Ad(a)}}if(Object.setPrototypeOf&&wd.getPrototypeOf){var Bd=function(a,b){for(var c=b;c;){if(a===c)return!0;c=wd.getPrototypeOf(c)}return!1};Object.assign(wd,{setPrototypeOf:function(a,b){if(vd(a),null!==b&&!ja.TypeIsObject(b))throw new TypeError("proto must be an object or null");return b===fa.getPrototypeOf(a)||!(fa.isExtensible&&!fa.isExtensible(a))&&(!Bd(a,b)&&(Object.setPrototypeOf(a,b),!0))}})}var Cd=function(a,b){if(ja.IsCallable(y.Reflect[a])){var c=h(function(){return y.Reflect[a](1),y.Reflect[a](NaN),y.Reflect[a](!0),!0});c&&ca(y.Reflect,a,b)}else q(y.Reflect,a,b)};Object.keys(wd).forEach(function(a){Cd(a,wd[a])});var Dd=y.Reflect.getPrototypeOf;if(l&&Dd&&"getPrototypeOf"!==Dd.name&&ca(y.Reflect,"getPrototypeOf",function(a){return c(Dd,y.Reflect,a)}),y.Reflect.setPrototypeOf&&h(function(){return y.Reflect.setPrototypeOf(1,{}),!0})&&ca(y.Reflect,"setPrototypeOf",wd.setPrototypeOf),y.Reflect.defineProperty&&(h(function(){var a=!y.Reflect.defineProperty(1,"test",{value:1}),b="function"!=typeof Object.preventExtensions||!y.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return a&&b})||ca(y.Reflect,"defineProperty",wd.defineProperty)),y.Reflect.construct&&(h(function(){var a=function(){};return y.Reflect.construct(function(){},[],a)instanceof a})||ca(y.Reflect,"construct",wd.construct)),"Invalid Date"!==String(new Date(NaN))){var Ed=Date.prototype.toString,Fd=function(){var a=+this;return a!==a?"Invalid Date":ja.Call(Ed,this)};ca(Date.prototype,"toString",Fd)}var Gd={anchor:function(a){return ja.CreateHTML(this,"a","name",a)},big:function(){return ja.CreateHTML(this,"big","","")},blink:function(){return ja.CreateHTML(this,"blink","","")},bold:function(){return ja.CreateHTML(this,"b","","")},fixed:function(){return ja.CreateHTML(this,"tt","","")},fontcolor:function(a){return ja.CreateHTML(this,"font","color",a)},fontsize:function(a){return ja.CreateHTML(this,"font","size",a)},italics:function(){return ja.CreateHTML(this,"i","","")},link:function(a){return ja.CreateHTML(this,"a","href",a)},small:function(){return ja.CreateHTML(this,"small","","")},strike:function(){return ja.CreateHTML(this,"strike","","")},sub:function(){return ja.CreateHTML(this,"sub","","")},sup:function(){return ja.CreateHTML(this,"sup","","")}};m(Object.keys(Gd),function(a){var b=String.prototype[a],d=!1;if(ja.IsCallable(b)){var e=c(b,"",' " '),f=C([],e.match(/"/g)).length;d=e!==e.toLowerCase()||f>2}else d=!0;d&&ca(String.prototype,a,Gd[a])});var Hd=function(){if(!da)return!1;var a="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!a)return!1;if("undefined"!=typeof a(V()))return!0;if("[null]"!==a([V()]))return!0;var b={a:V()};return b[V()]=!0,"{}"!==a(b)}(),Id=h(function(){return!da||"{}"===JSON.stringify(Object(V()))&&"[{}]"===JSON.stringify([Object(V())])});if(Hd||!Id){var Jd=JSON.stringify;ca(JSON,"stringify",function(a){if("symbol"!=typeof a){var b;arguments.length>1&&(b=arguments[1]);var e=[a];if(d(b))e.push(b);else{var f=ja.IsCallable(b)?b:null,g=function(a,b){var d=f?c(f,this,a,b):b;if("symbol"!=typeof d)return ba.symbol(d)?Eb({})(d):d};e.push(g)}return arguments.length>2&&e.push(arguments[2]),Jd.apply(this,e)}})}return y}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.ES6Promise=b()}(this,function(){"use strict";function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function b(a){return"function"==typeof a}function c(a){U=a}function d(a){V=a}function e(){return function(){return process.nextTick(j)}}function f(){return function(){T(j)}}function g(){var a=0,b=new Y(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function h(){var a=new MessageChannel;return a.port1.onmessage=j,function(){return a.port2.postMessage(0)}}function i(){var a=setTimeout;return function(){return a(j,1)}}function j(){for(var a=0;a<S;a+=2){var b=_[a],c=_[a+1];b(c),_[a]=void 0,_[a+1]=void 0}S=0}function k(){try{var a=require,b=a("vertx");return T=b.runOnLoop||b.runOnContext,f()}catch(a){return i()}}function l(a,b){var c=arguments,d=this,e=new this.constructor(n);void 0===e[ba]&&G(e);var f=d._state;return f?!function(){var a=c[f-1];V(function(){return D(f,e,a,d._result)})}():z(d,e,a,b),e}function m(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(n);return v(c,a),c}function n(){}function o(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function q(a){try{return a.then}catch(a){return fa.error=a,fa}}function r(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function s(a,b,c){V(function(a){var d=!1,e=r(c,b,function(c){d||(d=!0,b!==c?v(a,c):x(a,c))},function(b){d||(d=!0,y(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,y(a,e))},a)}function t(a,b){b._state===da?x(a,b._result):b._state===ea?y(a,b._result):z(b,void 0,function(b){return v(a,b)},function(b){return y(a,b)})}function u(a,c,d){c.constructor===a.constructor&&d===l&&c.constructor.resolve===m?t(a,c):d===fa?y(a,fa.error):void 0===d?x(a,c):b(d)?s(a,c,d):x(a,c)}function v(b,c){b===c?y(b,o()):a(c)?u(b,c,q(c)):x(b,c)}function w(a){a._onerror&&a._onerror(a._result),A(a)}function x(a,b){a._state===ca&&(a._result=b,a._state=da,0!==a._subscribers.length&&V(A,a))}function y(a,b){a._state===ca&&(a._state=ea,a._result=b,V(w,a))}function z(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+da]=c,e[f+ea]=d,0===f&&a._state&&V(A,a)}function A(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?D(c,d,e,f):e(f);a._subscribers.length=0}}function B(){this.error=null}function C(a,b){try{return a(b)}catch(a){return ga.error=a,ga}}function D(a,c,d,e){var f=b(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=C(d,e),g===ga?(j=!0,h=g.error,g=null):i=!0,c===g)return void y(c,p())}else g=e,i=!0;c._state!==ca||(f&&i?v(c,g):j?y(c,h):a===da?x(c,g):a===ea&&y(c,g))}function E(a,b){try{b(function(b){v(a,b)},function(b){y(a,b)})}catch(b){y(a,b)}}function F(){return ha++}function G(a){a[ba]=ha++,a._state=void 0,a._result=void 0,a._subscribers=[]}function H(a,b){this._instanceConstructor=a,this.promise=new a(n),this.promise[ba]||G(this.promise),R(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):y(this.promise,I())}function I(){return new Error("Array Methods must be provided an Array")}function J(a){return new H(this,a).promise}function K(a){var b=this;return new b(R(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function L(a){var b=this,c=new b(n);return y(c,a),c}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function O(a){this[ba]=F(),this._result=this._state=void 0,this._subscribers=[],n!==a&&("function"!=typeof a&&M(),this instanceof O?E(this,a):N())}function P(){var a=void 0;if("undefined"!=typeof global)a=global;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=O}var Q=void 0;Q=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var R=Q,S=0,T=void 0,U=void 0,V=function(a,b){_[S]=a,_[S+1]=b,S+=2,2===S&&(U?U(j):aa())},W="undefined"!=typeof window?window:void 0,X=W||{},Y=X.MutationObserver||X.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,_=new Array(1e3),aa=void 0;aa=Z?e():Y?g():$?h():void 0===W&&"function"==typeof require?k():i();var ba=Math.random().toString(36).substring(16),ca=void 0,da=1,ea=2,fa=new B,ga=new B,ha=0;return H.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===ca&&c<a;c++)this._eachEntry(b[c],c)},H.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===m){var e=q(a);if(e===l&&a._state!==ca)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===O){var f=new c(n);u(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},H.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ca&&(this._remaining--,a===ea?y(d,c):this._result[b]=c),0===this._remaining&&x(d,this._result)},H.prototype._willSettleAt=function(a,b){var c=this;z(a,void 0,function(a){return c._settledAt(da,b,a)},function(a){return c._settledAt(ea,b,a)})},O.all=J,O.race=K,O.resolve=m,O.reject=L,O._setScheduler=c,O._setAsap=d,O._asap=V,O.prototype={constructor:O,then:l,catch:function(a){return this.then(null,a)}},P(),O.polyfill=P,O.Promise=O,O}),!function(a){!function(b){"object"==typeof exports?module.exports=b():"function"==typeof a&&a.amd?a(b):"undefined"!=typeof window?window.Promise=b():"undefined"!=typeof global?global.Promise=b():"undefined"!=typeof self&&(self.Promise=b())}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("../lib/decorators/unhandledRejection"),e=d(a("../lib/Promise"));b.exports="undefined"!=typeof global?global.Promise=e:"undefined"!=typeof self?self.Promise=e:e},{"../lib/Promise":2,"../lib/decorators/unhandledRejection":4}],2:[function(b,c,d){!function(a){"use strict";a(function(a){var b=a("./makePromise"),c=a("./Scheduler"),d=a("./env").asap;return b({scheduler:new c(d)})})}("function"==typeof a&&a.amd?a:function(a){c.exports=a(b)})},{"./Scheduler":3,"./env":5,"./makePromise":7}],3:[function(b,c,d){!function(a){"use strict";a(function(){function a(a){this._async=a,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var b=this;this.drain=function(){b._drain()}}return a.prototype.enqueue=function(a){this._queue[this._queueLen++]=a,this.run()},a.prototype.afterQueue=function(a){this._afterQueue[this._afterQueueLen++]=a,this.run()},a.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},a.prototype._drain=function(){for(var a=0;a<this._queueLen;++a)this._queue[a].run(),this._queue[a]=void 0;for(this._queueLen=0,this._running=!1,a=0;a<this._afterQueueLen;++a)this._afterQueue[a].run(),this._afterQueue[a]=void 0;this._afterQueueLen=0},a})}("function"==typeof a&&a.amd?a:function(a){c.exports=a()})},{}],4:[function(b,c,d){!function(a){"use strict";a(function(a){function b(a){throw a}function c(){}var d=a("../env").setTimer,e=a("../format");return function(a){function f(a){a.handled||(n.push(a),k("Potentially unhandled rejection ["+a.id+"] "+e.formatError(a.value)))}function g(a){var b=n.indexOf(a);b>=0&&(n.splice(b,1),l("Handled previous rejection ["+a.id+"] "+e.formatObject(a.value)))}function h(a,b){m.push(a,b),null===o&&(o=d(i,0))}function i(){for(o=null;m.length>0;)m.shift()(m.shift())}var j,k=c,l=c;"undefined"!=typeof console&&(j=console,k="undefined"!=typeof j.error?function(a){j.error(a)}:function(a){j.log(a)},l="undefined"!=typeof j.info?function(a){j.info(a)}:function(a){j.log(a)}),a.onPotentiallyUnhandledRejection=function(a){h(f,a)},a.onPotentiallyUnhandledRejectionHandled=function(a){h(g,a)},a.onFatalRejection=function(a){h(b,a.value)};var m=[],n=[],o=null;return a}})}("function"==typeof a&&a.amd?a:function(a){c.exports=a(b)})},{"../env":5,"../format":6}],5:[function(b,c,d){!function(a){"use strict";a(function(a){function b(){return"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)}function c(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function d(a){function b(){var a=c;c=void 0,a()}var c,d=document.createTextNode(""),e=new a(b);e.observe(d,{characterData:!0});var f=0;return function(a){c=a,d.data=f^=1}}var e,f="undefined"!=typeof setTimeout&&setTimeout,g=function(a,b){return setTimeout(a,b)},h=function(a){return clearTimeout(a)},i=function(a){return f(a,0)};if(b())i=function(a){return process.nextTick(a)};else if(e=c())i=d(e);else if(!f){var j=a,k=j("vertx");g=function(a,b){return k.setTimer(b,a)},h=k.cancelTimer,i=k.runOnLoop||k.runOnContext}return{setTimer:g,clearTimer:h,asap:i}})}("function"==typeof a&&a.amd?a:function(a){c.exports=a(b)})},{}],6:[function(b,c,d){!function(a){"use strict";a(function(){function a(a){var c="object"==typeof a&&null!==a&&(a.stack||a.message)?a.stack||a.message:b(a);return a instanceof Error?c:c+" (WARNING: non-Error used)"}function b(a){var b=String(a);return"[object Object]"===b&&"undefined"!=typeof JSON&&(b=c(a,b)),b}function c(a,b){try{return JSON.stringify(a)}catch(a){return b}}return{formatError:a,formatObject:b,tryStringify:c}})}("function"==typeof a&&a.amd?a:function(a){c.exports=a()})},{}],7:[function(b,c,d){!function(a){"use strict";a(function(){return function(a){function b(a,b){this._handler=a===t?b:c(a)}function c(a){function b(a){e.resolve(a)}function c(a){e.reject(a)}function d(a){e.notify(a)}var e=new v;try{a(b,c,d)}catch(a){c(a)}return e}function d(a){return I(a)?a:new b(t,new w(q(a)))}function e(a){return new b(t,new w(new z(a)))}function f(){return _}function g(){return new b(t,new v)}function h(a,b){var c=new v(a.receiver,a.join().context);return new b(t,c)}function i(a){return k(S,null,a)}function j(a,b){return k(N,a,b)}function k(a,c,d){function e(b,e,g){g.resolved||l(d,f,b,a(c,e,b),g)}function f(a,b,c){k[a]=b,0===--j&&c.become(new y(k))}for(var g,h="function"==typeof c?e:f,i=new v,j=d.length>>>0,k=new Array(j),m=0;m<d.length&&!i.resolved;++m)g=d[m],void 0!==g||m in d?l(d,h,m,g,i):--j;return 0===j&&i.become(new y(k)),new b(t,i)}function l(a,b,c,d,e){if(J(d)){var f=r(d),g=f.state();0===g?f.fold(b,c,void 0,e):g>0?b(c,f.value,e):(e.become(f),m(a,c+1,f))}else b(c,d,e)}function m(a,b,c){for(var d=b;d<a.length;++d)n(q(a[d]),c)}function n(a,b){if(a!==b){var c=a.state();0===c?a.visit(a,void 0,a._unreport):c<0&&a._unreport()}}function o(a){return"object"!=typeof a||null===a?e(new TypeError("non-iterable passed to race()")):0===a.length?f():1===a.length?d(a[0]):p(a)}function p(a){var c,d,e,f=new v;for(c=0;c<a.length;++c)if(d=a[c],void 0!==d||c in a){if(e=q(d),0!==e.state()){f.become(e),m(a,c+1,e);break}e.visit(f,f.resolve,f.reject)}return new b(t,f)}function q(a){return I(a)?a._handler.join():J(a)?s(a):new y(a)}function r(a){return I(a)?a._handler.join():s(a)}function s(a){try{var b=a.then;return"function"==typeof b?new x(b,a):new y(a)}catch(a){return new z(a)}}function t(){}function u(){}function v(a,c){b.createContext(this,c),this.consumers=void 0,this.receiver=a,this.handler=void 0,this.resolved=!1}function w(a){this.handler=a}function x(a,b){v.call(this),V.enqueue(new F(a,b,this))}function y(a){b.createContext(this),this.value=a}function z(a){b.createContext(this),this.id=++Z,this.value=a,this.handled=!1,this.reported=!1,this._report()}function A(a,b){this.rejection=a,this.context=b}function B(a){this.rejection=a}function C(){return new z(new TypeError("Promise cycle"))}function D(a,b){this.continuation=a,this.handler=b}function E(a,b){this.handler=b,this.value=a}function F(a,b,c){this._then=a,
this.thenable=b,this.resolver=c}function G(a,b,c,d,e){try{a.call(b,c,d,e)}catch(a){d(a)}}function H(a,b,c,d){this.f=a,this.z=b,this.c=c,this.to=d,this.resolver=Y,this.receiver=this}function I(a){return a instanceof b}function J(a){return("object"==typeof a||"function"==typeof a)&&null!==a}function K(a,c,d,e){return"function"!=typeof a?e.become(c):(b.enterContext(c),O(a,c.value,d,e),void b.exitContext())}function L(a,c,d,e,f){return"function"!=typeof a?f.become(d):(b.enterContext(d),P(a,c,d.value,e,f),void b.exitContext())}function M(a,c,d,e,f){return"function"!=typeof a?f.notify(c):(b.enterContext(d),Q(a,c,e,f),void b.exitContext())}function N(a,b,c){try{return a(b,c)}catch(a){return e(a)}}function O(a,b,c,d){try{d.become(q(a.call(c,b)))}catch(a){d.become(new z(a))}}function P(a,b,c,d,e){try{a.call(d,b,c,e)}catch(a){e.become(new z(a))}}function Q(a,b,c,d){try{d.notify(a.call(c,b))}catch(a){d.notify(a)}}function R(a,b){b.prototype=X(a.prototype),b.prototype.constructor=b}function S(a,b){return b}function T(){}function U(){return"undefined"!=typeof process&&null!==process&&"function"==typeof process.emit?function(a,b){return"unhandledRejection"===a?process.emit(a,b.value,b):process.emit(a,b)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(a,b,c){var d=!1;try{var e=new c("unhandledRejection");d=e instanceof c}catch(a){}return d?function(a,d){var e=new c(a,{detail:{reason:d.value,key:d},bubbles:!1,cancelable:!0});return!b.dispatchEvent(e)}:a}(T,self,CustomEvent):T}var V=a.scheduler,W=U(),X=Object.create||function(a){function b(){}return b.prototype=a,new b};b.resolve=d,b.reject=e,b.never=f,b._defer=g,b._handler=q,b.prototype.then=function(a,b,c){var d=this._handler,e=d.join().state();if("function"!=typeof a&&e>0||"function"!=typeof b&&e<0)return new this.constructor(t,d);var f=this._beget(),g=f._handler;return d.chain(g,d.receiver,a,b,c),f},b.prototype.catch=function(a){return this.then(void 0,a)},b.prototype._beget=function(){return h(this._handler,this.constructor)},b.all=i,b.race=o,b._traverse=j,b._visitRemaining=m,t.prototype.when=t.prototype.become=t.prototype.notify=t.prototype.fail=t.prototype._unreport=t.prototype._report=T,t.prototype._state=0,t.prototype.state=function(){return this._state},t.prototype.join=function(){for(var a=this;void 0!==a.handler;)a=a.handler;return a},t.prototype.chain=function(a,b,c,d,e){this.when({resolver:a,receiver:b,fulfilled:c,rejected:d,progress:e})},t.prototype.visit=function(a,b,c,d){this.chain(Y,a,b,c,d)},t.prototype.fold=function(a,b,c,d){this.when(new H(a,b,c,d))},R(t,u),u.prototype.become=function(a){a.fail()};var Y=new u;R(t,v),v.prototype._state=0,v.prototype.resolve=function(a){this.become(q(a))},v.prototype.reject=function(a){this.resolved||this.become(new z(a))},v.prototype.join=function(){if(!this.resolved)return this;for(var a=this;void 0!==a.handler;)if(a=a.handler,a===this)return this.handler=C();return a},v.prototype.run=function(){var a=this.consumers,b=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var c=0;c<a.length;++c)b.when(a[c])},v.prototype.become=function(a){this.resolved||(this.resolved=!0,this.handler=a,void 0!==this.consumers&&V.enqueue(this),void 0!==this.context&&a._report(this.context))},v.prototype.when=function(a){this.resolved?V.enqueue(new D(a,this.handler)):void 0===this.consumers?this.consumers=[a]:this.consumers.push(a)},v.prototype.notify=function(a){this.resolved||V.enqueue(new E(a,this))},v.prototype.fail=function(a){var b="undefined"==typeof a?this.context:a;this.resolved&&this.handler.join().fail(b)},v.prototype._report=function(a){this.resolved&&this.handler.join()._report(a)},v.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},R(t,w),w.prototype.when=function(a){V.enqueue(new D(a,this))},w.prototype._report=function(a){this.join()._report(a)},w.prototype._unreport=function(){this.join()._unreport()},R(v,x),R(t,y),y.prototype._state=1,y.prototype.fold=function(a,b,c,d){L(a,b,this,c,d)},y.prototype.when=function(a){K(a.fulfilled,this,a.receiver,a.resolver)};var Z=0;R(t,z),z.prototype._state=-1,z.prototype.fold=function(a,b,c,d){d.become(this)},z.prototype.when=function(a){"function"==typeof a.rejected&&this._unreport(),K(a.rejected,this,a.receiver,a.resolver)},z.prototype._report=function(a){V.afterQueue(new A(this,a))},z.prototype._unreport=function(){this.handled||(this.handled=!0,V.afterQueue(new B(this)))},z.prototype.fail=function(a){this.reported=!0,W("unhandledRejection",this),b.onFatalRejection(this,void 0===a?this.context:a)},A.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,W("unhandledRejection",this.rejection)||b.onPotentiallyUnhandledRejection(this.rejection,this.context))},B.prototype.run=function(){this.rejection.reported&&(W("rejectionHandled",this.rejection)||b.onPotentiallyUnhandledRejectionHandled(this.rejection))},b.createContext=b.enterContext=b.exitContext=b.onPotentiallyUnhandledRejection=b.onPotentiallyUnhandledRejectionHandled=b.onFatalRejection=T;var $=new t,_=new b(t,$);return D.prototype.run=function(){this.handler.join().when(this.continuation)},E.prototype.run=function(){var a=this.handler.consumers;if(void 0!==a)for(var b,c=0;c<a.length;++c)b=a[c],M(b.progress,this.value,this.handler,b.receiver,b.resolver)},F.prototype.run=function(){function a(a){d.resolve(a)}function b(a){d.reject(a)}function c(a){d.notify(a)}var d=this.resolver;G(this._then,this.thenable,a,b,c)},H.prototype.fulfilled=function(a){this.f.call(this.c,this.z,a,this.to)},H.prototype.rejected=function(a){this.to.reject(a)},H.prototype.progress=function(a){this.to.notify(a)},b}})}("function"==typeof a&&a.amd?a:function(a){c.exports=a()})},{}]},{},[1])(1)}),"undefined"!=typeof systemJSBootstrap&&systemJSBootstrap()}(),!function(){function a(){!function(a){function b(a,c){if("string"!=typeof a)throw new TypeError("URL must be a string");var d=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!d)throw new RangeError("Invalid URL format");var e=d[1]||"",f=d[2]||"",g=d[3]||"",h=d[4]||"",i=d[5]||"",j=d[6]||"",k=d[7]||"",l=d[8]||"",m=d[9]||"";if(void 0!==c){var n=c instanceof b?c:new b(c),o=!e&&!h&&!f;!o||k||l||(l=n.search),o&&"/"!==k[0]&&(k=k?(!n.host&&!n.username||n.pathname?"":"/")+n.pathname.slice(0,n.pathname.lastIndexOf("/")+1)+k:n.pathname);var p=[];k.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?p.pop():p.push(a)}),k=p.join("").replace(/^\//,"/"===k[0]?"/":""),o&&(j=n.port,i=n.hostname,h=n.host,g=n.password,f=n.username),e||(e=n.protocol)}k=k.replace(/\\/g,"/"),this.origin=h?e+(""!==e||""!==h?"//":"")+h:"",this.href=e+(e&&h||"file:"==e?"//":"")+(""!==f?f+(""!==g?":"+g:"")+"@":"")+h+k+l+m,this.protocol=e,this.username=f,this.password=g,this.host=h,this.hostname=i,this.port=j,this.pathname=k,this.search=l,this.hash=m}a.URLPolyfill=b}("undefined"!=typeof self?self:global),function(a){function b(a,b){if(!a.originalErr)for(var c=((a.message||a)+(a.stack?"\n"+a.stack:"")).toString().split("\n"),d=[],e=0;e<c.length;e++)"undefined"!=typeof $__curScript&&c[e].indexOf($__curScript.src)!=-1||d.push(c[e]);var f="(SystemJS) "+(d?d.join("\n\t"):a.message.substr(11))+"\n\t"+b;L||(f=f.replace(M?/file:\/\/\//g:/file:\/\//g,""));var g=Q?new Error(f,a.fileName,a.lineNumber):new Error(f);return g.stack=f,g.originalErr=a.originalErr||a,g}function c(){}function d(b){this._loader={loaderObj:this,loads:[],modules:{},importPromises:{},moduleRecords:{}},N(this,"global",{get:function(){return a}})}function e(){d.call(this),this.paths={},this._loader.paths={},Y.call(this)}function f(){}function g(a,b){e.prototype[a]=b(e.prototype[a]||function(){})}function h(a){Y=a(Y||function(){})}function i(a){return a.match(Z)}function j(a){return"."==a[0]&&(!a[1]||"/"==a[1]||"."==a[1])||"/"==a[0]}function k(a){return!j(a)&&!i(a)}function l(a,b){if("."==a[0]){if("/"==a[1]&&"."!=a[2])return(b&&b.substr(0,b.lastIndexOf("/")+1)||P)+a.substr(2)}else if("/"!=a[0]&&a.indexOf(":")==-1)return(b&&b.substr(0,b.lastIndexOf("/")+1)||P)+a;return new T(a,b&&b.replace(/#/g,"%05")||$).href.replace(/%05/g,"#")}function m(a,b){var c,d="",e=0,f=a.paths,g=a._loader.paths;for(var h in f)if(!f.hasOwnProperty||f.hasOwnProperty(h)){var i=f[h];if(i!==g[h]&&(i=f[h]=g[h]=l(f[h],j(f[h])?P:a.baseURL)),h.indexOf("*")===-1){if(b==h)return f[h];if(b.substr(0,h.length-1)==h.substr(0,h.length-1)&&(b.length<h.length||b[h.length-1]==h[h.length-1])&&("/"==f[h][f[h].length-1]||""==f[h]))return f[h].substr(0,f[h].length-1)+(b.length>h.length?(f[h]&&"/"||"")+b.substr(h.length):"")}else{var k=h.split("*");if(k.length>2)throw new TypeError("Only one wildcard in a path is permitted");var m=k[0].length;m>=e&&b.substr(0,k[0].length)==k[0]&&b.substr(b.length-k[1].length)==k[1]&&(e=m,d=h,c=b.substr(k[0].length,b.length-k[1].length-k[0].length))}}var n=f[d];return"string"==typeof c&&(n=n.replace("*",c)),n}function n(a){for(var b=[],c=[],d=0,e=a.length;d<e;d++){var f=O.call(b,a[d]);f===-1?(b.push(a[d]),c.push([d])):c[f].push(d)}return{names:b,indices:c}}function o(b){var c={};if(("object"==typeof b||"function"==typeof b)&&b!==a)if(_)for(var d in b)"default"!==d&&p(c,b,d);else q(c,b);return c.default=b,N(c,"__useDefault",{value:!0}),c}function p(a,b,c){try{var d;(d=Object.getOwnPropertyDescriptor(b,c))&&N(a,c,d)}catch(d){return a[c]=b[c],!1}}function q(a,b,c){var d=b&&b.hasOwnProperty;for(var e in b)d&&!b.hasOwnProperty(e)||c&&e in a||(a[e]=b[e]);return a}function r(a,b,c){var d=b&&b.hasOwnProperty;for(var e in b)if(!d||b.hasOwnProperty(e)){var f=b[e];e in a?f instanceof Array&&a[e]instanceof Array?a[e]=[].concat(c?f:a[e]).concat(c?a[e]:f):"object"==typeof f&&null!==f&&"object"==typeof a[e]?a[e]=q(q({},a[e]),f,c):c||(a[e]=f):a[e]=f}}function s(a,b,c,d,e){for(var f in b)if(O.call(["main","format","defaultExtension","basePath"],f)!=-1)a[f]=b[f];else if("map"==f)q(a.map=a.map||{},b.map);else if("meta"==f)q(a.meta=a.meta||{},b.meta);else if("depCache"==f)for(var g in b.depCache){var h;h="./"==g.substr(0,2)?c+"/"+g.substr(2):A.call(d,g),d.depCache[h]=(d.depCache[h]||[]).concat(b.depCache[g])}else!e||O.call(["browserConfig","nodeConfig","devConfig","productionConfig"],f)!=-1||b.hasOwnProperty&&!b.hasOwnProperty(f)||u.call(d,'"'+f+'" is not a valid package configuration option in package '+c)}function t(a,b,c,d){var e;if(a.packages[b]){var f=a.packages[b];e=a.packages[b]={},s(e,d?c:f,b,a,d),s(e,d?f:c,b,a,!d)}else e=a.packages[b]=c;return"object"==typeof e.main&&(e.map=e.map||{},e.map["./@main"]=e.main,e.main.default=e.main.default||"./",e.main="@main"),e}function u(a){this.warnings&&"undefined"!=typeof console&&console.warn}function v(a,b){for(var c=a.split(".");c.length;)b=b[c.shift()];return b}function w(a,b){var c,d=0;for(var e in a)if(b.substr(0,e.length)==e&&(b.length==e.length||"/"==b[e.length])){var f=e.split("/").length;if(f<=d)continue;c=e,d=f}return c}function x(a){this._loader.baseURL!==this.baseURL&&("/"!=this.baseURL[this.baseURL.length-1]&&(this.baseURL+="/"),this._loader.baseURL=this.baseURL=new T(this.baseURL,$).href)}function y(a,b){this.set("@system-env",ba=this.newModule({browser:L,node:!!this._nodeRequire,production:!b&&a,dev:b||!a,build:b,default:!0}))}function z(a,b){if(!k(a))throw new Error("Node module "+a+" can't be loaded as it is not a package require.");if(!ca){var c=this._nodeRequire("module"),d=b.substr(M?8:7);ca=new c(d),ca.paths=c._nodeModulePaths(d)}return ca.require(a)}function A(a,b){if(j(a))return l(a,b);if(i(a))return a;var c=w(this.map,a);if(c){if(a=this.map[c]+a.substr(c.length),j(a))return l(a);if(i(a))return a}if(this.has(a))return a;if("@node/"==a.substr(0,6)){if(!this._nodeRequire)throw new TypeError("Error loading "+a+". Can only load node core modules in Node.");return this.builder?this.set(a,this.newModule({})):this.set(a,this.newModule(o(z.call(this,a.substr(6),this.baseURL)))),a}return x.call(this),m(this,a)||this.baseURL+a}function B(a,b,c){ba.browser&&b.browserConfig&&c(b.browserConfig),ba.node&&b.nodeConfig&&c(b.nodeConfig),ba.dev&&b.devConfig&&c(b.devConfig),ba.build&&b.buildConfig&&c(b.buildConfig),ba.production&&b.productionConfig&&c(b.productionConfig)}function C(a){var b=a.match(fa);return b&&"System.register"==a.substr(b[0].length,15)}function D(){return{name:null,deps:null,originalIndices:null,declare:null,execute:null,executingRequire:!1,declarative:!1,normalizedDeps:null,groupIndex:null,evaluated:!1,module:null,esModule:null,esmExports:!1}}function E(b){if("string"==typeof b)return v(b,a);if(!(b instanceof Array))throw new Error("Global exports must be a string or array.");for(var c={},d=!0,e=0;e<b.length;e++){var f=v(b[e],a);d&&(c.default=f,d=!1),c[b[e].split(".").pop()]=f}return c}function F(a){var b,c,d,d="~"==a[0],e=a.lastIndexOf("|");return e!=-1?(b=a.substr(e+1),c=a.substr(d,e-d),d&&u.call(this,'Condition negation form "'+a+'" is deprecated for "'+c+"|~"+b+'"'),"~"==b[0]&&(d=!0,b=b.substr(1))):(b="default",c=a.substr(d),ha.indexOf(c)!=-1&&(b=c,c=null)),{module:c||"@system-env",prop:b,negate:d}}function G(a){return a.module+"|"+(a.negate?"~":"")+a.prop}function H(a,b,c){var d=this;return this.normalize(a.module,b).then(function(b){return d.load(b).then(function(e){var f=v(a.prop,d.get(b));if(c&&"boolean"!=typeof f)throw new TypeError("Condition "+G(a)+" did not resolve to a boolean.");return a.negate?!f:f})})}function I(a,b){var c=a.match(ia);if(!c)return Promise.resolve(a);var d=F.call(this,c[0].substr(2,c[0].length-3));return this.builder?this.normalize(d.module,b).then(function(b){return d.module=b,a.replace(ia,"#{"+G(d)+"}")}):H.call(this,d,b,!1).then(function(c){if("string"!=typeof c)throw new TypeError("The condition value for "+a+" doesn't resolve to a string.");if(c.indexOf("/")!=-1)throw new TypeError("Unabled to interpolate conditional "+a+(b?" in "+b:"")+"\n\tThe condition value "+c+' cannot contain a "/" separator.');return a.replace(ia,c)})}function J(a,b){var c=a.lastIndexOf("#?");if(c==-1)return Promise.resolve(a);var d=F.call(this,a.substr(c+2));return this.builder?this.normalize(d.module,b).then(function(b){return d.module=b,a.substr(0,c)+"#?"+G(d)}):H.call(this,d,b,!0).then(function(b){return b?a.substr(0,c):"@empty"})}var K="undefined"==typeof window&&"undefined"!=typeof self&&"undefined"!=typeof importScripts,L="undefined"!=typeof window&&"undefined"!=typeof document,M="undefined"!=typeof process&&"undefined"!=typeof process.platform&&!!process.platform.match(/^win/);a.console||(a.console={assert:function(){}});var N,O=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1};!function(){try{Object.defineProperty({},"a",{})&&(N=Object.defineProperty)}catch(a){N=function(a,b,c){try{a[b]=c.value||c.get.call(a)}catch(a){}}}}();var P,Q="_"==new Error(0,"_").fileName;if("undefined"!=typeof document&&document.getElementsByTagName){if(P=document.baseURI,!P){var R=document.getElementsByTagName("base");P=R[0]&&R[0].href||window.location.href}}else"undefined"!=typeof location&&(P=a.location.href);if(P)P=P.split("#")[0].split("?")[0],P=P.substr(0,P.lastIndexOf("/")+1);else{if("undefined"==typeof process||!process.cwd)throw new TypeError("No environment baseURI");P="file://"+(M?"/":"")+process.cwd()+"/",M&&(P=P.replace(/\\/g,"/"))}try{var S="test:"==new a.URL("test:///").protocol}catch(a){}var T=S?a.URL:a.URLPolyfill;N(c.prototype,"toString",{value:function(){return"Module"}}),function(){function a(a){return{status:"loading",name:a||"<Anonymous"+ ++t+">",linkSets:[],dependencies:[],metadata:{}}}function e(a,b,c){return new Promise(j({step:c.address?"fetch":"locate",loader:a,moduleName:b,moduleMetadata:c&&c.metadata||{},moduleSource:c.source,moduleAddress:c.address}))}function f(b,c,d,e){return new Promise(function(a,f){a(b.loaderObj.normalize(c,d,e))}).then(function(c){var d;if(b.modules[c])return d=a(c),d.status="linked",d.module=b.modules[c],d;for(var e=0,f=b.loads.length;e<f;e++)if(d=b.loads[e],d.name==c)return d;return d=a(c),b.loads.push(d),g(b,d),d})}function g(a,b){h(a,b,Promise.resolve().then(function(){return a.loaderObj.locate({name:b.name,metadata:b.metadata})}))}function h(a,b,c){i(a,b,c.then(function(c){if("loading"==b.status)return b.address=c,a.loaderObj.fetch({name:b.name,metadata:b.metadata,address:c})}))}function i(a,b,c){c.then(function(c){if("loading"==b.status)return b.address=b.address||b.name,Promise.resolve(a.loaderObj.translate({name:b.name,metadata:b.metadata,address:b.address,source:c})).then(function(c){return b.source=c,a.loaderObj.instantiate({name:b.name,metadata:b.metadata,address:b.address,source:c})}).then(function(a){if(void 0===a)throw new TypeError("Declarative modules unsupported in the polyfill.");if("object"!=typeof a)throw new TypeError("Invalid instantiate return value");b.depsList=a.deps||[],b.execute=a.execute}).then(function(){b.dependencies=[];for(var c=b.depsList,d=[],e=0,g=c.length;e<g;e++)(function(c,e){d.push(f(a,c,b.name,b.address).then(function(a){if(b.dependencies[e]={key:c,value:a.name},"linked"!=a.status)for(var d=b.linkSets.concat([]),f=0,g=d.length;f<g;f++)l(d[f],a)}))})(c[e],e);return Promise.all(d)}).then(function(){b.status="loaded";for(var a=b.linkSets.concat([]),c=0,d=a.length;c<d;c++)n(a[c],b)})}).catch(function(a){b.status="failed",b.exception=a;for(var c=b.linkSets.concat([]),d=0,e=c.length;d<e;d++)o(c[d],b,a)})}function j(b){return function(c,d){var e=b.loader,f=b.moduleName,j=b.step;if(e.modules[f])throw new TypeError('"'+f+'" already exists in the module table');for(var l,m=0,n=e.loads.length;m<n;m++)if(e.loads[m].name==f&&(l=e.loads[m],"translate"!=j||l.source||(l.address=b.moduleAddress,i(e,l,Promise.resolve(b.moduleSource))),l.linkSets.length&&l.linkSets[0].loads[0].name==l.name))return l.linkSets[0].done.then(function(){c(l)});var o=l||a(f);o.metadata=b.moduleMetadata;var p=k(e,o);e.loads.push(o),c(p.done),"locate"==j?g(e,o):"fetch"==j?h(e,o,Promise.resolve(b.moduleAddress)):(o.address=b.moduleAddress,i(e,o,Promise.resolve(b.moduleSource)))}}function k(a,b){var c={loader:a,loads:[],startingLoad:b,loadingCount:0};return c.done=new Promise(function(a,b){c.resolve=a,c.reject=b}),l(c,b),c}function l(a,b){if("failed"!=b.status){for(var c=0,d=a.loads.length;c<d;c++)if(a.loads[c]==b)return;a.loads.push(b),b.linkSets.push(a),"loaded"!=b.status&&a.loadingCount++;for(var e=a.loader,c=0,d=b.dependencies.length;c<d;c++)if(b.dependencies[c]){var f=b.dependencies[c].value;if(!e.modules[f])for(var g=0,h=e.loads.length;g<h;g++)if(e.loads[g].name==f){l(a,e.loads[g]);break}}}}function m(a){var b=!1;try{s(a,function(c,d){o(a,c,d),b=!0})}catch(c){o(a,null,c),b=!0}return b}function n(a,b){if(a.loadingCount--,!(a.loadingCount>0)){var c=a.startingLoad;if(a.loader.loaderObj.execute===!1){for(var d=[].concat(a.loads),e=0,f=d.length;e<f;e++){var b=d[e];b.module={name:b.name,module:u({}),evaluated:!0},b.status="linked",p(a.loader,b)}return a.resolve(c)}var g=m(a);g||a.resolve(c)}}function o(a,c,d){var e=a.loader;a:if(c)if(a.loads[0].name==c.name)d=b(d,"Error loading "+c.name);else{for(var f=0;f<a.loads.length;f++)for(var g=a.loads[f],h=0;h<g.dependencies.length;h++){var i=g.dependencies[h];if(i.value==c.name){d=b(d,"Error loading "+c.name+' as "'+i.key+'" from '+g.name);break a}}d=b(d,"Error loading "+c.name+" from "+a.loads[0].name)}else d=b(d,"Error linking "+a.loads[0].name);for(var j=a.loads.concat([]),f=0,k=j.length;f<k;f++){var c=j[f];e.loaderObj.failed=e.loaderObj.failed||[],O.call(e.loaderObj.failed,c)==-1&&e.loaderObj.failed.push(c);var l=O.call(c.linkSets,a);if(c.linkSets.splice(l,1),0==c.linkSets.length){var m=O.call(a.loader.loads,c);m!=-1&&a.loader.loads.splice(m,1)}}a.reject(d)}function p(a,b){if(a.loaderObj.trace){a.loaderObj.loads||(a.loaderObj.loads={});var c={};b.dependencies.forEach(function(a){c[a.key]=a.value}),a.loaderObj.loads[b.name]={name:b.name,deps:b.dependencies.map(function(a){return a.key}),depMap:c,address:b.address,metadata:b.metadata,source:b.source}}b.name&&(a.modules[b.name]=b.module);var d=O.call(a.loads,b);d!=-1&&a.loads.splice(d,1);for(var e=0,f=b.linkSets.length;e<f;e++)d=O.call(b.linkSets[e].loads,b),d!=-1&&b.linkSets[e].loads.splice(d,1);b.linkSets.splice(0,b.linkSets.length)}function q(a,b,d){try{var e=b.execute()}catch(a){return void d(b,a)}return e&&e instanceof c?e:void d(b,new TypeError("Execution must define a Module instance"))}function r(a,b,c){var d=a._loader.importPromises;return d[b]=c.then(function(a){return d[b]=void 0,a},function(a){throw d[b]=void 0,a})}function s(a,b){var c=a.loader;if(a.loads.length)for(var d=a.loads.concat([]),e=0;e<d.length;e++){var f=d[e],g=q(a,f,b);if(!g)return;f.module={name:f.name,module:g},f.status="linked",p(c,f)}}var t=0;d.prototype={constructor:d,define:function(a,b,c){if(this._loader.importPromises[a])throw new TypeError("Module is already loading.");return r(this,a,new Promise(j({step:"translate",loader:this._loader,moduleName:a,moduleMetadata:c&&c.metadata||{},moduleSource:b,moduleAddress:c&&c.address})))},delete:function(a){var b=this._loader;return delete b.importPromises[a],delete b.moduleRecords[a],!!b.modules[a]&&delete b.modules[a]},get:function(a){if(this._loader.modules[a])return this._loader.modules[a].module},has:function(a){return!!this._loader.modules[a]},import:function(a,b,c){"object"==typeof b&&(b=b.name);var d=this;return Promise.resolve(d.normalize(a,b)).then(function(a){var b=d._loader;return b.modules[a]?b.modules[a].module:b.importPromises[a]||r(d,a,e(b,a,{}).then(function(c){return delete b.importPromises[a],c.module.module}))})},load:function(a){var b=this._loader;return b.modules[a]?Promise.resolve():b.importPromises[a]||r(this,a,new Promise(j({step:"locate",loader:b,moduleName:a,moduleMetadata:{},moduleSource:void 0,moduleAddress:void 0})).then(function(){delete b.importPromises[a]}))},module:function(b,c){var d=a();d.address=c&&c.address;var e=k(this._loader,d),f=Promise.resolve(b),g=this._loader,h=e.done.then(function(){return d.module.module});return i(g,d,f),h},newModule:function(a){if("object"!=typeof a)throw new TypeError("Expected object");var b=new c,d=[];if(Object.getOwnPropertyNames&&null!=a)d=Object.getOwnPropertyNames(a);else for(var e in a)d.push(e);for(var f=0;f<d.length;f++)(function(c){N(b,c,{configurable:!1,enumerable:!0,get:function(){return a[c]},set:function(){throw new Error("Module exports cannot be changed externally.")}})})(d[f]);return Object.freeze&&Object.freeze(b),b},set:function(a,b){if(!(b instanceof c))throw new TypeError("Loader.set("+a+", module) must be a module");this._loader.modules[a]={module:b}},normalize:function(a,b,c){},locate:function(a){return a.name},fetch:function(a){},translate:function(a){return a.source},instantiate:function(a){}};var u=d.prototype.newModule}();var U,V;if("undefined"!=typeof XMLHttpRequest)V=function(a,b,c,d){function e(){c(g.responseText)}function f(){d(new Error("XHR error"+(g.status?" ("+g.status+(g.statusText?" "+g.statusText:"")+")":"")+" loading "+a))}var g=new XMLHttpRequest,h=!0,i=!1;if(!("withCredentials"in g)){var j=/^(\w+:)?\/\/([^\/]+)/.exec(a);j&&(h=j[2]===window.location.host,j[1]&&(h&=j[1]===window.location.protocol))}h||"undefined"==typeof XDomainRequest||(g=new XDomainRequest,g.onload=e,g.onerror=f,g.ontimeout=f,g.onprogress=function(){},g.timeout=0,i=!0),g.onreadystatechange=function(){4===g.readyState&&(0==g.status?g.responseText?e():(g.addEventListener("error",f),g.addEventListener("load",e)):200===g.status?e():f())},g.open("GET",a,!0),g.setRequestHeader&&(g.setRequestHeader("Accept","application/x-es-module, */*"),b&&("string"==typeof b&&g.setRequestHeader("Authorization",b),g.withCredentials=!0)),i?setTimeout(function(){g.send()},0):g.send(null)};else if("undefined"!=typeof require&&"undefined"!=typeof process){var W;V=function(a,b,c,d){if("file:///"!=a.substr(0,8))throw new Error('Unable to fetch "'+a+'". Only file URLs of the form file:/// allowed running in Node.');return W=W||require("fs"),a=M?a.replace(/\//g,"\\").substr(8):a.substr(7),W.readFile(a,function(a,b){if(a)return d(a);var e=b+"";"\ufeff"===e[0]&&(e=e.substr(1)),c(e)})}}else{if("undefined"==typeof self||"undefined"==typeof self.fetch)throw new TypeError("No environment fetch API available.");V=function(a,b,c,d){var e={headers:{Accept:"application/x-es-module, */*"}};b&&("string"==typeof b&&(e.headers.Authorization=b),e.credentials="include"),fetch(a,e).then(function(a){if(a.ok)return a.text();throw new Error("Fetch error: "+a.status+" "+a.statusText)}).then(c,d)}}var X=function(){function b(b){var d=this;return Promise.resolve(a["typescript"==d.transpiler?"ts":d.transpiler]||(d.pluginLoader||d).import(d.transpiler)).then(function(a){a.__useDefault&&(a=a.default);var e;return e=a.Compiler?c:a.createLanguageService?g:f,"(function(__moduleName){"+e.call(d,b,a)+'\n})("'+b.name+'");\n//# sourceURL='+b.address+"!transpiled"})}function c(a,b){var c=this.traceurOptions||{};c.modules="instantiate",c.script=!1,void 0===c.sourceMaps&&(c.sourceMaps="inline"),c.filename=a.address,c.inputSourceMap=a.metadata.sourceMap,c.moduleName=!1;var d=new b.Compiler(c);return e(a.source,d,c.filename)}function e(a,b,c){try{return b.compile(a,c)}catch(a){if(a.length)throw a[0];throw a}}function f(a,b){var c=this.babelOptions||{};return c.modules="system",void 0===c.sourceMap&&(c.sourceMap="inline"),c.inputSourceMap=a.metadata.sourceMap,c.filename=a.address,c.code=!0,c.ast=!1,b.transform(a.source,c).code}function g(a,b){var c=this.typescriptOptions||{};return c.target=c.target||b.ScriptTarget.ES5,void 0===c.sourceMap&&(c.sourceMap=!0),c.sourceMap&&c.inlineSourceMap!==!1&&(c.inlineSourceMap=!0),c.module=b.ModuleKind.System,b.transpile(a.source,c,a.address)}return d.prototype.transpiler="traceur",b}();f.prototype=d.prototype,e.prototype=new f,e.prototype.constructor=e;var Y,Z=/^[^\/]+:\/\//,$=new T(P),_=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(a){_=!1}var aa;!function(){function c(a){return i?k+new Buffer(a).toString("base64"):"undefined"!=typeof btoa?k+btoa(unescape(encodeURIComponent(a))):""}function d(a,b){var d=a.source.lastIndexOf("\n");"global"==a.metadata.format&&(b=!1);var e=a.metadata.sourceMap;if(e){if("object"!=typeof e)throw new TypeError("load.metadata.sourceMap must be set to an object.");e=JSON.stringify(e)}return(b?"(function(System, SystemJS) {":"")+a.source+(b?"\n})(System, System);":"")+("\n//# sourceURL="!=a.source.substr(d,15)?"\n//# sourceURL="+a.address+(e?"!transpiled":""):"")+(e&&c(e)||"")}function e(b,c){j=c,0==o++&&(l=a.System),a.System=a.SystemJS=b}function f(){0==--o&&(a.System=a.SystemJS=l),j=void 0}function h(a){q||(q=document.head||document.body||document.documentElement);var c=document.createElement("script");c.text=d(a,!1);var g,h=window.onerror;if(window.onerror=function(c){g=b(c,"Evaluating "+a.address),h&&h.apply(this,arguments)},e(this,a),a.metadata.integrity&&c.setAttribute("integrity",a.metadata.integrity),a.metadata.nonce&&c.setAttribute("nonce",a.metadata.nonce),q.appendChild(c),q.removeChild(c),f(),window.onerror=h,g)throw g}var i="undefined"!=typeof Buffer;try{i&&"YQ=="!=new Buffer("a").toString("base64")&&(i=!1)}catch(a){i=!1}var j,k="\n//# sourceMappingURL=data:application/json;base64,";g("pushRegister_",function(){return function(a){return!!j&&(this.reduceRegister_(j,a),!0)}});var l,m,n,o=0;aa=function(a){if(a.source){if((a.metadata.integrity||a.metadata.nonce)&&p)return h.call(this,a);try{e(this,a),j=a,!n&&this._nodeRequire&&(n=this._nodeRequire("vm"),m=n.runInThisContext("typeof System !== 'undefined' && System")===this),m?n.runInThisContext(d(a,!0),{filename:a.address+(a.metadata.sourceMap?"!transpiled":"")}):(0,eval)(d(a,!0)),f()}catch(c){throw f(),b(c,"Evaluating "+a.address)}}};var p=!1;L&&"undefined"!=typeof document&&document.getElementsByTagName&&(window.chrome&&window.chrome.extension||navigator.userAgent.match(/^Node\.js/)||(p=!0));var q}();var ba;h(function(a){return function(){a.call(this),this.baseURL=P,this.map={},"undefined"!=typeof $__curScript&&(this.scriptSrc=$__curScript.src),this.warnings=!1,this.defaultJSExtensions=!1,this.pluginFirst=!1,this.loaderErrorStack=!1,this.set("@empty",this.newModule({})),y.call(this,!1,!1)}}),"undefined"==typeof require||"undefined"==typeof process||process.browser||(e.prototype._nodeRequire=require);var ca;g("normalize",function(a){return function(a,b,c){var d=A.call(this,a,b);return!this.defaultJSExtensions||c||".js"==d.substr(d.length-3,3)||k(d)||(d+=".js"),d}});var da="undefined"!=typeof XMLHttpRequest;g("locate",function(a){return function(b){return Promise.resolve(a.call(this,b)).then(function(a){return da?a.replace(/#/g,"%23"):a})}}),g("fetch",function(){return function(a){return new Promise(function(b,c){V(a.address,a.metadata.authorization,b,c)})}}),g("import",function(a){return function(b,c,d){return c&&c.name&&u.call(this,"SystemJS.import(name, { name: parentName }) is deprecated for SystemJS.import(name, parentName), while importing "+b+" from "+c.name),a.call(this,b,c,d).then(function(a){return a.__useDefault?a.default:a})}}),g("translate",function(a){return function(b){return"detect"==b.metadata.format&&(b.metadata.format=void 0),a.apply(this,arguments)}}),g("instantiate",function(a){return function(a){if("json"==a.metadata.format&&!this.builder){var b=a.metadata.entry=D();b.deps=[],b.execute=function(){try{return JSON.parse(a.source)}catch(b){throw new Error("Invalid JSON file "+a.name)}}}}}),e.prototype.getConfig=function(a){var b={},c=this;for(var d in c)c.hasOwnProperty&&!c.hasOwnProperty(d)||d in e.prototype&&"transpiler"!=d||O.call(["_loader","amdDefine","amdRequire","defined","failed","version","loads"],d)==-1&&(b[d]=c[d]);return b.production=ba.production,b};var ea;e.prototype.config=function(a,b){function c(a){for(var b in a)if(a.hasOwnProperty(b))return!0}var d=this;if("loaderErrorStack"in a&&(ea=$__curScript,a.loaderErrorStack?$__curScript=void 0:$__curScript=ea),"warnings"in a&&(d.warnings=a.warnings),a.transpilerRuntime===!1&&(d._loader.loadedTranspilerRuntime=!0),("production"in a||"build"in a)&&y.call(d,!!a.production,!!(a.build||ba&&ba.build)),!b){var e;if(B(d,a,function(a){e=e||a.baseURL}),e=e||a.baseURL){if(c(d.packages)||c(d.meta)||c(d.depCache)||c(d.bundles)||c(d.packageConfigPaths))throw new TypeError("Incorrect configuration order. The baseURL must be configured with the first SystemJS.config call.");this.baseURL=e,x.call(this)}if(a.paths&&q(d.paths,a.paths),B(d,a,function(a){a.paths&&q(d.paths,a.paths)}),this.warnings)for(var f in d.paths)f.indexOf("*")!=-1&&u.call(d,'Paths configuration "'+f+'" -> "'+d.paths[f]+'" uses wildcards which are being deprecated for just leaving a trailing "/" to indicate folder paths.')}if(a.defaultJSExtensions&&(d.defaultJSExtensions=a.defaultJSExtensions,u.call(d,"The defaultJSExtensions configuration option is deprecated, use packages configuration instead.")),a.pluginFirst&&(d.pluginFirst=a.pluginFirst),a.map)for(var f in a.map){var g=a.map[f];if("string"!=typeof g){var h=d.defaultJSExtensions&&".js"!=f.substr(f.length-3,3),i=d.decanonicalize(f);h&&".js"==i.substr(i.length-3,3)&&(i=i.substr(0,i.length-3));var j="";for(var l in d.packages)i.substr(0,l.length)==l&&(!i[l.length]||"/"==i[l.length])&&j.split("/").length<l.split("/").length&&(j=l);j&&d.packages[j].main&&(i=i.substr(0,i.length-d.packages[j].main.length-1));var l=d.packages[i]=d.packages[i]||{};l.map=g}else d.map[f]=g}if(a.packageConfigPaths){for(var m=[],n=0;n<a.packageConfigPaths.length;n++){var o=a.packageConfigPaths[n],p=Math.max(o.lastIndexOf("*")+1,o.lastIndexOf("/")),r=A.call(d,o.substr(0,p));m[n]=r+o.substr(p)}d.packageConfigPaths=m}if(a.bundles)for(var f in a.bundles){for(var s=[],n=0;n<a.bundles[f].length;n++){var h=d.defaultJSExtensions&&".js"!=a.bundles[f][n].substr(a.bundles[f][n].length-3,3),v=d.decanonicalize(a.bundles[f][n]);h&&".js"==v.substr(v.length-3,3)&&(v=v.substr(0,v.length-3)),
s.push(v)}d.bundles[f]=s}if(a.packages)for(var f in a.packages){if(f.match(/^([^\/]+:)?\/\/$/))throw new TypeError('"'+f+'" is not a valid package name.');var i=A.call(d,f);"/"==i[i.length-1]&&(i=i.substr(0,i.length-1)),t(d,i,a.packages[f],!1)}for(var w in a){var g=a[w];if(O.call(["baseURL","map","packages","bundles","paths","warnings","packageConfigPaths","loaderErrorStack","browserConfig","nodeConfig","devConfig","buildConfig","productionConfig"],w)==-1)if("object"!=typeof g||g instanceof Array)d[w]=g;else{d[w]=d[w]||{};for(var f in g)if("meta"==w&&"*"==f[0])q(d[w][f]=d[w][f]||{},g[f]);else if("meta"==w){var z=A.call(d,f);d.defaultJSExtensions&&".js"!=z.substr(z.length-3,3)&&!k(z)&&(z+=".js"),q(d[w][z]=d[w][z]||{},g[f])}else if("depCache"==w){var h=d.defaultJSExtensions&&".js"!=f.substr(f.length-3,3),i=d.decanonicalize(f);h&&".js"==i.substr(i.length-3,3)&&(i=i.substr(0,i.length-3)),d[w][i]=[].concat(g[f])}else d[w][f]=g[f]}}B(d,a,function(a){d.config(a,!0)})},function(){function a(a,b){var c,d,e=0;for(var f in a.packages)b.substr(0,f.length)!==f||b.length!==f.length&&"/"!==b[f.length]||(d=f.split("/").length,d>e&&(c=f,e=d));return c}function b(a,b,c,d,e){if(!d||"/"==d[d.length-1]||e||b.defaultExtension===!1)return d;var f=!1;if(b.meta&&o(b.meta,d,function(a,b,c){if(0==c||a.lastIndexOf("*")!=a.length-1)return f=!0}),!f&&a.meta&&o(a.meta,c+"/"+d,function(a,b,c){if(0==c||a.lastIndexOf("*")!=a.length-1)return f=!0}),f)return d;var g="."+(b.defaultExtension||"js");return d.substr(d.length-g.length)!=g?d+g:d}function c(a,c,d,e,g){if(!e){if(!c.main)return d+(a.defaultJSExtensions?".js":"");e="./"==c.main.substr(0,2)?c.main.substr(2):c.main}if(c.map){var h="./"+e,i=w(c.map,h);if(i||(h="./"+b(a,c,d,e,g),h!="./"+e&&(i=w(c.map,h))),i){var j=f(a,c,d,i,h,g);if(j)return j}}return d+"/"+b(a,c,d,e,g)}function d(a,b,c,d){if("."==a)throw new Error("Package "+c+' has a map entry for "." which is not permitted.');return!(b.substr(0,a.length)==a&&d.length>a.length)}function f(a,c,e,f,g,h){"/"==g[g.length-1]&&(g=g.substr(0,g.length-1));var i=c.map[f];if("object"==typeof i)throw new Error("Synchronous conditional normalization not supported sync normalizing "+f+" in "+e);if(d(f,i,e,g)&&"string"==typeof i){if("."==i)i=e;else if("./"==i.substr(0,2))return e+"/"+b(a,c,e,i.substr(2)+g.substr(f.length),h);return a.normalizeSync(i+g.substr(f.length),e+"/")}}function i(a,c,d,e,f){if(!e){if(!c.main)return Promise.resolve(d+(a.defaultJSExtensions?".js":""));e="./"==c.main.substr(0,2)?c.main.substr(2):c.main}var g,h;return c.map&&(g="./"+e,h=w(c.map,g),h||(g="./"+b(a,c,d,e,f),g!="./"+e&&(h=w(c.map,g)))),(h?k(a,c,d,h,g,f):Promise.resolve()).then(function(g){return g?Promise.resolve(g):Promise.resolve(d+"/"+b(a,c,d,e,f))})}function j(a,c,d,e,f,g,h){if("."==f)f=d;else if("./"==f.substr(0,2))return Promise.resolve(d+"/"+b(a,c,d,f.substr(2)+g.substr(e.length),h)).then(function(b){return I.call(a,b,d+"/")});return a.normalize(f+g.substr(e.length),d+"/")}function k(a,b,c,e,f,g){"/"==f[f.length-1]&&(f=f.substr(0,f.length-1));var h=b.map[e];if("string"==typeof h)return d(e,h,c,f)?j(a,b,c,e,h,f,g):Promise.resolve();if(a.builder)return Promise.resolve(c+"/#:"+f);var i=[],k=[];for(var l in h){var m=F(l);k.push({condition:m,map:h[l]}),i.push(a.import(m.module,c))}return Promise.all(i).then(function(a){for(var b=0;b<k.length;b++){var c=k[b].condition,d=v(c.prop,a[b]);if(!c.negate&&d||c.negate&&!d)return k[b].map}}).then(function(h){if(h){if(!d(e,h,c,f))return;return j(a,b,c,e,h,f,g)}})}function l(a){var b=a.lastIndexOf("*"),c=Math.max(b+1,a.lastIndexOf("/"));return{length:c,regEx:new RegExp("^("+a.substr(0,c).replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,"[^\\/]+")+")(\\/|$)"),wildcard:b!=-1}}function m(a,b){for(var c,d,e=!1,f=0;f<a.packageConfigPaths.length;f++){var g=a.packageConfigPaths[f],h=p[g]||(p[g]=l(g));if(!(b.length<h.length)){var i=b.match(h.regEx);!i||c&&(e&&h.wildcard||!(c.length<i[1].length))||(c=i[1],e=!h.wildcard,d=c+g.substr(h.length))}}if(c)return{packageName:c,configPath:d}}function n(a,b,c){var d=a.pluginLoader||a;return(d.meta[c]=d.meta[c]||{}).format="json",d.meta[c].loader=null,d.load(c).then(function(){var e=d.get(c).default;return e.systemjs&&(e=e.systemjs),e.modules&&(e.meta=e.modules,u.call(a,"Package config file "+c+' is configured with "modules", which is deprecated as it has been renamed to "meta".')),t(a,b,e,!0)})}function o(a,b,c){var d;for(var e in a){var f="./"==e.substr(0,2)?"./":"";if(f&&(e=e.substr(2)),d=e.indexOf("*"),d!==-1&&e.substr(0,d)==b.substr(0,d)&&e.substr(d+1)==b.substr(b.length-e.length+d+1)&&c(e,a[f+e],e.split("/").length))return}var g=a[b]&&a.hasOwnProperty&&a.hasOwnProperty(b)?a[b]:a["./"+b];g&&c(g,g,0)}h(function(a){return function(){a.call(this),this.packages={},this.packageConfigPaths=[]}}),e.prototype.normalizeSync=e.prototype.decanonicalize=e.prototype.normalize,g("decanonicalize",function(b){return function(c,d){if(this.builder)return b.call(this,c,d,!0);var e=b.call(this,c,d,!1);if(!this.defaultJSExtensions)return e;var f=a(this,e),g=this.packages[f],h=g&&g.defaultExtension;return void 0==h&&g&&g.meta&&o(g.meta,e.substr(f),function(a,b,c){if(0==c||a.lastIndexOf("*")!=a.length-1)return h=!1,!0}),(h===!1||h&&".js"!=h)&&".js"!=c.substr(c.length-3,3)&&".js"==e.substr(e.length-3,3)&&(e=e.substr(0,e.length-3)),e}}),g("normalizeSync",function(b){return function(d,e,g){var h=this;if(g=g===!0,e)var i=a(h,e)||h.defaultJSExtensions&&".js"==e.substr(e.length-3,3)&&a(h,e.substr(0,e.length-3));var j=i&&h.packages[i];if(j&&"."!=d[0]){var k=j.map,l=k&&w(k,d);if(l&&"string"==typeof k[l]){var n=f(h,j,i,l,d,g);if(n)return n}}var o=h.defaultJSExtensions&&".js"!=d.substr(d.length-3,3),p=b.call(h,d,e,!1);o&&".js"!=p.substr(p.length-3,3)&&(o=!1),o&&(p=p.substr(0,p.length-3));var q=m(h,p),r=q&&q.packageName||a(h,p);if(!r)return p+(o?".js":"");var s=p.substr(r.length+1);return c(h,h.packages[r]||{},r,s,g)}}),g("normalize",function(b){return function(c,d,e){var f=this;return e=e===!0,Promise.resolve().then(function(){if(d)var b=a(f,d)||f.defaultJSExtensions&&".js"==d.substr(d.length-3,3)&&a(f,d.substr(0,d.length-3));var g=b&&f.packages[b];if(g&&"./"!=c.substr(0,2)){var h=g.map,i=h&&w(h,c);if(i)return k(f,g,b,i,c,e)}return Promise.resolve()}).then(function(g){if(g)return g;var h=f.defaultJSExtensions&&".js"!=c.substr(c.length-3,3),j=b.call(f,c,d,!1);h&&".js"!=j.substr(j.length-3,3)&&(h=!1),h&&(j=j.substr(0,j.length-3));var k=m(f,j),l=k&&k.packageName||a(f,j);if(!l)return Promise.resolve(j+(h?".js":""));var o=f.packages[l],p=o&&(o.configured||!k);return(p?Promise.resolve(o):n(f,l,k.configPath)).then(function(a){var b=j.substr(l.length+1);return i(f,a,l,b,e)})})}});var p={};g("locate",function(b){return function(c){var d=this;return Promise.resolve(b.call(this,c)).then(function(b){var e=a(d,c.name);if(e){var f=d.packages[e],g=c.name.substr(e.length+1),h={};if(f.meta){var i=0;o(f.meta,g,function(a,b,c){c>i&&(i=c),r(h,b,c&&i>c)}),r(c.metadata,h)}f.format&&!c.metadata.loader&&(c.metadata.format=c.metadata.format||f.format)}return b})}})}(),function(){function b(){if(h&&"interactive"===h.script.readyState)return h.load;for(var a=0;a<k.length;a++)if("interactive"==k[a].script.readyState)return h=k[a],h.load}function c(a,b){return new Promise(function(a,c){b.metadata.integrity&&c(new Error("Subresource integrity checking is not supported in web workers.")),i=b;try{importScripts(b.address)}catch(a){i=null,c(a)}i=null,b.metadata.entry||c(new Error(b.address+" did not call System.register or AMD define. If loading a global, ensure the meta format is set to global.")),a("")})}if("undefined"!=typeof document)var d=document.getElementsByTagName("head")[0];var e,f,h,i=null,j=d&&function(){var a=document.createElement("script"),b="undefined"!=typeof opera&&"[object Opera]"===opera.toString();return a.attachEvent&&!(a.attachEvent.toString&&a.attachEvent.toString().indexOf("[native code")<0)&&!b}(),k=[],l=0,m=[];g("pushRegister_",function(a){return function(c){return!a.call(this,c)&&(i?this.reduceRegister_(i,c):j?this.reduceRegister_(b(),c):l?m.push(c):this.reduceRegister_(null,c),!0)}}),g("fetch",function(b){return function(g){var i=this;return"json"!=g.metadata.format&&g.metadata.scriptLoad&&(L||K)?K?c(i,g):new Promise(function(b,c){function n(a){if(!q.readyState||"loaded"==q.readyState||"complete"==q.readyState){if(l--,g.metadata.entry||m.length){if(!j){for(var d=0;d<m.length;d++)i.reduceRegister_(g,m[d]);m=[]}}else i.reduceRegister_(g);p(),g.metadata.entry||g.metadata.bundle||c(new Error(g.name+" did not call System.register or AMD define. If loading a global module configure the global name via the meta exports property for script injection support.")),b("")}}function o(a){p(),c(new Error("Unable to load script "+g.address))}function p(){if(a.System=e,a.require=f,q.detachEvent){q.detachEvent("onreadystatechange",n);for(var b=0;b<k.length;b++)k[b].script==q&&(h&&h.script==q&&(h=null),k.splice(b,1))}else q.removeEventListener("load",n,!1),q.removeEventListener("error",o,!1);d.removeChild(q)}var q=document.createElement("script");q.async=!0,g.metadata.crossOrigin&&(q.crossOrigin=g.metadata.crossOrigin),g.metadata.integrity&&q.setAttribute("integrity",g.metadata.integrity),j?(q.attachEvent("onreadystatechange",n),k.push({script:q,load:g})):(q.addEventListener("load",n,!1),q.addEventListener("error",o,!1)),l++,e=a.System,f=a.require,q.src=g.address,d.appendChild(q)}):b.call(this,g)}})}();var fa=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/;!function(){function b(a,c,d){if(d[a.groupIndex]=d[a.groupIndex]||[],O.call(d[a.groupIndex],a)==-1){d[a.groupIndex].push(a);for(var e=0,f=a.normalizedDeps.length;e<f;e++){var g=a.normalizedDeps[e],h=c.defined[g];if(h&&!h.evaluated){var i=a.groupIndex+(h.declarative!=a.declarative);if(null===h.groupIndex||h.groupIndex<i){if(null!==h.groupIndex&&(d[h.groupIndex].splice(O.call(d[h.groupIndex],h),1),0==d[h.groupIndex].length))throw new Error("Mixed dependency cycle detected");h.groupIndex=i}b(h,c,d)}}}}function d(a,c,d){if(!c.module){c.groupIndex=0;var e=[];b(c,d,e);for(var f=!!c.declarative==e.length%2,g=e.length-1;g>=0;g--){for(var h=e[g],i=0;i<h.length;i++){var k=h[i];f?j(k,d):l(k,d)}f=!f}}}function f(){}function i(a,b){return b[a]||(b[a]={name:a,dependencies:[],exports:new f,importers:[]})}function j(b,c){if(!b.module){var d=c._loader.moduleRecords,e=b.module=i(b.name,d),f=b.module.exports,g=b.declare.call(a,function(a,b){if(e.locked=!0,"object"==typeof a)for(var c in a)f[c]=a[c];else f[a]=b;for(var d=0,g=e.importers.length;d<g;d++){var h=e.importers[d];if(!h.locked){var i=O.call(h.dependencies,e),j=h.setters[i];j&&j(f)}}return e.locked=!1,b},{id:b.name});if("function"==typeof g&&(g={setters:[],execute:g}),g=g||{setters:[],execute:function(){}},e.setters=g.setters,e.execute=g.execute,!e.setters||!e.execute)throw new TypeError("Invalid System.register form for "+b.name);for(var h=0,k=b.normalizedDeps.length;h<k;h++){var l,m=b.normalizedDeps[h],n=c.defined[m],o=d[m];o?l=o.exports:n&&!n.declarative?l=n.esModule:n?(j(n,c),o=n.module,l=o.exports):l=c.get(m),o&&o.importers?(o.importers.push(e),e.dependencies.push(o)):e.dependencies.push(null);for(var p=b.originalIndices[h],q=0,r=p.length;q<r;++q){var s=p[q];e.setters[s]&&e.setters[s](l)}}}}function k(a,b){var c,d=b.defined[a];if(d)d.declarative?m(a,d,[],b):d.evaluated||l(d,b),c=d.module.exports;else if(c=b.get(a),!c)throw new Error("Unable to load dependency "+a+".");return(!d||d.declarative)&&c&&c.__useDefault?c.default:c}function l(b,d){if(!b.module){var e={},f=b.module={exports:e,id:b.name};if(!b.executingRequire)for(var g=0,h=b.normalizedDeps.length;g<h;g++){var i=b.normalizedDeps[g],j=d.defined[i];j&&l(j,d)}b.evaluated=!0;var m=b.execute.call(a,function(a){for(var c=0,e=b.deps.length;c<e;c++)if(b.deps[c]==a)return k(b.normalizedDeps[c],d);var f=d.normalizeSync(a,b.name);if(O.call(b.normalizedDeps,f)!=-1)return k(f,d);throw new Error("Module "+a+" not declared as a dependency of "+b.name)},e,f);void 0!==m&&(f.exports=m),e=f.exports,e&&(e.__esModule||e instanceof c)?b.esModule=d.newModule(e):b.esmExports&&e!==a?b.esModule=d.newModule(o(e)):b.esModule=d.newModule({default:e,__useDefault:!0})}}function m(b,c,d,e){if(c&&!c.evaluated&&c.declarative){d.push(b);for(var f=0,g=c.normalizedDeps.length;f<g;f++){var h=c.normalizedDeps[f];O.call(d,h)==-1&&(e.defined[h]?m(h,e.defined[h],d,e):e.get(h))}c.evaluated||(c.evaluated=!0,c.module.execute.call(a))}}e.prototype.register=function(a,b,c){if("string"!=typeof a&&(c=b,b=a,a=null),"boolean"==typeof c)return this.registerDynamic.apply(this,arguments);var d=D();d.name=a&&(this.decanonicalize||this.normalize).call(this,a),d.declarative=!0,d.deps=b,d.declare=c,this.pushRegister_({amd:!1,entry:d})},e.prototype.registerDynamic=function(a,b,c,d){"string"!=typeof a&&(d=c,c=b,b=a,a=null);var e=D();e.name=a&&(this.decanonicalize||this.normalize).call(this,a),e.deps=b,e.execute=d,e.executingRequire=c,this.pushRegister_({amd:!1,entry:e})},g("reduceRegister_",function(){return function(a,b){if(b){var c=b.entry,d=a&&a.metadata;if(c.name&&(c.name in this.defined||(this.defined[c.name]=c),d&&(d.bundle=!0)),!c.name||a&&!d.entry&&c.name==a.name){if(!d)throw new TypeError("Invalid System.register call. Anonymous System.register calls can only be made by modules loaded by SystemJS.import and not via script tags.");if(d.entry)throw"register"==d.format?new Error("Multiple anonymous System.register calls in module "+a.name+". If loading a bundle, ensure all the System.register calls are named."):new Error("Module "+a.name+" interpreted as "+d.format+" module format, but called System.register.");d.format||(d.format="register"),d.entry=c}}}}),h(function(a){return function(){a.call(this),this.defined={},this._loader.moduleRecords={}}}),N(f,"toString",{value:function(){return"Module"}}),g("delete",function(a){return function(b){return delete this._loader.moduleRecords[b],delete this.defined[b],a.call(this,b)}}),g("fetch",function(a){return function(b){return this.defined[b.name]?(b.metadata.format="defined",""):(b.metadata.deps=b.metadata.deps||[],a.call(this,b))}}),g("translate",function(a){return function(b){return b.metadata.deps=b.metadata.deps||[],Promise.resolve(a.apply(this,arguments)).then(function(a){return("register"==b.metadata.format||!b.metadata.format&&C(b.source))&&(b.metadata.format="register"),a})}}),g("load",function(a){return function(b){var c=this,e=c.defined[b];return!e||e.deps.length?a.apply(this,arguments):(e.originalIndices=e.normalizedDeps=[],d(b,e,c),m(b,e,[],c),e.esModule||(e.esModule=c.newModule(e.module.exports)),c.trace||(c.defined[b]=void 0),c.set(b,e.esModule),Promise.resolve())}}),g("instantiate",function(a){return function(b){"detect"==b.metadata.format&&(b.metadata.format=void 0),a.call(this,b);var c,e=this;if(e.defined[b.name])c=e.defined[b.name],c.declarative||(c.deps=c.deps.concat(b.metadata.deps)),c.deps=c.deps.concat(b.metadata.deps);else if(b.metadata.entry)c=b.metadata.entry,c.deps=c.deps.concat(b.metadata.deps);else if(!(e.builder&&b.metadata.bundle||"register"!=b.metadata.format&&"esm"!=b.metadata.format&&"es6"!=b.metadata.format)){if("undefined"!=typeof aa&&aa.call(e,b),!b.metadata.entry&&!b.metadata.bundle)throw new Error(b.name+" detected as "+b.metadata.format+" but didn't execute.");c=b.metadata.entry,c&&b.metadata.deps&&(c.deps=c.deps.concat(b.metadata.deps))}c||(c=D(),c.deps=b.metadata.deps,c.execute=function(){}),e.defined[b.name]=c;var f=n(c.deps);c.deps=f.names,c.originalIndices=f.indices,c.name=b.name,c.esmExports=b.metadata.esmExports!==!1;for(var g=[],h=0,i=c.deps.length;h<i;h++)g.push(Promise.resolve(e.normalize(c.deps[h],b.name)));return Promise.all(g).then(function(a){return c.normalizedDeps=a,{deps:c.deps,execute:function(){return d(b.name,c,e),m(b.name,c,[],e),c.esModule||(c.esModule=e.newModule(c.module.exports)),e.trace||(e.defined[b.name]=void 0),c.esModule}}})}})}(),function(){var c=/(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?[^"'\(\)\n;]+\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/,d=/\$traceurRuntime\s*\./,e=/babelHelpers\s*\./;g("translate",function(f){return function(g){var h=this,i=arguments;return f.apply(h,i).then(function(f){if("esm"==g.metadata.format||"es6"==g.metadata.format||!g.metadata.format&&f.match(c)){if("es6"==g.metadata.format&&u.call(h,"Module "+g.name+' has metadata setting its format to "es6", which is deprecated.\nThis should be updated to "esm".'),g.metadata.format="esm",g.metadata.deps){for(var j="",k=0;k<g.metadata.deps.length;k++)j+='import "'+g.metadata.deps[k]+'"; ';g.source=j+f}if(h.transpiler===!1){if(h.builder)return f;throw new TypeError("Unable to dynamically transpile ES module as SystemJS.transpiler set to false.")}return h._loader.loadedTranspiler=h._loader.loadedTranspiler||!1,h.pluginLoader&&(h.pluginLoader._loader.loadedTranspiler=h._loader.loadedTranspiler||!1),(h._loader.transpilerPromise||(h._loader.transpilerPromise=Promise.resolve(a["typescript"==h.transpiler?"ts":h.transpiler]||(h.pluginLoader||h).import(h.transpiler)))).then(function(a){return h._loader.loadedTranspilerRuntime=!0,a.translate?a==g.metadata.loaderModule?g.source:("string"==typeof g.metadata.sourceMap&&(g.metadata.sourceMap=JSON.parse(g.metadata.sourceMap)),Promise.resolve(a.translate.apply(h,i)).then(function(a){var b=g.metadata.sourceMap;if(b&&"object"==typeof b){var c=g.address.split("!")[0];b.file&&b.file!=g.address||(b.file=c+"!transpiled"),(!b.sources||b.sources.length<=1&&(!b.sources[0]||b.sources[0]==g.address))&&(b.sources=[c])}return"esm"==g.metadata.format&&!h.builder&&C(a)&&(g.metadata.format="register"),a})):(h.builder&&(g.metadata.originalSource=g.source),X.call(h,g).then(function(a){return g.metadata.sourceMap=void 0,a}))},function(a){throw b(a,"Unable to load transpiler to transpile "+g.name)})}if(h.transpiler===!1)return f;if(h._loader.loadedTranspiler!==!1||"traceur"!=h.transpiler&&"typescript"!=h.transpiler&&"babel"!=h.transpiler||g.name!=h.normalizeSync(h.transpiler)||(f.length>100&&!g.metadata.format&&(g.metadata.format="global","traceur"===h.transpiler&&(g.metadata.exports="traceur"),"typescript"===h.transpiler&&(g.metadata.exports="ts")),h._loader.loadedTranspiler=!0),h._loader.loadedTranspilerRuntime===!1&&(g.name!=h.normalizeSync("traceur-runtime")&&g.name!=h.normalizeSync("babel/external-helpers*")||(f.length>100&&(g.metadata.format=g.metadata.format||"global"),h._loader.loadedTranspilerRuntime=!0)),("register"==g.metadata.format||g.metadata.bundle)&&h._loader.loadedTranspilerRuntime!==!0){if("traceur"==h.transpiler&&!a.$traceurRuntime&&g.source.match(d))return h._loader.loadedTranspilerRuntime=h._loader.loadedTranspilerRuntime||!1,h.import("traceur-runtime").then(function(){return f});if("babel"==h.transpiler&&!a.babelHelpers&&g.source.match(e))return h._loader.loadedTranspilerRuntime=h._loader.loadedTranspilerRuntime||!1,h.import("babel/external-helpers").then(function(){return f})}return f})}})}();var ga="undefined"!=typeof self?"self":"global";g("fetch",function(a){return function(b){return b.metadata.exports&&!b.metadata.format&&(b.metadata.format="global"),a.call(this,b)}}),g("instantiate",function(a){return function(b){var c=this;if(b.metadata.format||(b.metadata.format="global"),"global"==b.metadata.format&&!b.metadata.entry){var d=D();b.metadata.entry=d,d.deps=[];for(var e in b.metadata.globals){var f=b.metadata.globals[e];f&&d.deps.push(f)}d.execute=function(a,d,e){var f;if(b.metadata.globals){f={};for(var g in b.metadata.globals)b.metadata.globals[g]&&(f[g]=a(b.metadata.globals[g]))}var h=b.metadata.exports;h&&(b.source+="\n"+ga+'["'+h+'"] = '+h+";");var i=c.get("@@global-helpers").prepareGlobal(e.id,h,f,!!b.metadata.encapsulateGlobal);return aa.call(c,b),i()}}return a.call(this,b)}}),g("reduceRegister_",function(a){return function(b,c){if(c||!b.metadata.exports&&(!K||"global"!=b.metadata.format))return a.call(this,b,c);b.metadata.format="global";var d=b.metadata.entry=D();d.deps=b.metadata.deps;var e=E(b.metadata.exports);d.execute=function(){return e}}}),h(function(b){return function(){function c(b){if(Object.keys)Object.keys(a).forEach(b);else for(var c in a)g.call(a,c)&&b(c)}function d(b){c(function(c){if(O.call(h,c)==-1){try{var d=a[c]}catch(a){h.push(c)}b(c,d)}})}var e=this;b.call(e);var f,g=Object.prototype.hasOwnProperty,h=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];e.set("@@global-helpers",e.newModule({prepareGlobal:function(b,c,e,g){var h=a.define;a.define=void 0;var i;if(e){i={};for(var j in e)i[j]=a[j],a[j]=e[j]}return c||(f={},d(function(a,b){f[a]=b})),function(){var b,e=c?E(c):{},j=!!c;if(c&&!g||d(function(d,h){f[d]!==h&&"undefined"!=typeof h&&(g&&(a[d]=void 0),c||(e[d]=h,"undefined"!=typeof b?j||b===h||(j=!0):b=h))}),e=j?e:b,i)for(var k in i)a[k]=i[k];return a.define=h,e}}}))}}),function(){function b(a){function b(a,b){for(var c=0;c<a.length;c++)if(a[c][0]<b.index&&a[c][1]>b.index)return!0;return!1}d.lastIndex=e.lastIndex=f.lastIndex=0;var c,g=[],h=[],i=[];if(a.length/a.split("\n").length<200){for(;c=f.exec(a);)h.push([c.index,c.index+c[0].length]);for(;c=e.exec(a);)b(h,c)||i.push([c.index+c[1].length,c.index+c[0].length-1])}for(;c=d.exec(a);)if(!b(h,c)&&!b(i,c)){var j=c[1].substr(1,c[1].length-2);if(j.match(/"|'/))continue;"/"==j[j.length-1]&&(j=j.substr(0,j.length-1)),g.push(j)}return g}var c=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])(exports\s*(\[['"]|\.)|module(\.exports|\['exports'\]|\["exports"\])\s*(\[['"]|[=,\.]))/,d=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g,e=/(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,f=/("[^"\\\n\r]*(\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(\\.[^'\\\n\r]*)*')/g,h=/^\#\!.*/;g("instantiate",function(e){return function(f){var g=this;if(f.metadata.format||(c.lastIndex=0,d.lastIndex=0,(d.exec(f.source)||c.exec(f.source))&&(f.metadata.format="cjs")),"cjs"==f.metadata.format){var i=f.metadata.deps,j=f.metadata.cjsRequireDetection===!1?[]:b(f.source);for(var k in f.metadata.globals)f.metadata.globals[k]&&j.push(f.metadata.globals[k]);var l=D();f.metadata.entry=l,l.deps=j,l.executingRequire=!0,l.execute=function(b,c,d){function e(a){return"/"==a[a.length-1]&&(a=a.substr(0,a.length-1)),b.apply(this,arguments)}if(e.resolve=function(a){return g.get("@@cjs-helpers").requireResolve(a,d.id)},d.paths=[],d.require=b,!f.metadata.cjsDeferDepsExecute)for(var j=0;j<i.length;j++)e(i[j]);var k=g.get("@@cjs-helpers").getPathVars(d.id),l={exports:c,args:[e,c,d,k.filename,k.dirname,a,a]},m="(function(require, exports, module, __filename, __dirname, global, GLOBAL";if(f.metadata.globals)for(var n in f.metadata.globals)l.args.push(e(f.metadata.globals[n])),m+=", "+n;var o=a.define;a.define=void 0,a.__cjsWrapper=l,f.source=m+") {"+f.source.replace(h,"")+"\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);",aa.call(g,f),a.__cjsWrapper=void 0,a.define=o}}return e.call(g,f)}})}(),h(function(a){return function(){function b(a){return"file:///"==a.substr(0,8)?a.substr(7+!!M):d&&a.substr(0,d.length)==d?a.substr(d.length):a}var c=this;if(a.call(c),"undefined"!=typeof window&&"undefined"!=typeof document&&window.location)var d=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");c.set("@@cjs-helpers",c.newModule({requireResolve:function(a,d){return b(c.normalizeSync(a,d))},getPathVars:function(a){var c,d=a.lastIndexOf("!");c=d!=-1?a.substr(0,d):a;var e=c.split("/");return e.pop(),e=e.join("/"),{filename:b(c),dirname:b(e)}}}))}}),g("fetch",function(b){return function(c){return c.metadata.scriptLoad&&L&&(a.define=this.amdDefine),b.call(this,c)}}),h(function(b){return function(){function c(a,b){a=a.replace(h,"");var c=a.match(k),d=(c[1].split(",")[b]||"require").replace(l,""),e=m[d]||(m[d]=new RegExp(i+d+j,"g"));e.lastIndex=0;for(var f,g=[];f=e.exec(a);)g.push(f[2]||f[3]);return g}function d(a,b,c,e){if("object"==typeof a&&!(a instanceof Array))return d.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof a&&"function"==typeof b&&(a=[a]),!(a instanceof Array)){if("string"==typeof a){var g=f.defaultJSExtensions&&".js"!=a.substr(a.length-3,3),h=f.decanonicalize(a,e);g&&".js"==h.substr(h.length-3,3)&&(h=h.substr(0,h.length-3));var i=f.get(h);if(!i)throw new Error('Module not already loaded loading "'+a+'" as '+h+(e?' from "'+e+'".':"."));return i.__useDefault?i.default:i}throw new TypeError("Invalid require")}for(var j=[],k=0;k<a.length;k++)j.push(f.import(a[k],e));Promise.all(j).then(function(a){b&&b.apply(null,a)},c)}function e(b,e,g){function h(b,c,h){function l(a,c,e){return"string"==typeof a&&"function"!=typeof c?b(a):d.call(f,a,c,e,h.id)}for(var m=[],n=0;n<e.length;n++)m.push(b(e[n]));h.uri=h.id,h.config=function(){},k!=-1&&m.splice(k,0,h),j!=-1&&m.splice(j,0,c),i!=-1&&(l.toUrl=function(a){var b=f.defaultJSExtensions&&".js"!=a.substr(a.length-3,3),c=f.decanonicalize(a,h.id);return b&&".js"==c.substr(c.length-3,3)&&(c=c.substr(0,c.length-3)),c},m.splice(i,0,l));var o=a.require;a.require=d;var p=g.apply(j==-1?a:c,m);if(a.require=o,"undefined"==typeof p&&h&&(p=h.exports),"undefined"!=typeof p)return p}"string"!=typeof b&&(g=e,e=b,b=null),e instanceof Array||(g=e,e=["require","exports","module"].splice(0,g.length)),"function"!=typeof g&&(g=function(a){return function(){return a}}(g)),void 0===e[e.length-1]&&e.pop();var i,j,k;(i=O.call(e,"require"))!=-1&&(e.splice(i,1),b||(e=e.concat(c(g.toString(),i)))),(j=O.call(e,"exports"))!=-1&&e.splice(j,1),(k=O.call(e,"module"))!=-1&&e.splice(k,1);var l=D();l.name=b&&(f.decanonicalize||f.normalize).call(f,b),l.deps=e,l.execute=h,f.pushRegister_({amd:!0,entry:l})}var f=this;b.call(this);var h=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,i="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",j="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",k=/\(([^\)]*)\)/,l=/^\s+|\s+$/g,m={};e.amd={},g("reduceRegister_",function(a){return function(b,c){if(!c||!c.amd)return a.call(this,b,c);var d=b&&b.metadata,e=c.entry;if(d)if(d.format&&"detect"!=d.format){if(!e.name&&"amd"!=d.format)throw new Error("AMD define called while executing "+d.format+" module "+b.name)}else d.format="amd";if(e.name)d&&(d.entry||d.bundle?d.entry&&d.entry.name&&d.entry.name!=b.name&&(d.entry=void 0):d.entry=e,d.bundle=!0),e.name in this.defined||(this.defined[e.name]=e);else{if(!d)throw new TypeError("Unexpected anonymous AMD define.");if(d.entry&&!d.entry.name)throw new Error("Multiple anonymous defines in module "+b.name);d.entry=e}}}),f.amdDefine=e,f.amdRequire=d}}),function(){var b=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/;g("instantiate",function(c){return function(d){var e=this;if("amd"==d.metadata.format||!d.metadata.format&&d.source.match(b))if(d.metadata.format="amd",e.builder||e.execute===!1)d.metadata.execute=function(){return d.metadata.builderExecute.apply(this,arguments)};else{var f=a.define;a.define=this.amdDefine;try{aa.call(e,d)}finally{a.define=f}if(!d.metadata.entry&&!d.metadata.bundle)throw new TypeError("AMD module "+d.name+" did not define")}return c.call(e,d)}})}(),function(){function a(a,b){if(b){var c;if(a.pluginFirst){if((c=b.lastIndexOf("!"))!=-1)return b.substr(c+1)}else if((c=b.indexOf("!"))!=-1)return b.substr(0,c);return b}}function b(a,b){var c,d,e=b.lastIndexOf("!");if(e!=-1)return a.pluginFirst?(c=b.substr(e+1),d=b.substr(0,e)):(c=b.substr(0,e),d=b.substr(e+1)||c.substr(c.lastIndexOf(".")+1)),{argument:c,plugin:d}}function c(a,b,c,d){return d&&".js"==b.substr(b.length-3,3)&&(b=b.substr(0,b.length-3)),a.pluginFirst?c+"!"+b:b+"!"+c}function d(a,b){return a.defaultJSExtensions&&".js"!=b.substr(b.length-3,3)}function e(e){return function(f,g,h){var i=this,j=b(i,f);if(g=a(this,g),!j)return e.call(this,f,g,h);var k=i.normalizeSync(j.argument,g,!0),l=i.normalizeSync(j.plugin,g,!0);return c(i,k,l,d(i,j.argument))}}g("decanonicalize",e),g("normalizeSync",e),g("normalize",function(e){return function(f,g,h){var i=this;g=a(this,g);var j=b(i,f);return j?Promise.all([i.normalize(j.argument,g,!0),i.normalize(j.plugin,g,!1)]).then(function(a){return c(i,a[0],a[1],d(i,j.argument))}):e.call(i,f,g,h)}}),g("locate",function(a){return function(b){var c,d=this,e=b.name;return d.pluginFirst?(c=e.indexOf("!"))!=-1&&(b.metadata.loader=e.substr(0,c),b.name=e.substr(c+1)):(c=e.lastIndexOf("!"))!=-1&&(b.metadata.loader=e.substr(c+1),b.name=e.substr(0,c)),a.call(d,b).then(function(a){return c==-1&&b.metadata.loader?(d.pluginLoader||d).normalize(b.metadata.loader,b.name).then(function(c){return b.metadata.loader=c,a}):a}).then(function(a){var c=b.metadata.loader;if(!c)return a;if(b.name==c)throw new Error("Plugin "+c+" cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule.");if(d.defined&&d.defined[e])return a;var f=d.pluginLoader||d;return f.import(c).then(function(c){return b.metadata.loaderModule=c,b.address=a,c.locate?c.locate.call(d,b):a})})}}),g("fetch",function(a){return function(b){var c=this;return b.metadata.loaderModule&&b.metadata.loaderModule.fetch&&"defined"!=b.metadata.format?(b.metadata.scriptLoad=!1,b.metadata.loaderModule.fetch.call(c,b,function(b){return a.call(c,b)})):a.call(c,b)}}),g("translate",function(a){return function(b){var c=this,d=arguments;return b.metadata.loaderModule&&b.metadata.loaderModule.translate&&"defined"!=b.metadata.format?Promise.resolve(b.metadata.loaderModule.translate.apply(c,d)).then(function(e){var f=b.metadata.sourceMap;if(f){if("object"!=typeof f)throw new Error("load.metadata.sourceMap must be set to an object.");var g=b.address.split("!")[0];f.file&&f.file!=b.address||(f.file=g+"!transpiled"),(!f.sources||f.sources.length<=1&&(!f.sources[0]||f.sources[0]==b.address))&&(f.sources=[g])}return"string"==typeof e&&(b.source=e),a.apply(c,d)}):a.apply(c,d)}}),g("instantiate",function(a){return function(b){var c=this,d=!1;return b.metadata.loaderModule&&b.metadata.loaderModule.instantiate&&!c.builder&&"defined"!=b.metadata.format?Promise.resolve(b.metadata.loaderModule.instantiate.call(c,b,function(b){if(d)throw new Error("Instantiate must only be called once.");return d=!0,a.call(c,b)})).then(function(e){return d?e:(void 0!==e&&(b.metadata.entry=D(),b.metadata.entry.execute=function(){return e},b.metadata.entry.deps=b.metadata.deps,b.metadata.format="defined"),a.call(c,b))}):a.call(c,b)}})}();var ha=["browser","node","dev","build","production","default"],ia=/#\{[^\}]+\}/;g("normalize",function(a){return function(b,c,d){var e=this;return J.call(e,b,c).then(function(b){return a.call(e,b,c,d)}).then(function(a){return I.call(e,a,c)})}}),function(){g("fetch",function(a){return function(b){var c=b.metadata.alias,d=b.metadata.deps||[];if(c){b.metadata.format="defined";var e=D();return this.defined[b.name]=e,e.declarative=!0,e.deps=d.concat([c]),e.declare=function(a){return{setters:[function(b){for(var c in b)a(c,b[c]);b.__useDefault&&(e.module.exports.__useDefault=!0)}],execute:function(){}}},""}return a.call(this,b)}})}(),function(){function a(a,b,c){for(var d,e=b.split(".");e.length>1;)d=e.shift(),a=a[d]=a[d]||{};d=e.shift(),d in a||(a[d]=c)}h(function(a){return function(){this.meta={},a.call(this)}}),g("locate",function(a){return function(b){var c,d=this.meta,e=b.name,f=0;for(var g in d)if(c=g.indexOf("*"),c!==-1&&g.substr(0,c)===e.substr(0,c)&&g.substr(c+1)===e.substr(e.length-g.length+c+1)){var h=g.split("/").length;h>f&&(f=h),r(b.metadata,d[g],f!=h)}return d[e]&&r(b.metadata,d[e]),a.call(this,b)}});var b=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/,c=/\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;
g("translate",function(d){return function(e){if("defined"==e.metadata.format)return e.metadata.deps=e.metadata.deps||[],Promise.resolve(e.source);var f=e.source.match(b);if(f)for(var g=f[0].match(c),h=0;h<g.length;h++){var i=g[h],j=i.length,k=i.substr(0,1);if(";"==i.substr(j-1,1)&&j--,'"'==k||"'"==k){var l=i.substr(1,i.length-3),m=l.substr(0,l.indexOf(" "));if(m){var n=l.substr(m.length+1,l.length-m.length-1);"[]"==m.substr(m.length-2,2)?(m=m.substr(0,m.length-2),e.metadata[m]=e.metadata[m]||[],e.metadata[m].push(n)):e.metadata[m]instanceof Array?(u.call(this,"Module "+e.name+' contains deprecated "deps '+n+'" meta syntax.\nThis should be updated to "deps[] '+n+'" for pushing to array meta.'),e.metadata[m].push(n)):a(e.metadata,m,n)}else e.metadata[l]=!0}}return d.apply(this,arguments)}})}(),function(){h(function(a){return function(){a.call(this),this.bundles={},this._loader.loadedBundles={}}}),g("locate",function(a){return function(b){var c=this,d=!1;if(!(b.name in c.defined))for(var e in c.bundles){for(var f=0;f<c.bundles[e].length;f++){var g=c.bundles[e][f];if(g==b.name){d=!0;break}if(g.indexOf("*")!=-1){var h=g.split("*");if(2!=h.length){c.bundles[e].splice(f--,1);continue}if(b.name.substring(0,h[0].length)==h[0]&&b.name.substr(b.name.length-h[1].length,h[1].length)==h[1]&&b.name.substr(h[0].length,b.name.length-h[1].length-h[0].length).indexOf("/")==-1){d=!0;break}}}if(d)return c.import(e).then(function(){return a.call(c,b)})}return a.call(c,b)}})}(),function(){h(function(a){return function(){a.call(this),this.depCache={}}}),g("locate",function(a){return function(b){var c=this,d=c.depCache[b.name];if(d)for(var e=0;e<d.length;e++)c.import(d[e],b.name);return a.call(c,b)}})}(),U=new e,a.SystemJS=U,U.version="0.19.41 Standard","object"==typeof module&&module.exports&&"object"==typeof exports&&(module.exports=U),a.System=U}("undefined"!=typeof self?self:global)}var b="undefined"==typeof Promise;if("undefined"!=typeof document){var c=document.getElementsByTagName("script");if($__curScript=c[c.length-1],document.currentScript&&($__curScript.defer||$__curScript.async)&&($__curScript=document.currentScript),$__curScript.src||($__curScript=void 0),b){var d=$__curScript.src,e=d.substr(0,d.lastIndexOf("/")+1);window.systemJSBootstrap=a,document.write('<script type="text/javascript" src="'+e+'system-polyfills.js"></script>')}else a()}else if("undefined"!=typeof importScripts){var e="";try{throw new Error("_")}catch(a){a.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/,function(a,b){$__curScript={src:b},e=b.replace(/\/[^\/]*$/,"/")})}b&&importScripts(e+"system-polyfills.js"),a()}else $__curScript="undefined"!=typeof __filename?{src:__filename}:null,a()}(),System.config({defaultJSExtenions:!0,baseURL:"public",paths:{"virtual-scroll":"vendor/npm/virtual-scroll/src/index.js",mousetrap:"vendor/npm/mousetrap/mousetrap.js",remarkable:"vendor/npm/remarkable/dist/remarkable.js",tether:"vendor/npm/tether/dist/js/tether.js",eventemitter3:"vendor/npm/eventemitter3/index.js","tether-drop":"vendor/npm/tether-drop/dist/js/drop.js",moment:"vendor/moment.js",jquery:"vendor/jquery/dist/jquery.js","lodash-src":"vendor/lodash/dist/lodash.js",lodash:"app/core/lodash_extended.js",angular:"vendor/angular/angular.js",bootstrap:"vendor/bootstrap/bootstrap.js","angular-route":"vendor/angular-route/angular-route.js","angular-sanitize":"vendor/angular-sanitize/angular-sanitize.js","angular-ui":"vendor/angular-ui/ui-bootstrap-tpls.js","angular-strap":"vendor/angular-other/angular-strap.js","angular-dragdrop":"vendor/angular-native-dragdrop/draganddrop.js","angular-bindonce":"vendor/angular-bindonce/bindonce.js",spectrum:"vendor/spectrum.js","bootstrap-tagsinput":"vendor/tagsinput/bootstrap-tagsinput.js","jquery.flot":"vendor/flot/jquery.flot","jquery.flot.pie":"vendor/flot/jquery.flot.pie","jquery.flot.selection":"vendor/flot/jquery.flot.selection","jquery.flot.stack":"vendor/flot/jquery.flot.stack","jquery.flot.stackpercent":"vendor/flot/jquery.flot.stackpercent","jquery.flot.time":"vendor/flot/jquery.flot.time","jquery.flot.crosshair":"vendor/flot/jquery.flot.crosshair","jquery.flot.fillbelow":"vendor/flot/jquery.flot.fillbelow","jquery.flot.gauge":"vendor/flot/jquery.flot.gauge",d3:"vendor/d3/d3.js","jquery.flot.dashes":"vendor/flot/jquery.flot.dashes"},packages:{app:{defaultExtension:"js"},vendor:{defaultExtension:"js"},plugins:{defaultExtension:"js"},test:{defaultExtension:"js"}},map:{text:"vendor/plugin-text/text.js",css:"app/core/utils/css_loader.js"},meta:{"vendor/npm/virtual-scroll/src/indx.js":{format:"cjs",exports:"VirtualScroll"},"vendor/angular/angular.js":{format:"global",deps:["jquery"],exports:"angular"},"vendor/npm/eventemitter3/index.js":{format:"cjs",exports:"EventEmitter"},"vendor/npm/mousetrap/mousetrap.js":{format:"global",exports:"Mousetrap"}}}),System.registerDynamic("bootstrap",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";function b(){a(".dropdown-backdrop").remove(),a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#[A-Za-z]/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(),f||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),e.toggleClass("open")),g.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width};break;case"topLeft":g={top:c.top-e,left:c.left+c.width/2-.1*d};break;case"topRight":g={top:c.top-e,left:c.left+c.width/2-.9*d};break;case"rightTop":g={top:c.top+c.height/2-.1*e,left:c.left+c.width};break;case"rightBottom":g={top:c.top+c.height/2-.9*e,left:c.left+c.width};break;case"bottomLeft":g={top:c.top+c.height,left:c.left+c.width/2-.1*d};break;case"bottomRight":g={top:c.top+c.height,left:c.left+c.width/2-.9*d};break;case"leftTop":g={top:c.top+c.height/2-.1*e,left:c.left-d};break;case"leftBottom":g={top:c.top+c.height/2-.9*e,left:c.left-d}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=a.left*-2,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");if(this.$element.trigger(d),!d.isDefaultPrevented())return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value")||this.$element.val();return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return b?a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"}):a},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},destroy:function(){this.$element.off().removeData("typeahead"),this.$menu.off()},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown&&(!a.shiftKey||40!==a.keyCode)){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27,57]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}13===a.keyCode&&"undefined"==typeof this.$menu.find(".active").attr("data-value")?this.$element.submit():(a.stopPropagation(),a.preventDefault())},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||c.typeahead(c.data())})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&d<=h&&"top"),this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery)}(this),d()}),System.registerDynamic("vendor/filesaver.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){var b=a.saveAs,b=b||navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=a.URL||a.webkitURL||a,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),f=!a.externalHost&&"download"in e,g=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},h=a.webkitRequestFileSystem,i=a.requestFileSystem||h||a.mozRequestFileSystem,j=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},k="application/octet-stream",l=0,m=[],n=function(){for(var a=m.length;a--;){var b=m[a];"string"==typeof b?d.revokeObjectURL(b):b.remove()}m.length=0},o=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){j(a)}}},p=function(b,d){var j,n,p,q=this,r=b.type,s=!1,t=function(){var a=c().createObjectURL(b);return m.push(a),a},u=function(){o(q,"writestart progress write writeend".split(" "))},v=function(){!s&&j||(j=t(b)),n?n.location.href=j:window.open(j,"_blank"),q.readyState=q.DONE,u()},w=function(a){return function(){if(q.readyState!==q.DONE)return a.apply(this,arguments)}},x={create:!0,exclusive:!1};return q.readyState=q.INIT,d||(d="download"),f?(j=t(b),e.href=j,e.download=d,g(e),q.readyState=q.DONE,void u()):(a.chrome&&r&&r!==k&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,k),s=!0),h&&"download"!==d&&(d+=".download"),(r===k||h)&&(n=a),i?(l+=b.size,void i(a.TEMPORARY,l,w(function(a){a.root.getDirectory("saved",x,w(function(a){var c=function(){a.getFile(d,x,w(function(a){a.createWriter(w(function(c){c.onwriteend=function(b){n.location.href=a.toURL(),m.push(a),q.readyState=q.DONE,o(q,"writeend",b)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&v()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),v)}),v)};a.getFile(d,{create:!1},w(function(a){a.remove(),c()}),w(function(a){a.code===a.NOT_FOUND_ERR?c():v()}))}),v)}),v)):void v())},q=p.prototype,r=function(a,b){return new p(a,b)};return q.abort=function(){var a=this;a.readyState=a.DONE,o(a,"abort")},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,a.addEventListener("unload",n,!1),r}(self);a.saveAs=b}(this),d()}),System.registerDynamic("angular-strap",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){angular.module("$strap.config",[]).value("$strapConfig",{}),angular.module("$strap.filters",["$strap.config"]),angular.module("$strap.directives",["$strap.config"]),angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]),angular.module("$strap.directives").factory("$modal",["$rootScope","$compile","$http","$timeout","$q","$templateCache","$strapConfig",function(a,b,c,d,e,f,g){var h=function(h){function i(h){var i=angular.extend({show:!0},g.modal,h),j=i.scope?i.scope:a.$new(),k=i.template;return e.when(i.templateHtml||f.get(k)||c.get(k,{cache:!0}).then(function(a){return a.data})).then(function(a){var c=j.$id;k&&(c+=k.replace(".html","").replace(/[\/|\.|:]/g,"-"));var e=$('<div class="modal hide" tabindex="-1"></div>').attr("id",c).html(a);return i.modalClass&&e.addClass(i.modalClass),$("body").append(e),d(function(){b(e)(j)}),j.$modal=function(a){e.modal(a)},angular.forEach(["show","hide"],function(a){j[a]=function(){e.modal(a)}}),j.dismiss=j.hide,angular.forEach(["show","shown","hide","hidden"],function(a){e.on(a,function(b){j.$emit("modal-"+a,b)})}),e.on("shown",function(a){$("input[autofocus], textarea[autofocus]",e).first().trigger("focus")}),e.on("hidden",function(a){i.persist||j.$destroy()}),j.$on("$destroy",function(){e.remove()}),e.modal(i),e})}return new i(h)};return h}]),angular.module("$strap.directives").directive("bsTooltip",["$parse","$compile",function(a,b){return{restrict:"A",scope:!0,link:function(b,c,d,e){var f=a(d.bsTooltip),g=(f.assign,f(b));b.$watch(d.bsTooltip,function(a,b){a!==b&&(g=a)}),c.on("show",function(a){$(".tooltip.in").each(function(){var a=$(this),b=a.data("tooltip");b&&!b.$element.is(c)&&a.tooltip("hide")})}),c.tooltip({title:function(){return angular.isFunction(g)?g.apply(null,arguments):g},html:!0,container:"body"});var h=c.data("tooltip");h.show=function(){var a=$.fn.tooltip.Constructor.prototype.show.apply(this,arguments);return this.tip().data("tooltip",this),a},b._tooltip=function(a){c.tooltip(a)},b.hide=function(){c.tooltip("hide")},b.show=function(){c.tooltip("show")},b.dismiss=b.hide}}}]),angular.module("$strap.directives").directive("bsTypeahead",["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){var f=a(d.bsTypeahead),g=(f.assign,f(b));b.$watch(d.bsTypeahead,function(a,b){a!==b&&(g=a)}),c.attr("data-provide","typeahead"),c.typeahead({source:function(a){return angular.isFunction(g)?g.apply(null,arguments):g},minLength:d.minLength||1,items:d.items,updater:function(a){return e&&b.$apply(function(){e.$setViewValue(a)}),b.$emit("typeahead-updated",a),a}});var h=c.data("typeahead");h.lookup=function(a){var b;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(b=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source,b?this.process(b):this)},d.matchAll&&(h.matcher=function(a){return!0}),"0"===d.minLength&&setTimeout(function(){c.on("focus",function(){0===c.val().length&&setTimeout(c.typeahead.bind(c,"lookup"),200)})})}}}])}(this),d()}),System.registerDynamic("angular-route",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a,b){"use strict";function c(a,b){if(i(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(j(a)){b=b||{};for(var e in a)"$"===e.charAt(0)&&"$"===e.charAt(1)||(b[e]=a[e])}return b||a}function d(){function a(a,c){return b.extend(Object.create(a),c)}function d(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(a,b,c,d){var f="?"===d||"*?"===d?"?":null,g="*"===d||"*?"===d?"*":null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}i=b.isArray,j=b.isObject,k=b.isDefined;var e={};this.when=function(a,f){var g=c(f);if(b.isUndefined(g.reloadOnSearch)&&(g.reloadOnSearch=!0),b.isUndefined(g.caseInsensitiveMatch)&&(g.caseInsensitiveMatch=this.caseInsensitiveMatch),e[a]=b.extend(g,a&&d(a,g)),a){var h="/"===a[a.length-1]?a.substr(0,a.length-1):a+"/";e[h]=b.extend({redirectTo:a},d(h,g))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},l=!0,this.eagerInstantiationEnabled=function(a){return k(a)?(l=a,this):l},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,d,f,g,h,i,j){function k(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;f<g;++f){var h=c[f-1],i=e[f];h&&i&&(d[h.name]=i)}return d}function l(a){var d=x.current;u=s(),v=u&&d&&u.$$route===d.$$route&&b.equals(u.pathParams,d.pathParams)&&!u.reloadOnSearch&&!w,v||!d&&!u||c.$broadcast("$routeChangeStart",u,d).defaultPrevented&&a&&a.preventDefault()}function m(){var a=x.current,d=u;if(v)a.params=d.params,b.copy(a.params,f),c.$broadcast("$routeUpdate",a);else if(d||a){w=!1,x.current=d;var e=g.resolve(d);e.then(o).then(p).then(function(g){return g&&e.then(q).then(function(e){d===x.current&&(d&&(d.locals=e,b.copy(d.params,f)),c.$broadcast("$routeChangeSuccess",d,a))})}).catch(function(b){d===x.current&&c.$broadcast("$routeChangeError",d,a,b)})}}function o(a){var c={route:a,hasRedirection:!1};if(a)if(a.redirectTo)if(b.isString(a.redirectTo))c.path=t(a.redirectTo,a.params),c.search=a.params,c.hasRedirection=!0;else{var e=d.path(),f=d.search(),i=a.redirectTo(a.pathParams,e,f);b.isDefined(i)&&(c.url=i,c.hasRedirection=!0)}else if(a.resolveRedirectTo)return g.resolve(h.invoke(a.resolveRedirectTo)).then(function(a){
return b.isDefined(a)&&(c.url=a,c.hasRedirection=!0),c});return c}function p(a){var b=!0;if(a.route!==x.current)b=!1;else if(a.hasRedirection){var c=d.url(),e=a.url;e?d.url(e).replace():e=d.path(a.path).search(a.search).replace().url(),e!==c&&(b=!1)}return b}function q(a){if(a){var c=b.extend({},a.resolve);b.forEach(c,function(a,d){c[d]=b.isString(a)?h.get(a):h.invoke(a,null,null,d)});var d=r(a);return b.isDefined(d)&&(c.$template=d),g.all(c)}}function r(a){var c,d;return b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),b.isDefined(d)&&(a.loadedTemplateUrl=j.valueOf(d),c=i(d))),c}function s(){var c,f;return b.forEach(e,function(e,g){!f&&(c=k(d.path(),e))&&(f=a(e,{params:b.extend({},d.search(),c),pathParams:c}),f.$$route=e)}),f||e[null]&&a(e[null],{params:{},pathParams:{}})}function t(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var u,v,w=!1,x={routes:e,reload:function(){w=!0;var a={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,w=!1}};c.$evalAsync(function(){l(a),a.defaultPrevented||m()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw n("norout","Tried updating route when with no current route");a=b.extend({},this.current.params,a),d.path(t(this.current.$$route.originalPath,a)),d.search(a)}};return c.$on("$locationChangeStart",l),c.$on("$locationChangeSuccess",m),x}]}function e(a){l&&a.get("$route")}function f(){this.$get=function(){return{}}}function g(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.done(function(a){a!==!1&&(n=null)}),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current,q=i(k,function(a){d.enter(a,null,m||f).done(function(a){a===!1||!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function h(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}d[f.resolveAs||"$resolve"]=g,h(d)}}}var i,j,k,l,m=b.module("ngRoute",[]).provider("$route",d).run(e),n=b.$$minErr("ngRoute");e.$inject=["$injector"],m.provider("$routeParams",f),m.directive("ngView",g),m.directive("ngView",h),g.$inject=["$route","$anchorScroll","$animate"],h.$inject=["$compile","$controller","$route"]}(window,window.angular)}(this),d()}),System.registerDynamic("angular-sanitize",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a,b){"use strict";function c(){function c(a,b){var c,d={},e=a.split(",");for(c=0;c<e.length;c++)d[b?i(e[c]):e[c]]=!0;return d}function d(b,c){null===b||void 0===b?b="":"string"!=typeof b&&(b=""+b),s.innerHTML=b;var d=5;do{if(0===d)throw m("uinput","Failed to sanitize html because the input is unstable");d--,a.document.documentMode&&q(s),b=s.innerHTML,s.innerHTML=b}while(b!==s.innerHTML);for(var e=s.firstChild;e;){switch(e.nodeType){case 1:c.start(e.nodeName.toLowerCase(),n(e.attributes));break;case 3:c.chars(e.textContent)}var f;if(!(f=e.firstChild)&&(1===e.nodeType&&c.end(e.nodeName.toLowerCase()),f=e.nextSibling,!f))for(;null==f&&(e=e.parentNode,e!==s);)f=e.nextSibling,1===e.nodeType&&c.end(e.nodeName.toLowerCase());e=f}for(;e=s.firstChild;)s.removeChild(e)}function n(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c];b[e.name]=e.value}return b}function o(a){return a.replace(/&/g,"&amp;").replace(t,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(a,b){var c=!1,d=e(a,a.push);return{start:function(a,e){a=i(a),!c&&C[a]&&(c=a),c||D[a]!==!0||(d("<"),d(a),g(e,function(c,e){var f=i(e),g="img"===a&&"src"===f||"background"===f;H[f]!==!0||E[f]===!0&&!b(c,g)||(d(" "),d(e),d('="'),d(o(c)),d('"'))}),d(">"))},end:function(a){a=i(a),c||D[a]!==!0||v[a]===!0||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(o(a))}}}function q(b){for(;b;){if(b.nodeType===a.Node.ELEMENT_NODE)for(var c=b.attributes,d=0,e=c.length;d<e;d++){var f=c[d],g=f.name.toLowerCase();"xmlns:ns1"!==g&&0!==g.lastIndexOf("ns1:",0)||(b.removeAttributeNode(f),d--,e--)}var h=b.firstChild;h&&q(h),b=b.nextSibling}}var r=!1;this.$get=["$$sanitizeUri",function(a){return r&&f(D,B),function(b){var c=[];return k(b,l(c,function(b,c){return!/^unsafe:/.test(a(b,c))})),c.join("")}}],this.enableSvg=function(a){return h(a)?(r=a,this):r},e=b.bind,f=b.extend,g=b.forEach,h=b.isDefined,i=b.lowercase,j=b.noop,k=d,l=p;var s,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,v=c("area,br,col,hr,img,wbr"),w=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=c("rp,rt"),y=f({},x,w),z=f({},w,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),A=f({},x,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=c("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=c("script,style"),D=f({},v,z,A,y),E=c("background,cite,href,longdesc,src,xlink:href"),F=c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),G=c("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=f({},E,G,F);!function(a){var b;if(!a.document||!a.document.implementation)throw m("noinert","Can't create an inert html document");b=a.document.implementation.createHTMLDocument("inert");var c=b.documentElement||b.getDocumentElement(),d=c.getElementsByTagName("body");if(1===d.length)s=d[0];else{var e=b.createElement("html");s=b.createElement("body"),e.appendChild(s),b.appendChild(e)}}(a)}function d(a){var b=[],c=l(b,j);return c.chars(a),b.join("")}var e,f,g,h,i,j,k,l,m=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,e=/^mailto:/i,f=b.$$minErr("linky"),g=b.isDefined,h=b.isFunction,i=b.isObject,j=b.isString;return function(b,k,l){function m(a){a&&t.push(d(a))}function n(a,b){var c,d=r(a);t.push("<a ");for(c in d)t.push(c+'="'+d[c]+'" ');!g(k)||"target"in d||t.push('target="',k,'" '),t.push('href="',a.replace(/"/g,"&quot;"),'">'),m(b),t.push("</a>")}if(null==b||""===b)return b;if(!j(b))throw f("notstring","Expected string but received: {0}",b);for(var o,p,q,r=h(l)?l:i(l)?function(){return l}:function(){return{}},s=b,t=[];o=s.match(c);)p=o[0],o[2]||o[4]||(p=(o[3]?"http://":"mailto:")+p),q=o.index,m(s.substr(0,q)),n(p,o[0].replace(e,"")),s=s.substring(q+o[0].length);return m(s),a(t.join(""))}}])}(window,window.angular)}(this),d()}),System.registerDynamic("angular-dragdrop",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";function b(){return"ondrag"in document.createElement("a")}function c(a){a.originalEvent&&(a.dataTransfer=a.originalEvent.dataTransfer),"undefined"!=typeof a.dataTransfer&&"none"===a.dataTransfer.dropEffect&&("copy"===a.dataTransfer.effectAllowed||"move"===a.dataTransfer.effectAllowed?a.dataTransfer.dropEffect=a.dataTransfer.effectAllowed:"copyMove"!==a.dataTransfer.effectAllowed&&"copymove"!==a.dataTransfer.effectAllowed||(a.dataTransfer.dropEffect=a.ctrlKey?"copy":"move"))}if(!b())return void a.module("ang-drag-drop",[]);var d=a.module("ang-drag-drop",[]);d.directive("uiDraggable",["$parse","$rootScope","$dragImage",function(b,d,e){return function(f,g,h){function i(a){a.originalEvent&&(a.dataTransfer=a.originalEvent.dataTransfer),setTimeout(function(){g.unbind("$destroy",i)},0);var e=h.dragChannel||"defaultchannel";if(d.$broadcast("ANGULAR_DRAG_END",a,e),c(a),a.dataTransfer&&"none"!==a.dataTransfer.dropEffect){if(h.onDropSuccess){var j=b(h.onDropSuccess);f.$evalAsync(function(){j(f,{$event:a})})}}else if(a.dataTransfer&&"none"===a.dataTransfer.dropEffect&&h.onDropFailure){var k=b(h.onDropFailure);f.$evalAsync(function(){k(f,{$event:a})})}g.removeClass(o)}function j(c,d){var e;c.originalEvent&&(c.dataTransfer=c.originalEvent.dataTransfer),e=b(d),f.$apply(function(){var b,d=e(f,{$event:c});d&&a.isString(d)&&(b=document.getElementById(d),b&&c.dataTransfer.setDragImage(b,0,0))})}function k(c){c.originalEvent&&(c.dataTransfer=c.originalEvent.dataTransfer);var k=!n||m.classList.contains(l);if(k){var p=h.dragChannel||"defaultchannel",q="";h.drag&&(q=f.$eval(h.drag));var r=h.dragImage||null;g.addClass(o),g.bind("$destroy",i);var s=!(document.uniqueID||window.opera);if(r&&s){var t=b(h.dragImage);f.$apply(function(){var b=t(f,{$event:c});if(b&&(a.isString(b)&&(b=e.generate(b)),b.image)){var d=b.xOffset||0,g=b.yOffset||0;c.dataTransfer.setDragImage(b.image,d,g)}})}else h.dragImageElementId&&j(c,h.dragImageElementId);var u={x:c.offsetX,y:c.offsetY},v={data:q,channel:p,offset:u},w=a.toJson(v);c.dataTransfer.setData("text",w),c.dataTransfer.effectAllowed="copyMove",d.$broadcast("ANGULAR_DRAG_START",c,p,v)}else c.preventDefault()}var l,m,n=!1,o=h.draggingClass||"on-dragging";g.attr("draggable",!1),f.$watch(h.uiDraggable,function(a){a?(g.attr("draggable",a),g.bind("dragend",i),g.bind("dragstart",k)):(g.removeAttr("draggable"),g.unbind("dragend",i),g.unbind("dragstart",k))}),a.isString(h.dragHandleClass)&&(n=!0,l=h.dragHandleClass.trim()||"drag-handle",g.bind("mousedown",function(a){m=a.target}))}}]),d.directive("uiOnDrop",["$parse","$rootScope",function(b,d){return function(e,f,g){function h(a){for(var b={x:a.offsetX,y:a.offsetY},c=a.target;c!==f[0];)if(b.x=b.x+c.offsetLeft,b.y=b.y+c.offsetTop,c=c.offsetParent,!c)return null;return b}function i(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation();var c=b(g.uiOnDragOver);return e.$evalAsync(function(){c(e,{$event:a,$channel:p})}),!1}function j(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),o--,0===o&&(e.$evalAsync(function(){u(e,{$event:a,$channel:p})}),f.addClass(r),f.removeClass(s));var c=b(g.uiOnDragLeave);e.$evalAsync(function(){c(e,{$event:a,$channel:p})})}function k(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),0===o&&(e.$evalAsync(function(){t(e,{$event:a,$channel:p})}),f.removeClass(r),f.addClass(s)),o++;var c=b(g.uiOnDragEnter);e.$evalAsync(function(){c(e,{$event:a,$channel:p})}),d.$broadcast("ANGULAR_HOVER",q)}function l(d){d.originalEvent&&(d.dataTransfer=d.originalEvent.dataTransfer),d.preventDefault&&d.preventDefault(),d.stopPropagation&&d.stopPropagation();var i=d.dataTransfer.getData("text");i=a.fromJson(i);var j=h(d),k=j?{x:j.x-i.offset.x,y:j.y-i.offset.y}:null;c(d);var l=b(g.uiOnDrop);e.$evalAsync(function(){l(e,{$data:i.data,$event:d,$channel:i.channel,$position:k})}),f.removeClass(r),o=0}function m(a,b){if("*"===b)return!0;var c=new RegExp("(\\s|[,])+("+a+")(\\s|[,])+","i");return c.test(","+b+",")}function n(a){return a.originalEvent&&(a.dataTransfer=a.originalEvent.dataTransfer),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.dataTransfer.dropEffect="none",!1}var o=0,p=g.dropChannel||"defaultchannel",q="",r=g.dragEnterClass||"on-drag-enter",s=g.dragHoverClass||"on-drag-hover",t=b(g.onDragEnter),u=b(g.onDragLeave),v=d.$on("ANGULAR_DRAG_START",function(a,c,d,h){q=d;var o=!0;if(m(d,p)||(o=!1),o&&g.dropValidate){var s=b(g.dropValidate);o=s(e,{$drop:{scope:e,element:f},$event:c,$data:h.data,$channel:h.channel})}o?(f.bind("dragover",i),f.bind("dragenter",k),f.bind("dragleave",j),f.bind("drop",l),f.addClass(r)):(f.bind("dragover",n),f.bind("dragenter",n),f.bind("dragleave",n),f.bind("drop",n),f.removeClass(r))}),w=d.$on("ANGULAR_DRAG_END",function(){f.unbind("dragover",i),f.unbind("dragenter",k),f.unbind("dragleave",j),f.unbind("drop",l),f.removeClass(s),f.removeClass(r),f.unbind("dragover",n),f.unbind("dragenter",n),f.unbind("dragleave",n),f.unbind("drop",n)});e.$on("$destroy",function(){v(),w()}),g.$observe("dropChannel",function(a){a&&(p=a)})}}]),d.constant("$dragImageConfig",{height:20,width:200,padding:10,font:"bold 11px Arial",fontColor:"#eee8d5",backgroundColor:"#93a1a1",xOffset:0,yOffset:0}),d.service("$dragImage",["$dragImageConfig",function(b){function c(a,b,c){var e=a.measureText(b).width;if(e<c.width)return b;for(;e+c.padding>c.width;)b=b.substring(0,b.length-1),e=a.measureText(b+d).width;return b+d}var d="…";this.generate=function(d,e){var f=a.extend({},b,e||{}),g=document.createElement("canvas");g.height=f.height,g.width=f.width;var h=g.getContext("2d");h.fillStyle=f.backgroundColor,h.fillRect(0,0,f.width,f.height),h.font=f.font,h.fillStyle=f.fontColor;var i=c(h,d,f);h.fillText(i,4,f.padding+4);var j=new Image;return j.src=g.toDataURL(),{image:j,xOffset:f.xOffset,yOffset:f.yOffset}}}])}(angular)}(this),d()}),System.registerDynamic("angular-bindonce",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(){"use strict";var a=angular.module("pasvaz.bindonce",[]);a.directive("bindonce",function(){var a=function(a){if(a&&0!==a.length){var b=angular.lowercase(""+a);a=!("f"===b||"0"===b||"false"===b||"no"===b||"n"===b||"[]"===b)}else a=!1;return a},b=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(b)&&(b=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var c={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(c,d,e,f){var g=function(b,c,d){var e="show"===c?"":"none",f="hide"===c?"":"none";b.css("display",a(d)?e:f)},h=function(a,b){if(angular.isObject(b)&&!angular.isArray(b)){var c=[];angular.forEach(b,function(a,b){a&&c.push(b)}),b=c}b&&a.addClass(angular.isArray(b)?b.join(" "):b)},i=function(a,b){a.transclude(b,function(b){var c=a.element.parent(),d=a.element&&a.element[a.element.length-1],e=c&&c[0]||d&&d.parentNode,f=d&&d.nextSibling||null;angular.forEach(b,function(a){e.insertBefore(a,f)})})},j={watcherRemover:void 0,binders:[],group:e.boName,element:d,ran:!1,addBinder:function(a){this.binders.push(a),this.ran&&this.runBinders()},setupWatcher:function(a){var b=this;this.watcherRemover=c.$watch(a,function(a){void 0!==a&&(b.removeWatcher(),b.checkBindonce(a))},!0)},checkBindonce:function(a){var b=this,c=a.$promise?a.$promise.then:a.then;"function"==typeof c?c(function(){b.runBinders()}):b.runBinders()},removeWatcher:function(){void 0!==this.watcherRemover&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var c=this.binders.shift();if(!this.group||this.group==c.group){var d=c.scope.$eval(c.interpolate?f(c.value):c.value);switch(c.attr){case"boIf":a(d)&&i(c,c.scope.$new());break;case"boSwitch":var e,j=c.controller[0];(e=j.cases["!"+d]||j.cases["?"])&&(c.scope.$eval(c.attrs.change),angular.forEach(e,function(a){i(a,c.scope.$new())}));break;case"boSwitchWhen":var k=c.controller[0];k.cases["!"+c.attrs.boSwitchWhen]=k.cases["!"+c.attrs.boSwitchWhen]||[],k.cases["!"+c.attrs.boSwitchWhen].push({transclude:c.transclude,element:c.element});break;case"boSwitchDefault":var k=c.controller[0];k.cases["?"]=k.cases["?"]||[],k.cases["?"].push({transclude:c.transclude,element:c.element});break;case"hide":case"show":g(c.element,c.attr,d);break;case"class":h(c.element,d);break;case"text":c.element.text(d);break;case"html":c.element.html(d);break;case"style":c.element.css(d);break;case"disabled":c.element.prop("disabled",d);break;case"src":c.element.attr(c.attr,d),b&&c.element.prop("src",d);break;case"attr":angular.forEach(c.attrs,function(a,b){var d,e;b.match(/^boAttr./)&&c.attrs[b]&&(d=b.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=c.scope.$eval(c.attrs[b]),c.element.attr(d,e))});break;case"href":case"alt":case"title":case"id":case"value":c.element.attr(c.attr,d)}}}this.ran=!0}};angular.extend(this,j)}],link:function(a,b,c,d){var e=c.bindonce&&a.$eval(c.bindonce);void 0!==e?d.checkBindonce(e):(d.setupWatcher(c.bindonce),b.bind("$destroy",d.removeWatcher))}};return c}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(b){var c=200;return a.directive(b.directiveName,function(){var a={priority:b.priority||c,transclude:b.transclude||!1,terminal:b.terminal||!1,require:["^bindonce"].concat(b.require||[]),controller:b.controller,compile:function(a,c,d){return function(a,c,e,f){var g=f[0],h=e.boParent;if(h&&g.group!==h){var i=g.element.parent();g=void 0;for(var j;9!==i[0].nodeType&&i.length;){if((j=i.data("$bindonceController"))&&j.group===h){g=j;break}i=i.parent()}if(!g)throw new Error("No bindonce controller: "+h)}g.addBinder({element:c,attr:b.attribute||b.directiveName,attrs:e,value:e[b.directiveName],interpolate:b.interpolate,group:h,transclude:d,controller:f.slice(1),scope:a})}}};return a})})}()}(this),d()}),System.registerDynamic("angular-ui",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.position","ui.bootstrap.dateparser","ui.bootstrap.datepicker"]),angular.module("ui.bootstrap.tpls",["template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html"]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;g<h;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return!(c<1)&&(1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3!==b&&5!==b&&8!==b&&10!==b||c<31)}var f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},h:{regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}};this.parse=function(c,g,h){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(f,"\\$&"),this.parsers[g]||(this.parsers[g]=d(g));var i=this.parsers[g],j=i.regex,k=i.map,l=c.match(j);if(l&&l.length){var m,n;angular.isDate(h)&&!isNaN(h.getTime())?m={year:h.getFullYear(),month:h.getMonth(),date:h.getDate(),hours:h.getHours(),minutes:h.getMinutes(),seconds:h.getSeconds(),milliseconds:h.getMilliseconds()}:(h&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=l.length;o<p;o++){var q=k[o-1];q.apply&&q.apply.call(m,l[o])}return e(m.year,m.month,m.date)&&(n=new Date(m.year,m.month,m.date,m.hours,m.minutes,m.seconds,m.milliseconds||0)),n}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?e<6?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&b===-1||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){for(var c,d=new Array(b),f=new Date(a),g=0;g<b;)c=new Date(f),e.fixTimeZone(c),d[g++]=c,f.setDate(f.getDate()+1);return d}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;m<42;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;n<7;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=(11-e.startingDay)%7,p=b.rows.length,q=0;q<p;q++)b.weekNumbers.push(h(b.rows[q][o].date))}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c,d=new Array(12),f=e.activeDate.getFullYear(),g=0;g<12;g++)c=new Date(f,g,1),e.fixTimeZone(c),d[g]=angular.extend(e.createDateObject(c,e.formatMonth),{uid:b.uniqueId+"-"+g});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(d,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth());
},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b,c=new Array(f),g=0,h=e(d.activeDate.getFullYear());g<f;g++)b=new Date(h+g,0,1),d.fixTimeZone(b),c[g]=angular.extend(d.createDateObject(b,d.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=d.split(c,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(j,k,l,m){function n(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function o(a){angular.isNumber(a)&&(a=new Date(a));{if(!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=g.parse(a,q,j.date);return isNaN(b)?void 0:b}}}function p(a,b){var c=a||b;if(!l.ngRequired&&!c)return!0;if(angular.isNumber(c)&&(c=new Date(c)),c){if(angular.isDate(c)&&!isNaN(c))return!0;if(angular.isString(c)){var d=g.parse(c,q);return!isNaN(d)}return!1}return!0}var q,r=angular.isDefined(l.closeOnDateSelection)?j.$parent.$eval(l.closeOnDateSelection):h.closeOnDateSelection,s=angular.isDefined(l.datepickerAppendToBody)?j.$parent.$eval(l.datepickerAppendToBody):h.appendToBody,t=angular.isDefined(l.onOpenFocus)?j.$parent.$eval(l.onOpenFocus):h.onOpenFocus,u=angular.isDefined(l.datepickerPopupTemplateUrl)?l.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,v=angular.isDefined(l.datepickerTemplateUrl)?l.datepickerTemplateUrl:h.datepickerTemplateUrl,w={};j.showButtonBar=angular.isDefined(l.showButtonBar)?j.$parent.$eval(l.showButtonBar):h.showButtonBar,j.getText=function(a){return j[a+"Text"]||h[a+"Text"]},j.isDisabled=function(a){return"today"===a&&(a=new Date),j.watchData.minDate&&j.compare(a,w.minDate)<0||j.watchData.maxDate&&j.compare(a,w.maxDate)>0},j.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())};var x=!1;if(h.html5Types[l.type]?(q=h.html5Types[l.type],x=!0):(q=l.datepickerPopup||h.datepickerPopup,l.$observe("datepickerPopup",function(a,b){var c=a||h.datepickerPopup;if(c!==q&&(q=c,m.$modelValue=null,!q))throw new Error("datepickerPopup must have a date format specified.")})),!q)throw new Error("datepickerPopup must have a date format specified.");if(x&&l.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":u});var z=angular.element(y.children()[0]);if(z.attr("template-url",v),x&&"month"===l.type&&(z.attr("datepicker-mode",'"month"'),z.attr("min-mode","month")),l.datepickerOptions){var A=j.$parent.$eval(l.datepickerOptions);A&&A.initDate&&(j.initDate=A.initDate,z.attr("init-date","initDate"),delete A.initDate),angular.forEach(A,function(a,b){z.attr(n(b),a)})}j.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(a){if(l[a]){var c=b(l[a]);if(j.$parent.$watch(c,function(b){j.watchData[a]=b,"minDate"!==a&&"maxDate"!==a||(w[a]=new Date(b))}),z.attr(n(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;j.$watch("watchData."+a,function(a,b){angular.isFunction(d)&&a!==b&&d(j.$parent,a)})}}}),l.dateDisabled&&z.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.showWeeks&&z.attr("show-weeks",l.showWeeks),l.customClass&&z.attr("custom-class","customClass({ date: date, mode: mode })"),x?m.$formatters.push(function(a){return j.date=a,a}):(m.$$parserName="date",m.$validators.date=p,m.$parsers.unshift(o),m.$formatters.push(function(a){return j.date=a,m.$isEmpty(a)?a:f(a,q)})),j.dateSelection=function(a){angular.isDefined(a)&&(j.date=a);var b=j.date?f(j.date,q):null;k.val(b),m.$setViewValue(b),r&&(j.isOpen=!1,k[0].focus())},m.$viewChangeListeners.push(function(){j.date=g.parse(m.$viewValue,q,j.date)});var B=function(a){!j.isOpen||k[0].contains(a.target)||y[0].contains(a.target)||j.$apply(function(){j.isOpen=!1})},C=function(a){27===a.which&&j.isOpen?(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!1}),k[0].focus()):40!==a.which||j.isOpen||(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!0}))};k.bind("keydown",C),j.keydown=function(a){27===a.which&&(j.isOpen=!1,k[0].focus())},j.$watch("isOpen",function(a){a?(j.position=s?e.offset(k):e.position(k),j.position.top=j.position.top+k.prop("offsetHeight"),i(function(){t&&j.$broadcast("datepicker.focus"),c.bind("click",B)},0,!1)):c.unbind("click",B)}),j.select=function(a){if("today"===a){var b=new Date;angular.isDate(j.date)?(a=new Date(j.date),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}j.dateSelection(a)},j.close=function(){j.isOpen=!1,k[0].focus()};var D=a(y)(j);y.remove(),s?c.find("body").append(D):k.after(D),j.$on("$destroy",function(){j.isOpen===!0&&(d.$$phase||j.$apply(function(){j.isOpen=!1})),D.remove(),k.unbind("keydown",C),c.unbind("click",B)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}])}(this),d()}),System.register("app/app.js",["bootstrap","vendor/filesaver","lodash-src","angular-strap","angular-route","angular-sanitize","angular-dragdrop","angular-bindonce","angular-ui","jquery","angular","app/core/config","lodash","moment","./core/core"],function(a,b){"use strict";var c,d,e,f,g,h,i;b&&b.id;return{setters:[function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(){function a(){this.preBootModules=[],this.registerFunctions={},this.ngModuleDependencies=[]}return a.prototype.useModule=function(a){return this.preBootModules?this.preBootModules.push(a):f.default.extend(a,this.registerFunctions),this.ngModuleDependencies.push(a.name),a},a.prototype.init=function(){var a=this,b=d.default.module("grafana",[]);g.default.locale(e.default.bootData.user.locale),b.config(["$locationProvider","$controllerProvider","$compileProvider","$filterProvider","$httpProvider","$provide",function(b,c,d,f,g,h){d.preAssignBindingsEnabled(!0),"development"!==e.default.buildInfo.env&&d.debugInfoEnabled(!1),g.useApplyAsync(!0),a.registerFunctions.controller=c.register,a.registerFunctions.directive=d.directive,a.registerFunctions.factory=h.factory,a.registerFunctions.service=h.service,a.registerFunctions.filter=f.register,h.decorator("$http",["$delegate","$templateCache",function(a,b){var c=a.get;return a.get=function(a,d){return a.match(/\.html$/)&&(b.get(a)||(a+="?v="+(new Date).getTime())),c(a,d)},a}])}]),this.ngModuleDependencies=["grafana.core","ngRoute","ngSanitize","$strap.directives","ang-drag-drop","grafana","pasvaz.bindonce","ui.bootstrap","ui.bootstrap.tpls"];var i=["controllers","directives","factories","services","filters","routes"];f.default.each(i,function(b){var c="grafana."+b;a.useModule(d.default.module(c,[]))}),this.useModule(h.coreModule);var j=[System.import("app/features/all")];Promise.all(j).then(function(){c.default.fn.tooltip.defaults.animation=!1,d.default.bootstrap(document,a.ngModuleDependencies).invoke(function(){f.default.each(a.preBootModules,function(b){f.default.extend(b,a.registerFunctions)}),a.preBootModules=null})}).catch(function(a){console.log("Application boot failed:",a)})},a}(),a("GrafanaApp",i),a("default",new i)}}}),function(){var a=System.amdDefine;a("app/features/panellinks/linkSrv.js",["angular","lodash","app/core/utils/kbn"],function(a,b,c){"use strict";a.module("grafana.services").service("linkSrv",["templateSrv","timeSrv",function(a,d){this.getLinkUrl=function(b){var c=a.replace(b.url||""),e={};if(b.keepTime){var f=d.timeRangeForUrl();e.from=f.from,e.to=f.to}return b.includeVars&&a.fillVariableValuesForUrl(e),this.addParamsToUrl(c,e)},this.addParamsToUrl=function(a,c){var d=[];return b.each(c,function(a,c){null!==a&&(a===!0?d.push(c):b.isArray(a)?b.each(a,function(a){d.push(c+"="+encodeURIComponent(a))}):d.push(c+"="+encodeURIComponent(a)))}),0===d.length?a:this.appendToQueryString(a,d.join("&"))},this.appendToQueryString=function(a,c){if(!b.isUndefined(c)&&null!==c&&""!==c){var d=a.indexOf("?");d!==-1?a.length-d>1&&(a+="&"):a+="?",a+=c}return a},this.getAnchorInfo=function(b){var c={};return c.href=this.getLinkUrl(b),c.title=a.replace(b.title||""),c},this.getPanelLinkAnchorInfo=function(b,e){var f={};if("absolute"===b.type)f.target=b.targetBlank?"_blank":"_self",f.href=a.replace(b.url||"",e),f.title=a.replace(b.title||"",e);else if(b.dashUri)f.href="dashboard/"+b.dashUri+"?",f.title=a.replace(b.title||"",e),f.target=b.targetBlank?"_blank":"";else{f.title=a.replace(b.title||"",e);var g=c.slugifyForUrl(b.dashboard||"");f.href="dashboard/db/"+g+"?"}var h={};if(b.keepTime){var i=d.timeRangeForUrl();h.from=i.from,h.to=i.to}return b.includeVars&&a.fillVariableValuesForUrl(h,e),f.href=this.addParamsToUrl(f.href,h),b.params&&(f.href=this.appendToQueryString(f.href,a.replace(b.params,e))),f}}])})}(),function(){var a=System.amdDefine;a("app/features/panellinks/module.js",["angular","lodash","./linkSrv"],function(a,b){"use strict";a.module("grafana.directives").directive("panelLinksEditor",function(){return{scope:{panel:"="},restrict:"E",controller:"PanelLinksEditorCtrl",templateUrl:"public/app/features/panellinks/module.html",link:function(){}}}).controller("PanelLinksEditorCtrl",["$scope","backendSrv",function(a,c){a.panel.links=a.panel.links||[],a.addLink=function(){a.panel.links.push({type:"dashboard"})},a.searchDashboards=function(a,d){c.search({query:a}).then(function(a){var c=b.map(a,function(a){return a.title});d(c)})},a.dashboardChanged=function(a){c.search({query:a.dashboard}).then(function(c){var d=b.find(c,{title:a.dashboard});d&&(a.dashUri=d.uri,a.title=d.title)})},a.deleteLink=function(c){a.panel.links=b.without(a.panel.links,c)}}])})}(),function(){var a=System.amdDefine;a("app/features/dashlinks/module.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.directives"),d={"external link":"fa-external-link",dashboard:"fa-th-large",question:"fa-question",info:"fa-info",bolt:"fa-bolt",doc:"fa-file-text-o",cloud:"fa-cloud"};c.directive("dashLinksEditor",function(){return{restrict:"E",controller:"DashLinkEditorCtrl",templateUrl:"public/app/features/dashlinks/editor.html",link:function(){}}}),c.directive("dashLinksContainer",function(){return{scope:{links:"="},restrict:"E",controller:"DashLinksContainerCtrl",template:'<dash-link ng-repeat="link in generatedLinks" link="link"></dash-link>',link:function(){}}}),c.directive("dashLink",["$compile","linkSrv",function(a,b){return{restrict:"E",link:function(c,d){function e(){var a=b.getAnchorInfo(f);j.text(a.title),h.attr("href",a.href)}var f=c.link,g='<div class="gf-form"><a class="pointer gf-form-label" data-placement="bottom"'+(f.asDropdown?' ng-click="fillDropdown(link)" data-toggle="dropdown"':"")+"><i></i> <span></span></a>";f.asDropdown&&(g+='<ul class="dropdown-menu" role="menu"><li ng-repeat="dash in link.searchHits"><a href="{{dash.url}}">{{dash.title}}</a></li></ul>'),g+="</div>",d.html(g),a(d.contents())(c);var h=d.find("a"),i=d.find("i"),j=d.find("span");d.find("a").tooltip({title:c.link.tooltip,html:!0,container:"body"}),i.attr("class","fa fa-fw "+c.link.icon),h.attr("target",c.link.target),f.asDropdown&&c.$last&&d.find(".dropdown-menu").addClass("pull-right"),e(),c.$on("refresh",e)}}}]),c.controller("DashLinksContainerCtrl",["$scope","$rootScope","$q","backendSrv","dashboardSrv","linkSrv",function(a,c,e,f,g,h){function i(b){return"dashboards"===b.type?b.tags?b.asDropdown?e.when([{title:b.title,tags:b.tags,keepTime:b.keepTime,includeVars:b.includeVars,icon:"fa fa-bars",asDropdown:!0}]):a.searchDashboards(b,7):(console.log("Dashboard link missing tag"),e.when([])):"link"===b.type?e.when([{url:b.url,title:b.title,icon:d[b.icon],tooltip:b.tooltip,target:b.targetBlank?"_blank":"_self",keepTime:b.keepTime,includeVars:b.includeVars}]):e.when([])}function j(){var c=b.map(a.links,i);e.all(c).then(function(c){a.generatedLinks=b.flatten(c)})}var k=g.getCurrent().id;a.searchDashboards=function(a,c){return f.search({tag:a.tags,limit:c}).then(function(c){return b.reduce(c,function(b,c){return c.id!==k&&b.push({title:c.title,url:"dashboard/"+c.uri,icon:"fa fa-th-large",keepTime:a.keepTime,includeVars:a.includeVars}),b},[])})},a.fillDropdown=function(c){a.searchDashboards(c,100).then(function(a){b.each(a,function(a){a.url=h.getLinkUrl(a)}),c.searchHits=a})},j(),c.onAppEvent("dash-links-updated",j,a)}]),c.controller("DashLinkEditorCtrl",["$scope","$rootScope",function(a,c){a.iconMap=d,a.dashboard.links=a.dashboard.links||[],a.addLink=function(){a.dashboard.links.push({type:"dashboards",icon:"external link"}),a.dashboard.updateSubmenuVisibility(),a.updated()},a.moveLink=function(c,d){b.move(a.dashboard.links,c,c+d),a.updated()},a.updated=function(){c.appEvent("dash-links-updated")},a.deleteLink=function(b){a.dashboard.links.splice(b,1),a.dashboard.updateSubmenuVisibility(),a.updated()}}])})}(),function(){var a=System.amdDefine;a("app/features/templating/templateSrv.js",["angular","lodash","app/core/utils/kbn"],function(a,b,c){"use strict";var d=a.module("grafana.services");d.service("templateSrv",function(){function a(a){return a.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}var d=this;this._regex=/\$(\w+)|\[\[([\s\S]+?)\]\]/g,this._index={},this._texts={},this._grafanaVariables={},this._adhocVariables={},this._builtIns={},this._builtIns.__interval={text:"1s",value:"1s"},this._builtIns.__interval_ms={text:"100",value:"100"},this.init=function(a){this.variables=a,this.updateTemplateData()},this.updateTemplateData=function(){this._index={},this._filters={},this._adhocVariables={};for(var a=0;a<this.variables.length;a++){var b=this.variables[a];"adhoc"!==b.type?b.current&&(b.current.isNone||b.current.value)&&(this._index[b.name]=b):this._adhocVariables[b.datasource]=b}},this.variableInitialized=function(a){this._index[a.name]=a},this.getAdhocFilters=function(a){var b=this._adhocVariables[a];return b?b.filters||[]:[]},this.luceneFormat=function(c){if("string"==typeof c)return a(c);var d=b.map(c,function(b){return'"'+a(b)+'"'});return"("+d.join(" OR ")+")"},this.formatValue=function(a,d,e){if(e=e||{},"function"==typeof d)return d(a,e,this.formatValue);switch(d){case"regex":if("string"==typeof a)return c.regexEscape(a);var f=b.map(a,c.regexEscape);return"("+f.join("|")+")";case"lucene":return this.luceneFormat(a,d,e);case"pipe":return"string"==typeof a?a:a.join("|");case"distributed":return"string"==typeof a?a:this.distributeVariable(a,e.name);default:return b.isArray(a)?"{"+a.join(",")+"}":a}},this.setGrafanaVariable=function(a,b){this._grafanaVariables[a]=b},this.getVariableName=function(a){this._regex.lastIndex=0;var b=this._regex.exec(a);return b?b[1]||b[2]:null},this.variableExists=function(a){var b=this.getVariableName(a);return b&&void 0!==d._index[b]},this.highlightVariablesAsHtml=function(a){return a&&b.isString(a)?(a=b.escape(a),this._regex.lastIndex=0,a.replace(this._regex,function(a,b,c){return d._index[b||c]||d._builtIns[b||c]?'<span class="template-variable">'+a+"</span>":a})):a},this.getAllValue=function(a){if(a.allValue)return a.allValue;for(var b=[],c=1;c<a.options.length;c++)b.push(a.options[c].value);return b},this.replace=function(a,b,c){if(!a)return a;var e,f,g;return this._regex.lastIndex=0,a.replace(this._regex,function(a,h,i){if(e=d._index[h||i],b&&(g=b[h||i]))return d.formatValue(g.value,c,e);if(!e)return a;if(f=d._grafanaVariables[e.current.value])return d.formatValue(f,c,e);if(g=e.current.value,d.isAllValue(g)&&(g=d.getAllValue(e),e.allValue))return g;var j=d.formatValue(g,c,e);return j})},this.isAllValue=function(a){return"$__all"===a||Array.isArray(a)&&"$__all"===a[0]},this.replaceWithText=function(a,b){if(!a)return a;var c;return this._regex.lastIndex=0,a.replace(this._regex,function(a,e,f){if(b){var g=b[e||f];if(g)return g.text}return c=d._index[e||f],c?d._grafanaVariables[c.current.value]||c.current.text:a})},this.fillVariableValuesForUrl=function(a,c){b.each(this.variables,function(b){c&&void 0!==c[b.name]?a["var-"+b.name]=c[b.name].value:a["var-"+b.name]=b.getValueForUrl()})},this.distributeVariable=function(a,c){return a=b.map(a,function(a,b){return 0!==b?c+"="+a:a}),a.join(",")}})})}(),System.register("app/features/templating/editor_ctrl.js",["lodash","app/core/core_module","./variable"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,d,f){this.$scope=a,this.datasourceSrv=b,this.variableSrv=d,a.variableTypes=e.variableTypes,a.ctrl={},a.namePattern=/^(?!__).*$/,a.refreshOptions=[{value:0,text:"Never"},{value:1,text:"On Dashboard Load"},{value:2,text:"On Time Range Change"}],a.sortOptions=[{value:0,text:"Disabled"},{value:1,text:"Alphabetical (asc)"},{value:2,text:"Alphabetical (desc)"},{value:3,text:"Numerical (asc)"},{value:4,text:"Numerical (desc)"}],a.hideOptions=[{value:0,text:""},{value:1,text:"Label"},{value:2,text:"Variable"}],a.init=function(){a.mode="list",a.datasources=c.default.filter(b.getMetricSources(),function(a){return!a.meta.mixed&&null!==a.value}),a.datasourceTypes=c.default(a.datasources).uniqBy("meta.id").map(function(a){return{text:a.meta.name,value:a.meta.id}}).value(),a.variables=d.variables,a.reset(),a.$watch("mode",function(b){"new"===b&&a.reset()})},a.add=function(){a.isValid()&&(a.variables.push(a.current),a.update(),a.dashboard.updateSubmenuVisibility())},a.isValid=function(){if(a.ctrl.form.$valid){if(!a.current.name.match(/^\w+$/))return a.appEvent("alert-warning",["Validation","Only word and digit characters are allowed in variable names"]),!1;var b=c.default.find(a.variables,{name:a.current.name});return b&&b!==a.current?(a.appEvent("alert-warning",["Validation","Variable with the same name already exists"]),!1):"query"!==a.current.type||!a.current.query.match(new RegExp("\\$"+a.current.name))||(a.appEvent("alert-warning",["Validation","Query cannot contain a reference to itself. Variable: $"+a.current.name]),!1)}},a.validate=function(){a.infoText="","adhoc"===a.current.type&&null!==a.current.datasource&&(a.infoText="Adhoc filters are applied automatically to all queries that target this datasource",b.get(a.current.datasource).then(function(b){b.getTagKeys||(a.infoText="This datasource does not support adhoc filters yet.")}))},a.runQuery=function(){return d.updateOptions(a.current).then(null,function(b){b.data&&b.data.message&&(b.message=b.data.message),a.appEvent("alert-error",["Templating","Template variables could not be initialized: "+b.message])})},a.edit=function(b){a.current=b,a.currentIsNew=!1,a.mode="edit",a.validate()},a.duplicate=function(b){var e=c.default.cloneDeep(b.getSaveModel());a.current=d.createVariableFromModel(e),a.variables.push(a.current),a.current.name="copy_of_"+b.name,a.dashboard.updateSubmenuVisibility()},a.update=function(){a.isValid()&&a.runQuery().then(function(){a.reset(),a.mode="list",f.updateTemplateData()})},a.reset=function(){a.currentIsNew=!0,a.current=d.createVariableFromModel({type:"query"})},a.typeChanged=function(){var b=a.current;a.current=d.createVariableFromModel({type:a.current.type}),a.current.name=b.name,a.current.hide=b.hide,a.current.label=b.label;var e=c.default.indexOf(this.variables,b);e!==-1&&(this.variables[e]=a.current),a.validate()},a.removeVariable=function(b){var d=c.default.indexOf(a.variables,b);a.variables.splice(d,1),a.dashboard.updateSubmenuVisibility()}}return a.$inject=["$scope","datasourceSrv","variableSrv","templateSrv"],a}(),a("VariableEditorCtrl",f),d.default.controller("VariableEditorCtrl",f)}}}),System.register("app/features/templating/variable_srv.js",["angular","lodash","app/core/core_module","./variable"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,d,e){this.$rootScope=a,this.$q=b,this.$location=c,this.$injector=d,this.templateSrv=e,a.$on("refresh",this.onDashboardRefresh.bind(this),a),a.$on("template-variable-value-updated",this.updateUrlParamsWithCurrentVariables.bind(this),a)}return a.$inject=["$rootScope","$q","$location","$injector","templateSrv"],a.prototype.init=function(a){var b=this;this.dashboard=a,this.variables=a.templating.list=a.templating.list.map(this.createVariableFromModel.bind(this)),this.templateSrv.init(this.variables);for(var c=0,d=this.variables;c<d.length;c++){var e=d[c];e.initLock=this.$q.defer()}var f=this.$location.search();return this.$q.all(this.variables.map(function(a){return b.processVariable(a,f)})).then(function(){b.templateSrv.updateTemplateData()})},a.prototype.onDashboardRefresh=function(){var a=this,b=this.variables.filter(function(a){return 2===a.refresh}).map(function(b){var d=b.options.slice();return b.updateOptions().then(a.variableUpdated.bind(a,b)).then(function(){c.default.toJson(d)!==c.default.toJson(b.options)&&a.$rootScope.$emit("template-variable-value-updated")})});return this.$q.all(b)},a.prototype.processVariable=function(a,b){for(var c=this,d=[],e=0,f=this.variables;e<f.length;e++){var g=f[e];a.dependsOn(g)&&d.push(g.initLock.promise)}return this.$q.all(d).then(function(){var c=b["var-"+a.name];return void 0!==c?a.setValueFromUrl(c).then(a.initLock.resolve):1===a.refresh||2===a.refresh?a.updateOptions().then(a.initLock.resolve):void a.initLock.resolve()}).finally(function(){c.templateSrv.variableInitialized(a),delete a.initLock})},a.prototype.createVariableFromModel=function(a){var b=f.variableTypes[a.type].ctor;if(!b)throw"Unable to find variable constructor for "+a.type;var c=this.$injector.instantiate(b,{model:a});return c},a.prototype.addVariable=function(a){var b=this.createVariableFromModel(a);return this.variables.push(b),b},a.prototype.updateOptions=function(a){return a.updateOptions()},a.prototype.variableUpdated=function(a){var b=this;if(a.initLock)return this.$q.when();var c=d.default.map(this.variables,function(c){if(c!==a)return c.dependsOn(a)?b.updateOptions(c):void 0});return this.$q.all(c)},a.prototype.selectOptionsForCurrentValue=function(a){var b,c,e,f,g=[];for(b=0;b<a.options.length;b++)if(f=a.options[b],f.selected=!1,d.default.isArray(a.current.value))for(c=0;c<a.current.value.length;c++)e=a.current.value[c],f.value===e&&(f.selected=!0,g.push(f));else f.value===a.current.value&&(f.selected=!0,g.push(f));return g},a.prototype.validateVariableSelectionState=function(a){if(a.current||(a.current={}),d.default.isArray(a.current.value)){var b=this.selectOptionsForCurrentValue(a);return b=0===b.length?a.options[0]:{value:d.default.map(b,function(a){return a.value}),text:d.default.map(b,function(a){return a.text}).join(" + ")},a.setValue(b)}var c=d.default.find(a.options,{text:a.current.text});return c?a.setValue(c):a.options.length?a.setValue(a.options[0]):Promise.resolve()},a.prototype.setOptionFromUrl=function(a,b){var c=this.$q.when();return a.refresh&&(c=a.updateOptions()),c.then(function(){var c=d.default.find(a.options,function(a){return a.text===b||a.value===b});return c=c||{text:b,value:b},a.setValue(c)})},a.prototype.setOptionAsCurrent=function(a,b){return a.current=d.default.cloneDeep(b),d.default.isArray(a.current.text)&&(a.current.text=a.current.text.join(" + ")),this.selectOptionsForCurrentValue(a),this.variableUpdated(a)},a.prototype.updateUrlParamsWithCurrentVariables=function(){var a=this.$location.search();d.default.each(a,function(b,c){0===c.indexOf("var-")&&delete a[c]}),this.templateSrv.fillVariableValuesForUrl(a),this.$location.search(a)},a}(),a("VariableSrv",g),e.default.service("variableSrv",g)}}}),System.register("app/features/templating/interval_variable.js",["lodash","app/core/utils/kbn","./variable"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d){this.model=a,this.timeSrv=b,this.templateSrv=c,this.variableSrv=d,this.defaults={type:"interval",name:"",hide:0,label:"",refresh:2,options:[],current:{},query:"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",auto:!1,auto_min:"10s",auto_count:30},e.assignModelProperties(this,a,this.defaults),
this.refresh=2}return a.$inject=["model","timeSrv","templateSrv","variableSrv"],a.prototype.getSaveModel=function(){return e.assignModelProperties(this.model,this,this.defaults),this.model},a.prototype.setValue=function(a){return this.updateAutoValue(),this.variableSrv.setOptionAsCurrent(this,a)},a.prototype.updateAutoValue=function(){if(this.auto){this.options.length&&"auto"!==this.options[0].text&&this.options.unshift({text:"auto",value:"$__auto_interval"});var a=d.default.calculateInterval(this.timeSrv.timeRange(),this.auto_count,this.auto_min?">"+this.auto_min:null);this.templateSrv.setGrafanaVariable("$__auto_interval",a.interval)}},a.prototype.updateOptions=function(){return this.options=c.default.map(this.query.match(/(["'])(.*?)\1|\w+/g),function(a){return a=a.replace(/["']+/g,""),{text:a.trim(),value:a.trim()}}),this.updateAutoValue(),this.variableSrv.validateVariableSelectionState(this)},a.prototype.dependsOn=function(a){return!1},a.prototype.setValueFromUrl=function(a){return this.updateAutoValue(),this.variableSrv.setOptionFromUrl(this,a)},a.prototype.getValueForUrl=function(){return this.current.value},a}(),a("IntervalVariable",f),e.variableTypes.interval={name:"Interval",ctor:f,description:"Define a timespan interval (ex 1m, 1h, 1d)"}}}}),System.register("app/features/templating/query_variable.js",["lodash","app/core/utils/kbn","./variable"],function(a,b){"use strict";function c(){return{text:"None",value:"",isNone:!0}}var d,e,f,g;b&&b.id;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,d,e){this.model=a,this.datasourceSrv=b,this.templateSrv=c,this.variableSrv=d,this.$q=e,this.defaults={type:"query",label:null,query:"",regex:"",sort:0,datasource:null,refresh:0,hide:0,name:"",multi:!1,includeAll:!1,allValue:null,options:[],current:{},tags:[],useTags:!1,tagsQuery:"",tagValuesQuery:""},f.assignModelProperties(this,a,this.defaults)}return a.$inject=["model","datasourceSrv","templateSrv","variableSrv","$q"],a.prototype.getSaveModel=function(){return f.assignModelProperties(this.model,this,this.defaults),0!==this.refresh&&(this.model.options=[]),this.model},a.prototype.setValue=function(a){return this.variableSrv.setOptionAsCurrent(this,a)},a.prototype.setValueFromUrl=function(a){return this.variableSrv.setOptionFromUrl(this,a)},a.prototype.getValueForUrl=function(){return"All"===this.current.text?"All":this.current.value},a.prototype.updateOptions=function(){return this.datasourceSrv.get(this.datasource).then(this.updateOptionsFromMetricFindQuery.bind(this)).then(this.updateTags.bind(this)).then(this.variableSrv.validateVariableSelectionState.bind(this.variableSrv,this))},a.prototype.updateTags=function(a){var b=this;return this.useTags?a.metricFindQuery(this.tagsQuery).then(function(c){b.tags=[];for(var d=0;d<c.length;d++)b.tags.push(c[d].text);return a}):(delete this.tags,a)},a.prototype.getValuesForTag=function(a){var b=this;return this.datasourceSrv.get(this.datasource).then(function(c){var e=b.tagValuesQuery.replace("$tag",a);return c.metricFindQuery(e).then(function(a){return d.default.map(a,function(a){return a.text})})})},a.prototype.updateOptionsFromMetricFindQuery=function(a){var b=this;return a.metricFindQuery(this.query).then(function(d){return b.options=b.metricNamesToVariableValues(d),b.includeAll&&b.addAllOption(),b.options.length||b.options.push(c()),a})},a.prototype.addAllOption=function(){this.options.unshift({text:"All",value:"$__all"})},a.prototype.metricNamesToVariableValues=function(a){var b,c,f,g;for(c=[],this.regex&&(b=e.default.stringToJsRegex(this.templateSrv.replace(this.regex,{},"regex"))),f=0;f<a.length;f++){var h=a[f],i=void 0===h.text||null===h.text?h.value:h.text,j=void 0===h.value||null===h.value?h.text:h.value;if(d.default.isNumber(j)&&(j=j.toString()),d.default.isNumber(i)&&(i=i.toString()),b){if(g=b.exec(j),!g)continue;g.length>1&&(j=g[1],i=g[1])}c.push({text:i,value:j})}return c=d.default.uniqBy(c,"value"),this.sortVariableValues(c,this.sort)},a.prototype.sortVariableValues=function(a,b){if(0===b)return a;var c=Math.ceil(b/2),e=b%2===0;return 1===c?a=d.default.sortBy(a,"text"):2===c&&(a=d.default.sortBy(a,function(a){var b=a.text.match(/.*?(\d+).*/);return!b||b.length<2?-1:parseInt(b[1],10)})),e&&(a=a.reverse()),a},a.prototype.dependsOn=function(a){return f.containsVariable(this.query,this.datasource,a.name)},a}(),a("QueryVariable",g),f.variableTypes.query={name:"Query",ctor:g,description:"Variable values are fetched from a datasource query",supportsMulti:!0}}}}),System.register("app/features/templating/datasource_variable.js",["app/core/utils/kbn","./variable"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,e){this.model=a,this.datasourceSrv=b,this.variableSrv=c,this.templateSrv=e,this.defaults={type:"datasource",name:"",hide:0,label:"",current:{},regex:"",options:[],query:"",refresh:1},d.assignModelProperties(this,a,this.defaults),this.refresh=1}return a.$inject=["model","datasourceSrv","variableSrv","templateSrv"],a.prototype.getSaveModel=function(){return d.assignModelProperties(this.model,this,this.defaults),this.model.options=[],this.model},a.prototype.setValue=function(a){return this.variableSrv.setOptionAsCurrent(this,a)},a.prototype.updateOptions=function(){var a,b=[],d=this.datasourceSrv.getMetricSources({skipVariables:!0});this.regex&&(a=this.templateSrv.replace(this.regex,null,"regex"),a=c.default.stringToJsRegex(a));for(var e=0;e<d.length;e++){var f=d[e];f.meta.id===this.query&&(a&&!a.exec(f.name)||b.push({text:f.name,value:f.name}))}return 0===b.length&&b.push({text:"No data sources found",value:""}),this.options=b,this.variableSrv.validateVariableSelectionState(this)},a.prototype.dependsOn=function(a){return!!this.regex&&d.containsVariable(this.regex,a.name)},a.prototype.setValueFromUrl=function(a){return this.variableSrv.setOptionFromUrl(this,a)},a.prototype.getValueForUrl=function(){return this.current.value},a}(),a("DatasourceVariable",e),d.variableTypes.datasource={name:"Datasource",ctor:e,description:"Enabled you to dynamically switch the datasource for multiple panels"}}}}),System.register("app/features/templating/custom_variable.js",["lodash","./variable"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,e){this.model=a,this.timeSrv=b,this.templateSrv=c,this.variableSrv=e,this.defaults={type:"custom",name:"",label:"",hide:0,options:[],current:{},query:"",includeAll:!1,multi:!1,allValue:null},d.assignModelProperties(this,a,this.defaults)}return a.$inject=["model","timeSrv","templateSrv","variableSrv"],a.prototype.setValue=function(a){return this.variableSrv.setOptionAsCurrent(this,a)},a.prototype.getSaveModel=function(){return d.assignModelProperties(this.model,this,this.defaults),this.model},a.prototype.updateOptions=function(){return this.options=c.default.map(this.query.split(/[,]+/),function(a){return{text:a.trim(),value:a.trim()}}),this.includeAll&&this.addAllOption(),this.variableSrv.validateVariableSelectionState(this)},a.prototype.addAllOption=function(){this.options.unshift({text:"All",value:"$__all"})},a.prototype.dependsOn=function(a){return!1},a.prototype.setValueFromUrl=function(a){return this.variableSrv.setOptionFromUrl(this,a)},a.prototype.getValueForUrl=function(){return"All"===this.current.text?"All":this.current.value},a}(),a("CustomVariable",e),d.variableTypes.custom={name:"Custom",ctor:e,description:"Define variable values manually",supportsMulti:!0}}}}),System.register("app/features/templating/constant_variable.js",["./variable"],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=function(){function a(a,b){this.model=a,this.variableSrv=b,this.defaults={type:"constant",name:"",hide:2,label:"",query:"",current:{},options:[]},c.assignModelProperties(this,a,this.defaults)}return a.$inject=["model","variableSrv"],a.prototype.getSaveModel=function(){return c.assignModelProperties(this.model,this,this.defaults),this.model},a.prototype.setValue=function(a){this.variableSrv.setOptionAsCurrent(this,a)},a.prototype.updateOptions=function(){return this.options=[{text:this.query.trim(),value:this.query.trim()}],this.setValue(this.options[0]),Promise.resolve()},a.prototype.dependsOn=function(a){return!1},a.prototype.setValueFromUrl=function(a){return this.variableSrv.setOptionFromUrl(this,a)},a.prototype.getValueForUrl=function(){return this.current.value},a}(),a("ConstantVariable",d),c.variableTypes.constant={name:"Constant",ctor:d,description:"Define a hidden constant variable, useful for metric prefixes in dashboards you want to share"}}}}),System.register("app/features/templating/variable.js",["app/core/utils/kbn","app/core/core"],function(a,b){"use strict";function c(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=a[a.length-1],e=a[0]||"",f=1;f<a.length-1;f++)e+=" "+a[f]||"";c=d.default.regexEscape(c);var g=new RegExp("\\$("+c+")(?:\\W|$)|\\[\\[("+c+")\\]\\]","g"),h=g.exec(e);return null!==h}b&&b.id;a("containsVariable",c);var d,e,f;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){a("assignModelProperties",e.assignModelProperties),a("variableTypes",f={})}}}),System.register("app/features/templating/adhoc_variable.js",["lodash","./variable"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a){this.model=a,this.defaults={type:"adhoc",name:"",label:"",hide:0,datasource:null,filters:[]},d.assignModelProperties(this,a,this.defaults)}return a.$inject=["model"],a.prototype.setValue=function(a){return Promise.resolve()},a.prototype.getSaveModel=function(){return d.assignModelProperties(this.model,this,this.defaults),this.model},a.prototype.updateOptions=function(){return Promise.resolve()},a.prototype.dependsOn=function(a){return!1},a.prototype.setValueFromUrl=function(a){var b=this;return c.default.isArray(a)||(a=[a]),this.filters=a.map(function(a){var c=a.split("|").map(function(a){return b.unescapeDelimiter(a)});return{key:c[0],operator:c[1],value:c[2]}}),Promise.resolve()},a.prototype.getValueForUrl=function(){var a=this;return this.filters.map(function(b){return[b.key,b.operator,b.value].map(function(b){return a.escapeDelimiter(b)}).join("|")})},a.prototype.escapeDelimiter=function(a){return a.replace("|","__gfp__")},a.prototype.unescapeDelimiter=function(a){return a.replace("__gfp__","|")},a.prototype.setFilters=function(a){this.filters=a},a}(),a("AdhocVariable",e),d.variableTypes.adhoc={name:"Ad hoc filters",ctor:e,description:"Add key/value filters on the fly"}}}}),System.register("app/features/templating/all.js",["./templateSrv","./editor_ctrl","./variable_srv","./interval_variable","./query_variable","./datasource_variable","./custom_variable","./constant_variable","./adhoc_variable"],function(a,b){"use strict";var c,d,e,f,g,h,i;b&&b.id;return{setters:[function(a){},function(a){},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a}],execute:function(){a("VariableSrv",c.VariableSrv),a("IntervalVariable",d.IntervalVariable),a("QueryVariable",e.QueryVariable),a("DatasourceVariable",f.DatasourceVariable),a("CustomVariable",g.CustomVariable),a("ConstantVariable",h.ConstantVariable),a("AdhocVariable",i.AdhocVariable)}}}),System.register("app/features/dashboard/dashboard_ctrl.js",["app/core/config","angular","app/core/core_module"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,e,f,g,h,i,j,k,l,m,n,o){this.$scope=a,this.$rootScope=b,a.editor={index:0};var p;a.setupDashboard=function(b){try{a.setupDashboardInternal(b)}catch(b){a.onInitFailed(b,"Dashboard init failed",!0)}},a.setupDashboardInternal=function(b){var c=i.create(b.dashboard,b.meta);i.setCurrent(c),f.init(c),h.init(c,b.alerts),g.init(c).catch(a.onInitFailed.bind(this,"Templating init failed",!1)).finally(function(){k.init(c),k.process(),j.init(c,a),a.dashboard=c,a.dashboardMeta=c.meta,a.dashboardViewState=l.create(a),e.setupDashboardBindings(a,c),a.dashboard.updateSubmenuVisibility(),a.setWindowTitleAndTheme(),a.appEvent("dashboard-initialized",a.dashboard)}).catch(a.onInitFailed.bind(this,"Dashboard init failed",!0))},a.onInitFailed=function(b,c,d){console.log(b,d),d.data&&d.data.message?d.message=d.data.message:d.message||(d={message:d.toString()}),a.appEvent("alert-error",[b,d.message]),c&&!a.loadedFallbackDashboard&&(a.loadedFallbackDashboard=!0,a.setupDashboard({dashboard:{title:"Dashboard Init failed"}}))},a.templateVariableUpdated=function(){k.process()},a.setWindowTitleAndTheme=function(){window.document.title=c.default.window_title_prefix+a.dashboard.title},a.broadcastRefresh=function(){b.$broadcast("refresh")},a.addRowDefault=function(){a.dashboard.addEmptyRow()},a.showJsonEditor=function(c,d){var e=b.$new();e.object=d.object,e.updateHandler=d.updateHandler,a.appEvent("show-dash-editor",{src:"public/app/partials/edit_json.html",scope:e})},a.registerWindowResizeEvent=function(){d.default.element(window).bind("resize",function(){o.cancel(p),p=o(function(){a.$broadcast("render")},200)}),a.$on("$destroy",function(){d.default.element(window).unbind("resize"),a.dashboard.destroy()})},a.timezoneChanged=function(){b.$broadcast("refresh")}}return a.$inject=["$scope","$rootScope","keybindingSrv","timeSrv","variableSrv","alertingSrv","dashboardSrv","unsavedChangesSrv","dynamicDashboardSrv","dashboardViewStateSrv","contextSrv","alertSrv","$timeout"],a.prototype.init=function(a){this.$scope.onAppEvent("show-json-editor",this.$scope.showJsonEditor),this.$scope.onAppEvent("template-variable-value-updated",this.$scope.templateVariableUpdated),this.$scope.setupDashboard(a),this.$scope.registerWindowResizeEvent()},a}(),a("DashboardCtrl",f),e.default.controller("DashboardCtrl",f)}}}),System.register("app/features/dashboard/alerting_srv.js",["app/core/core_module"],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=function(){function a(){}return a.prototype.init=function(a,b){this.dashboard=a,this.alerts=b||[]},a}(),a("AlertingSrv",d),c.default.service("alertingSrv",d)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/dashboardLoaderSrv.js",["angular","moment","lodash","jquery","app/core/utils/kbn","app/core/utils/datemath","./impression_store","app/core/config"],function(a,b,c,d,e,f,g){"use strict";var h=a.module("grafana.services");h.service("dashboardLoaderSrv",["backendSrv","dashboardSrv","datasourceSrv","$http","$q","$timeout","contextSrv","$routeParams","$rootScope",function(a,h,i,j,k,l,m,n,o){var p=this;this._dashboardLoadFailed=function(a,b){return b=b||!1,{meta:{canStar:!1,isSnapshot:b,canDelete:!1,canSave:!1,canEdit:!1,dashboardNotFound:!0},dashboard:{title:a}}},this.loadDashboard=function(b,c){var d;return d="script"===b?this._loadScriptedDashboard(c):"snapshot"===b?a.get("/api/snapshots/"+n.slug).catch(function(){return p._dashboardLoadFailed("Snapshot not found",!0)}):a.getDashboard(n.type,n.slug).catch(function(){return p._dashboardLoadFailed("Not found")}),d.then(function(a){return a.meta.dashboardNotFound!==!0&&g.impressions.addDashboardImpression(a.dashboard.id),a}),d},this._loadScriptedDashboard=function(a){var b="public/dashboards/"+a.replace(/\.(?!js)/,"/")+"?"+(new Date).getTime();return j({url:b,method:"GET"}).then(this._executeScript).then(function(a){return{meta:{fromScript:!0,canDelete:!1,canSave:!1,canStar:!1},dashboard:a.data}},function(a){return console.log("Script dashboard error "+a),o.appEvent("alert-error",["Script Error","Please make sure it exists and returns a valid dashboard"]),p._dashboardLoadFailed("Scripted dashboard")})},this._executeScript=function(a){var g={dashboardSrv:h,datasourceSrv:i,$q:k},j=new Function("ARGS","kbn","dateMath","_","moment","window","document","$","jQuery","services",a.data),m=j(n,e,f,c,b,window,document,d,d,g);if(c.isFunction(m)){var o=k.defer();return m(function(a){l(function(){o.resolve({data:a})})}),o.promise}return{data:m}}}])})}(),System.register("app/features/dashboard/dashnav/dashnav.js",["lodash","moment","angular"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/dashnav/dashnav.html",controller:g,transclude:!0}}b&&b.id;a("dashNavDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,g,h,i,j,k){a.init=function(){if(a.onAppEvent("save-dashboard",a.saveDashboard),a.onAppEvent("delete-dashboard",a.deleteDashboard),a.onAppEvent("quick-snapshot",a.quickSnapshot),a.showSettingsMenu=a.dashboardMeta.canEdit||a.contextSrv.isEditor,a.dashboardMeta.isSnapshot){a.showSettingsMenu=!1;var b=a.dashboardMeta;a.titleTooltip="Created: &nbsp;"+e.default(b.created).calendar(),b.expires&&(a.titleTooltip+="<br>Expires: &nbsp;"+e.default(b.expires).fromNow()+"<br>")}},a.openEditView=function(a){var b=d.default.extend(g.search(),{editview:a});g.search(b)},a.showHelpModal=function(){a.appEvent("show-modal",{templateHtml:"<help-modal></help-modal>"})},a.starDashboard=function(){a.dashboardMeta.isStarred?i.delete("/api/user/stars/dashboard/"+a.dashboard.id).then(function(){a.dashboardMeta.isStarred=!1}):i.post("/api/user/stars/dashboard/"+a.dashboard.id).then(function(){a.dashboardMeta.isStarred=!0})},a.shareDashboard=function(b){var c=a.$new();c.tabIndex=b,a.appEvent("show-modal",{src:"public/app/features/dashboard/partials/shareModal.html",scope:c})},a.quickSnapshot=function(){a.shareDashboard(1)},a.openSearch=function(){a.appEvent("show-dash-search")},a.hideTooltip=function(b){f.default.element(b.currentTarget).tooltip("hide"),a.appEvent("hide-dash-search")},a.makeEditable=function(){return a.dashboard.editable=!0,c.saveDashboard({makeEditable:!0,overwrite:!1}).then(function(){window.location.href=window.location.href})},a.saveDashboard=function(a){return c.saveDashboard(a)},a.deleteDashboard=function(){var b="",c=a.dashboard.title,d=a.dashboard.rows.reduce(function(a,b){return a+=b.panels.filter(function(a){return a.alert}).length},0);d>0&&(b="DELETE",c="This dashboad contains "+d+" alerts. Deleting this dashboad will also delete those alerts"),a.appEvent("confirm-modal",{title:"Delete",text:"Do you want to delete this dashboard?",text2:c,icon:"fa-trash",confirmText:b,yesText:"Delete",onConfirm:function(){a.dashboardMeta.canSave=!1,a.deleteDashboardConfirmed()}})},a.deleteDashboardConfirmed=function(){i.delete("/api/dashboards/db/"+a.dashboardMeta.slug).then(function(){a.appEvent("alert-success",["Dashboard Deleted",a.dashboard.title+" has been deleted"]),g.url("/")})},a.saveDashboardAs=function(){return c.saveDashboardAs()},a.viewJson=function(){var b=a.dashboard.getSaveModelClone(),c=f.default.toJson(b,!0),d="data:application/json;charset=utf-8,"+encodeURIComponent(c);window.open(d)},a.snapshot=function(){a.dashboard.snapshot=!0,b.$broadcast("refresh"),j(function(){a.dashboard.snapshot=!1,a.appEvent("dashboard-snapshot-cleanup")},1e3)},a.editJson=function(){var b=a.dashboard.getSaveModelClone();a.appEvent("show-json-editor",{object:b})},a.stopPlaylist=function(){h.stop(1)},a.init()}return a.$inject=["$scope","$rootScope","dashboardSrv","$location","playlistSrv","backendSrv","$timeout","datasourceSrv"],a}(),a("DashNavCtrl",g),f.default.module("grafana.directives").directive("dashnav",c)}}}),System.register("app/features/dashboard/submenu/submenu.js",["angular","lodash"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/submenu/submenu.html",controller:f,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}b&&b.id;a("submenuDirective",c);var d,e,f;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d){this.$rootScope=a,this.variableSrv=b,this.templateSrv=c,this.$location=d,this.annotations=this.dashboard.templating.list,this.variables=this.variableSrv.variables}return a.$inject=["$rootScope","variableSrv","templateSrv","$location"],a.prototype.annotationStateChanged=function(){this.$rootScope.$broadcast("refresh")},a.prototype.variableUpdated=function(a){var b=this;this.variableSrv.variableUpdated(a).then(function(){b.$rootScope.$emit("template-variable-value-updated"),b.$rootScope.$broadcast("refresh")})},a.prototype.openEditView=function(a){var b=e.default.extend(this.$location.search(),{editview:a});this.$location.search(b)},a.prototype.exitBuildMode=function(){this.dashboard.toggleEditMode()},a}(),a("SubmenuCtrl",f),d.default.module("grafana.directives").directive("dashboardSubmenu",c)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/saveDashboardAsCtrl.js",["angular"],function(a){"use strict";var b=a.module("grafana.controllers");b.controller("SaveDashboardAsCtrl",["$scope","backendSrv","$location",function(a,b,c){function d(d){return b.saveDashboard(a.clone,d).then(function(b){a.appEvent("alert-success",["Dashboard saved","Saved as "+a.clone.title]),c.url("/dashboard/db/"+b.slug),a.appEvent("dashboard-saved",a.clone),a.dismiss()})}a.init=function(){a.clone.id=null,a.clone.editable=!0,a.clone.title=a.clone.title+" Copy",a.clone.rows.forEach(function(a){a.panels.forEach(function(a){delete a.alert})}),delete a.clone.autoUpdate},a.keyDown=function(b){13===b.keyCode&&a.saveClone()},a.saveClone=function(){d({overwrite:!1}).then(null,function(b){b.data&&"name-exists"===b.data.status&&(b.isHandled=!0,a.appEvent("confirm-modal",{title:"Conflict",text:"Dashboard with the same name exists.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){d({overwrite:!0})}}))})}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/shareModalCtrl.js",["angular","lodash","jquery","moment","require","app/core/config"],function(a,b,c,d,e,f){"use strict";var g=a.module("grafana.controllers");g.controller("ShareModalCtrl",["$scope","$rootScope","$location","$timeout","timeSrv","templateSrv","linkSrv",function(b,c,e,g,h,i,j){b.options={forCurrent:!0,includeTemplateVars:!0,theme:"current"},b.editor={index:b.tabIndex||0},b.init=function(){b.modeSharePanel=!!b.panel,b.tabs=[{title:"Link",src:"shareLink.html"}],b.modeSharePanel?(b.modalTitle="Share Panel",b.tabs.push({title:"Embed",src:"shareEmbed.html"})):b.modalTitle="Share",b.dashboard.meta.isSnapshot||b.tabs.push({title:"Snapshot",src:"shareSnapshot.html"}),b.dashboard.meta.isSnapshot||b.modeSharePanel||b.tabs.push({title:"Export",src:"shareExport.html"}),b.buildUrl()},b.buildUrl=function(){var c=e.absUrl(),g=c.indexOf("?");g!==-1&&(c=c.substring(0,g));var k=a.copy(e.search()),l=h.timeRange();k.from=l.from.valueOf(),k.to=l.to.valueOf(),k.orgId=f.bootData.user.orgId,b.options.includeTemplateVars&&i.fillVariableValuesForUrl(k),b.options.forCurrent||(delete k.from,delete k.to),"current"!==b.options.theme&&(k.theme=b.options.theme),b.modeSharePanel?(k.panelId=b.panel.id,k.fullscreen=!0):(delete k.panelId,delete k.fullscreen),b.shareUrl=j.addParamsToUrl(c,k);var m=c.replace(f.appSubUrl+"/dashboard/",f.appSubUrl+"/dashboard-solo/");delete k.fullscreen,delete k.edit,m=j.addParamsToUrl(m,k),b.iframeHtml='<iframe src="'+m+'" width="450" height="200" frameborder="0"></iframe>',b.imageUrl=m.replace(f.appSubUrl+"/dashboard-solo/",f.appSubUrl+"/render/dashboard-solo/"),b.imageUrl+="&width=1000",b.imageUrl+="&height=500",b.imageUrl+="&tz=UTC"+encodeURIComponent(d().format("Z"))}}]),g.directive("clipboardButton",function(){return function(a,b){e(["vendor/clipboard/dist/clipboard"],function(c){a.clipboard=new c(b[0])}),a.$on("$destroy",function(){a.clipboard&&a.clipboard.destroy()})}})})}(),function(){var a=System.amdDefine;a("app/features/dashboard/shareSnapshotCtrl.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.controllers");c.controller("ShareSnapshotCtrl",["$scope","$rootScope","$location","backendSrv","$timeout","timeSrv",function(a,c,d,e,f,g){a.snapshot={name:a.dashboard.title,expires:0,timeoutSeconds:4},a.step=1,a.expireOptions=[{text:"1 Hour",value:3600},{text:"1 Day",value:86400},{text:"7 Days",value:604800},{text:"Never",value:0}],a.accessOptions=[{text:"Anyone with the link",value:1},{text:"Organization users",value:2},{text:"Public on the web",value:3}],a.init=function(){e.get("/api/snapshot/shared-options").then(function(b){a.externalUrl=b.externalSnapshotURL,a.sharingButtonText=b.externalSnapshotName,a.externalEnabled=b.externalEnabled})},a.apiUrl="/api/snapshots",a.createSnapshot=function(b){a.dashboard.snapshot={timestamp:new Date},b||(a.dashboard.snapshot.originalUrl=d.absUrl()),a.loading=!0,a.snapshot.external=b,c.$broadcast("refresh"),f(function(){a.saveSnapshot(b)},1e3*a.snapshot.timeoutSeconds)},a.saveSnapshot=function(b){var c=a.dashboard.getSaveModelClone();a.scrubDashboard(c);var f={dashboard:c,name:c.title,expires:a.snapshot.expires},g=b?a.externalUrl+a.apiUrl:a.apiUrl;e.post(g,f).then(function(c){if(a.loading=!1,b)a.deleteUrl=c.deleteUrl,a.snapshotUrl=c.url,a.saveExternalSnapshotRef(f,c);else{var e=d.url(),g=d.absUrl();"/"!==e&&(g=g.replace(e,"")+"/"),a.snapshotUrl=g+"dashboard/snapshot/"+c.key,a.deleteUrl=g+"api/snapshots-delete/"+c.deleteKey}a.step=2},function(){a.loading=!1})},a.scrubDashboard=function(c){if(c.title=a.snapshot.name,c.time=g.timeRange(),c.forEachPanel(function(a){a.targets=[],a.links=[],a.datasource=null}),c.annotations.list=b.chain(c.annotations.list).filter(function(a){return a.enable}).map(function(a){return{name:a.name,enable:a.enable,iconColor:a.iconColor,snapshotData:a.snapshotData}}).value(),b.each(c.templating.list,function(a){a.query="",a.options=a.current,a.refresh=!1}),a.modeSharePanel){var d=c.getPanelById(a.panel.id);d.span=12,c.rows=[{height:"500px",span:12,panels:[d]}]}delete a.dashboard.snapshot,a.dashboard.forEachPanel(function(a){delete a.snapshotData}),b.each(a.dashboard.annotations.list,function(a){delete a.snapshotData})},a.deleteSnapshot=function(){e.get(a.deleteUrl).then(function(){a.step=3})},a.saveExternalSnapshotRef=function(a,b){a.external=!0,a.key=b.key,a.deleteKey=b.deleteKey,e.post("/api/snapshots/",a)}}])})}(),System.register("app/core/utils/sort_by_keys.js",["lodash"],function(a,b){"use strict";function c(a){if(d.default.isArray(a))return a.map(c);if(d.default.isPlainObject(a)){for(var b={},e=0,f=d.default.keys(a).sort();e<f.length;e++){var g=f[e];b[g]=c(a[g])}return b}return a}b&&b.id;a("default",c);var d;return{setters:[function(a){d=a}],execute:function(){}}}),System.register("app/features/dashboard/model.js",["angular","moment","lodash","jquery","app/core/core","./row/row_model","app/core/utils/sort_by_keys"],function(a,b){"use strict";var c,d,e,f,g,h,i,j;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a}],execute:function(){j=function(){function a(a,b){if(a||(a={}),this.events=new g.Emitter,this.id=a.id||null,this.revision=a.revision,this.title=a.title||"No Title",this.autoUpdate=a.autoUpdate,this.description=a.description,this.tags=a.tags||[],this.style=a.style||"dark",this.timezone=a.timezone||"",this.editable=a.editable!==!1,this.graphTooltip=a.graphTooltip||0,this.hideControls=a.hideControls||!1,this.time=a.time||{from:"now-6h",to:"now"},this.timepicker=a.timepicker||{},this.templating=this.ensureListExist(a.templating),this.annotations=this.ensureListExist(a.annotations),this.refresh=a.refresh,this.snapshot=a.snapshot,this.schemaVersion=a.schemaVersion||0,this.version=a.version||0,this.links=a.links||[],this.gnetId=a.gnetId||null,this.rows=[],a.rows)for(var c=0,d=a.rows;c<d.length;c++){var e=d[c];this.rows.push(new h.DashboardRow(e))}this.updateSchema(a),this.initMeta(b)}return a.prototype.initMeta=function(a){a=a||{},a.canShare=a.canShare!==!1,a.canSave=a.canSave!==!1,a.canStar=a.canStar!==!1,a.canEdit=a.canEdit!==!1,this.editable||(a.canEdit=!1,a.canDelete=!1,a.canSave=!1),this.meta=a},a.prototype.getSaveModelClone=function(){var a=this.events,b=this.meta,c=this.rows,d=this.templating.list;delete this.events,delete this.meta,this.rows=e.default.map(c,function(a){return a.getSaveModel()}),this.templating.list=e.default.map(d,function(a){return a.getSaveModel?a.getSaveModel():a});var g=f.default.extend(!0,{},this);return g=i.default(g),this.events=a,this.meta=b,this.rows=c,this.templating.list=d,g},a.prototype.addEmptyRow=function(){this.rows.push(new h.DashboardRow({isNew:!0}))},a.prototype.ensureListExist=function(a){return a||(a={}),a.list||(a.list=[]),a},a.prototype.getNextPanelId=function(){var a,b,c,d,e=0;for(a=0;a<this.rows.length;a++)for(c=this.rows[a],b=0;b<c.panels.length;b++)d=c.panels[b],d.id>e&&(e=d.id);return e+1},a.prototype.forEachPanel=function(a){var b,c,d;for(b=0;b<this.rows.length;b++)for(d=this.rows[b],c=0;c<d.panels.length;c++)a(d.panels[c],c,d,b)},a.prototype.getPanelById=function(a){for(var b=0;b<this.rows.length;b++)for(var c=this.rows[b],d=0;d<c.panels.length;d++){var e=c.panels[d];if(e.id===a)return e}return null},a.prototype.addPanel=function(a,b){a.id=this.getNextPanelId(),b.addPanel(a)},a.prototype.removeRow=function(a,b){var c=this,d=e.default.indexOf(this.rows,a);return!a.panels.length||b?(this.rows.splice(d,1),void a.destroy()):void g.appEvents.emit("confirm-modal",{title:"Remove Row",text:"Are you sure you want to remove this row?",icon:"fa-trash",yesText:"Delete",onConfirm:function(){c.rows.splice(d,1),a.destroy()}})},a.prototype.setPanelFocus=function(a){this.meta.focusPanelId=a},a.prototype.updateSubmenuVisibility=function(){var a=this;this.meta.submenuEnabled=function(){if(a.links.length>0)return!0;var b=e.default.filter(a.templating.list,function(a){return 2!==a.hide});if(b.length>0)return!0;var c=e.default.filter(a.annotations.list,function(a){return a.hide!==!0});return c.length>0}()},a.prototype.getPanelInfoById=function(a){var b={};return e.default.each(this.rows,function(c){e.default.each(c.panels,function(d,e){d.id===a&&(b.panel=d,b.row=c,b.index=e)})}),b.panel?b:null},a.prototype.duplicatePanel=function(a,b){var d=c.default.copy(a);return d.id=this.getNextPanelId(),delete d.repeat,delete d.repeatIteration,delete d.repeatPanelId,delete d.scopedVars,delete d.alert,b.addPanel(d),d},a.prototype.formatDate=function(a,b){return a=d.default.isMoment(a)?a:d.default(a),b=b||"YYYY-MM-DD HH:mm:ss",this.timezone=this.getTimezone(),"browser"===this.timezone?d.default(a).format(b):d.default.utc(a).format(b)},a.prototype.destroy=function(){this.events.removeAllListeners();for(var a=0,b=this.rows;a<b.length;a++){var c=b[a];c.destroy()}},a.prototype.cycleGraphTooltip=function(){this.graphTooltip=(this.graphTooltip+1)%3},a.prototype.sharedTooltipModeEnabled=function(){return this.graphTooltip>0},a.prototype.sharedCrosshairModeOnly=function(){return 1===this.graphTooltip},a.prototype.getRelativeTime=function(a){return a=d.default.isMoment(a)?a:d.default(a),"browser"===this.timezone?d.default(a).fromNow():d.default.utc(a).fromNow()},a.prototype.getNextQueryLetter=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e.default.find(b,function(b){return e.default.every(a.targets,function(a){return a.refId!==b})})},a.prototype.isTimezoneUtc=function(){return"utc"===this.getTimezone()},a.prototype.getTimezone=function(){return this.timezone?this.timezone:g.contextSrv.user.timezone},a.prototype.updateSchema=function(a){var b,c,d,f=this.schemaVersion,g=[];if(this.schemaVersion=14,f!==this.schemaVersion){if(f<2&&(a.services&&a.services.filter&&(this.time=a.services.filter.time,this.templating.list=a.services.filter.list||[]),g.push(function(a){"graphite"===a.type&&(a.type="graph"),"graph"===a.type&&(e.default.isBoolean(a.legend)&&(a.legend={show:a.legend}),a.grid&&(a.grid.min&&(a.grid.leftMin=a.grid.min,
delete a.grid.min),a.grid.max&&(a.grid.leftMax=a.grid.max,delete a.grid.max)),a.y_format&&(a.y_formats[0]=a.y_format,delete a.y_format),a.y2_format&&(a.y_formats[1]=a.y2_format,delete a.y2_format))})),f<3){var h=this.getNextPanelId();g.push(function(a){a.id||(a.id=h,h+=1)})}if(f<4&&g.push(function(a){"graph"===a.type&&(e.default.each(a.aliasYAxis,function(b,c){a.seriesOverrides=[{alias:c,yaxis:b}]}),delete a.aliasYAxis)}),f<6){var i=e.default.find(a.pulldowns,{type:"annotations"});for(i&&(this.annotations={list:i.annotations||[]}),b=0;b<this.templating.list.length;b++){var j=this.templating.list[b];void 0===j.datasource&&(j.datasource=null),"filter"===j.type&&(j.type="query"),void 0===j.type&&(j.type="query"),void 0===j.allFormat&&(j.allFormat="glob")}}if(f<7&&(a.nav&&a.nav.length&&(this.timepicker=a.nav[0]),g.push(function(a){e.default.each(a.targets,function(b){b.refId||(b.refId=this.getNextQueryLetter(a))}.bind(this))})),f<8&&g.push(function(a){e.default.each(a.targets,function(a){a.fields&&a.tags&&a.groupBy&&(a.rawQuery?(delete a.fields,delete a.fill):(a.select=e.default.map(a.fields,function(a){var b=[];return b.push({type:"field",params:[a.name]}),b.push({type:a.func,params:[]}),a.mathExpr&&b.push({type:"math",params:[a.mathExpr]}),a.asExpr&&b.push({type:"alias",params:[a.asExpr]}),b}),delete a.fields,e.default.each(a.groupBy,function(a){"time"===a.type&&a.interval&&(a.params=[a.interval],delete a.interval),"tag"===a.type&&a.key&&(a.params=[a.key],delete a.key)}),a.fill&&(a.groupBy.push({type:"fill",params:[a.fill]}),delete a.fill)))})}),f<9&&g.push(function(a){if(("singlestat"===a.type||""===a.thresholds)&&a.thresholds){var b=a.thresholds.split(",");b.length>=3&&(b.shift(),a.thresholds=b.join(","))}}),f<10&&g.push(function(a){"table"===a.type&&e.default.each(a.styles,function(a){if(a.thresholds&&a.thresholds.length>=3){var b=a.thresholds;b.shift(),a.thresholds=b}})}),f<12&&e.default.each(this.templating.list,function(a){a.refresh&&(a.refresh=1),a.refresh||(a.refresh=0),a.hideVariable?a.hide=2:a.hideLabel&&(a.hide=1)}),f<12&&g.push(function(a){"graph"===a.type&&a.grid&&(a.yaxes||(a.yaxes=[{show:a["y-axis"],min:a.grid.leftMin,max:a.grid.leftMax,logBase:a.grid.leftLogBase,format:a.y_formats[0],label:a.leftYAxisLabel},{show:a["y-axis"],min:a.grid.rightMin,max:a.grid.rightMax,logBase:a.grid.rightLogBase,format:a.y_formats[1],label:a.rightYAxisLabel}],a.xaxis={show:a["x-axis"]},delete a.grid.leftMin,delete a.grid.leftMax,delete a.grid.leftLogBase,delete a.grid.rightMin,delete a.grid.rightMax,delete a.grid.rightLogBase,delete a.y_formats,delete a.leftYAxisLabel,delete a.rightYAxisLabel,delete a["y-axis"],delete a["x-axis"]))}),f<13&&g.push(function(a){if("graph"===a.type&&a.grid){a.thresholds=[];var b={},c={};null!==a.grid.threshold1&&(b.value=a.grid.threshold1,a.grid.thresholdLine?(b.line=!0,b.lineColor=a.grid.threshold1Color,b.colorMode="custom"):(b.fill=!0,b.fillColor=a.grid.threshold1Color,b.colorMode="custom")),null!==a.grid.threshold2&&(c.value=a.grid.threshold2,a.grid.thresholdLine?(c.line=!0,c.lineColor=a.grid.threshold2Color,c.colorMode="custom"):(c.fill=!0,c.fillColor=a.grid.threshold2Color,c.colorMode="custom")),e.default.isNumber(b.value)&&(e.default.isNumber(c.value)?b.value>c.value?(b.op=c.op="lt",a.thresholds.push(b),a.thresholds.push(c)):(b.op=c.op="gt",a.thresholds.push(b),a.thresholds.push(c)):(b.op="gt",a.thresholds.push(b))),delete a.grid.threshold1,delete a.grid.threshold1Color,delete a.grid.threshold2,delete a.grid.threshold2Color,delete a.grid.thresholdLine}}),f<14&&(this.graphTooltip=a.sharedCrosshair?1:0),0!==g.length)for(b=0;b<this.rows.length;b++){var k=this.rows[b];for(c=0;c<k.panels.length;c++)for(d=0;d<g.length;d++)g[d].call(this,k.panels[c])}}},a}(),a("DashboardModel",j)}}}),System.register("app/features/dashboard/dashboard_srv.js",["app/core/core_module","./model"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c){this.backendSrv=a,this.$rootScope=b,this.$location=c}return a.$inject=["backendSrv","$rootScope","$location"],a.prototype.create=function(a,b){return new d.DashboardModel(a,b)},a.prototype.setCurrent=function(a){this.dash=a},a.prototype.getCurrent=function(){return this.dash},a.prototype.saveDashboard=function(a){var b=this;if(!this.dash.meta.canSave&&a.makeEditable!==!0)return Promise.resolve();if("New dashboard"===this.dash.title)return this.saveDashboardAs();var c=this.dash.getSaveModelClone();return this.backendSrv.saveDashboard(c,a).then(function(a){b.dash.version=a.version,b.$rootScope.appEvent("dashboard-saved",b.dash);var d="/dashboard/db/"+a.slug;d!==b.$location.path()&&b.$location.url(d),b.$rootScope.appEvent("alert-success",["Dashboard saved","Saved as "+c.title])}).catch(this.handleSaveDashboardError.bind(this))},a.prototype.handleSaveDashboardError=function(a){var b=this;a.data&&"version-mismatch"===a.data.status&&(a.isHandled=!0,this.$rootScope.appEvent("confirm-modal",{title:"Conflict",text:"Someone else has updated this dashboard.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){b.saveDashboard({overwrite:!0})}})),a.data&&"name-exists"===a.data.status&&(a.isHandled=!0,this.$rootScope.appEvent("confirm-modal",{title:"Conflict",text:"Dashboard with the same name exists.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){b.saveDashboard({overwrite:!0})}})),a.data&&"plugin-dashboard"===a.data.status&&(a.isHandled=!0,this.$rootScope.appEvent("confirm-modal",{title:"Plugin Dashboard",text:a.data.message,text2:"Your changes will be lost when you update the plugin. Use Save As to create custom version.",yesText:"Overwrite",icon:"fa-warning",altActionText:"Save As",onAltAction:function(){b.saveDashboardAs()},onConfirm:function(){b.saveDashboard({overwrite:!0})}}))},a.prototype.saveDashboardAs=function(){var a=this.$rootScope.$new();a.clone=this.dash.getSaveModelClone(),a.clone.editable=!0,a.clone.hideControls=!1,this.$rootScope.appEvent("show-modal",{src:"public/app/features/dashboard/partials/saveDashboardAs.html",scope:a,modalClass:"modal--narrow"})},a}(),a("DashboardSrv",e),c.default.service("dashboardSrv",e)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/viewStateSrv.js",["angular","lodash","jquery","app/core/config"],function(a,b,c,d){"use strict";var e=a.module("grafana.services");e.factory("dashboardViewStateSrv",["$location","$timeout",function(a,e){function f(a){var b=this;b.state={},b.panelScopes=[],b.$scope=a,b.dashboard=a.dashboard,a.exitFullscreen=function(){b.state.fullscreen&&b.update({fullscreen:!1})},a.onAppEvent("$routeUpdate",function(){var a=b.getQueryStringState();b.needsSync(a)&&b.update(a,!0)}),a.onAppEvent("panel-change-view",function(a,c){b.update(c)}),a.onAppEvent("panel-initialized",function(a,c){b.registerPanel(c.scope)}),this.update(this.getQueryStringState()),this.expandRowForPanel()}return f.prototype.expandRowForPanel=function(){if(this.state.panelId){var a=this.$scope.dashboard.getPanelInfoById(this.state.panelId);a&&(a.row.collapse=!1)}},f.prototype.needsSync=function(a){return b.isEqual(this.state,a)===!1},f.prototype.getQueryStringState=function(){var b=a.search();return b.panelId=parseInt(b.panelId)||null,b.fullscreen=!!b.fullscreen||null,b.edit="true"===b.edit||b.edit===!0||null,b.editview=b.editview||null,b.orgId=d.bootData.user.orgId,b},f.prototype.serializeToUrl=function(){var a=b.clone(this.state);return a.fullscreen=!!this.state.fullscreen||null,a.edit=!!this.state.edit||null,a},f.prototype.update=function(c,d){c.toggle&&(delete c.toggle,this.state.fullscreen&&c.fullscreen&&this.state.edit===c.edit&&(c.fullscreen=!c.fullscreen)),this.editStateChanged=c.edit!==this.state.edit,b.extend(this.state,c),this.dashboard.meta.fullscreen=this.state.fullscreen,this.state.fullscreen||(this.state.fullscreen=null,this.state.edit=null,this.dashboard.meta.soloMode||(this.state.panelId=null)),this.state.edit||delete this.state.tab,d!==!0&&a.search(this.serializeToUrl()),this.syncState()},f.prototype.syncState=function(){if(0!==this.panelScopes.length)if(this.dashboard.meta.fullscreen){var a=this.getPanelScope(this.state.panelId);if(!a)return;if(this.fullscreenPanel){if(this.fullscreenPanel===a&&this.editStateChanged===!1)return;this.leaveFullscreen(!1)}a.ctrl.editModeInitiated||a.ctrl.initEditMode(),a.ctrl.fullscreen||this.enterFullscreen(a)}else this.fullscreenPanel&&this.leaveFullscreen(!0)},f.prototype.getPanelScope=function(a){return b.find(this.panelScopes,function(b){return b.ctrl.panel.id===a})},f.prototype.leaveFullscreen=function(a){var b=this,c=b.fullscreenPanel.ctrl;return c.editMode=!1,c.fullscreen=!1,c.dashboard.editMode=this.oldDashboardEditMode,this.$scope.appEvent("panel-fullscreen-exit",{panelId:c.panel.id}),!!a&&void e(function(){b.oldTimeRange!==c.range?b.$scope.broadcastRefresh():b.$scope.$broadcast("render"),delete b.fullscreenPanel})},f.prototype.enterFullscreen=function(a){var b=a.ctrl;b.editMode=this.state.edit&&this.dashboard.meta.canEdit,b.fullscreen=!0,this.oldDashboardEditMode=this.dashboard.editMode,this.oldTimeRange=b.range,this.fullscreenPanel=a,this.dashboard.editMode=!1,c(window).scrollTop(0),this.$scope.appEvent("panel-fullscreen-enter",{panelId:b.panel.id}),e(function(){b.render()})},f.prototype.registerPanel=function(a){var c=this;c.panelScopes.push(a),c.dashboard.meta.soloMode||c.state.panelId===a.ctrl.panel.id&&(c.state.edit?a.ctrl.editPanel():a.ctrl.viewPanel());var d=a.$on("$destroy",function(){c.panelScopes=b.without(c.panelScopes,a),d()})},{create:function(a){return new f(a)}}}])})}(),System.register("app/features/dashboard/time_srv.js",["moment","lodash","app/core/core_module","app/core/utils/kbn","app/core/utils/datemath"],function(a,b){"use strict";var c,d,e,f,g,h;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=function(){function a(a,b,c,d,e){var f=this;this.$rootScope=a,this.$timeout=b,this.$location=c,this.timer=d,this.contextSrv=e,this.time={from:"6h",to:"now"},a.$on("zoom-out",this.zoomOut.bind(this)),a.$on("$routeUpdate",this.routeUpdated.bind(this)),document.addEventListener("visibilitychange",function(){f.autoRefreshBlocked&&"visible"===document.visibilityState&&(f.autoRefreshBlocked=!1,f.refreshDashboard())})}return a.$inject=["$rootScope","$timeout","$location","timer","contextSrv"],a.prototype.init=function(a){this.timer.cancelAll(),this.dashboard=a,this.time=a.time,this.refresh=a.refresh,this.initTimeFromUrl(),this.parseTime(),this.timeAtLoad=d.default.cloneDeep(this.time),this.refresh&&this.setAutoRefresh(this.refresh)},a.prototype.parseTime=function(){d.default.isString(this.time.from)&&this.time.from.indexOf("Z")>=0&&(this.time.from=c.default(this.time.from).utc()),d.default.isString(this.time.to)&&this.time.to.indexOf("Z")>=0&&(this.time.to=c.default(this.time.to).utc())},a.prototype.parseUrlParam=function(a){if(a.indexOf("now")!==-1)return a;if(8===a.length)return c.default.utc(a,"YYYYMMDD");if(15===a.length)return c.default.utc(a,"YYYYMMDDTHHmmss");if(!isNaN(a)){var b=parseInt(a);return c.default.utc(b)}return null},a.prototype.initTimeFromUrl=function(){var a=this.$location.search();a.from&&(this.time.from=this.parseUrlParam(a.from)||this.time.from),a.to&&(this.time.to=this.parseUrlParam(a.to)||this.time.to),a.refresh&&(this.refresh=a.refresh||this.refresh)},a.prototype.routeUpdated=function(){var a=this.$location.search(),b=this.timeRangeForUrl();a.from&&a.to?a.from===b.from&&a.to===b.to||(this.initTimeFromUrl(),this.setTime(this.time,!0)):this.timeHasChangedSinceLoad()&&this.setTime(this.timeAtLoad,!0)},a.prototype.timeHasChangedSinceLoad=function(){return this.timeAtLoad.from!==this.time.from||this.timeAtLoad.to!==this.time.to},a.prototype.setAutoRefresh=function(a){var b=this;if(this.dashboard.refresh=a,a){var c=f.default.interval_to_ms(a);this.$timeout(function(){b.startNextRefreshTimer(c),b.refreshDashboard()},c)}else this.cancelNextRefresh();if(a){var d=this.$location.search();d.refresh=a,this.$location.search(d)}},a.prototype.refreshDashboard=function(){this.$rootScope.$broadcast("refresh")},a.prototype.startNextRefreshTimer=function(a){var b=this;this.cancelNextRefresh(),this.refreshTimer=this.timer.register(this.$timeout(function(){b.startNextRefreshTimer(a),b.contextSrv.isGrafanaVisible()?b.refreshDashboard():b.autoRefreshBlocked=!0},a))},a.prototype.cancelNextRefresh=function(){this.timer.cancel(this.refreshTimer)},a.prototype.setTime=function(a,b){if(d.default.extend(this.time,a),c.default.isMoment(a.to)?(this.oldRefresh=this.dashboard.refresh||this.oldRefresh,this.setAutoRefresh(!1)):this.oldRefresh&&this.oldRefresh!==this.dashboard.refresh&&(this.setAutoRefresh(this.oldRefresh),this.oldRefresh=null),b!==!0){var e=this.timeRangeForUrl(),f=this.$location.search();f.from=e.from,f.to=e.to,this.$location.search(f)}this.$rootScope.appEvent("time-range-changed",this.time),this.$timeout(this.refreshDashboard.bind(this),0)},a.prototype.timeRangeForUrl=function(){var a=this.timeRange().raw;return c.default.isMoment(a.from)&&(a.from=a.from.valueOf().toString()),c.default.isMoment(a.to)&&(a.to=a.to.valueOf().toString()),a},a.prototype.timeRange=function(){var a={from:c.default.isMoment(this.time.from)?c.default(this.time.from):this.time.from,to:c.default.isMoment(this.time.to)?c.default(this.time.to):this.time.to};return{from:g.parse(a.from,!1),to:g.parse(a.to,!0),raw:a}},a.prototype.zoomOut=function(a,b){var d=this.timeRange(),e=d.to.valueOf()-d.from.valueOf(),f=d.to.valueOf()-e/2,g=f+e*b/2,h=f-e*b/2;if(g>Date.now()&&d.to<=Date.now()){var i=g-Date.now();h-=i,g=Date.now()}this.setTime({from:c.default.utc(h),to:c.default.utc(g)})},a}(),e.default.service("timeSrv",h)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/unsavedChangesSrv.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.services");c.service("unsavedChangesSrv",["$rootScope","$q","$location","$timeout","contextSrv","$window",function(c,d,e,f,g,h){function i(a,b,c){var d=this;this.current=a,this.originalPath=e.path(),this.scope=b,b.onAppEvent("dashboard-saved",function(){this.original=this.current.getSaveModelClone(),this.originalPath=e.path()}.bind(this)),h.onbeforeunload=function(){if(!d.ignoreChanges())return d.hasChanges()?"There are unsaved changes to this dashboard":void 0},b.$on("$locationChangeStart",function(a,b){return d.originalPath===e.path()||(!!d.ignoreChanges()||void(d.hasChanges()&&(a.preventDefault(),d.next=b,f(function(){d.open_modal()}))))}),c?f(function(){d.original=a.getSaveModelClone()},c):d.original=a.getSaveModelClone()}var j=i.prototype;j.ignoreChanges=function(){if(!this.original)return!0;if(!g.isEditor)return!0;if(!this.current||!this.current.meta)return!0;var a=this.current.meta;return!a.canSave||a.fromScript||a.fromFile},j.cleanDashboardFromIgnoredChanges=function(a){a.time=0,a.refresh=0,a.schemaVersion=0,a.editMode=!1,a.rows=b.filter(a.rows,function(a){return!a.repeatRowId&&(a.panels=b.filter(a.panels,function(a){return!a.repeatPanelId&&(a.scopedVars=null,a.span=null,a.legend&&(delete a.legend.sort,delete a.legend.sortDesc),!0)}),a.collapse=!1,!0)}),b.each(a.templating.list,function(a){a.current=null,a.options=null,a.filters=null})},j.hasChanges=function(){var c=this.current.getSaveModelClone(),d=this.original;this.cleanDashboardFromIgnoredChanges(c),this.cleanDashboardFromIgnoredChanges(d);var e=b.find(c.nav,{type:"timepicker"}),f=b.find(d.nav,{type:"timepicker"});e&&f&&(e.now=f.now);var g=a.toJson(c),h=a.toJson(d);return g!==h},j.open_modal=function(){var a=this,b=this.scope.$new();b.ignore=function(){a.original=null,a.goto_next()},b.save=function(){var b=c.$on("dashboard-saved",function(){b(),f(function(){a.goto_next()})});c.$emit("save-dashboard")},c.appEvent("show-modal",{src:"public/app/partials/unsaved-changes.html",modalClass:"confirm-modal",scope:b})},j.goto_next=function(){var a=e.absUrl().length-e.url().length,b=this.next.substring(a);e.url(b)},this.Tracker=i,this.init=function(a,b){return new i(a,b,1e3)}}])})}(),System.register("app/features/dashboard/timepicker/input_date.js",["moment","app/core/utils/datemath"],function(a,b){"use strict";function c(){return{restrict:"A",require:"ngModel",link:function(a,b,c,f){var g="YYYY-MM-DD HH:mm:ss",h=function(b){if(b.indexOf("now")!==-1)return e.isValid(b)?(f.$setValidity("error",!0),b):void f.$setValidity("error",!1);var c;return c=a.ctrl.isUtc?d.default.utc(b,g):d.default(b,g),c.isValid()?(f.$setValidity("error",!0),c):void f.$setValidity("error",!1)},i=function(a){return d.default.isMoment(a)?a.format(g):a};f.$parsers.push(h),f.$formatters.push(i)}}}b&&b.id;a("inputDateDirective",c);var d,e;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("app/features/dashboard/timepicker/timepicker.js",["lodash","angular","moment","app/core/utils/rangeutil","./input_date"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/timepicker/settings.html",controller:i,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}function d(){return{restrict:"E",templateUrl:"public/app/features/dashboard/timepicker/timepicker.html",controller:i,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}b&&b.id;a("settingsDirective",c),a("timePickerDirective",d);var e,f,g,h,i,j;return{setters:[function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){j=a}],execute:function(){i=function(){function a(a,b,c){var d=this;this.$scope=a,this.$rootScope=b,this.timeSrv=c,a.ctrl=this,b.onAppEvent("shift-time-forward",function(){return d.move(1)},a),b.onAppEvent("shift-time-backward",function(){return d.move(-1)},a),b.onAppEvent("refresh",function(){return d.init()},a),b.onAppEvent("dash-editor-hidden",function(){return d.isOpen=!1},a),this.init()}return a.$inject=["$scope","$rootScope","timeSrv"],a.prototype.init=function(){this.panel=this.dashboard.timepicker,e.default.defaults(this.panel,a.defaults),this.firstDayOfWeek=g.default.localeData().firstDayOfWeek();var b=f.default.copy(this.timeSrv.timeRange()),c=f.default.copy(b.raw);this.dashboard.isTimezoneUtc()?this.isUtc=!0:(b.from.local(),b.to.local(),g.default.isMoment(c.from)&&c.from.local(),g.default.isMoment(c.to)&&c.to.local()),this.rangeString=h.describeTimeRange(c),this.absolute={fromJs:b.from.toDate(),toJs:b.to.toDate()},this.tooltip=this.dashboard.formatDate(b.from)+" <br>to<br>",this.tooltip+=this.dashboard.formatDate(b.to),this.isOpen||(this.timeRaw=c)},a.prototype.zoom=function(a){this.$rootScope.appEvent("zoom-out",2)},a.prototype.move=function(a){var b,c,d=this.timeSrv.timeRange(),e=(d.to.valueOf()-d.from.valueOf())/2;a===-1?(b=d.to.valueOf()-e,c=d.from.valueOf()-e):1===a?(b=d.to.valueOf()+e,c=d.from.valueOf()+e,b>Date.now()&&d.to<Date.now()&&(b=Date.now(),c=d.from.valueOf())):(b=d.to.valueOf(),c=d.from.valueOf()),this.timeSrv.setTime({from:g.default.utc(c),to:g.default.utc(b)})},a.prototype.openDropdown=function(){this.init(),this.isOpen=!0,this.timeOptions=h.getRelativeTimesList(this.panel,this.rangeString),this.refresh={value:this.dashboard.refresh,options:e.default.map(this.panel.refresh_intervals,function(a){return{text:a,value:a}})},this.refresh.options.unshift({text:"off"}),this.$rootScope.appEvent("show-dash-editor",{src:"public/app/features/dashboard/timepicker/dropdown.html",scope:this.$scope,cssClass:"gf-timepicker-dropdown"})},a.prototype.applyCustom=function(){this.refresh.value!==this.dashboard.refresh&&this.timeSrv.setAutoRefresh(this.refresh.value),this.timeSrv.setTime(this.timeRaw),this.$rootScope.appEvent("hide-dash-editor")},a.prototype.absoluteFromChanged=function(){this.timeRaw.from=this.getAbsoluteMomentForTimezone(this.absolute.fromJs)},a.prototype.absoluteToChanged=function(){this.timeRaw.to=this.getAbsoluteMomentForTimezone(this.absolute.toJs)},a.prototype.getAbsoluteMomentForTimezone=function(a){return this.dashboard.isTimezoneUtc()?g.default(a).utc():g.default(a)},a.prototype.setRelativeFilter=function(a){var b={from:a.from,to:a.to};this.panel.nowDelay&&"now"===b.to&&(b.to="now-"+this.panel.nowDelay),this.timeSrv.setTime(b),this.$rootScope.appEvent("hide-dash-editor")},a}(),i.tooltipFormat="MMM D, YYYY HH:mm:ss",i.defaults={time_options:["5m","15m","1h","6h","12h","24h","2d","7d","30d"],refresh_intervals:["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},a("TimePickerCtrl",i),f.default.module("grafana.directives").directive("gfTimePickerSettings",c),f.default.module("grafana.directives").directive("gfTimePicker",d),f.default.module("grafana.directives").directive("inputDatetime",j.inputDateDirective)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/graphiteImportCtrl.js",["angular","lodash","app/core/utils/kbn"],function(a,b,c){"use strict";var d=a.module("grafana.controllers");d.controller("GraphiteImportCtrl",["$scope","datasourceSrv","dashboardSrv","$location",function(d,e,f,g){function h(d,e){var h,i,j,k=2,l=300;h={title:"",panels:[],height:l},i=a.copy(h);var m=f.create({});m.rows=[],m.title=d.name,m.rows.push(i),b.each(d.graphs,function(c,d){i.panels.length===k&&(i=a.copy(h),m.rows.push(i)),j={type:"graph",span:12/k,title:c[1].title,targets:[],datasource:e,id:d+1},b.each(c[1].target,function(a){j.targets.push({target:a})}),i.panels.push(j)}),window.grafanaImportDashboard=m,g.path("/dashboard-import/"+c.slugifyForUrl(m.title))}d.options={},d.init=function(){d.datasources=[],b.each(e.getAll(),function(a){"graphite"===a.type&&(d.options.sourceName=a.name,d.datasources.push(a.name))})},d.listAll=function(){e.get(d.options.sourceName).then(function(a){d.datasource=a,d.datasource.listDashboards("").then(function(a){d.dashboards=a},function(a){var b=a.message||a.statusText||"Error";d.appEvent("alert-error",["Failed to load dashboard list from graphite",b])})})},d.import=function(a){d.datasource.loadDashboard(a).then(function(a){if(!a.data||!a.data.state)throw{message:"no dashboard state received from graphite"};h(a.data.state,d.datasource.name)},function(a){var b=a.message||a.statusText||"Error";d.appEvent("alert-error",["Failed to load dashboard from graphite",b])})}}])})}(),System.register("app/features/dashboard/upload.js",["app/core/core_module"],function(a,b){"use strict";function c(a,b,c){return{restrict:"E",template:e,scope:{onUpload:"&"},link:function(a){function c(b){for(var c,d=b.target.files,e=function(){return function(b){var c;try{c=JSON.parse(b.target.result)}catch(b){return console.log(b),void a.appEvent("alert-error",["Import failed","JSON -> JS Serialization failed: "+b.message])}a.$apply(function(){a.onUpload({dash:c})})}},f=0;c=d[f];f++){var g=new FileReader;g.onload=e(),g.readAsText(c)}}var d=window;d.File&&d.FileReader&&d.FileList&&d.Blob?document.getElementById("dashupload").addEventListener("change",c,!1):b.set("Oops","Sorry, the HTML5 File APIs are not fully supported in this browser.","error")}}}c.$inject=["timer","alertSrv","$location"];var d,e;b&&b.id;return{setters:[function(a){d=a}],execute:function(){e='\n<input type="file" id="dashupload" name="dashupload" class="hide"/>\n<label class="btn btn-secondary" for="dashupload">\n  <i class="fa fa-upload"></i>\n  Upload .json File\n</label>\n',d.default.directive("dashUpload",c)}}}),System.register("app/features/dashboard/import/dash_import.js",["app/core/core_module","app/core/config","lodash"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/import/dash_import.html",controller:g,bindToController:!0,controllerAs:"ctrl"}}b&&b.id;a("dashImportDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,d){this.backendSrv=a,this.$location=b,this.$scope=c,this.$routeParams=d,this.step=1,this.nameExists=!1,d.gnetId&&(this.gnetUrl=d.gnetId,this.checkGnetDashboard())}return a.$inject=["backendSrv","$location","$scope","$routeParams"],a.prototype.onUpload=function(a){if(this.dash=a,this.dash.id=null,this.step=2,this.inputs=[],this.dash.__inputs)for(var b=0,c=this.dash.__inputs;b<c.length;b++){var d=c[b],e={name:d.name,label:d.label,info:d.description,value:d.value,type:d.type,pluginId:d.pluginId,options:[]};"datasource"===d.type?this.setDatasourceOptions(d,e):e.info||(e.info="Specify a string constant"),this.inputs.push(e)}this.inputsValid=0===this.inputs.length,this.titleChanged()},a.prototype.setDatasourceOptions=function(a,b){var c=f.default.filter(e.default.datasources,function(b){return b.type===a.pluginId});0===c.length?b.info="No data sources of type "+a.pluginName+" found":b.info||(b.info="Select a "+a.pluginName+" data source"),b.options=c.map(function(a){return{text:a.name,value:a.name}})},a.prototype.inputValueChanged=function(){this.inputsValid=!0;for(var a=0,b=this.inputs;a<b.length;a++){var c=b[a];c.value||(this.inputsValid=!1)}},a.prototype.titleChanged=function(){var a=this;this.backendSrv.search({query:this.dash.title}).then(function(b){a.nameExists=!1;for(var c=0,d=b;c<d.length;c++){var e=d[c];if(a.dash.title===e.title){a.nameExists=!0;break}}})},a.prototype.saveDashboard=function(){var a=this,b=this.inputs.map(function(a){return{name:a.name,type:a.type,pluginId:a.pluginId,value:a.value}});return this.backendSrv.post("api/dashboards/import",{dashboard:this.dash,overwrite:!0,inputs:b}).then(function(b){a.$location.url("dashboard/"+b.importedUri),a.$scope.dismiss()})},a.prototype.loadJsonText=function(){try{this.parseError="";var a=JSON.parse(this.jsonText);this.onUpload(a)}catch(a){return console.log(a),void(this.parseError=a.message)}},a.prototype.checkGnetDashboard=function(){var a=this;this.gnetError="";var b,c=/(^\d+$)|dashboards\/(\d+)/.exec(this.gnetUrl);return c&&c[1]?b=c[1]:c&&c[2]?b=c[2]:this.gnetError="Could not find dashboard",this.backendSrv.get("api/gnet/dashboards/"+b).then(function(b){a.gnetInfo=b,b.json.gnetId=b.id,a.onUpload(b.json)}).catch(function(b){b.isHandled=!0,a.gnetError=b.data.message||b})},a.prototype.back=function(){this.gnetUrl="",this.step=1,this.gnetError="",this.gnetInfo=""},a}(),a("DashImportCtrl",g),d.default.directive("dashImport",c)}}}),System.register("app/features/dashboard/row/row_model.js",["lodash","app/core/core"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a){this.model=a,this.defaults={title:"Dashboard Row",panels:[],showTitle:!1,titleSize:"h6",height:250,isNew:!1,repeat:null,repeatRowId:null,repeatIteration:null,collapse:!1},d.assignModelProperties(this,a,this.defaults),this.events=new d.Emitter,this.updateRowSpan()}return a.prototype.getSaveModel=function(){return this.model={},d.assignModelProperties(this.model,this,this.defaults),delete this.model.isNew,this.model},a.prototype.updateRowSpan=function(){this.span=0;for(var a=0,b=this.panels;a<b.length;a++){var c=b[a];this.span+=c.span}},a.prototype.panelSpanChanged=function(a){var b=this.span;this.updateRowSpan(),(a||b!==this.span)&&this.events.emit("span-changed")},a.prototype.addPanel=function(a){var b=this.span,c=this.panels.length,d=12-b-a.span;d<=0&&(1===c?(this.panels[0].span=6,a.span=6):2===c?(this.panels[0].span=4,this.panels[1].span=4,a.span=4):3===c&&(this.panels[0].span=3,this.panels[1].span=3,this.panels[2].span=3,a.span=3)),this.panels.push(a),this.events.emit("panel-added",a),this.panelSpanChanged()},a.prototype.removePanel=function(a,b){var e=this;if(b!==!1){var f,g;return a.alert&&(f="Panel includes an alert rule, removing panel will also remove alert rule",g="YES"),void d.appEvents.emit("confirm-modal",{title:"Remove Panel",text:"Are you sure you want to remove this panel?",text2:f,icon:"fa-trash",confirmText:g,yesText:"Remove",onConfirm:function(){e.removePanel(a,!1)}})}var h=c.default.indexOf(this.panels,a);this.panels.splice(h,1),this.events.emit("panel-removed",a),this.panelSpanChanged()},a.prototype.movePanel=function(a,b){this.panels.splice(b,0,this.panels.splice(a,1)[0])},a.prototype.destroy=function(){this.events.removeAllListeners()},a.prototype.copyPropertiesFromRowSource=function(a){this.height=a.height,this.title=a.title,this.showTitle=a.showTitle,this.titleSize=a.titleSize},a.prototype.toggleCollapse=function(){this.collapse=!this.collapse},a}(),a("DashboardRow",e)}}}),System.register("app/features/dashboard/dynamic_dashboard_srv.js",["angular","lodash","app/core/core_module","./row/row_model"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(){}return a.prototype.init=function(a){this.dashboard=a,this.variables=a.templating.list},a.prototype.process=function(a){if(!this.dashboard.snapshot&&0!==this.variables.length){this.iteration=(this.iteration||(new Date).getTime())+1,a=a||{};var b,c,e,f,g=a.cleanUpOnly;for(b=0;b<this.dashboard.rows.length;b++)for(e=this.dashboard.rows[b],delete e.scopedVars,c=0;c<e.panels.length;c++)delete e.panels[c].scopedVars;for(b=0;b<this.dashboard.rows.length;b++){if(e=this.dashboard.rows[b],e.repeat)g||this.repeatRow(e,b);else if(e.repeatRowId&&e.repeatIteration!==this.iteration){this.dashboard.removeRow(e,!0),b-=1;continue}for(c=0;c<e.panels.length;c++)f=e.panels[c],f.repeat?g||this.repeatPanel(f,e):f.repeatPanelId&&f.repeatIteration!==this.iteration&&(e.panels=d.default.without(e.panels,f),c-=1);e.panelSpanChanged()}}},a.prototype.getRowClone=function(a,b,d){if(0===b)return a;var e,g,h,i,j=d+1;for(e=0;e<this.dashboard.rows.length;e++)if(h=this.dashboard.rows[e],h.repeatRowId===j&&h.repeatIteration!==this.iteration){i=h,i.copyPropertiesFromRowSource(a);break}if(!i){var k=c.default.copy(a.getSaveModel());for(i=new f.DashboardRow(k),this.dashboard.rows.splice(d+b,0,i),e=0;e<i.panels.length;e++)g=i.panels[e],g.id=this.dashboard.getNextPanelId()}return i.repeat=null,i.repeatRowId=j,i.repeatIteration=this.iteration,i},a.prototype.repeatRow=function(a,b){var c=this,e=d.default.find(this.variables,{name:a.repeat});if(e){var f,g,h,i;f="All"===e.current.text?e.options.slice(1,e.options.length):d.default.filter(e.options,{selected:!0}),d.default.each(f,function(d,f){for(g=c.getRowClone(a,f,b),g.scopedVars={},g.scopedVars[e.name]=d,h=0;h<g.panels.length;h++)i=g.panels[h],i.scopedVars={},i.scopedVars[e.name]=d})}},a.prototype.getPanelClone=function(a,b,d){if(0===d)return a;var e,f,g,h;for(e=0;e<b.panels.length;e++)if(g=b.panels[e],g.repeatIteration!==this.iteration&&g.repeatPanelId===a.id){h=g;break}return h||(h={id:this.dashboard.getNextPanelId()},b.panels.push(h)),f=h.id,c.default.copy(a,h),h.id=f,h.repeatIteration=this.iteration,h.repeatPanelId=a.id,h.repeat=null,h},a.prototype.repeatPanel=function(a,b){var c=this,e=d.default.find(this.variables,{name:a.repeat});if(e){var f;f="All"===e.current.text?e.options.slice(1,e.options.length):d.default.filter(e.options,{selected:!0}),d.default.each(f,function(d,g){var h=c.getPanelClone(a,b,g);h.span=Math.max(12/f.length,a.minSpan||4),h.scopedVars=h.scopedVars||{},h.scopedVars[e.name]=d})}},a}(),a("DynamicDashboardSrv",g),e.default.service("dynamicDashboardSrv",g)}}}),System.register("app/features/dashboard/export/exporter.js",["app/core/config","lodash","../dynamic_dashboard_srv"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a){this.datasourceSrv=a}return a.prototype.makeExportable=function(a){var b=this,f=new e.DynamicDashboardSrv;f.init(a),f.process({cleanUpOnly:!0});var g=a.getSaveModelClone();g.id=null,f.process();for(var h=[],i={},j={},k=[],l={},m=0,n=g.templating.list;m<n.length;m++){var o=n[m];l[o.name]=o}for(var p=function(a){a.datasource&&0===a.datasource.indexOf("$")&&l[a.datasource.substring(1)]||k.push(b.datasourceSrv.get(a.datasource).then(function(b){
if(!b.meta.builtIn){var c="DS_"+b.name.replace(" ","_").toUpperCase();j[c]={name:c,label:b.name,description:"",type:"datasource",pluginId:b.meta.id,pluginName:b.meta.name},a.datasource="${"+c+"}",i["datasource"+b.meta.id]={type:"datasource",id:b.meta.id,name:b.meta.name,version:b.meta.info.version||"1.0.0"}}}))},q=0,r=g.rows;q<r.length;q++)for(var s=r[q],t=0,u=s.panels;t<u.length;t++){var v=u[t];if(void 0!==v.datasource&&p(v),v.targets)for(var w=0,x=v.targets;w<x.length;w++){var y=x[w];void 0!==y.datasource&&p(y)}var z=c.default.panels[v.type];z&&(i["panel"+z.id]={type:"panel",id:z.id,name:z.name,version:z.info.version})}for(var A=0,B=g.templating.list;A<B.length;A++){var o=B[A];"query"===o.type&&(p(o),o.options=[],o.current={},o.refresh=1)}for(var C=0,D=g.annotations.list;C<D.length;C++){var E=D[C];p(E)}return i.grafana={type:"grafana",id:"grafana",name:"Grafana",version:c.default.buildInfo.version},Promise.all(k).then(function(){d.default.each(j,function(a,b){h.push(a)});for(var a=0,b=g.templating.list;a<b.length;a++){var c=b[a];if("constant"===c.type){var e="VAR_"+c.name.replace(" ","_").toUpperCase();h.push({name:e,type:"constant",label:c.label||c.name,value:c.current.value,description:""}),c.query="${"+e+"}",c.options[0]=c.current={value:c.query,text:c.query}}}var f={};return f.__inputs=h,f.__requires=d.default.sortBy(i,["id"]),d.default.defaults(f,g),f}).catch(function(a){return console.log("Export failed:",a),{error:a}})},a}(),a("DashboardExporter",f)}}}),System.register("app/features/dashboard/export/export_modal.js",["angular","app/core/core_module","./exporter"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/export/export_modal.html",controller:g,bindToController:!0,controllerAs:"ctrl"}}b&&b.id;a("dashExportDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,d){var e=this;this.backendSrv=a,this.exporter=new f.DashboardExporter(c),this.exporter.makeExportable(b.getCurrent()).then(function(a){d.$apply(function(){e.dash=a})})}return a.$inject=["backendSrv","dashboardSrv","datasourceSrv","$scope"],a.prototype.save=function(){var a=new Blob([d.default.toJson(this.dash,!0)],{type:"application/json;charset=utf-8"}),b=window;b.saveAs(a,this.dash.title+"-"+(new Date).getTime()+".json")},a.prototype.saveJson=function(){var a=d.default.toJson(this.dash,!0),b="data:application/json,"+encodeURIComponent(a);window.open(b)},a}(),a("DashExportCtrl",g),e.default.directive("dashExportModal",c)}}}),System.register("app/features/dashboard/dash_list_ctrl.js",["app/core/core_module"],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=function(){function a(){}return a}(),a("DashListCtrl",d),c.default.controller("DashListCtrl",d)}}}),System.register("app/features/dashboard/ad_hoc_filters.js",["lodash","angular","app/core/core_module"],function(a,b){"use strict";function c(){return{restrict:"E",template:h,controller:g,bindToController:!0,controllerAs:"ctrl",scope:{variable:"="}}}b&&b.id;a("adHocFiltersComponent",c);var d,e,f,g,h;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,d,e){this.uiSegmentSrv=a,this.datasourceSrv=b,this.$q=c,this.templateSrv=d,this.$rootScope=e,this.removeTagFilterSegment=a.newSegment({fake:!0,value:"-- remove filter --"}),this.buildSegmentModel()}return a.$inject=["uiSegmentSrv","datasourceSrv","$q","templateSrv","$rootScope"],a.prototype.buildSegmentModel=function(){this.segments=[],this.variable.value&&!d.default.isArray(this.variable.value);for(var a=0,b=this.variable.filters;a<b.length;a++){var c=b[a];this.segments.length>0&&this.segments.push(this.uiSegmentSrv.newCondition("AND")),void 0!==c.key&&void 0!==c.value&&(this.segments.push(this.uiSegmentSrv.newKey(c.key)),this.segments.push(this.uiSegmentSrv.newOperator(c.operator)),this.segments.push(this.uiSegmentSrv.newKeyValue(c.value)))}this.segments.push(this.uiSegmentSrv.newPlusButton())},a.prototype.getOptions=function(a,b){var c=this;return"operator"===a.type?this.$q.when(this.uiSegmentSrv.newOperators(["=","!=","<",">","=~","!~"])):"condition"===a.type?this.$q.when([this.uiSegmentSrv.newSegment("AND")]):this.datasourceSrv.get(this.variable.datasource).then(function(f){var g={},h=null;return"value"!==a.type?h=f.getTagKeys():(g.key=c.segments[b-2].value,h=f.getTagValues(g)),h.then(function(b){return b=d.default.map(b,function(a){return c.uiSegmentSrv.newSegment({value:a.text})}),"key"===a.type&&b.splice(0,0,e.default.copy(c.removeTagFilterSegment)),b})})},a.prototype.segmentChanged=function(a,b){this.segments[b]=a,a.value===this.removeTagFilterSegment.value?(this.segments.splice(b,3),0===this.segments.length?this.segments.push(this.uiSegmentSrv.newPlusButton()):this.segments.length>2&&(this.segments.splice(Math.max(b-1,0),1),"plus-button"!==this.segments[this.segments.length-1].type&&this.segments.push(this.uiSegmentSrv.newPlusButton()))):("plus-button"===a.type&&(b>2&&this.segments.splice(b,0,this.uiSegmentSrv.newCondition("AND")),this.segments.push(this.uiSegmentSrv.newOperator("=")),this.segments.push(this.uiSegmentSrv.newFake("select tag value","value","query-segment-value")),a.type="key",a.cssClass="query-segment-key"),b+1===this.segments.length&&this.segments.push(this.uiSegmentSrv.newPlusButton())),this.updateVariableModel()},a.prototype.updateVariableModel=function(){var a=[],b=-1,c=!1;this.segments.forEach(function(d){if("value"===d.type&&d.fake)return void(c=!0);switch(d.type){case"key":a.push({key:d.value}),b+=1;break;case"value":a[b].value=d.value;break;case"operator":a[b].operator=d.value;break;case"condition":a[b].condition=d.value}}),c||(this.variable.setFilters(a),this.$rootScope.$emit("template-variable-value-updated"),this.$rootScope.$broadcast("refresh"))},a}(),a("AdHocFiltersCtrl",g),h='\n<div class="gf-form-inline">\n  <div class="gf-form" ng-repeat="segment in ctrl.segments">\n    <metric-segment segment="segment" get-options="ctrl.getOptions(segment, $index)"\n                    on-change="ctrl.segmentChanged(segment, $index)"></metric-segment>\n  </div>\n</div>\n',f.default.directive("adHocFilters",c)}}}),System.register("app/features/dashboard/row/options.js",["app/core/core"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/row/options.html",controller:e,bindToController:!0,controllerAs:"ctrl",scope:{rowCtrl:"="}}}b&&b.id;a("rowOptionsDirective",c);var d,e;return{setters:[function(a){d=a}],execute:function(){e=function(){function a(a,b,c){this.$scope=a,this.$timeout=b,this.$rootScope=c,this.fontSizes=["h1","h2","h3","h4","h5","h6"],this.row=this.rowCtrl.row,this.dashboard=this.rowCtrl.dashboard,this.row.titleSize=this.row.titleSize||"h6"}return a.$inject=["$scope","$timeout","$rootScope"],a}(),a("RowOptionsCtrl",e),d.coreModule.directive("dashRowOptions",c)}}}),System.register("app/features/dashboard/row/add_panel.js",["lodash","app/core/config","app/core/core"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/row/add_panel.html",controller:g,bindToController:!0,controllerAs:"ctrl",scope:{rowCtrl:"="}}}b&&b.id;a("addPanelDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c){this.$scope=a,this.$timeout=b,this.$rootScope=c,this.row=this.rowCtrl.row,this.dashboard=this.rowCtrl.dashboard,this.activeIndex=0,this.allPanels=d.default.chain(e.default.panels).filter({hideFromList:!1}).map(function(a){return a}).orderBy("sort").value(),this.panelHits=this.allPanels}return a.$inject=["$scope","$timeout","$rootScope"],a.prototype.keyDown=function(a){if(27===a.keyCode)return void(this.rowCtrl.dropView=0);if(40!==a.keyCode&&39!==a.keyCode||this.moveSelection(1),38!==a.keyCode&&37!==a.keyCode||this.moveSelection(-1),13===a.keyCode){var b=this.panelHits[this.activeIndex];b&&this.addPanel(b)}},a.prototype.moveSelection=function(a){var b=this.panelHits.length,c=this.activeIndex+a;this.activeIndex=(c%=b)<0?c+b:c},a.prototype.panelSearchChanged=function(){for(var a,b=this.allPanels.slice(),c=[],d=[],e=this.panelSearch.toLowerCase();a=b.shift();){var f=a.name.toLowerCase();0===f.indexOf(e)?c.push(a):f.indexOf(e)!==-1&&d.push(a)}this.panelHits=c.concat(d),this.activeIndex=0},a.prototype.addPanel=function(a){var b=this,c=12,d=12-this.row.span,f={id:null,title:e.default.new_panel_title,span:d<c&&d>0?d:c,type:a.id};this.rowCtrl.closeDropView(),this.dashboard.addPanel(f,this.row),this.$timeout(function(){b.$rootScope.$broadcast("render")})},a}(),a("AddPanelCtrl",g),f.coreModule.directive("dashRowAddPanel",c)}}}),System.register("app/features/dashboard/row/row_ctrl.js",["lodash","app/core/config","app/core/core","./options","./add_panel"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){},function(a){}],execute:function(){f=function(){function a(a,b,c){this.$scope=a,this.$rootScope=b,this.$timeout=c,this.row.title=this.row.title||"Row title",this.row.isNew&&(this.dropView=1)}return a.$inject=["$scope","$rootScope","$timeout"],a.prototype.onDrop=function(a,b){var e,f=this;e=c.default.isString(a)?{row:this.row,panel:{title:d.default.new_panel_title,type:a,id:this.dashboard.getNextPanelId(),isNew:!0}}:this.dashboard.getPanelInfoById(a),b?(b=this.dashboard.getPanelInfoById(b.id),e.panel.isNew?(e.panel.span=b.panel.span=b.panel.span/2,b.row.panels.splice(b.index+1,0,e.panel)):this.row===e.row?this.row.movePanel(e.index,b.index):(e.panel.span=b.panel.span=b.panel.span/2,b.row.panels.splice(b.index+1,0,e.panel),e.row.removePanel(e.panel,!1))):(e.panel.span=12-this.row.span,this.row.panels.push(e.panel),e.panel.isNew||e.row.removePanel(e.panel,!1)),this.dropView=0,this.row.panelSpanChanged(),this.$timeout(function(){f.$rootScope.$broadcast("render")})},a.prototype.setHeight=function(a){this.row.height=a,this.$scope.$broadcast("render")},a.prototype.moveRow=function(a){var b=this.dashboard.rows,d=c.default.indexOf(b,this.row),e=d+a;e>=0&&e<=b.length-1&&c.default.move(b,d,e)},a.prototype.toggleCollapse=function(){this.closeDropView(),this.row.collapse=!this.row.collapse},a.prototype.onMenuAddPanel=function(){this.dropView=1},a.prototype.onMenuRowOptions=function(){this.dropView=2},a.prototype.closeDropView=function(){this.dropView=0},a.prototype.onMenuDeleteRow=function(){this.dashboard.removeRow(this.row)},a}(),a("DashRowCtrl",f),e.coreModule.directive("dashRow",["$rootScope",function(a){return{restrict:"E",templateUrl:"public/app/features/dashboard/row/row.html",controller:f,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"=",row:"="},link:function(b,d){b.$watchGroup(["ctrl.row.collapse","ctrl.row.height"],function(){d.toggleClass("dash-row--collapse",b.ctrl.row.collapse),d.find(".panels-wrapper").css({minHeight:b.ctrl.row.collapse?"5px":b.ctrl.row.height})}),a.onAppEvent("panel-fullscreen-enter",function(a,e){var f=c.default.find(b.ctrl.row.panels,{id:e.panelId});f||d.hide()},b),a.onAppEvent("panel-fullscreen-exit",function(){d.show()},b)}}}]),e.coreModule.directive("panelWidth",["$rootScope",function(a){return function(b,c){function d(){e||(c[0].style.width=b.panel.span/1.2*10+"%")}var e=!1;a.onAppEvent("panel-fullscreen-enter",function(a,d){e=!0,b.panel.id!==d.panelId?c.hide():c[0].style.width="100%"},b),a.onAppEvent("panel-fullscreen-exit",function(a,f){e=!1,b.panel.id!==f.panelId&&c.show(),d()},b),b.$watch("panel.span",d),e&&c.hide()}}]),e.coreModule.directive("panelDropZone",["$timeout",function(a){return function(a,b){function c(a,c){b.find(".panel-container").css("height",f.height),b[0].style.width=a/1.2*10+"%",h.text(c),b.show()}function d(){b.hide()}function e(){if(0===f.panels.length&&g===!1)return c(12,"Empty Space");var a=12-f.span;return a>0?g?c(a,"Drop Here"):c(a,"Empty Space"):g===!0&&a>1?c(a,"Drop Here"):void d()}var f=a.ctrl.row,g=(a.ctrl.dashboard,!1),h=b.find(".panel-drop-zone-text");f.events.on("span-changed",e,a),a.$on("ANGULAR_DRAG_START",function(){g=!0,e()}),a.$on("ANGULAR_DRAG_END",function(){g=!1,e()}),e()}}])}}}),System.register("app/features/dashboard/repeat_option/repeat_option.js",["app/core/core"],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d='\n<div class="gf-form-select-wrapper max-width-13">\n<select class="gf-form-input" ng-model="model.repeat" ng-options="f.value as f.text for f in variables">\n<option value=""></option>\n</div>\n',c.coreModule.directive("dashRepeatOption",["variableSrv",function(a){return{restrict:"E",template:d,scope:{model:"="},link:function(b,c){c.css({display:"block",width:"100%"}),b.variables=a.variables.map(function(a){return{text:a.name,value:a.name}}),0===b.variables.length&&b.variables.unshift({text:"No template variables found",value:null}),b.variables.unshift({text:"Disabled",value:null})}}}])}}}),function(){var a=System.amdDefine;a("app/features/dashboard/all.js",["./dashboard_ctrl","./alerting_srv","./dashboardLoaderSrv","./dashnav/dashnav","./submenu/submenu","./saveDashboardAsCtrl","./shareModalCtrl","./shareSnapshotCtrl","./dashboard_srv","./viewStateSrv","./time_srv","./unsavedChangesSrv","./timepicker/timepicker","./graphiteImportCtrl","./impression_store","./upload","./import/dash_import","./export/export_modal","./dash_list_ctrl","./ad_hoc_filters","./row/row_ctrl","./repeat_option/repeat_option"],function(){})}(),System.register("app/features/playlist/playlists_ctrl.js",["lodash","../../core/core_module"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c){var d=this;this.$scope=a,this.$location=b,this.backendSrv=c,c.get("/api/playlists").then(function(a){d.playlists=a})}return a.$inject=["$scope","$location","backendSrv"],a.prototype.removePlaylistConfirmed=function(a){var b=this;c.default.remove(this.playlists,{id:a.id}),this.backendSrv.delete("/api/playlists/"+a.id).then(function(){b.$scope.appEvent("alert-success",["Playlist deleted",""])},function(){b.$scope.appEvent("alert-error",["Unable to delete playlist",""]),b.playlists.push(a)})},a.prototype.removePlaylist=function(a){var b=this;this.$scope.appEvent("confirm-modal",{title:"Delete",text:"Are you sure you want to delete playlist "+a.name+"?",yesText:"Delete",icon:"fa-trash",onConfirm:function(){b.removePlaylistConfirmed(a)}})},a}(),a("PlaylistsCtrl",e),d.default.controller("PlaylistsCtrl",e)}}}),System.register("app/features/playlist/playlist_search.js",["../../core/core_module"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/features/playlist/partials/playlist_search.html",controller:e,bindToController:!0,controllerAs:"ctrl",scope:{searchStarted:"&"}}}b&&b.id;a("playlistSearchDirective",c);var d,e;return{setters:[function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d,e){var f=this;this.$scope=a,this.$location=b,this.$timeout=c,this.backendSrv=d,this.contextSrv=e,this.query={query:"",tag:[],starred:!1,limit:30},c(function(){f.query.query="",f.searchDashboards()},100)}return a.$inject=["$scope","$location","$timeout","backendSrv","contextSrv"],a.prototype.searchDashboards=function(){this.tagsMode=!1;var a={};a.promise=this.backendSrv.search(this.query).then(function(a){return{dashboardResult:a,tagResult:[]}}),this.searchStarted(a)},a.prototype.showStarred=function(){this.query.starred=!this.query.starred,this.searchDashboards()},a.prototype.queryHasNoFilters=function(){return""===this.query.query&&this.query.starred===!1&&0===this.query.tag.length},a.prototype.filterByTag=function(a,b){this.query.tag.push(a),this.searchDashboards(),b&&(b.stopPropagation(),b.preventDefault())},a.prototype.getTags=function(){var a={};a.promise=this.backendSrv.get("/api/dashboards/tags").then(function(a){return{dashboardResult:[],tagResult:a}}),this.searchStarted(a)},a}(),a("PlaylistSearchCtrl",e),d.default.directive("playlistSearch",c)}}}),System.register("app/features/playlist/playlist_srv.js",["../../core/core_module","app/core/utils/kbn"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d){this.$rootScope=a,this.$location=b,this.$timeout=c,this.backendSrv=d}return a.$inject=["$rootScope","$location","$timeout","backendSrv"],a.prototype.next=function(){var a=this;this.$timeout.cancel(this.cancelPromise);var b=this.index>this.dashboards.length-1;if(b)window.location.href=this.startUrl;else{var c=this.dashboards[this.index];this.$location.url("dashboard/"+c.uri),this.index++,this.cancelPromise=this.$timeout(function(){return a.next()},this.interval)}},a.prototype.prev=function(){this.index=Math.max(this.index-2,0),this.next()},a.prototype.start=function(a){var b=this;this.stop(),this.startUrl=window.location.href,this.index=0,this.playlistId=a,this.$rootScope.playlistSrv=this,this.backendSrv.get("/api/playlists/"+a).then(function(c){b.backendSrv.get("/api/playlists/"+a+"/dashboards").then(function(a){b.dashboards=a,b.interval=d.default.interval_to_ms(c.interval),b.next()})})},a.prototype.stop=function(){this.index=0,this.playlistId=0,this.cancelPromise&&this.$timeout.cancel(this.cancelPromise),this.$rootScope.playlistSrv=null},a}(),c.default.service("playlistSrv",e)}}}),System.register("app/features/playlist/playlist_edit_ctrl.js",["lodash","../../core/core_module"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d,e){var f=this;if(this.$scope=a,this.playlistSrv=b,this.backendSrv=c,this.$location=d,this.$route=e,this.filteredDashboards=[],this.filteredTags=[],this.searchQuery="",this.loading=!1,this.playlist={interval:"5m"},this.playlistItems=[],this.dashboardresult=[],this.tagresult=[],e.current.params.id){var g=e.current.params.id;c.get("/api/playlists/"+g).then(function(a){f.playlist=a}),c.get("/api/playlists/"+g+"/items").then(function(a){f.playlistItems=a})}}return a.$inject=["$scope","playlistSrv","backendSrv","$location","$route"],a.prototype.filterFoundPlaylistItems=function(){var a=this;this.filteredDashboards=c.default.reject(this.dashboardresult,function(b){return c.default.find(a.playlistItems,function(a){return parseInt(a.value)===b.id})}),this.filteredTags=c.default.reject(this.tagresult,function(b){return c.default.find(a.playlistItems,function(a){return a.value===b.term})})},a.prototype.addPlaylistItem=function(a){a.value=a.id.toString(),a.type="dashboard_by_id",a.order=this.playlistItems.length+1,this.playlistItems.push(a),this.filterFoundPlaylistItems()},a.prototype.addTagPlaylistItem=function(a){var b={value:a.term,type:"dashboard_by_tag",order:this.playlistItems.length+1,title:a.term};this.playlistItems.push(b),this.filterFoundPlaylistItems()},a.prototype.removePlaylistItem=function(a){c.default.remove(this.playlistItems,function(b){return a===b}),this.filterFoundPlaylistItems()},a.prototype.savePlaylist=function(a,b){var c,d=this;a.items=b,c=a.id?this.backendSrv.put("/api/playlists/"+a.id,a):this.backendSrv.post("/api/playlists",a),c.then(function(){d.$scope.appEvent("alert-success",["Playlist saved",""]),d.$location.path("/playlists")},function(){d.$scope.appEvent("alert-error",["Unable to save playlist",""])})},a.prototype.isNew=function(){return!this.playlist.id},a.prototype.isPlaylistEmpty=function(){return!this.playlistItems.length},a.prototype.backToList=function(){this.$location.path("/playlists")},a.prototype.searchStarted=function(a){var b=this;a.then(function(a){b.dashboardresult=a.dashboardResult,b.tagresult=a.tagResult,b.filterFoundPlaylistItems()})},a.prototype.movePlaylistItem=function(a,b){var c=this.playlistItems.indexOf(a),d=c+b;d>=0&&d<this.playlistItems.length&&(this.playlistItems.splice(c,1),this.playlistItems.splice(d,0,a))},a.prototype.movePlaylistItemUp=function(a){this.movePlaylistItem(a,-1)},a.prototype.movePlaylistItemDown=function(a){this.movePlaylistItem(a,1)},a}(),a("PlaylistEditCtrl",e),d.default.controller("PlaylistEditCtrl",e)}}}),function(){var a=System.amdDefine;a("app/features/playlist/playlist_routes.js",["angular","app/core/config","lodash"],function(a){"use strict";var b=a.module("grafana.routes");b.config(["$routeProvider",function(a){a.when("/playlists",{templateUrl:"public/app/features/playlist/partials/playlists.html",controllerAs:"ctrl",controller:"PlaylistsCtrl"}).when("/playlists/create",{templateUrl:"public/app/features/playlist/partials/playlist.html",controllerAs:"ctrl",controller:"PlaylistEditCtrl"}).when("/playlists/edit/:id",{templateUrl:"public/app/features/playlist/partials/playlist.html",controllerAs:"ctrl",controller:"PlaylistEditCtrl"}).when("/playlists/play/:id",{templateUrl:"public/app/features/playlist/partials/playlists.html",controllerAs:"ctrl",controller:"PlaylistsCtrl",resolve:{init:["playlistSrv","$route",function(a,b){var c=b.current.params.id;a.start(c)}]}})}])})}(),function(){var a=System.amdDefine;a("app/features/playlist/all.js",["./playlists_ctrl","./playlist_search","./playlist_srv","./playlist_edit_ctrl","./playlist_routes"],function(){})}(),System.register("app/features/snapshot/snapshot_ctrl.js",["angular","lodash"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b){var c=this;this.$rootScope=a,this.backendSrv=b,this.backendSrv.get("/api/dashboard/snapshots").then(function(a){c.snapshots=a})}return a.$inject=["$rootScope","backendSrv"],a.prototype.removeSnapshotConfirmed=function(a){var b=this;d.default.remove(this.snapshots,{key:a.key}),this.backendSrv.get("/api/snapshots-delete/"+a.deleteKey).then(function(){b.$rootScope.appEvent("alert-success",["Snapshot deleted",""])},function(){b.$rootScope.appEvent("alert-error",["Unable to delete snapshot",""]),b.snapshots.push(a)})},a.prototype.removeSnapshot=function(a){var b=this;this.$rootScope.appEvent("confirm-modal",{title:"Delete",text:"Are you sure you want to delete snapshot "+a.name+"?",yesText:"Delete",icon:"fa-trash",onConfirm:function(){b.removeSnapshotConfirmed(a)}})},a}(),a("SnapshotsCtrl",e),c.default.module("grafana.controllers").controller("SnapshotsCtrl",e)}}}),System.register("app/features/snapshot/all.js",["./snapshot_ctrl"],function(a,b){"use strict";b&&b.id;return{setters:[function(a){}],execute:function(){}}}),function(){var a=System.amdDefine;a("app/features/panel/panel_menu.js",["angular","jquery","lodash","tether"],function(a,b,c,d){"use strict";a.module("grafana.directives").directive("panelMenu",["$compile",function(a){function e(a){var b='<div class="panel-menu small">';return a.dashboard.meta.canEdit&&(b+='<div class="panel-menu-inner">',b+='<div class="panel-menu-row">',a.dashboard.meta.fullscreen||(b+='<a class="panel-menu-icon pull-left" ng-click="ctrl.updateColumnSpan(-1)"><i class="fa fa-minus"></i></a>',b+='<a class="panel-menu-icon pull-left" ng-click="ctrl.updateColumnSpan(1)"><i class="fa fa-plus"></i></a>'),b+='<a class="panel-menu-icon pull-right" ng-click="ctrl.removePanel()"><i class="fa fa-trash"></i></a>',b+='<div class="clearfix"></div>',b+="</div>"),b+='<div class="panel-menu-row">',b+='<a class="panel-menu-link" gf-dropdown="extendedMenu"><i class="fa fa-bars"></i></a>',c.each(a.getMenu(),function(c){("Editor"!==c.role||a.dashboard.meta.canEdit)&&(b+='<a class="panel-menu-link" ',c.click&&(b+=' ng-click="'+c.click+'"'),c.href&&(b+=' href="'+c.href+'"'),b+=">",b+=c.text+"</a>")}),b+="</div>",b+="</div>",b+="</div>"}function f(a){return a.getExtendedMenu()}var g='<span class="panel-title drag-handle pointer"><span class="icon-gf panel-alert-icon"></span><span class="panel-title-text drag-handle">{{ctrl.panel.title | interpolateTemplateVars:this}}</span><span class="panel-time-info" ng-show="ctrl.timeInfo"><i class="fa fa-clock-o"></i> {{ctrl.timeInfo}}</span></span>';return{restrict:"A",link:function(c,h){function i(a,b){return clearTimeout(o),o=null,a?void(o=setTimeout(i,a)):b!==!0&&(p.is(":hover")||c.ctrl.dashboard.$$panelDragging)?void i(2200):void(m&&(j.destroy(),p.unbind(),p.remove(),m.$destroy(),m=null,p=null,l.removeClass("panel-highlight")))}var j,k=b(g),l=h.parents(".panel-container"),m=null,n=c.ctrl,o=null,p=null;h.append(k);var q=function(g){if(b.contains(document,g.target)){if(p)return void i();var k;k=e(n),p=b(k),p.mouseleave(function(){i(1e3)}),m=c.$new(),m.extendedMenu=f(n),m.dismiss=function(){i(null,!0)},b(".panel-container").removeClass("panel-highlight"),l.toggleClass("panel-highlight"),b(".panel-menu").remove(),h.append(p),c.$apply(function(){a(p.contents())(m),j=new d({element:p,target:l,attachment:"bottom center",targetAttachment:"top center",constraints:[{to:"window",attachment:"together",pin:!0}]})}),i(2200)}};h.click(q),a(h.contents())(c)}}}])})}(),System.register("app/features/panel/panel_directive.js",["angular","jquery","tether-drop"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=c.default.module("grafana.directives"),g='\n  <div class="panel-container">\n    <div class="panel-header">\n      <span class="panel-info-corner">\n        <i class="fa"></i>\n        <span class="panel-info-corner-inner"></span>\n      </span>\n\n      <span class="panel-loading" ng-show="ctrl.loading">\n        <i class="fa fa-spinner fa-spin"></i>\n      </span>\n\n      <div class="panel-title-container drag-handle" panel-menu></div>\n    </div>\n\n    <div class="panel-content">\n      <ng-transclude></ng-transclude>\n    </div>\n    <panel-resizer></panel-resizer>\n  </div>\n\n  <div class="panel-full-edit" ng-if="ctrl.editMode">\n    <div class="tabbed-view tabbed-view--panel-edit">\n      <div class="tabbed-view-header">\n        <h2 class="tabbed-view-title">\n          {{ctrl.pluginName}}\n        </h2>\n\n        <ul class="gf-tabs">\n          <li class="gf-tabs-item" ng-repeat="tab in ::ctrl.editorTabs">\n            <a class="gf-tabs-link" ng-click="ctrl.changeTab($index)" ng-class="{active: ctrl.editorTabIndex === $index}">\n              {{::tab.title}}\n            </a>\n          </li>\n        </ul>\n\n        <button class="tabbed-view-close-btn" ng-click="ctrl.exitFullscreen();">\n          <i class="fa fa-remove"></i>\n        </button>\n      </div>\n\n      <div class="tabbed-view-body">\n        <div ng-repeat="tab in ctrl.editorTabs" ng-if="ctrl.editorTabIndex === $index">\n          <panel-editor-tab editor-tab="tab" ctrl="ctrl" index="$index"></panel-editor-tab>\n        </div>\n      </div>\n    </div>\n  </div>\n',f.directive("grafanaPanel",["$rootScope","$document",function(a,b){return{restrict:"E",template:g,transclude:!0,scope:{ctrl:"="},link:function(b,c){function d(){k.toggleClass("panel-hover-highlight",!0),m.dashboard.setPanelFocus(m.panel.id)}function f(){k.toggleClass("panel-hover-highlight",!1),m.dashboard.setPanelFocus(0)}function g(){var a=m.getInfoMode();l[0].className="panel-info-corner panel-info-corner--"+a,a&&(h&&h.destroy(),h=new e.default({target:l[0],content:function(){return m.getInfoContent({mode:"tooltip"})},classes:m.error?"drop-error":"drop-help",openOn:"hover",hoverOpenDelay:100,tetherOptions:{attachment:"bottom left",targetAttachment:"top left",constraints:[{to:"window",attachment:"together",pin:!0}]}}))}var h,i,j,k=c.find(".panel-container"),l=c.find(".panel-info-corner"),m=b.ctrl,n=!1,o=!1,p=0;m.containerHeight||(m.calculatePanelHeight(),k.css({minHeight:m.containerHeight}),p=m.containerHeight),m.panel.transparent&&(n=!0,k.addClass("panel-transparent",!0)),m.events.on("render",function(){p!==m.containerHeight&&(k.css({minHeight:m.containerHeight}),p=m.containerHeight),n!==m.panel.transparent&&(k.toggleClass("panel-transparent",m.panel.transparent===!0),n=m.panel.transparent),j=void 0!==m.panel.alert,o!==j&&(k.toggleClass("panel-has-alert",j),o=j),m.alertState?(i&&k.removeClass("panel-alert-state--"+i),"ok"!==m.alertState.state&&"alerting"!==m.alertState.state||k.addClass("panel-alert-state--"+m.alertState.state),i=m.alertState.state):i&&(k.removeClass("panel-alert-state--"+i),i=null)});var q;a.onAppEvent("panel-change-view",function(a,b){q!==m.fullscreen&&(c.toggleClass("panel-fullscreen",!!m.fullscreen),q=m.fullscreen)},b),b.$watchGroup(["ctrl.error","ctrl.panel.description"],g),b.$watchCollection("ctrl.panel.links",g),l.on("click",function(){h.close(),b.$apply(m.openInspector.bind(m))}),c.on("mouseenter",d),c.on("mouseleave",f),b.$on("$destroy",function(){c.off(),l.off(),h&&h.destroy()})}}}]),f.directive("panelResizer",["$rootScope",function(a){return{restrict:"E",template:'<span class="resize-panel-handle icon-gf icon-gf-grabber"></span>',link:function(b,c){function e(a){a.preventDefault(),m=!0,i=d.default(a.target).offset(),j=parseInt(n.row.height),k=n.panel.span,l=d.default(document).width(),h=n.row.panels[n.row.panels.length-1],d.default("body").on("mousemove",f),d.default("body").on("mouseup",g)}function f(a){n.row.height=Math.round(j+(a.pageY-i.top)),n.panel.span=k+(a.pageX-i.left)/l*12,n.panel.span=Math.min(Math.max(n.panel.span,1),12),n.row.updateRowSpan();var c=n.row.span;Math.floor(c)<14&&(h===n.panel&&c>12?h.span-=c-12:h!==n.panel&&(h.span=h.span-(c-12),h.span=Math.min(Math.max(h.span,1),12))),n.row.panelSpanChanged(!0),b.$apply(function(){n.render()})}function g(){n.panel.span=Math.round(n.panel.span),h&&(h.span=Math.round(h.span)),a.$apply(function(){n.row.panelSpanChanged(),setTimeout(function(){a.$broadcast("render")})}),d.default("body").off("mousemove",f),d.default("body").off("mouseup",g)}var h,i,j,k,l,m=!1,n=b.ctrl;c.on("mousedown",e);var o=b.$on("$destroy",function(){c.off("mousedown",e),o()})}}}]),f.directive("panelHelpCorner",["$rootScope",function(a){return{restrict:"E",template:'\n      <span class="alert-error panel-error small pointer" ng-if="ctrl.error" ng-click="ctrl.openInspector()">\n        <span data-placement="top" bs-tooltip="ctrl.error">\n          <i class="fa fa-exclamation"></i><span class="panel-error-arrow"></span>\n        </span>\n      </span>\n    ',link:function(a,b){}}}])}}}),function(){var a=System.amdDefine;a("app/features/panel/solo_panel_ctrl.js",["angular","jquery"],function(a,b){"use strict";var c=a.module("grafana.routes");c.controller("SoloPanelCtrl",["$scope","$routeParams","$location","dashboardLoaderSrv","contextSrv",function(a,c,d,e,f){var g;a.init=function(){f.sidemenu=!1;var b=d.search();g=parseInt(b.panelId),a.onAppEvent("dashboard-initialized",a.initPanelScope),e.loadDashboard(c.type,c.slug).then(function(b){b.meta.soloMode=!0,a.initDashboard(b,a)})},a.initPanelScope=function(){var c=a.dashboard.getPanelInfoById(g);return a.ctrl={row:c.row,dashboard:a.dashboard},a.ctrl.row.height=b(window).height(),a.panel=c.panel,a.$index=0,a.panel?void(a.panel.span=12):void a.appEvent("alert-error",["Panel not found",""])},a.init()}])})}(),System.register("app/features/panel/panel_editor_tab.js",["angular"],function(a,b){"use strict";function c(a){return a.create({scope:{ctrl:"=",editorTab:"=",index:"="},directive:function(a){var b=a.ctrl.pluginId,c=a.index;return Promise.resolve({name:"panel-editor-tab-"+b+c,fn:a.editorTab.directiveFn})}})}c.$inject=["dynamicDirectiveSrv"];var d,e;b&&b.id;return{setters:[function(a){d=a}],execute:function(){e=d.default.module("grafana.directives"),e.directive("panelEditorTab",c)}}}),System.register("app/features/panel/query_editor_row.js",["angular","lodash"],function(a,b){"use strict";function c(){return{restrict:"E",controller:g,bindToController:!0,controllerAs:"ctrl",templateUrl:"public/app/features/panel/partials/query_editor_row.html",transclude:!0,scope:{queryCtrl:"=",canCollapse:"=",hasTextEditMode:"="}}}var d,e,f,g;b&&b.id;return{setters:[function(a){d=a},function(a){e=a}],
execute:function(){f=d.default.module("grafana.directives"),g=function(){function a(){this.panelCtrl=this.queryCtrl.panelCtrl,this.target=this.queryCtrl.target,this.panel=this.panelCtrl.panel,this.target.refId||(this.target.refId=this.getNextQueryLetter()),this.toggleCollapse(!0),this.target.isNew&&(delete this.target.isNew,this.toggleCollapse(!1)),this.panel.targets.length<4&&(this.collapsed=!1)}return a.prototype.toggleHideQuery=function(){this.target.hide=!this.target.hide,this.panelCtrl.refresh()},a.prototype.getNextQueryLetter=function(){var a=this,b="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e.default.find(b,function(b){return e.default.every(a.panel.targets,function(a){return a.refId!==b})})},a.prototype.toggleCollapse=function(a){if(this.canCollapse){this.panelCtrl.__collapsedQueryCache||(this.panelCtrl.__collapsedQueryCache={}),a?this.collapsed=this.panelCtrl.__collapsedQueryCache[this.target.refId]!==!1:(this.collapsed=!this.collapsed,this.panelCtrl.__collapsedQueryCache[this.target.refId]=this.collapsed);try{this.collapsedText=this.queryCtrl.getCollapsedText()}catch(a){var b=a.message||a.toString();this.collapsedText="Error: "+b}}},a.prototype.toggleEditorMode=function(){this.canCollapse&&this.collapsed&&(this.collapsed=!1),this.queryCtrl.toggleEditorMode()},a.prototype.removeQuery=function(){this.panelCtrl.__collapsedQueryCache&&delete this.panelCtrl.__collapsedQueryCache[this.target.refId],this.panel.targets=e.default.without(this.panel.targets,this.target),this.panelCtrl.refresh()},a.prototype.duplicateQuery=function(){var a=d.default.copy(this.target);a.refId=this.getNextQueryLetter(),this.panel.targets.push(a)},a.prototype.moveQuery=function(a){var b=e.default.indexOf(this.panel.targets,this.target);e.default.move(this.panel.targets,b,b+a)},a}(),a("QueryRowCtrl",g),f.directive("queryEditorRow",c)}}}),System.register("app/features/panel/metrics_ds_selector.js",["angular","lodash"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=c.default.module("grafana.directives"),f='\n<div class="gf-form-group">\n  <div class="gf-form-inline">\n    <div class="gf-form">\n      <label class="gf-form-label">\n        <i class="icon-gf icon-gf-datasources"></i>\n      </label>\n      <label class="gf-form-label">\n        Data Source\n      </label>\n\n      <metric-segment segment="ctrl.dsSegment"\n                      get-options="ctrl.getOptions(true)"\n                      on-change="ctrl.datasourceChanged()"></metric-segment>\n    </div>\n\n    <div class="gf-form gf-form--offset-1">\n      <button class="btn btn-secondary gf-form-btn" ng-click="ctrl.addDataQuery()" ng-hide="ctrl.current.meta.mixed">\n        <i class="fa fa-plus"></i>&nbsp;\n        Add query\n      </button>\n\n      <div class="dropdown" ng-if="ctrl.current.meta.mixed">\n        <metric-segment segment="ctrl.mixedDsSegment"\n                        get-options="ctrl.getOptions(false)"\n                        on-change="ctrl.mixedDatasourceChanged()"></metric-segment>\n      </div>\n    </div>\n  </div>\n</div>\n',g=function(){function a(a,b){this.uiSegmentSrv=a,this.datasources=b.getMetricSources();for(var c=this.panelCtrl.panel.datasource||null,d=0,e=this.datasources;d<e.length;d++){var f=e[d];f.value===c&&(this.current=f)}this.current||(this.current={name:c+" not found",value:null}),this.dsSegment=a.newSegment({value:this.current.name,selectMode:!0}),this.mixedDsSegment=a.newSegment({value:"Add query",selectMode:!0})}return a.$inject=["uiSegmentSrv","datasourceSrv"],a.prototype.getOptions=function(a){var b=this;return Promise.resolve(this.datasources.filter(function(b){return a||!b.meta.builtIn}).map(function(a){return b.uiSegmentSrv.newSegment(a.name)}))},a.prototype.datasourceChanged=function(){var a=d.default.find(this.datasources,{name:this.dsSegment.value});a&&(this.current=a,this.panelCtrl.setDatasource(a))},a.prototype.mixedDatasourceChanged=function(){var a={isNew:!0},b=d.default.find(this.datasources,{name:this.mixedDsSegment.value});b&&(a.datasource=b.name,this.panelCtrl.panel.targets.push(a),this.mixedDsSegment.value="")},a.prototype.addDataQuery=function(){var a={isNew:!0};this.panelCtrl.panel.targets.push(a)},a}(),a("MetricsDsSelectorCtrl",g),e.directive("metricsDsSelector",function(){return{restrict:"E",template:f,controller:g,bindToController:!0,controllerAs:"ctrl",transclude:!0,scope:{panelCtrl:"="}}})}}}),function(){var a=System.amdDefine;a("app/features/panel/all.js",["./panel_menu","./panel_directive","./solo_panel_ctrl","./query_ctrl","./panel_editor_tab","./query_editor_row","./metrics_ds_selector"],function(){})}(),System.register("app/features/styleguide/styleguide.js",["app/core/core_module","app/core/config","lodash"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,e){this.$http=a,this.$routeParams=b,this.$location=c,this.backendSrv=e,this.colors=[],this.buttonNames=["primary","secondary","inverse","success","warning","danger"],this.buttonSizes=["btn-small","","btn-large"],this.buttonVariants=["-","-outline-"],this.icons=[],this.pages=["colors","buttons","icons","plugins"],this.theme=d.default.bootData.user.lightTheme?"light":"dark",this.page={},b.page?this.page[b.page]=1:this.page.colors=!0,this.page.colors&&this.loadColors(),this.page.icons&&this.loadIcons()}return a.$inject=["$http","$routeParams","$location","backendSrv"],a.prototype.loadColors=function(){var a=this;this.$http.get("public/sass/styleguide.json").then(function(b){a.colors=e.default.map(b.data[a.theme],function(a,b){return{name:b,value:a}})})},a.prototype.loadIcons=function(){var a=this;this.$http.get("public/sass/icons.json").then(function(b){a.icons=b.data})},a.prototype.switchTheme=function(){this.$routeParams.theme="dark"===this.theme?"light":"dark";var a={theme:this.$routeParams.theme};this.backendSrv.put("/api/user/preferences",a).then(function(){window.location.href=window.location.href})},a}(),c.default.controller("StyleGuideCtrl",f)}}}),function(){var a=System.amdDefine;a("app/features/all.js",["./panellinks/module","./dashlinks/module","./annotations/all","./templating/all","./dashboard/all","./playlist/all","./snapshot/all","./panel/all","./styleguide/styleguide"],function(){})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/query_builder.js",["./query_def"],function(a){"use strict";function b(a){this.timeField=a.timeField,this.esVersion=a.esVersion}return b.prototype.getRangeFilter=function(){var a={};return a[this.timeField]={gte:"$timeFrom",lte:"$timeTo",format:"epoch_millis"},a},b.prototype.buildTermsAgg=function(a,b,c){var d,e,f;if(b.terms={field:a.field},!a.settings)return b;if(b.terms.size=0===parseInt(a.settings.size,10)?500:parseInt(a.settings.size,10),void 0!==a.settings.orderBy&&(b.terms.order={},b.terms.order[a.settings.orderBy]=a.settings.order,d=parseInt(a.settings.orderBy,10),!isNaN(d)))for(f=0;f<c.metrics.length;f++)if(e=c.metrics[f],e.id===a.settings.orderBy){b.aggs={},b.aggs[e.id]={},b.aggs[e.id][e.type]={field:e.field};break}return void 0!==a.settings.min_doc_count&&(b.terms.min_doc_count=parseInt(a.settings.min_doc_count,10)),a.settings.missing&&(b.terms.missing=a.settings.missing),b},b.prototype.getDateHistogramAgg=function(a){var b={},c=a.settings||{};return b.interval=c.interval,b.field=this.timeField,b.min_doc_count=c.min_doc_count||0,b.extended_bounds={min:"$timeFrom",max:"$timeTo"},b.format="epoch_millis","auto"===b.interval&&(b.interval="$__interval"),c.missing&&(b.missing=c.missing),b},b.prototype.getHistogramAgg=function(a){var b={},c=a.settings||{};return b.interval=c.interval,b.field=a.field,b.min_doc_count=c.min_doc_count||0,c.missing&&(b.missing=c.missing),b},b.prototype.getFiltersAgg=function(a){for(var b={},c=0;c<a.settings.filters.length;c++){var d=a.settings.filters[c].query;b[d]={query_string:{query:d,analyze_wildcard:!0}}}return b},b.prototype.documentQuery=function(a){return a.size=500,a.sort={},a.sort[this.timeField]={order:"desc",unmapped_type:"boolean"},this.esVersion<5&&(a.fields=["*","_source"]),a.script_fields={},this.esVersion<5?a.fielddata_fields=[this.timeField]:a.docvalue_fields=[this.timeField],a},b.prototype.addAdhocFilters=function(a,b){if(b){var c,d,e;for(c=0;c<b.length;c++)switch(d=b[c],e={},e[d.key]=d.value,d.operator){case"=":a.query.bool.filter.push({term:e});break;case"!=":a.query.bool.filter.push({bool:{must_not:{term:e}}});break;case"<":e[d.key]={lt:d.value},a.query.bool.filter.push({range:e});break;case">":e[d.key]={gt:d.value},a.query.bool.filter.push({range:e});break;case"=~":a.query.bool.filter.push({regexp:e});break;case"!~":a.query.bool.filter.push({bool:{must_not:{regexp:e}}})}}},b.prototype.build=function(b,c,d){b.metrics=b.metrics||[{type:"count",id:"1"}],b.dsType="elasticsearch",b.bucketAggs=b.bucketAggs||[{type:"date_histogram",id:"2",settings:{interval:"auto"}}],b.timeField=this.timeField;var e,f,g,h={size:0,query:{bool:{filter:[{range:this.getRangeFilter()},{query_string:{analyze_wildcard:!0,query:d}}]}}};if(this.addAdhocFilters(h,c),0===b.bucketAggs.length){if(g=b.metrics[0],g&&"raw_document"!==g.type)throw{message:"Invalid query"};return this.documentQuery(h,b)}for(f=h,e=0;e<b.bucketAggs.length;e++){var i=b.bucketAggs[e],j={};switch(i.type){case"date_histogram":j.date_histogram=this.getDateHistogramAgg(i);break;case"histogram":j.histogram=this.getHistogramAgg(i);break;case"filters":j.filters={filters:this.getFiltersAgg(i)};break;case"terms":this.buildTermsAgg(i,j,b);break;case"geohash_grid":j.geohash_grid={field:i.field,precision:i.settings.precision}}f.aggs=f.aggs||{},f.aggs[i.id]=j,f=j}for(f.aggs={},e=0;e<b.metrics.length;e++)if(g=b.metrics[e],"count"!==g.type){var k={},l=null;if(a.isPipelineAgg(g.type)){if(!g.pipelineAgg||!/^\d*$/.test(g.pipelineAgg))continue;l={buckets_path:g.pipelineAgg}}else l={field:g.field};for(var m in g.settings)g.settings.hasOwnProperty(m)&&null!==g.settings[m]&&(l[m]=g.settings[m]);k[g.type]=l,f.aggs[g.id]=k}return h},b.prototype.getTermsQuery=function(a){var b={size:0,query:{bool:{filter:[{range:this.getRangeFilter()}]}}};a.query&&b.query.bool.filter.push({query_string:{analyze_wildcard:!0,query:a.query}});var c=500;return a.size&&(c=a.size),b.aggs={1:{terms:{field:a.field,size:c,order:{_term:"asc"}}}},b},b})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/index_pattern.js",["lodash","moment"],function(a,b){"use strict";function c(a,b){this.pattern=a,this.interval=b}return c.intervalMap={Hourly:{startOf:"hour",amount:"hours"},Daily:{startOf:"day",amount:"days"},Weekly:{startOf:"isoWeek",amount:"weeks"},Monthly:{startOf:"month",amount:"months"},Yearly:{startOf:"year",amount:"years"}},c.prototype.getIndexForToday=function(){return this.interval?b.utc().format(this.pattern):this.pattern},c.prototype.getIndexList=function(a,d){if(!this.interval)return this.pattern;for(var e=c.intervalMap[this.interval],f=b(a).utc().startOf(e.startOf),g=b(d).utc().startOf(e.startOf).valueOf(),h=[];f<=g;)h.push(f.format(this.pattern)),f.add(1,e.amount);return h},c})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/elastic_response.js",["lodash","./query_def"],function(a,b){"use strict";function c(a,b){this.targets=a,this.response=b}return c.prototype.processMetrics=function(a,b,c,d){var e,f,g,h,i,j;for(f=0;f<b.metrics.length;f++)if(e=b.metrics[f],!e.hide)switch(e.type){case"count":for(h={datapoints:[],metric:"count",props:d},g=0;g<a.buckets.length;g++)i=a.buckets[g],j=i.doc_count,h.datapoints.push([j,i.key]);c.push(h);break;case"percentiles":if(0===a.buckets.length)break;var k=a.buckets[0],l=k[e.id].values;for(var m in l){for(h={datapoints:[],metric:"p"+m,props:d,field:e.field},g=0;g<a.buckets.length;g++){i=a.buckets[g];var n=i[e.id].values;h.datapoints.push([n[m],i.key])}c.push(h)}break;case"extended_stats":for(var o in e.meta)if(e.meta[o]){for(h={datapoints:[],metric:o,props:d,field:e.field},g=0;g<a.buckets.length;g++){i=a.buckets[g];var p=i[e.id];p.std_deviation_bounds_upper=p.std_deviation_bounds.upper,p.std_deviation_bounds_lower=p.std_deviation_bounds.lower,h.datapoints.push([p[o],i.key])}c.push(h)}break;default:for(h={datapoints:[],metric:e.type,field:e.field,props:d},g=0;g<a.buckets.length;g++)i=a.buckets[g],j=i[e.id],void 0!==j&&(j.normalized_value?h.datapoints.push([j.normalized_value,i.key]):h.datapoints.push([j.value,i.key]));c.push(h)}},c.prototype.processAggregationDocs=function(b,c,d,e,f){var g,h,i,j,k,l;for(i=0;i<b.buckets.length;i++){for(j=b.buckets[i],l=a.defaults({},f),l[c.field]=j.key,h=0;h<d.metrics.length;h++)switch(g=d.metrics[h],g.type){case"count":k=this._getMetricName(g.type),l[k]=j.doc_count;break;case"extended_stats":for(var m in g.meta)if(g.meta[m]){var n=j[g.id];n.std_deviation_bounds_upper=n.std_deviation_bounds.upper,n.std_deviation_bounds_lower=n.std_deviation_bounds.lower,k=this._getMetricName(m),l[k]=n[m]}break;default:k=this._getMetricName(g.type);var o=a.filter(d.metrics,{type:g.type});o.length>1&&(k+=" "+g.field),l[k]=j[g.id].value}e.push(l)}},c.prototype.processBuckets=function(b,c,d,e,f,g){var h,i,j,k,l=c.bucketAggs.length-1;for(k in b)if(i=a.find(c.bucketAggs,{id:k}),j=b[k],i)if(g===l)"date_histogram"===i.type?this.processMetrics(j,c,d,f):this.processAggregationDocs(j,i,c,e,f);else for(var m in j.buckets)h=j.buckets[m],f=a.clone(f),void 0!==h.key?f[i.field]=h.key:f.filter=m,h.key_as_string&&(f[i.field]=h.key_as_string),this.processBuckets(h,c,d,e,f,g+1)},c.prototype._getMetricName=function(c){var d=a.find(b.metricAggTypes,{value:c});return d||(d=a.find(b.extendedStats,{value:c})),d?d.text:c},c.prototype._getSeriesName=function(c,d,e){var f=this._getMetricName(c.metric);if(d.alias){var g=/\{\{([\s\S]+?)\}\}/g;return d.alias.replace(g,function(a,b,d){var e=b||d;return 0===e.indexOf("term ")?c.props[e.substring(5)]:void 0!==c.props[e]?c.props[e]:"metric"===e?f:"field"===e?c.field:a})}if(c.field&&b.isPipelineAgg(c.metric)){var h=a.find(d.metrics,{id:c.field});h?f+=" "+b.describeMetric(h):f="Unset"}else c.field&&(f+=" "+c.field);var i=a.keys(c.props);if(0===i.length)return f;var j="";for(var k in c.props)j+=c.props[k]+" ";return 1===e?j.trim():j.trim()+" "+f},c.prototype.nameSeries=function(b,c){for(var d=a.uniq(a.map(b,"metric")).length,e=a.uniq(a.map(b,"field")).length,f=0;f<b.length;f++){var g=b[f];g.target=this._getSeriesName(g,c,d,e)}},c.prototype.processHits=function(a,b){var c,d,e,f,g={target:"docs",type:"docs",datapoints:[],total:a.total};for(f=0;f<a.hits.length;f++){if(d=a.hits[f],e={_id:d._id,_type:d._type,_index:d._index},d._source)for(c in d._source)e[c]=d._source[c];for(c in d.fields)e[c]=d.fields[c];g.datapoints.push(e)}b.push(g)},c.prototype.trimDatapoints=function(b,c){var d=a.find(c.bucketAggs,{type:"date_histogram"}),e=d&&d.settings&&d.settings.trimEdges;if(e){var f=d.settings.trimEdges;for(var g in b){var h=b[g];h.datapoints.length>2*f&&(h.datapoints=h.datapoints.slice(f,h.datapoints.length-f))}}},c.prototype.getErrorFromElasticResponse=function(a,b){var c={};return c.data=JSON.stringify(b,null,4),b.root_cause&&b.root_cause.length>0&&b.root_cause[0].reason?c.message=b.root_cause[0].reason:c.message=b.reason||"Unkown elatic error response",a.$$config&&(c.config=a.$$config),c},c.prototype.getTimeSeries=function(){for(var a=[],b=0;b<this.response.responses.length;b++){var c=this.response.responses[b];if(c.error)throw this.getErrorFromElasticResponse(this.response,c.error);if(c.hits&&c.hits.hits.length>0&&this.processHits(c.hits,a),c.aggregations){var d=c.aggregations,e=this.targets[b],f=[],g=[];this.processBuckets(d,e,f,g,{},0),this.trimDatapoints(f,e),this.nameSeries(f,e);for(var h=0;h<f.length;h++)a.push(f[h]);0===a.length&&g.length>0&&a.push({target:"docs",type:"docs",datapoints:g})}}return{data:a}},c})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/datasource.js",["angular","lodash","moment","app/core/utils/kbn","./query_builder","./index_pattern","./elastic_response","./query_ctrl"],function(a,b,c,d,e,f,g){"use strict";function h(d,h,i,j,k){this.basicAuth=d.basicAuth,this.withCredentials=d.withCredentials,this.url=d.url,this.name=d.name,this.index=d.index,this.timeField=d.jsonData.timeField,this.esVersion=d.jsonData.esVersion,this.indexPattern=new f(d.index,d.jsonData.interval),this.interval=d.jsonData.timeInterval,this.queryBuilder=new e({timeField:this.timeField,esVersion:this.esVersion}),this._request=function(a,b,c){var d={url:this.url+"/"+b,method:a,data:c};return(this.basicAuth||this.withCredentials)&&(d.withCredentials=!0),this.basicAuth&&(d.headers={Authorization:this.basicAuth}),i.datasourceRequest(d)},this._get=function(a){var c=k.timeRange(),d=this.indexPattern.getIndexList(c.from.valueOf(),c.to.valueOf());return b.isArray(d)&&d.length?this._request("GET",d[0]+a).then(function(a){return a.data.$$config=a.config,a.data}):this._request("GET",this.indexPattern.getIndexForToday()+a).then(function(a){return a.data.$$config=a.config,a.data})},this._post=function(a,b){return this._request("POST",a,b).then(function(a){return a.data.$$config=a.config,a.data})},this.annotationQuery=function(d){var e=d.annotation,f=e.timeField||"@timestamp",g=e.query||"*",h=e.tagsField||"tags",i=e.titleField||"desc",k=e.textField||null,l={};l[f]={from:d.range.from.valueOf(),to:d.range.to.valueOf(),format:"epoch_millis"};var m=j.replace(g,{},"lucene"),n={bool:{filter:[{range:l},{query_string:{query:m}}]}},o={query:n,size:1e4};this.esVersion<5&&(o.fields=[f,"_source"]);var p={search_type:"query_then_fetch",ignore_unavailable:!0};e.index?p.index=e.index:p.index=this.indexPattern.getIndexList(d.range.from,d.range.to);var q=a.toJson(p)+"\n"+a.toJson(o)+"\n";return this._post("_msearch",q).then(function(a){for(var d=[],g=a.responses[0].hits.hits,j=function(a,c){if(c){for(var d=c.split("."),e=a,f=0;f<d.length;f++)if(e=e[d[f]],!e)return console.log("could not find field in annotation: ",c),"";return b.isArray(e)&&(e=e.join(", ")),e}},l=0;l<g.length;l++){var m=g[l]._source,n=m[f];if("undefined"!=typeof g[l].fields){var o=g[l].fields;(b.isString(o[f])||b.isNumber(o[f]))&&(n=o[f])}var p={annotation:e,time:c.utc(n).valueOf(),title:j(m,i),tags:j(m,h),text:j(m,k)};d.push(p)}return d})},this.testDatasource=function(){return k.setTime({from:"now-1m",to:"now"},!0),this.getFields({type:"date"}).then(function(a){var c=b.find(a,{text:this.timeField});return c?{status:"success",message:"Index OK. Time field name OK.",title:"Success"}:{status:"error",message:"No date field named "+this.timeField+" found",title:"Error"}}.bind(this),function(b){if(console.log(b),b.data&&b.data.error){var c=a.toJson(b.data.error);return b.data.error.reason&&(c=b.data.error.reason),{status:"error",message:c,title:"Error"}}return{status:"error",message:b.status,title:"Error"}})},this.getQueryHeader=function(b,c,d){var e={search_type:b,ignore_unavailable:!0};return e.index=this.indexPattern.getIndexList(c,d),a.toJson(e)},this.query=function(b){for(var c,d="",e=[],f=j.getAdhocFilters(this.name),i=0;i<b.targets.length;i++)if(c=b.targets[i],!c.hide){var k=j.replace(c.query||"*",b.scopedVars,"lucene"),l=this.queryBuilder.build(c,f,k),m=a.toJson(l),n=0===l.size&&this.esVersion<5?"count":"query_then_fetch",o=this.getQueryHeader(n,b.range.from,b.range.to);d+=o+"\n",d+=m+"\n",e.push(c)}return 0===e.length?h.when([]):(d=d.replace(/\$timeFrom/g,b.range.from.valueOf()),d=d.replace(/\$timeTo/g,b.range.to.valueOf()),d=j.replace(d,b.scopedVars),this._post("_msearch",d).then(function(a){return new g(e,a).getTimeSeries()}))},this.getFields=function(a){return this._get("/_mapping").then(function(c){function d(a,b,c){return"_"!==b[0]&&(!c.type||(c.type===a.type||c.type===f[a.type]))}function e(b){for(var c in b){var f=b[c];if(f.hasOwnProperty("properties"))g.push(c),e(f.properties);else{var i=g.concat(c).join(".");d(f,c,a)&&(h[i]={text:i,type:f.type})}}g.pop()}var f={float:"number",double:"number",integer:"number",long:"number",date:"date",string:"string",text:"string",scaled_float:"number",nested:"nested"},g=[],h={};for(var i in c){var j=c[i];if(j&&j.mappings){var k=j.mappings;for(var l in k){var m=k[l].properties;e(m)}}}return b.map(h,function(a){return a})})},this.getTerms=function(c){var d=k.timeRange(),e=this.esVersion>=5?"query_then_fetch":"count",f=this.getQueryHeader(e,d.from,d.to),g=a.toJson(this.queryBuilder.getTermsQuery(c));return g=g.replace(/\$timeFrom/g,d.from.valueOf()),g=g.replace(/\$timeTo/g,d.to.valueOf()),g=f+"\n"+g+"\n",this._post("_msearch?search_type="+e,g).then(function(a){if(!a.responses[0].aggregations)return[];var c=a.responses[0].aggregations[1].buckets;return b.map(c,function(a){return{text:a.key,value:a.key}})})},this.metricFindQuery=function(b){return b=a.fromJson(b),b.query=j.replace(b.query||"*",{},"lucene"),b?"fields"===b.find?this.getFields(b):"terms"===b.find?this.getTerms(b):void 0:h.when([])},this.getTagKeys=function(){return this.getFields({})},this.getTagValues=function(a){return this.getTerms({field:a.key,query:"*"})}}return h.$inject=["instanceSettings","$q","backendSrv","templateSrv","timeSrv"],{ElasticDatasource:h}})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/bucket_agg.js",["angular","lodash","./query_def"],function(a,b,c){"use strict";var d=a.module("grafana.directives");d.directive("elasticBucketAgg",function(){return{templateUrl:"public/app/plugins/datasource/elasticsearch/partials/bucket_agg.html",controller:"ElasticBucketAggCtrl",restrict:"E",scope:{target:"=",index:"=",onChange:"&",getFields:"&"}}}),d.controller("ElasticBucketAggCtrl",["$scope","uiSegmentSrv","$q","$rootScope",function(a,d,e,f){var g=a.target.bucketAggs;a.orderByOptions=[],a.bucketAggTypes=c.bucketAggTypes,a.orderOptions=c.orderOptions,a.sizeOptions=c.sizeOptions,f.onAppEvent("elastic-query-updated",function(){a.validateModel(),a.updateOrderByOptions()},a),a.init=function(){a.agg=g[a.index],a.validateModel()},a.onChangeInternal=function(){a.onChange()},a.onTypeChanged=function(){switch(a.agg.settings={},a.showOptions=!1,a.agg.type){case"date_histogram":case"histogram":case"terms":delete a.agg.query,a.agg.field="select field";break;case"filters":delete a.agg.field,a.agg.query="*";break;case"geohash_grid":a.agg.settings.precision=3}a.validateModel(),a.onChange()},a.validateModel=function(){a.index=b.indexOf(g,a.agg),a.isFirst=0===a.index,a.bucketAggCount=g.length;var d="",e=a.agg.settings||{};switch(a.agg.type){case"terms":e.order=e.order||"desc",e.size=e.size||"10",e.min_doc_count=e.min_doc_count||1,e.orderBy=e.orderBy||"_term","0"!==e.size&&(d=c.describeOrder(e.order)+" "+e.size+", "),e.min_doc_count>0&&(d+="Min Doc Count: "+e.min_doc_count+", "),d+="Order by: "+c.describeOrderBy(e.orderBy,a.target),"0"===e.size&&(d+=" ("+e.order+")");break;case"filters":e.filters=e.filters||[{query:"*"}],d=b.reduce(e.filters,function(a,b,c){return a+="Q"+(c+1)+"  = "+b.query+" "},""),d.length>50&&(d=d.substr(0,50)+"..."),d="Filter Queries ("+e.filters.length+")";break;case"date_histogram":e.interval=e.interval||"auto",e.min_doc_count=e.min_doc_count||0,a.agg.field=a.target.timeField,d="Interval: "+e.interval,e.min_doc_count>0&&(d+=", Min Doc Count: "+e.min_doc_count),(void 0===e.trimEdges||e.trimEdges<0)&&(e.trimEdges=0),e.trimEdges&&e.trimEdges>0&&(d+=", Trim edges: "+e.trimEdges);break;case"histogram":e.interval=e.interval||1e3,e.min_doc_count=b.defaultTo(e.min_doc_count,1),d="Interval: "+e.interval,e.min_doc_count>0&&(d+=", Min Doc Count: "+e.min_doc_count);break;case"geohash_grid":e.precision=Math.max(Math.min(e.precision,7),1),d="Precision: "+e.precision}return a.settingsLinkText=d,a.agg.settings=e,!0},a.addFiltersQuery=function(){a.agg.settings.filters.push({query:"*"})},a.removeFiltersQuery=function(c){a.agg.settings.filters=b.without(a.agg.settings.filters,c)},a.toggleOptions=function(){a.showOptions=!a.showOptions,a.updateOrderByOptions()},a.updateOrderByOptions=function(){a.orderByOptions=c.getOrderByOptions(a.target)},a.getFieldsInternal=function(){return"date_histogram"===a.agg.type?a.getFields({$fieldType:"date"}):a.getFields()},a.getIntervalOptions=function(){return e.when(d.transformToSegments(!0,"interval")(c.intervalOptions))},a.addBucketAgg=function(){var c=g[g.length-1],d=g.length-1;c&&"date_histogram"===c.type;var e=b.reduce(a.target.bucketAggs.concat(a.target.metrics),function(a,b){return parseInt(b.id)>a?parseInt(b.id):a},0);g.splice(d,0,{type:"terms",field:"select field",id:(e+1).toString(),fake:!0}),a.onChange()},a.removeBucketAgg=function(){g.splice(a.index,1),a.onChange()},a.init()}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/metric_agg.js",["angular","lodash","./query_def"],function(a,b,c){"use strict";var d=a.module("grafana.directives");d.directive("elasticMetricAgg",function(){return{templateUrl:"public/app/plugins/datasource/elasticsearch/partials/metric_agg.html",controller:"ElasticMetricAggCtrl",restrict:"E",scope:{target:"=",index:"=",onChange:"&",getFields:"&",esVersion:"="}}}),d.controller("ElasticMetricAggCtrl",["$scope","uiSegmentSrv","$q","$rootScope",function(a,d,e,f){var g=a.target.metrics;a.metricAggTypes=c.getMetricAggTypes(a.esVersion),a.extendedStats=c.extendedStats,a.pipelineAggOptions=[],a.modelSettingsValues={},a.init=function(){a.agg=g[a.index],a.validateModel(),a.updatePipelineAggOptions()},a.updatePipelineAggOptions=function(){a.pipelineAggOptions=c.getPipelineAggOptions(a.target)},f.onAppEvent("elastic-query-updated",function(){a.index=b.indexOf(g,a.agg),a.updatePipelineAggOptions(),a.validateModel()},a),a.validateModel=function(){if(a.isFirst=0===a.index,a.isSingle=1===g.length,a.settingsLinkText="",a.aggDef=b.find(a.metricAggTypes,{value:a.agg.type}),c.isPipelineAgg(a.agg.type)){a.agg.pipelineAgg=a.agg.pipelineAgg||"select metric",a.agg.field=a.agg.pipelineAgg;var d=c.getPipelineOptions(a.agg);d.length>0&&(b.each(d,function(b){a.agg.settings[b.text]=a.agg.settings[b.text]||b.default}),a.settingsLinkText="Options")}else a.agg.field||(a.agg.field="select field");switch(a.agg.type){case"cardinality":var e=a.agg.settings.precision_threshold||"";a.settingsLinkText="Precision threshold: "+e;break;case"percentiles":a.agg.settings.percents=a.agg.settings.percents||[25,50,75,95,99],a.settingsLinkText="Values: "+a.agg.settings.percents.join(",");break;case"extended_stats":0===b.keys(a.agg.meta).length&&(a.agg.meta.std_deviation_bounds_lower=!0,a.agg.meta.std_deviation_bounds_upper=!0);var f=b.reduce(a.agg.meta,function(c,d,e){if(d){var f=b.find(a.extendedStats,{value:e});c.push(f.text)}return c},[]);a.settingsLinkText="Stats: "+f.join(", ");break;case"moving_avg":a.movingAvgModelTypes=c.movingAvgModelOptions,a.modelSettings=c.getMovingAvgSettings(a.agg.settings.model,!0),a.updateMovingAvgModelSettings();break;case"raw_document":a.target.metrics=[a.agg],a.target.bucketAggs=[]}if(a.aggDef.supportsInlineScript){var h=a.agg.inlineScript;h?a.agg.settings.script={inline:h}:delete a.agg.settings.script,""===a.settingsLinkText&&(a.settingsLinkText="Options")}},a.toggleOptions=function(){a.showOptions=!a.showOptions,a.updatePipelineAggOptions()},a.onChangeInternal=function(){a.onChange()},a.updateMovingAvgModelSettings=function(){for(var b=[],d=c.getMovingAvgSettings(a.agg.settings.model,!1),e=0;e<d.length;e++)b.push(d[e].value);for(var f in a.agg.settings.settings)null!==a.agg.settings.settings[f]&&b.indexOf(f)!==-1||delete a.agg.settings.settings[f]},a.onChangeClearInternal=function(){delete a.agg.settings.minimize,a.onChange()},a.onTypeChange=function(){a.agg.settings={},a.agg.meta={},a.showOptions=!1,a.updatePipelineAggOptions(),a.onChange()},a.getFieldsInternal=function(){return"cardinality"===a.agg.type?a.getFields():a.getFields({$fieldType:"number"})},a.addMetricAgg=function(){var c=g.length,d=b.reduce(a.target.bucketAggs.concat(a.target.metrics),function(a,b){return parseInt(b.id)>a?parseInt(b.id):a},0);g.splice(c,0,{type:"count",field:"select field",id:(d+1).toString()}),a.onChange()},a.removeMetricAgg=function(){g.splice(a.index,1),a.onChange()},a.toggleShowMetric=function(){a.agg.hide=!a.agg.hide,a.agg.hide||delete a.agg.hide,a.onChange()},a.init()}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/query_def.js",["lodash"],function(a){"use strict";return{metricAggTypes:[{text:"Count",value:"count",requiresField:!1},{text:"Average",value:"avg",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Sum",value:"sum",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Max",value:"max",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Min",value:"min",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Extended Stats",value:"extended_stats",requiresField:!0,supportsMissing:!0,supportsInlineScript:!0},{text:"Percentiles",value:"percentiles",requiresField:!0,supportsMissing:!0,supportsInlineScript:!0},{text:"Unique Count",value:"cardinality",requiresField:!0,supportsMissing:!0},{text:"Moving Average",value:"moving_avg",requiresField:!1,isPipelineAgg:!0,minVersion:2},{text:"Derivative",value:"derivative",requiresField:!1,isPipelineAgg:!0,minVersion:2},{text:"Raw Document",value:"raw_document",requiresField:!1}],bucketAggTypes:[{text:"Terms",value:"terms",requiresField:!0},{text:"Filters",value:"filters"},{text:"Geo Hash Grid",value:"geohash_grid",requiresField:!0},{text:"Date Histogram",value:"date_histogram",requiresField:!0},{text:"Histogram",value:"histogram",requiresField:!0}],orderByOptions:[{text:"Doc Count",value:"_count"},{text:"Term value",value:"_term"}],orderOptions:[{text:"Top",value:"desc"},{text:"Bottom",value:"asc"}],sizeOptions:[{text:"No limit",value:"0"},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"5",value:"5"},{text:"10",value:"10"},{text:"15",value:"15"},{text:"20",value:"20"}],extendedStats:[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Sum",value:"sum"},{text:"Count",value:"count"},{text:"Std Dev",value:"std_deviation"},{text:"Std Dev Upper",value:"std_deviation_bounds_upper"},{text:"Std Dev Lower",value:"std_deviation_bounds_lower"}],intervalOptions:[{text:"auto",value:"auto"},{text:"10s",value:"10s"},{text:"1m",value:"1m"},{text:"5m",value:"5m"},{text:"10m",value:"10m"},{text:"20m",value:"20m"},{text:"1h",value:"1h"},{text:"1d",value:"1d"}],movingAvgModelOptions:[{text:"Simple",value:"simple"},{text:"Linear",value:"linear"},{text:"Exponentially Weighted",value:"ewma"},{text:"Holt Linear",value:"holt"},{text:"Holt Winters",value:"holt_winters"}],pipelineOptions:{moving_avg:[{text:"window",default:5},{text:"model",default:"simple"},{text:"predict",default:void 0},{text:"minimize",default:!1}],derivative:[{text:"unit",default:void 0}]},movingAvgModelSettings:{simple:[],linear:[],ewma:[{text:"Alpha",value:"alpha",default:void 0}],holt:[{text:"Alpha",value:"alpha",default:void 0},{text:"Beta",value:"beta",default:void 0}],holt_winters:[{text:"Alpha",value:"alpha",default:void 0},{text:"Beta",value:"beta",default:void 0},{text:"Gamma",value:"gamma",default:void 0},{text:"Period",value:"period",default:void 0},{text:"Pad",value:"pad",default:void 0,isCheckbox:!0}]},getMetricAggTypes:function(b){return a.filter(this.metricAggTypes,function(a){return!a.minVersion||a.minVersion<=b})},getPipelineOptions:function(a){return this.isPipelineAgg(a.type)?this.pipelineOptions[a.type]:[]},isPipelineAgg:function(a){if(a){var b=this.pipelineOptions[a];return null!==b&&void 0!==b}return!1},getPipelineAggOptions:function(b){var c=this,d=[];return a.each(b.metrics,function(a){c.isPipelineAgg(a.type)||d.push({text:c.describeMetric(a),value:a.id})}),d},getMovingAvgSettings:function(b,c){var d=[];return c?(a.each(this.movingAvgModelSettings[b],function(a){a.isCheckbox||d.push(a)}),d):this.movingAvgModelSettings[b]},getOrderByOptions:function(b){var c=this,d=[];return a.each(b.metrics,function(a){
"count"!==a.type&&d.push({text:c.describeMetric(a),value:a.id})}),this.orderByOptions.concat(d)},describeOrder:function(b){var c=a.find(this.orderOptions,{value:b});return c.text},describeMetric:function(b){var c=a.find(this.metricAggTypes,{value:b.type});return c.text+" "+b.field},describeOrderBy:function(b,c){var d=a.find(this.orderByOptions,{value:b});if(d)return d.text;var e=a.find(c.metrics,{id:b});return e?this.describeMetric(e):"metric not found"}}})}(),System.register("app/plugins/datasource/elasticsearch/query_ctrl.js",["./bucket_agg","./metric_agg","angular","lodash","./query_def","app/plugins/sdk"],function(a,b){"use strict";var c,d,e,f,g,h=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){},function(a){},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c)||this;return g.$rootScope=d,g.$timeout=e,g.uiSegmentSrv=f,g.esVersion=g.datasource.esVersion,g.queryUpdated(),g}return h(b,a),b.$inject=["$scope","$injector","$rootScope","$timeout","uiSegmentSrv"],b.prototype.getFields=function(a){var b=c.default.toJson({find:"fields",type:a});return this.datasource.metricFindQuery(b).then(this.uiSegmentSrv.transformToSegments(!1)).catch(this.handleQueryError.bind(this))},b.prototype.queryUpdated=function(){var a=c.default.toJson(this.datasource.queryBuilder.build(this.target),!0);a!==this.rawQueryOld&&(this.rawQueryOld=a,this.refresh()),this.$rootScope.appEvent("elastic-query-updated")},b.prototype.getCollapsedText=function(){var a=this.target.metrics,b=this.target.bucketAggs,c=e.default.getMetricAggTypes(this.esVersion),f=e.default.bucketAggTypes,g="";return this.target.query&&(g+="Query: "+this.target.query+", "),g+="Metrics: ",d.default.each(a,function(a,b){var e=d.default.find(c,{value:a.type});g+=e.text+"(",e.requiresField&&(g+=a.field),g+="), "}),d.default.each(b,function(a,b){0===b&&(g+=" Group by: ");var c=d.default.find(f,{value:a.type});g+=c.text+"(",c.requiresField&&(g+=a.field),g+="), "}),this.target.alias&&(g+="Alias: "+this.target.alias),g},b.prototype.handleQueryError=function(a){return this.error=a.message||"Failed to issue metric query",[]},b}(f.QueryCtrl),g.templateUrl="partials/query.editor.html",a("ElasticQueryCtrl",g)}}}),System.register("app/plugins/datasource/elasticsearch/config_ctrl.js",["lodash"],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=function(){function a(a){this.indexPatternTypes=[{name:"No pattern",value:void 0},{name:"Hourly",value:"Hourly",example:"[logstash-]YYYY.MM.DD.HH"},{name:"Daily",value:"Daily",example:"[logstash-]YYYY.MM.DD"},{name:"Weekly",value:"Weekly",example:"[logstash-]GGGG.WW"},{name:"Monthly",value:"Monthly",example:"[logstash-]YYYY.MM"},{name:"Yearly",value:"Yearly",example:"[logstash-]YYYY"}],this.esVersions=[{name:"2.x",value:2},{name:"5.x",value:5}],this.current.jsonData.timeField=this.current.jsonData.timeField||"@timestamp"}return a.$inject=["$scope"],a.prototype.indexPatternTypeChanged=function(){var a=c.default.find(this.indexPatternTypes,{value:this.current.jsonData.interval});this.current.database=a.example||"es-index-name"},a}(),d.templateUrl="public/app/plugins/datasource/elasticsearch/partials/config.html",a("ElasticConfigCtrl",d)}}}),System.register("app/plugins/datasource/elasticsearch/module.js",["./datasource","./query_ctrl","./config_ctrl"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){a("Datasource",c.ElasticDatasource),a("QueryCtrl",d.ElasticQueryCtrl),a("ConfigCtrl",e.ElasticConfigCtrl),f=function(){function a(){}return a}(),f.templateUrl="partials/query.options.html",a("QueryOptionsCtrl",f),g=function(){function a(){}return a}(),g.templateUrl="partials/annotations.editor.html",a("AnnotationsQueryCtrl",g)}}}),System.register("app/plugins/datasource/graphite/datasource.js",["lodash","app/core/utils/datemath"],function(a,b){"use strict";function c(a,b,c,f){this.basicAuth=a.basicAuth,this.url=a.url,this.name=a.name,this.cacheTimeout=a.cacheTimeout,this.withCredentials=a.withCredentials,this.render_method=a.render_method||"POST",this.query=function(a){var c={from:this.translateTime(a.rangeRaw.from,!1),until:this.translateTime(a.rangeRaw.to,!0),targets:a.targets,format:a.format,cacheTimeout:a.cacheTimeout||this.cacheTimeout,maxDataPoints:a.maxDataPoints},d=this.buildGraphiteParams(c,a.scopedVars);if(0===d.length)return b.when({data:[]});var e={method:"POST",url:"/render",data:d.join("&"),headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.panelId&&(e.requestId=this.name+".panelId."+a.panelId),this.doGraphiteRequest(e).then(this.convertDataPointsToMs)},this.convertDataPointsToMs=function(a){if(!a||!a.data)return[];for(var b=0;b<a.data.length;b++)for(var c=a.data[b],d=0;d<c.datapoints.length;d++)c.datapoints[d][1]*=1e3;return a},this.annotationQuery=function(a){if(a.annotation.target){var b=f.replace(a.annotation.target,{},"glob"),c={rangeRaw:a.rangeRaw,targets:[{target:b}],format:"json",maxDataPoints:100};return this.query(c).then(function(b){for(var c=[],d=0;d<b.data.length;d++)for(var e=b.data[d],f=0;f<e.datapoints.length;f++){var g=e.datapoints[f];g[0]&&c.push({annotation:a.annotation,time:g[1],title:e.target})}return c})}var d=f.replace(a.annotation.tags);return this.events({range:a.rangeRaw,tags:d}).then(function(b){for(var c=[],d=0;d<b.data.length;d++){var e=b.data[d];c.push({annotation:a.annotation,time:1e3*e.when,title:e.what,tags:e.tags,text:e.data})}return c})},this.events=function(a){try{var c="";return a.tags&&(c="&tags="+a.tags),this.doGraphiteRequest({method:"GET",url:"/events/get_data?from="+this.translateTime(a.range.from,!1)+"&until="+this.translateTime(a.range.to,!0)+c})}catch(a){return b.reject(a)}},this.targetContainsTemplate=function(a){return f.variableExists(a.target)},this.translateTime=function(a,b){if(d.default.isString(a)){if("now"===a)return"now";if(a.indexOf("now-")>=0&&a.indexOf("/")===-1)return a=a.substring(3),a=a.replace("m","min"),a=a.replace("M","mon");a=e.parse(a,b)}return b?a.get("s")&&a.add(1,"m"):b===!1&&a.get("s")&&a.subtract(1,"m"),a.unix()},this.metricFindQuery=function(a){var c;try{c=encodeURIComponent(f.replace(a))}catch(a){return b.reject(a)}return this.doGraphiteRequest({method:"GET",url:"/metrics/find/?query="+c}).then(function(a){return d.default.map(a.data,function(a){return{text:a.text,expandable:!!a.expandable}})})},this.testDatasource=function(){return this.metricFindQuery("*").then(function(){return{status:"success",message:"Data source is working",title:"Success"}})},this.doGraphiteRequest=function(a){return(this.basicAuth||this.withCredentials)&&(a.withCredentials=!0),this.basicAuth&&(a.headers=a.headers||{},a.headers.Authorization=this.basicAuth),a.url=this.url+a.url,a.inspect={type:"graphite"},c.datasourceRequest(a)},this._seriesRefLetters="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.buildGraphiteParams=function(a,b){function c(a){return a.replace("m","min").replace("M","mon")}function e(a,b){return l[b]||a}var g,h,i,j=["from","until","rawData","format","maxDataPoints","cacheTimeout"],k=[],l={},m=/\#([A-Z])/g,n=/'(\d+)m'/gi,o=!1;for(a.format="json",i=0;i<a.targets.length;i++)g=a.targets[i],g.target&&(g.refId||(g.refId=this._seriesRefLetters[i]),h=f.replace(g.target,b),h=h.replace(n,c),l[g.refId]=h);for(i=0;i<a.targets.length;i++)g=a.targets[i],g.target&&(h=l[g.refId],h=h.replace(m,e),l[g.refId]=h,g.hide||(o=!0,k.push("target="+encodeURIComponent(h))));return d.default.each(a,function(a,b){d.default.indexOf(j,b)!==-1&&a&&k.push(b+"="+encodeURIComponent(a))}),o?k:[]}}c.$inject=["instanceSettings","$q","backendSrv","templateSrv"];b&&b.id;a("GraphiteDatasource",c);var d,e;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),function(){var a=System.amdDefine;a("app/plugins/datasource/graphite/add_graphite_func.js",["angular","lodash","jquery","./gfunc"],function(a,b,c,d){"use strict";function e(a){return b.reduce(a,function(a,c){return b.each(c,function(b){a.push(b.name)}),a},[])}function f(a){return b.map(a,function(a,c){return{text:c,submenu:b.map(a,function(a){return{text:a.name,click:"ctrl.addFunction('"+a.name+"')"}})}})}a.module("grafana.directives").directive("graphiteAddFunc",["$compile",function(a){var g='<input type="text" class="gf-form-input" spellcheck="false" style="display:none"></input>',h='<a  class="gf-form-label query-part dropdown-toggle" tabindex="1" gf-dropdown="functionMenu" data-toggle="dropdown"><i class="fa fa-plus"></i></a>';return{link:function(i,j){var k=d.getCategories(),l=e(k),m=i.ctrl;i.functionMenu=f(k);var n=c(g),o=c(h);n.appendTo(j),o.appendTo(j),n.attr("data-provide","typeahead"),n.typeahead({source:l,minLength:1,items:10,updater:function(a){var c=d.getFuncDef(a);if(c||(a=a.toLowerCase(),c=b.find(l,function(b){return 0===b.toLowerCase().indexOf(a)})))return i.$apply(function(){m.addFunction(c)}),n.trigger("blur"),""}}),o.click(function(){o.hide(),n.show(),n.focus()}),n.keyup(function(){j.toggleClass("open",""===n.val())}),n.blur(function(){setTimeout(function(){n.val(""),n.hide(),o.show(),j.removeClass("open")},200)}),a(j.contents())(i)}}}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/graphite/func_editor.js",["angular","lodash","jquery"],function(a,b,c){"use strict";a.module("grafana.directives").directive("graphiteFuncEditor",["$compile","templateSrv",function(a,d){var e='<a ng-click="">{{func.def.name}}</a><span>(</span>',f='<input type="text" style="display:none" class="input-mini tight-form-func-param"></input>',g='<div class="tight-form-func-controls"><span class="pointer fa fa-arrow-left"></span><span class="pointer fa fa-question-circle"></span><span class="pointer fa fa-remove" ></span><span class="pointer fa fa-arrow-right"></span></div>';return{restrict:"A",link:function(h,i){function j(a){var b=c(this),d=b.next();d.val(y.params[a]),d.css("width",b.width()+16+"px"),b.hide(),d.show(),d.focus(),d.select();var e=d.data("typeahead");e&&(d.val(""),e.lookup())}function k(){B!==y.params.length&&(A||(A=!0,setTimeout(function(){u(),A=!1},200)))}function l(a){var b=c(this),e=b.prev(),f=b.val();(""!==f||y.def.params[a].optional)&&(e.html(d.highlightVariablesAsHtml(f)),y.updateParam(b.val(),a),k(),h.$apply(function(){x.targetChanged()}),b.hide(),e.show())}function m(a,b){13===b.which&&l.call(this,a)}function n(){this.style.width=8*(3+this.value.length)+"px"}function o(a,c){a.attr("data-provide","typeahead");var d=z.params[c].options;"int"===z.params[c].type&&(d=b.map(d,function(a){return a.toString()})),a.typeahead({source:d,minLength:0,items:20,updater:function(b){return setTimeout(function(){l.call(a[0],c)},0),b}});var e=a.data("typeahead");e.lookup=function(){return this.query=this.$element.val()||"",this.process(this.source)}}function p(){var a=i.closest(".tight-form");return i.hasClass("show-function-controls")?(i.removeClass("show-function-controls"),a.removeClass("has-open-function"),void w.hide()):(i.addClass("show-function-controls"),a.addClass("has-open-function"),void w.show())}function q(){w.appendTo(i),v.appendTo(i),b.each(z.params,function(a,e){if(!(a.optional&&y.params.length<=e)){e>0&&c("<span>, </span>").appendTo(i);var g=d.highlightVariablesAsHtml(y.params[e]),h=c('<a ng-click="" class="graphite-func-param-link">'+g+"</a>"),k=c(f);B++,h.appendTo(i),k.appendTo(i),k.blur(b.partial(l,e)),k.keyup(n),k.keypress(b.partial(m,e)),h.click(b.partial(j,e)),z.params[e].options&&o(k,e)}}),c("<span>)</span>").appendTo(i),a(i.contents())(h)}function r(){h.func.added&&(h.func.added=!1,setTimeout(function(){i.find(".graphite-func-param-link").first().click()},10))}function s(){v.click(p)}function t(){w.click(function(a){var d=c(a.target);return d.hasClass("fa-remove")?(p(),void h.$apply(function(){x.removeFunction(h.func)})):d.hasClass("fa-arrow-left")?void h.$apply(function(){b.move(x.functions,h.$index,h.$index-1),x.targetChanged()}):d.hasClass("fa-arrow-right")?void h.$apply(function(){b.move(x.functions,h.$index,h.$index+1),x.targetChanged()}):d.hasClass("fa-question-circle")?void window.open("http://graphite.readthedocs.org/en/latest/functions.html#graphite.render.functions."+z.name,"_blank"):void 0})}function u(){i.children().remove(),q(),r(),s(),t()}var v=c(e),w=c(g),x=h.ctrl,y=h.func,z=y.def,A=!1,B=0;u()}}}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/graphite/gfunc.js",["lodash","jquery"],function(a,b){"use strict";function c(a){a.params=a.params||[],a.defaultParams=a.defaultParams||[],a.category&&a.category.push(a),e[a.name]=a,e[a.shortName||a.name]=a}function d(a,b){this.def=a,this.params=[],b&&b.withDefaultParams&&(this.params=a.defaultParams.slice(0)),this.updateText()}var e=[],f={Combine:[],Transform:[],Calculate:[],Filter:[],Special:[]},g=[{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0}];return c({name:"scaleToSeconds",category:f.Transform,params:[{name:"seconds",type:"int"}],defaultParams:[1]}),c({name:"perSecond",category:f.Transform,params:[{name:"max value",type:"int",optional:!0}],defaultParams:[]}),c({name:"holtWintersForecast",category:f.Calculate}),c({name:"holtWintersConfidenceBands",category:f.Calculate,params:[{name:"delta",type:"int"}],defaultParams:[3]}),c({name:"holtWintersAberration",category:f.Calculate,params:[{name:"delta",type:"int"}],defaultParams:[3]}),c({name:"nPercentile",category:f.Calculate,params:[{name:"Nth percentile",type:"int"}],defaultParams:[95]}),c({name:"diffSeries",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"stddevSeries",params:g,defaultParams:[""],category:f.Calculate}),c({name:"divideSeries",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"multiplySeries",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"asPercent",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"group",params:g,defaultParams:["#A","#B"],category:f.Combine}),c({name:"mapSeries",shortName:"map",params:[{name:"node",type:"int"}],defaultParams:[3],category:f.Combine}),c({name:"reduceSeries",shortName:"reduce",params:[{name:"function",type:"string",options:["asPercent","diffSeries","divideSeries"]},{name:"reduceNode",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,11,12,13]},{name:"reduceMatchers",type:"string"},{name:"reduceMatchers",type:"string"}],defaultParams:["asPercent",2,"used_bytes","total_bytes"],category:f.Combine}),c({name:"sumSeries",shortName:"sum",category:f.Combine,params:g,defaultParams:[""]}),c({name:"averageSeries",shortName:"avg",category:f.Combine,params:g,defaultParams:[""]}),c({name:"isNonNull",category:f.Combine}),c({name:"rangeOfSeries",category:f.Combine}),c({name:"percentileOfSeries",category:f.Combine,params:[{name:"n",type:"int"},{name:"interpolate",type:"select",options:["true","false"]}],defaultParams:[95,"false"]}),c({name:"sumSeriesWithWildcards",category:f.Combine,params:[{name:"node",type:"int"},{name:"node",type:"int",optional:!0},{name:"node",type:"int",optional:!0},{name:"node",type:"int",optional:!0}],defaultParams:[3]}),c({name:"maxSeries",shortName:"max",category:f.Combine}),c({name:"minSeries",shortName:"min",category:f.Combine}),c({name:"averageSeriesWithWildcards",category:f.Combine,params:[{name:"node",type:"int"},{name:"node",type:"int",optional:!0}],defaultParams:[3]}),c({name:"alias",category:f.Special,params:[{name:"alias",type:"string"}],defaultParams:["alias"]}),c({name:"aliasSub",category:f.Special,params:[{name:"search",type:"string"},{name:"replace",type:"string"}],defaultParams:["","\\1"]}),c({name:"stacked",category:f.Special,params:[{name:"stack",type:"string"}],defaultParams:["stacked"]}),c({name:"consolidateBy",category:f.Special,params:[{name:"function",type:"string",options:["sum","average","min","max"]}],defaultParams:["max"]}),c({name:"cumulative",category:f.Special,params:[],defaultParams:[]}),c({name:"groupByNode",category:f.Special,params:[{name:"node",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,12]},{name:"function",type:"string",options:["sum","avg","maxSeries"]}],defaultParams:[3,"sum"]}),c({name:"groupByNodes",category:f.Special,params:[{name:"function",type:"string",options:["sum","avg","maxSeries"]},{name:"node",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,12]},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0}],defaultParams:["sum",3]}),c({name:"aliasByNode",category:f.Special,params:[{name:"node",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,12]},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0}],defaultParams:[3]}),c({name:"substr",category:f.Special,params:[{name:"start",type:"int",options:[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,12]},{name:"stop",type:"int",options:[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,12]}],defaultParams:[0,0]}),c({name:"sortByName",category:f.Special,params:[{name:"natural",type:"select",options:["true","false"],optional:!0}],defaultParams:["false"]}),c({name:"sortByMaxima",category:f.Special}),c({name:"sortByMinima",category:f.Special}),c({name:"sortByTotal",category:f.Special}),c({name:"aliasByMetric",category:f.Special}),c({name:"randomWalk",fake:!0,category:f.Special,params:[{name:"name",type:"string"}],defaultParams:["randomWalk"]}),c({name:"countSeries",category:f.Special}),c({name:"constantLine",category:f.Special,params:[{name:"value",type:"int"}],defaultParams:[10]}),c({name:"cactiStyle",category:f.Special}),c({name:"keepLastValue",category:f.Special,params:[{name:"n",type:"int"}],defaultParams:[100]}),c({name:"changed",category:f.Special,params:[],defaultParams:[]}),c({name:"scale",category:f.Transform,params:[{name:"factor",type:"int"}],defaultParams:[1]}),c({name:"offset",category:f.Transform,params:[{name:"amount",type:"int"}],defaultParams:[10]}),c({name:"offsetToZero",category:f.Transform}),c({name:"transformNull",category:f.Transform,params:[{name:"amount",type:"int"}],defaultParams:[0]}),c({name:"integral",category:f.Transform}),c({name:"derivative",category:f.Transform}),c({name:"nonNegativeDerivative",category:f.Transform,params:[{name:"max value or 0",type:"int",optional:!0}],defaultParams:[""]}),c({name:"timeShift",category:f.Transform,params:[{name:"amount",type:"select",options:["1h","6h","12h","1d","2d","7d","14d","30d"]}],defaultParams:["1d"]}),c({name:"timeStack",category:f.Transform,params:[{name:"timeShiftUnit",type:"select",options:["1h","6h","12h","1d","2d","7d","14d","30d"]},{name:"timeShiftStart",type:"int"},{name:"timeShiftEnd",type:"int"}],defaultParams:["1d",0,7]}),c({name:"summarize",category:f.Transform,params:[{name:"interval",type:"string"},{name:"func",type:"select",options:["sum","avg","min","max","last"]},{name:"alignToFrom",type:"boolean",optional:!0,options:["false","true"]}],defaultParams:["1h","sum","false"]}),c({name:"smartSummarize",category:f.Transform,params:[{name:"interval",type:"string"},{name:"func",type:"select",options:["sum","avg","min","max","last"]}],defaultParams:["1h","sum"]}),c({name:"absolute",category:f.Transform}),c({name:"hitcount",category:f.Transform,params:[{name:"interval",type:"string"}],defaultParams:["10s"]}),c({name:"log",category:f.Transform,params:[{name:"base",type:"int"}],defaultParams:["10"]}),c({name:"averageAbove",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"averageBelow",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"currentAbove",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"currentBelow",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"maximumAbove",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"maximumBelow",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"minimumAbove",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"minimumBelow",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"limit",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"mostDeviant",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[10]}),c({name:"exclude",category:f.Filter,params:[{name:"exclude",type:"string"}],defaultParams:["exclude"]}),c({name:"grep",category:f.Filter,params:[{name:"grep",type:"string"}],defaultParams:["grep"]}),c({name:"highestCurrent",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"highestMax",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"lowestCurrent",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"movingAverage",category:f.Filter,params:[{name:"windowSize",type:"int_or_interval",options:["5","7","10","5min","10min","30min","1hour"]}],defaultParams:[10]}),c({name:"weightedAverage",category:f.Filter,params:[{name:"other",type:"value_or_series",optional:!0},{name:"node",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,12]}],defaultParams:["#A",4]}),c({name:"movingMedian",category:f.Filter,params:[{name:"windowSize",type:"int_or_interval",options:["5","7","10","5min","10min","30min","1hour"]}],defaultParams:["5"]}),c({name:"stdev",category:f.Filter,params:[{name:"n",type:"int"},{name:"tolerance",type:"int"}],defaultParams:[5,.1]}),c({name:"highestAverage",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"lowestAverage",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"removeAbovePercentile",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeAboveValue",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeBelowPercentile",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeBelowValue",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeEmptySeries",category:f.Filter}),c({name:"useSeriesAbove",category:f.Filter,params:[{name:"value",type:"int"},{name:"search",type:"string"},{name:"replace",type:"string"}],defaultParams:[0,"search","replace"]}),a.each(f,function(b,c){f[c]=a.sortBy(b,"name")}),d.prototype.render=function(c){var d=this.def.name+"(",e=a.map(this.params,function(a,c){var d=this.def.params[c].type;return"int"===d||"value_or_series"===d||"boolean"===d?a:"int_or_interval"===d&&b.isNumeric(a)?a:"'"+a+"'"}.bind(this));return c&&e.unshift(c),d+e.join(", ")+")"},d.prototype._hasMultipleParamsInString=function(a,b){return a.indexOf(",")!==-1&&(this.def.params[b+1]&&this.def.params[b+1].optional)},d.prototype.updateParam=function(b,c){return this._hasMultipleParamsInString(b,c)?void a.each(b.split(","),function(a,b){this.updateParam(a.trim(),b)}.bind(this)):(""===b&&this.def.params[c].optional?this.params.splice(c,1):this.params[c]=b,void this.updateText())},d.prototype.updateText=function(){if(0===this.params.length)return void(this.text=this.def.name+"()");var a=this.def.name+"(";a+=this.params.join(", "),a+=")",this.text=a},{createFuncInstance:function(b,c){if(a.isString(b)){if(!e[b])throw{message:"Method not found "+name};b=e[b]}return new d(b,c)},getFuncDef:function(a){return e[a]},getCategories:function(){return f}}})}(),System.register("app/plugins/datasource/graphite/lexer.js",["lodash"],function(a,b){"use strict";function c(a){this.input=a,this.char=1,this.from=1}b&&b.id;a("Lexer",c);var d,e,f,g,h;return{setters:[function(a){d=a}],execute:function(){for(e=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4304,4346,4348,4348,4352,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7104,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11520,11557,11568,11621,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,13312,19893,19893,19968,19968,40907,40907,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42897,42912,42921,43002,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,44032,55203,55203,55216,55238,55243,55291,63744,64045,64048,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66334,66352,66378,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67840,67861,67872,67897,68096,68096,68112,68115,68117,68119,68121,68147,68192,68220,68352,68405,68416,68437,68448,68466,68608,68680,69635,69687,69763,69807,73728,74606,74752,74850,77824,78894,92160,92728,110592,110593,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,131072,131072,173782,173782,173824,173824,177972,177972,177984,177984,178205,178205,194560,195101],f=[],g=0;g<128;g++)f[g]=g>=48&&g<=57||36===g||126===g||124===g||g>=65&&g<=90||95===g||45===g||42===g||58===g||91===g||93===g||63===g||37===g||35===g||61===g||g>=97&&g<=122;h=f,c.prototype={peek:function(a){return this.input.charAt(a||0)},skip:function(a){a=a||1,this.char+=a,this.input=this.input.slice(a)},tokenize:function(){for(var a,b=[];a=this.next();)b.push(a);return b},next:function(){this.from=this.char;var a;if(/\s/.test(this.peek())){for(a=this.char;/\s/.test(this.peek());)this.from+=1,this.skip();if(""===this.peek())return null}var b=this.scanStringLiteral();return b?b:(b=this.scanPunctuator()||this.scanNumericLiteral()||this.scanIdentifier()||this.scanTemplateSequence(),b?(this.skip(b.value.length),b):null)},scanTemplateSequence:function(){return"["===this.peek()&&"["===this.peek(1)?{type:"templateStart",value:"[[",pos:this.char}:"]"===this.peek()&&"]"===this.peek(1)?{type:"templateEnd",value:"[[",pos:this.char}:null},scanIdentifier:function(){function a(a){for(var b=0;b<e.length;){if(a<e[b++])return!1;if(a<=e[b++])return!0}return!1}function b(a){return/^[0-9a-fA-F]$/.test(a)}var c,g,i="",j=0,k=d.default.bind(function(){if(j+=1,"u"!==this.peek(j))return null;var c,d=this.peek(j+1),e=this.peek(j+2),f=this.peek(j+3),g=this.peek(j+4);return b(d)&&b(e)&&b(f)&&b(g)?(c=parseInt(d+e+f+g,16),a(c)?(j+=5,"\\u"+d+e+f+g):null):null},this),l=d.default.bind(function(){var b=this.peek(j),c=b.charCodeAt(0);return"*"===b?(j+=1,b):92===c?k():c<128?f[c]?(j+=1,b):null:a(c)?(j+=1,b):null},this),m=d.default.bind(function(){var b=this.peek(j),c=b.charCodeAt(0);return 92===c?k():c<128?h[c]?(j+=1,b):null:a(c)?(j+=1,b):null},this);if(g=l(),null===g)return null;for(i=g;g=m(),null!==g;)i+=g;switch(i){case"true":c="bool";break;case"false":c="bool";break;default:c="identifier"}return{type:c,value:i,pos:this.char}},scanNumericLiteral:function(){function a(a){return/^[0-9]$/.test(a)}function b(a){return/^[0-7]$/.test(a)}function c(a){return/^[0-9a-fA-F]$/.test(a)}function d(a){return"$"===a||"_"===a||"\\"===a||a>="a"&&a<="z"||a>="A"&&a<="Z"}var e,f=0,g="",h=this.input.length,i=this.peek(f);if("-"===i&&(g+=i,f+=1,i=this.peek(f)),"."!==i&&!a(i))return null;if("."!==i){if(g+=this.peek(f),f+=1,i=this.peek(f),"0"===g){if("x"===i||"X"===i){for(f+=1,g+=i;f<h&&(i=this.peek(f),c(i));)g+=i,f+=1;return g.length<=2?{type:"number",value:g,isMalformed:!0,pos:this.char}:f<h&&(i=this.peek(f),d(i))?null:{type:"number",value:g,base:16,isMalformed:!1,pos:this.char}}if(b(i)){for(f+=1,g+=i,e=!1;f<h;){if(i=this.peek(f),a(i)&&(e=!0),!b(i)){if(!this.isPunctuator(i))return null;break}g+=i,f+=1}return f<h&&(i=this.peek(f),d(i))?null:{type:"number",value:g,base:8,isMalformed:e}}a(i)&&(f+=1,g+=i)}for(;f<h&&(i=this.peek(f),a(i));)g+=i,f+=1}if("."===i)for(g+=i,f+=1;f<h&&(i=this.peek(f),a(i));)g+=i,f+=1;if("e"===i||"E"===i){if(g+=i,f+=1,i=this.peek(f),"+"!==i&&"-"!==i||(g+=this.peek(f),f+=1),i=this.peek(f),!a(i))return null;for(g+=i,f+=1;f<h&&(i=this.peek(f),
a(i));)g+=i,f+=1}return f<h&&(i=this.peek(f),!this.isPunctuator(i))?null:{type:"number",value:g,base:10,pos:this.char,isMalformed:!isFinite(+g)}},isPunctuator:function(a){switch(a){case".":case"(":case")":case",":case"{":case"}":return!0}return!1},scanPunctuator:function(){var a=this.peek();return this.isPunctuator(a)?{type:a,value:a,pos:this.char}:null},scanStringLiteral:function(){var a=this.peek();if('"'!==a&&"'"!==a)return null;var b="";for(this.skip();this.peek()!==a;){if(""===this.peek())return{type:"string",value:b,isUnclosed:!0,quote:a,pos:this.char};var c=this.peek(),d=1;b+=c,this.skip(d)}return this.skip(),{type:"string",value:b,isUnclosed:!1,quote:a,pos:this.char}}}}}}),System.register("app/plugins/datasource/graphite/parser.js",["./lexer"],function(a,b){"use strict";function c(a){this.expression=a,this.lexer=new d.Lexer(a),this.tokens=this.lexer.tokenize(),this.index=0}b&&b.id;a("Parser",c);var d;return{setters:[function(a){d=a}],execute:function(){c.prototype={getAst:function(){return this.start()},start:function(){try{return this.functionCall()||this.metricExpression()}catch(a){return{type:"error",message:a.message,pos:a.pos}}},curlyBraceSegment:function(){if(this.match("identifier","{")||this.match("{")){for(var a="";!this.match("")&&!this.match("}");)a+=this.consumeToken().value;return this.match("}")||this.errorMark("Expected closing '}'"),a+=this.consumeToken().value,this.match("identifier")&&(a+=this.consumeToken().value),{type:"segment",value:a}}return null},metricSegment:function(){var a=this.curlyBraceSegment();if(a)return a;if(this.match("identifier")||this.match("number")){var b=this.consumeToken().value.split(".");return 2===b.length&&(this.tokens.splice(this.index,0,{type:"."}),this.tokens.splice(this.index+1,0,{type:"number",value:b[1]})),{type:"segment",value:b[0]}}this.match("templateStart")||this.errorMark("Expected metric identifier"),this.consumeToken(),this.match("identifier")||this.errorMark("Expected identifier after templateStart");var c={type:"template",value:this.consumeToken().value};return this.match("templateEnd")||this.errorMark("Expected templateEnd"),this.consumeToken(),c},metricExpression:function(){if(!(this.match("templateStart")||this.match("identifier")||this.match("number")||this.match("{")))return null;var a={type:"metric",segments:[]};for(a.segments.push(this.metricSegment());this.match(".");){this.consumeToken();var b=this.metricSegment();b||this.errorMark("Expected metric identifier"),a.segments.push(b)}return a},functionCall:function(){if(!this.match("identifier","("))return null;var a={type:"function",name:this.consumeToken().value};return this.consumeToken(),a.params=this.functionParameters(),this.match(")")||this.errorMark("Expected closing parenthesis"),this.consumeToken(),a},boolExpression:function(){return this.match("bool")?{type:"bool",value:"true"===this.consumeToken().value}:null},functionParameters:function(){if(this.match(")")||this.match(""))return[];var a=this.functionCall()||this.numericLiteral()||this.seriesRefExpression()||this.boolExpression()||this.metricExpression()||this.stringLiteral();return this.match(",")?(this.consumeToken(),[a].concat(this.functionParameters())):[a]},seriesRefExpression:function(){if(!this.match("identifier"))return null;var a=this.tokens[this.index].value;if(!a.match(/\#[A-Z]/))return null;var b=this.consumeToken();return{type:"series-ref",value:b.value}},numericLiteral:function(){return this.match("number")?{type:"number",value:parseFloat(this.consumeToken().value)}:null},stringLiteral:function(){if(!this.match("string"))return null;var a=this.consumeToken();if(a.isUnclosed)throw{message:"Unclosed string parameter",pos:a.pos};return{type:"string",value:a.value}},errorMark:function(a){var b=this.tokens[this.index],c=b?b.type:"end of string";throw{message:a+" instead found "+c,pos:b?b.pos:this.lexer.char}},consumeToken:function(){return this.index++,this.tokens[this.index-1]},matchToken:function(a,b){var c=this.tokens[this.index+b];return void 0===c&&""===a||c&&c.type===a},match:function(a,b){return this.matchToken(a,0)&&(!b||this.matchToken(b,1))}}}}}),System.register("app/plugins/datasource/graphite/query_ctrl.js",["./add_graphite_func","./func_editor","lodash","./gfunc","./parser","app/plugins/sdk","app/core/app_events"],function(a,b){"use strict";var c,d,e,f,g,h,i=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){},function(a){},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=function(a){function b(b,c,d,e){var f=a.call(this,b,c)||this;return f.uiSegmentSrv=d,f.templateSrv=e,f.target&&(f.target.target=f.target.target||"",f.parseTarget()),f}return i(b,a),b.$inject=["$scope","$injector","uiSegmentSrv","templateSrv"],b.prototype.toggleEditorMode=function(){this.target.textEditor=!this.target.textEditor,this.parseTarget()},b.prototype.parseTarget=function(){if(this.functions=[],this.segments=[],this.error=null,!this.target.textEditor){var a=new e.Parser(this.target.target),b=a.getAst();if(null===b)return void this.checkOtherSegments(0);if("error"===b.type)return this.error=b.message+" at position: "+b.pos,void(this.target.textEditor=!0);try{this.parseTargetRecursive(b,null,0)}catch(a){console.log("error parsing target:",a.message),this.error=a.message,this.target.textEditor=!0}this.checkOtherSegments(this.segments.length-1)}},b.prototype.addFunctionParameter=function(a,b,c,d){d&&(c=Math.max(c-1,0)),a.params[c]=b},b.prototype.parseTargetRecursive=function(a,b,e){var f=this;if(null===a)return null;switch(a.type){case"function":var g=d.default.createFuncInstance(a.name,{withDefaultParams:!1});c.default.each(a.params,function(a,b){f.parseTargetRecursive(a,g,b)}),g.updateText(),this.functions.push(g);break;case"series-ref":this.addFunctionParameter(b,a.value,e,this.segments.length>0);break;case"bool":case"string":case"number":if(e-1>=b.def.params.length)throw{message:"invalid number of parameters to method "+b.def.name};this.addFunctionParameter(b,a.value,e,!0);break;case"metric":if(this.segments.length>0){if(1!==a.segments.length)throw{message:"Multiple metric params not supported, use text editor."};this.addFunctionParameter(b,a.segments[0].value,e,!0);break}this.segments=c.default.map(a.segments,function(a){return f.uiSegmentSrv.newSegment(a)})}},b.prototype.getSegmentPathUpTo=function(a){var b=this.segments.slice(0,a);return c.default.reduce(b,function(a,b){return a?a+"."+b.value:b.value},"")},b.prototype.checkOtherSegments=function(a){var b=this;if(0===a)return void this.segments.push(this.uiSegmentSrv.newSelectMetric());var c=this.getSegmentPathUpTo(a+1);return""===c?Promise.resolve():this.datasource.metricFindQuery(c).then(function(d){if(0===d.length)""!==c&&(b.segments=b.segments.splice(0,a),b.segments.push(b.uiSegmentSrv.newSelectMetric()));else if(d[0].expandable){if(b.segments.length!==a)return b.checkOtherSegments(a+1);b.segments.push(b.uiSegmentSrv.newSelectMetric())}}).catch(function(a){g.default.emit("alert-error",["Error",a])})},b.prototype.setSegmentFocus=function(a){c.default.each(this.segments,function(b,c){b.focus=a===c})},b.prototype.wrapFunction=function(a,b){return b.render(a)},b.prototype.getAltSegments=function(a){var b=this,d=0===a?"*":this.getSegmentPathUpTo(a)+".*";return this.datasource.metricFindQuery(d).then(function(a){var d=c.default.map(a,function(a){return b.uiSegmentSrv.newSegment({value:a.text,expandable:a.expandable})});return 0===d.length?d:(c.default.each(b.templateSrv.variables,function(a){d.unshift(b.uiSegmentSrv.newSegment({type:"template",value:"$"+a.name,expandable:!0}))}),d.unshift(b.uiSegmentSrv.newSegment("*")),d)}).catch(function(a){return g.default.emit("alert-error",["Error",a]),[]})},b.prototype.segmentValueChanged=function(a,b){var c=this;return this.error=null,this.functions.length>0&&this.functions[0].def.fake&&(this.functions=[]),a.expandable?this.checkOtherSegments(b+1).then(function(){c.setSegmentFocus(b+1),c.targetChanged()}):(this.segments=this.segments.splice(0,b+1),this.setSegmentFocus(b+1),void this.targetChanged())},b.prototype.targetTextChanged=function(){this.updateModelTarget(),this.refresh()},b.prototype.updateModelTarget=function(){if(!this.target.textEditor){var a=this.getSegmentPathUpTo(this.segments.length);this.target.target=c.default.reduce(this.functions,this.wrapFunction,a)}this.updateRenderedTarget(this.target);for(var b=0,d=this.panelCtrl.panel.targets||[];b<d.length;b++){var e=d[b];e.refId!==this.target.refId&&this.updateRenderedTarget(e)}},b.prototype.updateRenderedTarget=function(a){var b=c.default.keyBy(this.panelCtrl.panel.targets,"refId");delete b[a.refId];for(var d=/\#([A-Z])/g,e=a.target;e.match(d);){var f=e.replace(d,function(a,c){var d=b[c];return d?(delete b[c],d.target):a});if(f===e)break;e=f}delete a.targetFull,a.target!==e&&(a.targetFull=e)},b.prototype.targetChanged=function(){if(!this.error){var a=this.target.target;if(this.updateModelTarget(),this.target.target!==a){var b=this.segments.length>0?this.segments[this.segments.length-1]:{};"select metric"!==b.value&&this.panelCtrl.refresh()}}},b.prototype.removeFunction=function(a){this.functions=c.default.without(this.functions,a),this.targetChanged()},b.prototype.addFunction=function(a){var b=d.default.createFuncInstance(a,{withDefaultParams:!0});b.added=!0,this.functions.push(b),this.moveAliasFuncLast(),this.smartlyHandleNewAliasByNode(b),1===this.segments.length&&this.segments[0].fake&&(this.segments=[]),!b.params.length&&b.added&&this.targetChanged()},b.prototype.moveAliasFuncLast=function(){var a=c.default.find(this.functions,function(a){return"alias"===a.def.name||"aliasByNode"===a.def.name||"aliasByMetric"===a.def.name});a&&(this.functions=c.default.without(this.functions,a),this.functions.push(a))},b.prototype.smartlyHandleNewAliasByNode=function(a){if("aliasByNode"===a.def.name)for(var b=0;b<this.segments.length;b++)if(this.segments[b].value.indexOf("*")>=0)return a.params[0]=b,a.added=!1,void this.targetChanged()},b}(f.QueryCtrl),h.templateUrl="partials/query.editor.html",a("GraphiteQueryCtrl",h)}}}),System.register("app/plugins/datasource/graphite/module.js",["./datasource","./query_ctrl"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){a("Datasource",c.GraphiteDatasource),a("QueryCtrl",d.GraphiteQueryCtrl),e=function(){function a(){}return a}(),e.templateUrl="partials/config.html",a("ConfigCtrl",e),f=function(){function a(){}return a}(),f.templateUrl="partials/query.options.html",a("QueryOptionsCtrl",f),g=function(){function a(){}return a}(),g.templateUrl="partials/annotations.editor.html",a("AnnotationsQueryCtrl",g)}}}),function(){var a=System.amdDefine;a("app/plugins/datasource/influxdb/influx_series.js",["lodash","app/core/table_model"],function(a,b){"use strict";function c(a){this.series=a.series,this.alias=a.alias,this.annotation=a.annotation}var d=c.prototype;return d.getTimeSeries=function(){var b,c,d=[],e=this;return 0===e.series.length?d:(a.each(e.series,function(f){var g=f.columns.length,h=a.map(f.tags,function(a,b){return b+": "+a});for(c=1;c<g;c++){var i=f.name,j=f.columns[c];"value"!==j&&(i=i+"."+j),e.alias?i=e._getSeriesName(f,c):f.tags&&(i=i+" {"+h.join(", ")+"}");var k=[];if(f.values)for(b=0;b<f.values.length;b++)k[b]=[f.values[b][c],f.values[b][0]];d.push({target:i,datapoints:k})}}),d)},d._getSeriesName=function(a,b){var c=/\$(\w+)|\[\[([\s\S]+?)\]\]/g,d=a.name.split(".");return this.alias.replace(c,function(c,e,f){var g=e||f,h=parseInt(g,10);if("m"===g||"measurement"===g)return a.name;if("col"===g)return a.columns[b];if(!isNaN(h))return d[h];if(0!==g.indexOf("tag_"))return c;var i=g.replace("tag_","");return a.tags?a.tags[i]:c})},d.getAnnotations=function(){var b=[],c=this;return a.each(this.series,function(d){var e=null,f=null,g=[],h=null;a.each(d.columns,function(b,d){if("time"===b)return void(f=d);if("sequence_number"!==b)return e||(e=d),b===c.annotation.titleColumn?void(e=d):a.includes((c.annotation.tagsColumn||"").replace(" ","").split(","),b)?void g.push(d):b===c.annotation.textColumn?void(h=d):void 0}),a.each(d.values,function(d){var i={annotation:c.annotation,time:+new Date(d[f]),title:d[e],tags:a.flatten(g.filter(function(a){return d[a]}).map(function(a){return d[a].split(",")})),text:d[h]};b.push(i)})}),b},d.getTable=function(){var c,d,e=new b.default,f=this;return 0===f.series.length?e:(a.each(f.series,function(b,f){if(0===f)for(e.columns.push({text:"Time",type:"time"}),a.each(a.keys(b.tags),function(a){e.columns.push({text:a})}),d=1;d<b.columns.length;d++)e.columns.push({text:b.columns[d]});if(b.values)for(c=0;c<b.values.length;c++){var g=b.values[c],h=[g[0]];if(b.tags)for(var i in b.tags)b.tags.hasOwnProperty(i)&&h.push(b.tags[i]);for(d=1;d<g.length;d++)h.push(g[d]);e.rows.push(h)}}),e)},c})}(),System.register("app/plugins/datasource/influxdb/response_parser.js",["lodash"],function(a,b){"use strict";function c(a,b){a[b]=b}var d,e;b&&b.id;return{setters:[function(a){d=a}],execute:function(){e=function(){function a(){}return a.prototype.parse=function(a,b){if(!b||0===b.results.length)return[];var e=b.results[0];if(!e.series)return[];var f=a.toLowerCase().indexOf("show tag values")>=0,g={};return d.default.each(e.series,function(a){d.default.each(a.values,function(a){d.default.isArray(a)?f?c(g,a[1]||a[0]):c(g,a[0]):c(g,a)})}),d.default.map(g,function(a){return{text:a}})},a}(),a("default",e)}}}),System.register("app/plugins/datasource/influxdb/datasource.js",["lodash","app/core/utils/datemath","./influx_series","./influx_query","./response_parser","./query_builder"],function(a,b){"use strict";var c,d,e,f,g,h,i;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(){function a(a,b,d,e){this.$q=b,this.backendSrv=d,this.templateSrv=e,this.type="influxdb",this.urls=c.default.map(a.url.split(","),function(a){return a.trim()}),this.username=a.username,this.password=a.password,this.name=a.name,this.database=a.database,this.basicAuth=a.basicAuth,this.withCredentials=a.withCredentials,this.interval=(a.jsonData||{}).timeInterval,this.supportAnnotations=!0,this.supportMetrics=!0,this.responseParser=new g.default}return a.$inject=["instanceSettings","$q","backendSrv","templateSrv"],a.prototype.query=function(a){var b,d,g,h=this,i=this.getTimeFilter(a),j=a.scopedVars,k=c.default.cloneDeep(a.targets),l=[],m=c.default.map(k,function(a){return a.hide?"":(l.push(a),j.interval=j.__interval,b=new f.default(a,h.templateSrv,j),b.render(!0))}).reduce(function(a,b){return""!==b&&(a+=";"+b),a});if(""===m)return this.$q.when({data:[]});var n=this.templateSrv.getAdhocFilters(this.name);return n.length>0&&(i+=" AND "+b.renderAdhocFilters(n)),j.timeFilter={value:i},m=this.templateSrv.replace(m,j),this._seriesQuery(m).then(function(b){if(!b||!b.results)return[];var c=[];for(d=0;d<b.results.length;d++){var f=b.results[d];if(f&&f.series){var i=l[d],j=i.alias;j&&(j=h.templateSrv.replace(i.alias,a.scopedVars));var k=new e.default({series:b.results[d].series,alias:j});switch(i.resultFormat){case"table":c.push(k.getTable());break;default:var m=k.getTimeSeries();for(g=0;g<m.length;g++)c.push(m[g])}}}return{data:c}})},a.prototype.annotationQuery=function(a){if(!a.annotation.query)return this.$q.reject({message:"Query missing in annotation definition"});var b=this.getTimeFilter({rangeRaw:a.rangeRaw}),c=a.annotation.query.replace("$timeFilter",b);return c=this.templateSrv.replace(c,null,"regex"),this._seriesQuery(c).then(function(b){if(!b||!b.results||!b.results[0])throw{message:"No results in response from InfluxDB"};return new e.default({series:b.results[0].series,annotation:a.annotation}).getAnnotations()})},a.prototype.targetContainsTemplate=function(a){for(var b=0,c=a.groupBy;b<c.length;b++)for(var d=c[b],e=0,f=d.params;e<f.length;e++){var g=f[e];if(this.templateSrv.variableExists(g))return!0}for(var h in a.tags)if(this.templateSrv.variableExists(a.tags[h].value))return!0;return!1},a.prototype.metricFindQuery=function(a){var b=this.templateSrv.replace(a,null,"regex");return this._seriesQuery(b).then(c.default.curry(this.responseParser.parse)(a))},a.prototype.getTagKeys=function(a){var b=new h.default({measurement:"",tags:[]},this.database),c=b.buildExploreQuery("TAG_KEYS");return this.metricFindQuery(c)},a.prototype.getTagValues=function(a){var b=new h.default({measurement:"",tags:[]},this.database),c=b.buildExploreQuery("TAG_VALUES",a.key);return this.metricFindQuery(c)},a.prototype._seriesQuery=function(a){return a?this._influxRequest("GET","/query",{q:a,epoch:"ms"}):this.$q.when({results:[]})},a.prototype.serializeParams=function(a){return a?c.default.reduce(a,function(a,b,c){return null===b||void 0===b?a:(a.push(encodeURIComponent(c)+"="+encodeURIComponent(b)),a)},[]).join("&"):""},a.prototype.testDatasource=function(){var a=this;return this.metricFindQuery("SHOW DATABASES").then(function(b){var d=c.default.find(b,{text:a.database});return d?{status:"success",message:"Data source is working",title:"Success"}:{status:"error",message:"Could not find the specified database name.",title:"DB Not found"}}).catch(function(a){return a.data&&a.message?{status:"error",message:a.data.message,title:"InfluxDB Error"}:{status:"error",message:a.toString(),title:"InfluxDB Error"}})},a.prototype._influxRequest=function(a,b,d){var e=this,f=e.urls.shift();e.urls.push(f);var g={u:e.username,p:e.password};e.database&&(g.db=e.database),"GET"===a&&(c.default.extend(g,d),d=null);var h={method:a,url:f+b,params:g,data:d,precision:"ms",inspect:{type:"influxdb"},paramSerializer:this.serializeParams};return h.headers=h.headers||{},(this.basicAuth||this.withCredentials)&&(h.withCredentials=!0),e.basicAuth&&(h.headers.Authorization=e.basicAuth),this.backendSrv.datasourceRequest(h).then(function(a){return a.data},function(a){if(0!==a.status||a.status>=300)throw a.data&&a.data.error?{message:"InfluxDB Error Response: "+a.data.error,data:a.data,config:a.config}:{message:"InfluxDB Error: "+a.message,data:a.data,config:a.config}})},a.prototype.getTimeFilter=function(a){var b=this.getInfluxTime(a.rangeRaw.from,!1),c=this.getInfluxTime(a.rangeRaw.to,!0),d="ms"===b[b.length-1];return"now()"!==c||d?"time > "+b+" and time < "+c:"time > "+b},a.prototype.getInfluxTime=function(a,b){if(c.default.isString(a)){if("now"===a)return"now()";var e=/^now-(\d+)([d|h|m|s])$/.exec(a);if(e){var f=parseInt(e[1]),g=e[2];return"now() - "+f+g}a=d.parse(a,b)}return a.valueOf()+"ms"},a}(),a("default",i)}}}),function(){var a=System.amdDefine;a("app/plugins/datasource/influxdb/query_builder.js",["lodash"],function(a){"use strict";function b(a,b){this.target=a,this.database=b}function c(a,b){var c="",d=a.operator,e=a.value;return b>0&&(c=(a.condition||"AND")+" "),d||(d=/^\/.*\/$/.test(a.value)?"=~":"="),"=~"!==d&&"!~"!==d&&isNaN(+e)&&(e="'"+e+"'"),c+'"'+a.key+'" '+d+" "+e}var d=b.prototype;return d.build=function(){return this.target.rawQuery?this._modifyRawQuery():this._buildQuery()},d.buildExploreQuery=function(b,d,e){var f,g;if("TAG_KEYS"===b)f="SHOW TAG KEYS",g=this.target.measurement;else if("TAG_VALUES"===b)f="SHOW TAG VALUES",g=this.target.measurement;else if("MEASUREMENTS"===b)f="SHOW MEASUREMENTS",e&&(f+=" WITH MEASUREMENT =~ /"+e+"/");else{if("FIELDS"===b)return this.target.measurement.match("^/.*/")?"SHOW FIELD KEYS FROM "+this.target.measurement:'SHOW FIELD KEYS FROM "'+this.target.measurement+'"';if("RETENTION POLICIES"===b)return f='SHOW RETENTION POLICIES on "'+this.database+'"'}if(g&&(g.match("^/.*/")||g.match(/^merge\(.*\)/)||(g='"'+g+'"'),f+=" FROM "+g),d&&(f+=' WITH KEY = "'+d+'"'),this.target.tags&&this.target.tags.length>0){var h=a.reduce(this.target.tags,function(a,b){return b.key===d?a:(a.push(c(b,a.length)),a)},[]);h.length>0&&(f+=" WHERE "+h.join(" "))}return"MEASUREMENTS"===b&&(f+=" LIMIT 100"),f},b})}(),System.register("app/plugins/datasource/influxdb/influx_query.js",["lodash","./query_part","app/core/utils/kbn"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c){this.target=a,this.templateSrv=b,this.scopedVars=c,a.policy=a.policy||"default",a.dsType="influxdb",a.resultFormat=a.resultFormat||"time_series",a.orderByTime=a.orderByTime||"ASC",a.tags=a.tags||[],a.groupBy=a.groupBy||[{type:"time",params:["$__interval"]},{type:"fill",params:["null"]}],a.select=a.select||[[{type:"field",params:["value"]},{type:"mean",params:[]}]],this.updateProjection()}return a.$inject=["target","templateSrv","scopedVars"],a.prototype.updateProjection=function(){this.selectModels=c.default.map(this.target.select,function(a){return c.default.map(a,d.default.create)}),this.groupByParts=c.default.map(this.target.groupBy,d.default.create)},a.prototype.updatePersistedParts=function(){this.target.select=c.default.map(this.selectModels,function(a){return c.default.map(a,function(a){return{type:a.def.type,params:a.params}})})},a.prototype.hasGroupByTime=function(){return c.default.find(this.target.groupBy,function(a){return"time"===a.type})},a.prototype.hasFill=function(){return c.default.find(this.target.groupBy,function(a){return"fill"===a.type})},a.prototype.addGroupBy=function(a){var b=a.match(/^(\w+)\((.*)\)$/),c=b[1],e=b[2],f=d.default.create({type:c,params:[e]}),g=this.target.groupBy.length;0===g?this.target.groupBy.push(f.part):"time"===c?this.target.groupBy.splice(0,0,f.part):"tag"===c&&"fill"===this.target.groupBy[g-1].type?this.target.groupBy.splice(g-1,0,f.part):this.target.groupBy.push(f.part),this.updateProjection()},a.prototype.removeGroupByPart=function(a,b){var e=d.default.getCategories();"time"===a.def.type&&(this.target.groupBy=c.default.filter(this.target.groupBy,function(a){return"fill"!==a.type}),this.target.select=c.default.map(this.target.select,function(a){return c.default.filter(a,function(a){var b=d.default.create(a);return b.def.category!==e.Aggregations&&b.def.category!==e.Selectors})})),this.target.groupBy.splice(b,1),this.updateProjection()},a.prototype.removeSelect=function(a){this.target.select.splice(a,1),this.updateProjection()},a.prototype.removeSelectPart=function(a,b){if("field"===b.def.type){if(this.selectModels.length>1){var d=c.default.indexOf(this.selectModels,a);this.selectModels.splice(d,1)}}else{var e=c.default.indexOf(a,b);a.splice(e,1)}this.updatePersistedParts()},a.prototype.addSelectPart=function(a,b){var c=d.default.create({type:b});c.def.addStrategy(a,c,this),this.updatePersistedParts()},a.prototype.renderTagCondition=function(a,b,c){var d="",e=a.operator,f=a.value;return b>0&&(d=(a.condition||"AND")+" "),e||(e=/^\/.*\/$/.test(f)?"=~":"="),"=~"!==e&&"!~"!==e?(c&&(f=this.templateSrv.replace(f,this.scopedVars)),">"!==e&&"<"!==e&&(f="'"+f.replace(/\\/g,"\\\\")+"'")):c&&(f=this.templateSrv.replace(f,this.scopedVars,"regex")),d+'"'+a.key+'" '+e+" "+f},a.prototype.getMeasurementAndPolicy=function(a){var b=this.target.policy,c=this.target.measurement||"measurement";return c.match("^/.*/$")?a&&(c=this.templateSrv.replace(c,this.scopedVars,"regex")):c='"'+c+'"',b="default"!==b?'"'+this.target.policy+'".':"",b+c},a.prototype.interpolateQueryStr=function(a,b,d){if(!b.multi&&!b.includeAll)return a;if("string"==typeof a)return e.default.regexEscape(a);var f=c.default.map(a,e.default.regexEscape);return"("+f.join("|")+")"},a.prototype.render=function(a){var b=this,d=this.target;if(d.rawQuery)return a?this.templateSrv.replace(d.query,this.scopedVars,this.interpolateQueryStr):d.query;var e,f,g="SELECT ";for(e=0;e<this.selectModels.length;e++){var h=this.selectModels[e],i="";for(f=0;f<h.length;f++){var j=h[f];i=j.render(i)}e>0&&(g+=", "),g+=i}g+=" FROM "+this.getMeasurementAndPolicy(a)+" WHERE ";var k=c.default.map(d.tags,function(c,d){return b.renderTagCondition(c,d,a)});g+=k.join(" "),g+=(k.length>0?" AND ":"")+"$timeFilter";var l="";for(e=0;e<this.groupByParts.length;e++){var m=this.groupByParts[e];e>0&&(l+="fill"===m.def.type?" ":", "),l+=m.render("")}return l.length&&(g+=" GROUP BY "+l),d.fill&&(g+=" fill("+d.fill+")"),"DESC"===d.orderByTime&&(g+=" ORDER BY time DESC"),d.limit&&(g+=" LIMIT "+d.limit),d.slimit&&(g+=" SLIMIT "+d.slimit),g},a.prototype.renderAdhocFilters=function(a){var b=this,d=c.default.map(a,function(a,c){return b.renderTagCondition(a,c,!1)});return d.join(" ")},a}(),a("default",f)}}}),System.register("app/plugins/datasource/influxdb/query_part.js",["lodash","app/core/components/query_part/query_part"],function(a,b){"use strict";function c(a){var b=n[a.type];if(!b)throw{message:"Could not find query part "+a.type};return new m.QueryPart(a,b)}function d(a){n[a.type]=new m.QueryPartDef(a),a.category.push(n[a.type])}function e(a,b){return b+' AS "'+a.params[0]+'"'}function f(a,b){return"*"===a.params[0]?"*":'"'+a.params[0]+'"'}function g(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.def.category===o.Aggregations)return void(a[c]=b);if(d.def.category===o.Selectors)return void(a[c]=b)}a.splice(1,0,b)}function h(a,b){var c;for(c=0;c<a.length;c++){var d=a[c];if(d.def.category===o.Math||d.def.category===o.Aliasing)break}a.splice(c,0,b)}function i(a,b){var c=a.length;if(c>0){if("math"===a[c-1].def.type)return void(a[c-1]=b);if("math"===a[c-2].def.type)return void(a[c-2]=b);if("alias"===a[c-1].def.type)return void a.splice(c-1,0,b)}a.push(b)}function j(a,b){var c=a.length;return c>0&&"alias"===a[c-1].def.type?void(a[c-1]=b):void a.push(b)}function k(a,b,d){var e=l.default.map(a,function(a){return c({type:a.def.type,params:l.default.clone(a.params)})});d.selectModels.push(e)}var l,m,n,o,p;b&&b.id;return{setters:[function(a){l=a},function(a){m=a}],execute:function(){n=[],o={Aggregations:[],Selectors:[],Transformations:[],Predictors:[],Math:[],Aliasing:[],Fields:[]},p=[],d({type:"field",addStrategy:k,category:o.Fields,params:[{type:"field",dynamicLookup:!0}],defaultParams:["value"],renderer:f}),d({type:"count",addStrategy:g,category:o.Aggregations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"distinct",addStrategy:g,category:o.Aggregations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"integral",addStrategy:g,category:o.Aggregations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"mean",addStrategy:g,category:o.Aggregations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"median",addStrategy:g,category:o.Aggregations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"mode",addStrategy:g,category:o.Aggregations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"sum",addStrategy:g,category:o.Aggregations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"derivative",addStrategy:h,category:o.Transformations,params:[{name:"duration",type:"interval",options:["1s","10s","1m","5m","10m","15m","1h"]}],defaultParams:["10s"],renderer:m.functionRenderer}),d({type:"spread",addStrategy:h,category:o.Transformations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"non_negative_derivative",addStrategy:h,category:o.Transformations,params:[{name:"duration",type:"interval",options:["1s","10s","1m","5m","10m","15m","1h"]}],defaultParams:["10s"],renderer:m.functionRenderer}),d({type:"difference",addStrategy:h,category:o.Transformations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"moving_average",addStrategy:h,category:o.Transformations,params:[{name:"window",type:"int",options:[5,10,20,30,40]}],defaultParams:[10],renderer:m.functionRenderer}),d({type:"cumulative_sum",addStrategy:h,category:o.Transformations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"stddev",addStrategy:h,category:o.Transformations,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"time",category:p,params:[{name:"interval",type:"time",options:["$__interval","1s","10s","1m","5m","10m","15m","1h"]}],defaultParams:["$__interval"],renderer:m.functionRenderer}),d({type:"fill",category:p,params:[{name:"fill",type:"string",options:["none","null","0","previous","linear"]}],defaultParams:["null"],renderer:m.functionRenderer}),d({type:"elapsed",addStrategy:h,category:o.Transformations,params:[{name:"duration",type:"interval",options:["1s","10s","1m","5m","10m","15m","1h"]}],defaultParams:["10s"],renderer:m.functionRenderer}),d({type:"holt_winters",addStrategy:h,category:o.Predictors,params:[{name:"number",type:"int",options:[5,10,20,30,40]},{name:"season",type:"int",options:[0,1,2,5,10]}],defaultParams:[10,2],renderer:m.functionRenderer}),d({type:"holt_winters_with_fit",addStrategy:h,category:o.Predictors,params:[{name:"number",type:"int",options:[5,10,20,30,40]},{name:"season",type:"int",options:[0,1,2,5,10]}],defaultParams:[10,2],renderer:m.functionRenderer}),d({type:"bottom",addStrategy:g,category:o.Selectors,params:[{name:"count",type:"int"}],defaultParams:[3],renderer:m.functionRenderer}),d({type:"first",addStrategy:g,category:o.Selectors,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"last",addStrategy:g,category:o.Selectors,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"max",addStrategy:g,category:o.Selectors,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"min",addStrategy:g,category:o.Selectors,params:[],defaultParams:[],renderer:m.functionRenderer}),d({type:"percentile",addStrategy:g,category:o.Selectors,params:[{name:"nth",type:"int"}],defaultParams:[95],renderer:m.functionRenderer}),d({type:"top",addStrategy:g,category:o.Selectors,params:[{name:"count",type:"int"}],defaultParams:[3],renderer:m.functionRenderer}),d({type:"tag",category:p,params:[{name:"tag",type:"string",dynamicLookup:!0}],defaultParams:["tag"],renderer:f}),d({type:"math",addStrategy:i,category:o.Math,params:[{name:"expr",type:"string"}],defaultParams:[" / 100"],renderer:m.suffixRenderer}),d({type:"alias",addStrategy:j,category:o.Aliasing,params:[{name:"name",type:"string",quote:"double"}],defaultParams:["alias"],renderMode:"suffix",renderer:e}),a("default",{create:c,getCategories:function(){return o}})}}}),System.register("app/plugins/datasource/influxdb/query_ctrl.js",["angular","lodash","./query_builder","./influx_query","./query_part","app/plugins/sdk"],function(a,b){"use strict";var c,d,e,f,g,h,i,j=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(a){function b(b,c,d,g,h){var i=a.call(this,b,c)||this;i.templateSrv=d,i.$q=g,i.uiSegmentSrv=h,i.target=i.target,i.queryModel=new f.default(i.target,d,i.panel.scopedVars),i.queryBuilder=new e.default(i.target,i.datasource.database),i.groupBySegment=i.uiSegmentSrv.newPlusButton(),i.resultFormats=[{text:"Time series",value:"time_series"},{text:"Table",value:"table"}],i.policySegment=h.newSegment(i.target.policy),i.target.measurement?i.measurementSegment=h.newSegment(i.target.measurement):i.measurementSegment=h.newSelectMeasurement(),i.tagSegments=[];for(var j=0,k=i.target.tags;j<k.length;j++){var l=k[j];l.operator||(/^\/.*\/$/.test(l.value)?l.operator="=~":l.operator="="),l.condition&&i.tagSegments.push(h.newCondition(l.condition)),i.tagSegments.push(h.newKey(l.key)),i.tagSegments.push(h.newOperator(l.operator)),i.tagSegments.push(h.newKeyValue(l.value))}return i.fixTagSegments(),i.buildSelectMenu(),
i.removeTagFilterSegment=h.newSegment({fake:!0,value:"-- remove tag filter --"}),i}return j(b,a),b.$inject=["$scope","$injector","templateSrv","$q","uiSegmentSrv"],b.prototype.removeOrderByTime=function(){this.target.orderByTime="ASC"},b.prototype.buildSelectMenu=function(){var a=g.default.getCategories();this.selectMenu=d.default.reduce(a,function(a,b,c){var d={text:c,submenu:b.map(function(a){return{text:a.type,value:a.type}})};return a.push(d),a},[])},b.prototype.getGroupByOptions=function(){var a=this,b=this.queryBuilder.buildExploreQuery("TAG_KEYS");return this.datasource.metricFindQuery(b).then(function(b){var c=[];a.queryModel.hasFill()||c.push(a.uiSegmentSrv.newSegment({value:"fill(null)"})),a.target.limit||c.push(a.uiSegmentSrv.newSegment({value:"LIMIT"})),a.target.slimit||c.push(a.uiSegmentSrv.newSegment({value:"SLIMIT"})),"ASC"===a.target.orderByTime&&c.push(a.uiSegmentSrv.newSegment({value:"ORDER BY time DESC"})),a.queryModel.hasGroupByTime()||c.push(a.uiSegmentSrv.newSegment({value:"time($interval)"}));for(var d=0,e=b;d<e.length;d++){var f=e[d];c.push(a.uiSegmentSrv.newSegment({value:"tag("+f.text+")"}))}return c}).catch(this.handleQueryError.bind(this))},b.prototype.groupByAction=function(){switch(this.groupBySegment.value){case"LIMIT":this.target.limit=10;break;case"SLIMIT":this.target.slimit=10;break;case"ORDER BY time DESC":this.target.orderByTime="DESC";break;default:this.queryModel.addGroupBy(this.groupBySegment.value)}var a=this.uiSegmentSrv.newPlusButton();this.groupBySegment.value=a.value,this.groupBySegment.html=a.html,this.panelCtrl.refresh()},b.prototype.addSelectPart=function(a,b,c){this.queryModel.addSelectPart(a,c.value),this.panelCtrl.refresh()},b.prototype.handleSelectPartEvent=function(a,b,c){switch(c.name){case"get-param-options":var d=this.queryBuilder.buildExploreQuery("FIELDS");return this.datasource.metricFindQuery(d).then(this.transformToSegments(!0)).catch(this.handleQueryError.bind(this));case"part-param-changed":this.panelCtrl.refresh();break;case"action":this.queryModel.removeSelectPart(a,b),this.panelCtrl.refresh();break;case"get-part-actions":return this.$q.when([{text:"Remove",value:"remove-part"}])}},b.prototype.handleGroupByPartEvent=function(a,b,c){switch(c.name){case"get-param-options":var d=this.queryBuilder.buildExploreQuery("TAG_KEYS");return this.datasource.metricFindQuery(d).then(this.transformToSegments(!0)).catch(this.handleQueryError.bind(this));case"part-param-changed":this.panelCtrl.refresh();break;case"action":this.queryModel.removeGroupByPart(a,b),this.panelCtrl.refresh();break;case"get-part-actions":return this.$q.when([{text:"Remove",value:"remove-part"}])}},b.prototype.fixTagSegments=function(){var a=this.tagSegments.length,b=this.tagSegments[Math.max(a-1,0)];b&&"plus-button"===b.type||this.tagSegments.push(this.uiSegmentSrv.newPlusButton())},b.prototype.measurementChanged=function(){this.target.measurement=this.measurementSegment.value,this.panelCtrl.refresh()},b.prototype.getPolicySegments=function(){var a=this.queryBuilder.buildExploreQuery("RETENTION POLICIES");return this.datasource.metricFindQuery(a).then(this.transformToSegments(!1)).catch(this.handleQueryError.bind(this))},b.prototype.policyChanged=function(){this.target.policy=this.policySegment.value,this.panelCtrl.refresh()},b.prototype.toggleEditorMode=function(){try{this.target.query=this.queryModel.render(!1)}catch(a){console.log("query render error")}this.target.rawQuery=!this.target.rawQuery},b.prototype.getMeasurements=function(a){var b=this.queryBuilder.buildExploreQuery("MEASUREMENTS",void 0,a);return this.datasource.metricFindQuery(b).then(this.transformToSegments(!0)).catch(this.handleQueryError.bind(this))},b.prototype.handleQueryError=function(a){return this.error=a.message||"Failed to issue metric query",[]},b.prototype.transformToSegments=function(a){var b=this;return function(c){var e=d.default.map(c,function(a){return b.uiSegmentSrv.newSegment({value:a.text,expandable:a.expandable})});if(a)for(var f=0,g=b.templateSrv.variables;f<g.length;f++){var h=g[f];e.unshift(b.uiSegmentSrv.newSegment({type:"template",value:"/^$"+h.name+"$/",expandable:!0}))}return e}},b.prototype.getTagsOrValues=function(a,b){var d=this;if("condition"===a.type)return this.$q.when([this.uiSegmentSrv.newSegment("AND"),this.uiSegmentSrv.newSegment("OR")]);if("operator"===a.type){var e=this.tagSegments[b+1].value;return/^\/.*\/$/.test(e)?this.$q.when(this.uiSegmentSrv.newOperators(["=~","!~"])):this.$q.when(this.uiSegmentSrv.newOperators(["=","!=","<>","<",">"]))}var f,g;return"key"===a.type||"plus-button"===a.type?(f=this.queryBuilder.buildExploreQuery("TAG_KEYS"),g=!1):"value"===a.type&&(f=this.queryBuilder.buildExploreQuery("TAG_VALUES",this.tagSegments[b-2].value),g=!0),this.datasource.metricFindQuery(f).then(this.transformToSegments(g)).then(function(b){return"key"===a.type&&b.splice(0,0,c.default.copy(d.removeTagFilterSegment)),b}).catch(this.handleQueryError.bind(this))},b.prototype.getFieldSegments=function(){var a=this.queryBuilder.buildExploreQuery("FIELDS");return this.datasource.metricFindQuery(a).then(this.transformToSegments(!1)).catch(this.handleQueryError)},b.prototype.tagSegmentUpdated=function(a,b){this.tagSegments[b]=a,a.value===this.removeTagFilterSegment.value?(this.tagSegments.splice(b,3),0===this.tagSegments.length?this.tagSegments.push(this.uiSegmentSrv.newPlusButton()):this.tagSegments.length>2&&(this.tagSegments.splice(Math.max(b-1,0),1),"plus-button"!==this.tagSegments[this.tagSegments.length-1].type&&this.tagSegments.push(this.uiSegmentSrv.newPlusButton()))):("plus-button"===a.type&&(b>2&&this.tagSegments.splice(b,0,this.uiSegmentSrv.newCondition("AND")),this.tagSegments.push(this.uiSegmentSrv.newOperator("=")),this.tagSegments.push(this.uiSegmentSrv.newFake("select tag value","value","query-segment-value")),a.type="key",a.cssClass="query-segment-key"),b+1===this.tagSegments.length&&this.tagSegments.push(this.uiSegmentSrv.newPlusButton())),this.rebuildTargetTagConditions()},b.prototype.rebuildTargetTagConditions=function(){var a=this,b=[],c=0,e="";d.default.each(this.tagSegments,function(d,f){"key"===d.type?(0===b.length&&b.push({}),b[c].key=d.value):"value"===d.type?(e=a.getTagValueOperator(d.value,b[c].operator),e&&(a.tagSegments[f-1]=a.uiSegmentSrv.newOperator(e),b[c].operator=e),b[c].value=d.value):"condition"===d.type?(b.push({condition:d.value}),c+=1):"operator"===d.type&&(b[c].operator=d.value)}),this.target.tags=b,this.panelCtrl.refresh()},b.prototype.getTagValueOperator=function(a,b){return"=~"!==b&&"!~"!==b&&/^\/.*\/$/.test(a)?"=~":"=~"!==b&&"!~"!==b||!/^(?!\/.*\/$)/.test(a)?void 0:"="},b.prototype.getCollapsedText=function(){return this.queryModel.render(!1)},b}(h.QueryCtrl),i.templateUrl="partials/query.editor.html",a("InfluxQueryCtrl",i)}}}),System.register("app/plugins/datasource/influxdb/module.js",["./datasource","./query_ctrl"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){a("Datasource",c.default),a("QueryCtrl",d.InfluxQueryCtrl),e=function(){function a(){}return a}(),e.templateUrl="partials/config.html",a("ConfigCtrl",e),f=function(){function a(){}return a}(),f.templateUrl="partials/query.options.html",a("QueryOptionsCtrl",f),g=function(){function a(){}return a}(),g.templateUrl="partials/annotations.editor.html",a("AnnotationsQueryCtrl",g)}}}),System.register("app/plugins/panel/alertlist/module.js",["lodash","moment","../../../features/alerting/alert_def","app/plugins/sdk","app/core/utils/datemath"],function(a,b){"use strict";var c,d,e,f,g,h,i=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=function(a){function b(b,d,e,f,g,h){var i=a.call(this,b,d)||this;i.$location=e,i.backendSrv=f,i.timeSrv=g,i.templateSrv=h,i.showOptions=[{text:"Current state",value:"current"},{text:"Recent state changes",value:"changes"}],i.sortOrderOptions=[{text:"Alphabetical (asc)",value:1},{text:"Alphabetical (desc)",value:2},{text:"Importance",value:3}],i.stateFilter={},i.currentAlerts=[],i.alertHistory=[],i.panelDefaults={show:"current",limit:10,stateFilter:[],onlyAlertsOnDashboard:!1,sortOrder:1},c.default.defaults(i.panel,i.panelDefaults),i.events.on("init-edit-mode",i.onInitEditMode.bind(i)),i.events.on("render",i.onRender.bind(i)),i.events.on("refresh",i.onRender.bind(i));for(var j in i.panel.stateFilter)i.stateFilter[i.panel.stateFilter[j]]=!0;return i}return i(b,a),b.$inject=["$scope","$injector","$location","backendSrv","timeSrv","templateSrv"],b.prototype.sortResult=function(a){if(3===this.panel.sortOrder)return c.default.sortBy(a,function(a){return e.default.alertStateSortScore[a.state]});var b=c.default.sortBy(a,function(a){return a.name.toLowerCase()});return 2===this.panel.sortOrder&&b.reverse(),b},b.prototype.updateStateFilter=function(){var a=[];for(var b in this.stateFilter)this.stateFilter[b]&&a.push(b);this.panel.stateFilter=a,this.onRender()},b.prototype.onRender=function(){this.contentHeight="max-height: "+this.height+"px;","current"===this.panel.show&&this.getCurrentAlertState(),"changes"===this.panel.show&&this.getStateChanges()},b.prototype.getStateChanges=function(){var a=this,b={limit:this.panel.limit,type:"alert",newState:this.panel.stateFilter};this.panel.onlyAlertsOnDashboard&&(b.dashboardId=this.dashboard.id),b.from=1e3*g.parse(this.dashboard.time.from).unix(),b.to=1e3*g.parse(this.dashboard.time.to).unix(),this.backendSrv.get("/api/annotations",b).then(function(b){a.alertHistory=c.default.map(b,function(a){return a.time=d.default(a.time).format("MMM D, YYYY HH:mm:ss"),a.stateModel=e.default.getStateDisplayModel(a.newState),a.info=e.default.getAlertAnnotationInfo(a),a})})},b.prototype.getCurrentAlertState=function(){var a=this,b={state:this.panel.stateFilter};this.panel.onlyAlertsOnDashboard&&(b.dashboardId=this.dashboard.id),this.backendSrv.get("/api/alerts",b).then(function(b){a.currentAlerts=a.sortResult(c.default.map(b,function(a){return a.stateModel=e.default.getStateDisplayModel(a.state),a.newStateDateAgo=d.default(a.newStateDate).fromNow().replace(" ago",""),a}))})},b.prototype.onInitEditMode=function(){this.addEditorTab("Options","public/app/plugins/panel/alertlist/editor.html")},b}(f.PanelCtrl),h.templateUrl="module.html",a("AlertListPanel",h),a("PanelCtrl",h)}}}),System.register("app/features/dashboard/impression_store.js",["app/core/store","lodash","app/core/config"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(){}return a.prototype.addDashboardImpression=function(a){var b=this.impressionKey(e.default),f=[];c.default.exists(b)&&(f=JSON.parse(c.default.get(b)),d.default.isArray(f)||(f=[])),f=f.filter(function(b){return a!==b}),f.unshift(a),f.length>50&&f.pop(),c.default.set(b,JSON.stringify(f))},a.prototype.getDashboardOpened=function(){var a=c.default.get(this.impressionKey(e.default))||"[]";return a=JSON.parse(a),a=d.default.filter(a,function(a){return d.default.isNumber(a)})},a.prototype.impressionKey=function(a){return"dashboard_impressions-"+a.bootData.user.orgId},a}(),a("ImpressionsStore",f),g=new f,a("impressions",g)}}}),System.register("app/plugins/panel/dashlist/module.js",["lodash","app/plugins/sdk","app/features/dashboard/impression_store"],function(a,b){"use strict";var c,d,e,f,g=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(a){function b(b,d,e){var f=a.call(this,b,d)||this;return f.backendSrv=e,f.panelDefaults={query:"",limit:10,tags:[],recent:!1,search:!1,starred:!0,headings:!0},c.default.defaults(f.panel,f.panelDefaults),f.panel.tag&&(f.panel.tags=[f.panel.tag],delete f.panel.tag),f.events.on("refresh",f.onRefresh.bind(f)),f.events.on("init-edit-mode",f.onInitEditMode.bind(f)),f.groups=[{list:[],show:!1,header:"Starred dashboards"},{list:[],show:!1,header:"Recently viewed dashboards"},{list:[],show:!1,header:"Search"}],f.panel.mode&&("starred"===f.panel.mode&&(f.panel.starred=!0,f.panel.headings=!1),"recently viewed"===f.panel.mode&&(f.panel.recent=!0,f.panel.starred=!1,f.panel.headings=!1),"search"===f.panel.mode&&(f.panel.search=!0,f.panel.starred=!1,f.panel.headings=!1),delete f.panel.mode),f}return g(b,a),b.$inject=["$scope","$injector","backendSrv"],b.prototype.onInitEditMode=function(){this.editorTabIndex=1,this.modes=["starred","search","recently viewed"],this.addEditorTab("Options","public/app/plugins/panel/dashlist/editor.html")},b.prototype.onRefresh=function(){var a=[];return a.push(this.getRecentDashboards()),a.push(this.getStarred()),a.push(this.getSearch()),Promise.all(a).then(this.renderingCompleted.bind(this))},b.prototype.getSearch=function(){var a=this;if(this.groups[2].show=this.panel.search,!this.panel.search)return Promise.resolve();var b={limit:this.panel.limit,query:this.panel.query,tag:this.panel.tags};return this.backendSrv.search(b).then(function(b){a.groups[2].list=b})},b.prototype.getStarred=function(){var a=this;if(this.groups[0].show=this.panel.starred,!this.panel.starred)return Promise.resolve();var b={limit:this.panel.limit,starred:"true"};return this.backendSrv.search(b).then(function(b){a.groups[0].list=b})},b.prototype.getRecentDashboards=function(){var a=this;if(this.groups[1].show=this.panel.recent,!this.panel.recent)return Promise.resolve();var b=c.default.take(e.impressions.getDashboardOpened(),this.panel.limit);return this.backendSrv.search({dashboardIds:b,limit:this.panel.limit}).then(function(d){a.groups[1].list=b.map(function(a){return c.default.find(d,function(b){return b.id===a})}).filter(function(a){return void 0!==a})})},b}(d.PanelCtrl),f.templateUrl="module.html",a("DashListCtrl",f),a("PanelCtrl",f)}}}),System.register("app/plugins/panel/gettingstarted/module.js",["app/plugins/sdk","app/core/core"],function(a,b){"use strict";var c,d,e,f=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c)||this;return g.backendSrv=d,g.datasourceSrv=e,g.$q=f,g.stepIndex=0,g.steps=[],g.steps.push({title:"Install Grafana",icon:"icon-gf icon-gf-check",href:"http://docs.grafana.org/",target:"_blank",note:"Review the installation docs",check:function(){return f.when(!0)}}),g.steps.push({title:"Create your first data source",cta:"Add data source",icon:"icon-gf icon-gf-datasources",href:"datasources/new?gettingstarted",check:function(){return f.when(e.getMetricSources().filter(function(a){return a.meta.builtIn===!1}).length>0)}}),g.steps.push({title:"Create your first dashboard",cta:"New dashboard",icon:"icon-gf icon-gf-dashboard",href:"dashboard/new?gettingstarted",check:function(){return g.backendSrv.search({limit:1}).then(function(a){return a.length>0})}}),g.steps.push({title:"Invite your team",cta:"Add Users",icon:"icon-gf icon-gf-users",href:"org/users?gettingstarted",check:function(){return g.backendSrv.get("/api/org/users").then(function(a){return a.length>1})}}),g.steps.push({title:"Install apps & plugins",cta:"Explore plugin repository",icon:"icon-gf icon-gf-apps",href:"https://grafana.com/plugins?utm_source=grafana_getting_started",check:function(){return g.backendSrv.get("/api/plugins",{embedded:0,core:0}).then(function(a){return a.length>0})}}),g}return f(b,a),b.$inject=["$scope","$injector","backendSrv","datasourceSrv","$q"],b.prototype.$onInit=function(){var a=this;return this.stepIndex=-1,this.nextStep().then(function(b){a.checksDone=!0})},b.prototype.nextStep=function(){var a=this;if(this.stepIndex===this.steps.length-1)return this.$q.when();this.stepIndex+=1;var b=this.steps[this.stepIndex];return b.check().then(function(c){return c?(b.cssClass="completed",a.nextStep()):(b.cssClass="active",a.$q.when())})},b.prototype.dismiss=function(){this.row.removePanel(this.panel,!1),this.backendSrv.request({method:"PUT",url:"/api/user/helpflags/1",showSuccessAlert:!1}).then(function(a){d.contextSrv.user.helpFlags1=a.helpFlags1})},b}(c.PanelCtrl),e.templateUrl="public/app/plugins/panel/gettingstarted/module.html",a("GettingStartedPanelCtrl",e),a("PanelCtrl",e)}}}),System.registerDynamic("vendor/flot/jquery.flot.selection.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(b){function c(a){o.active&&(j(a),b.getPlaceholder().trigger("plotselecting",[f()]))}function d(b){1==b.which&&(document.body.focus(),void 0!==document.onselectstart&&null==p.onselectstart&&(p.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==p.ondrag&&(p.ondrag=document.ondrag,document.ondrag=function(){return!1}),i(o.first,b),o.active=!0,q=function(a){e(a)},a(document).one("mouseup",q))}function e(a){return q=null,void 0!==document.onselectstart&&(document.onselectstart=p.onselectstart),void 0!==document.ondrag&&(document.ondrag=p.ondrag),o.active=!1,j(a),n()?g(a):(b.getPlaceholder().trigger("plotunselected",[]),b.getPlaceholder().trigger("plotselecting",[null])),!1}function f(){if(!n())return null;if(!o.show)return null;var c={},d=o.first,e=o.second,f=b.getAxes(),g=!0;return a.each(f,function(a,b){b.used&&(anyUsed=!1)}),a.each(f,function(a,b){if(b.used||g){var f=b.c2p(d[b.direction]),h=b.c2p(e[b.direction]);c[a]={from:Math.min(f,h),to:Math.max(f,h)}}}),c}function g(a){var c=f();c.ctrlKey=a.ctrlKey,c.metaKey=a.metaKey,b.getPlaceholder().trigger("plotselected",[c]),c.xaxis&&c.yaxis&&b.getPlaceholder().trigger("selected",[{x1:c.xaxis.from,y1:c.yaxis.from,x2:c.xaxis.to,y2:c.yaxis.to}])}function h(a,b,c){return b<a?a:b>c?c:b}function i(a,c){var d=b.getOptions(),e=b.getPlaceholder().offset(),f=b.getPlotOffset();a.x=h(0,c.pageX-e.left-f.left,b.width()),a.y=h(0,c.pageY-e.top-f.top,b.height()),"y"==d.selection.mode&&(a.x=a==o.first?0:b.width()),"x"==d.selection.mode&&(a.y=a==o.first?0:b.height())}function j(a){null!=a.pageX&&(i(o.second,a),n()?(o.show=!0,b.triggerRedrawOverlay()):k(!0))}function k(a){o.show&&(o.show=!1,b.triggerRedrawOverlay(),a||b.getPlaceholder().trigger("plotunselected",[]))}function l(a,c){var d,e,f,g,h=b.getAxes();for(var i in h)if(d=h[i],d.direction==c&&(g=c+d.n+"axis",a[g]||1!=d.n||(g=c+"axis"),a[g])){e=a[g].from,f=a[g].to;break}if(a[g]||(d="x"==c?b.getXAxes()[0]:b.getYAxes()[0],e=a[c+"1"],f=a[c+"2"]),null!=e&&null!=f&&e>f){var j=e;e=f,f=j}return{from:e,to:f,axis:d}}function m(a,c){var d,e=b.getOptions();"y"==e.selection.mode?(o.first.x=0,o.second.x=b.width()):(d=l(a,"x"),o.first.x=d.axis.p2c(d.from),o.second.x=d.axis.p2c(d.to)),"x"==e.selection.mode?(o.first.y=0,o.second.y=b.height()):(d=l(a,"y"),o.first.y=d.axis.p2c(d.from),o.second.y=d.axis.p2c(d.to)),o.show=!0,b.triggerRedrawOverlay(),!c&&n()&&g()}function n(){var a=b.getOptions().selection.minSize;return Math.abs(o.second.x-o.first.x)>=a&&Math.abs(o.second.y-o.first.y)>=a}var o={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},p={},q=null;b.clearSelection=k,b.setSelection=m,b.getSelection=f,b.hooks.bindEvents.push(function(a,b){var e=a.getOptions();null!=e.selection.mode&&(b.mousemove(c),b.mousedown(d))}),b.hooks.drawOverlay.push(function(b,c){if(o.show&&n()){var d=b.getPlotOffset(),e=b.getOptions();c.save(),c.translate(d.left,d.top);var f=a.color.parse(e.selection.color);c.strokeStyle=f.scale("a",.8).toString(),c.lineWidth=1,c.lineJoin=e.selection.shape,c.fillStyle=f.scale("a",.4).toString();var g=Math.min(o.first.x,o.second.x)+.5,h=Math.min(o.first.y,o.second.y)+.5,i=Math.abs(o.second.x-o.first.x)-1,j=Math.abs(o.second.y-o.first.y)-1;c.fillRect(g,h,i,j),c.strokeRect(g,h,i,j),c.restore()}}),b.hooks.shutdown.push(function(b,e){e.unbind("mousemove",c),e.unbind("mousedown",d),q&&a(document).unbind("mouseup",q)})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.stack.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){function b(a,b){for(var c=null,d=0;d<b.length&&a!=b[d];++d)b[d].stack==a.stack&&(c=b[d]);return c}function c(a,c,d){if(null!=c.stack&&c.stack!==!1){var e=b(c,a.getData());if(e){for(var f,g,h,i,j,k,l,m,n=d.pointsize,o=d.points,p=e.datapoints.pointsize,q=e.datapoints.points,r=[],s=c.lines.show,t=c.bars.horizontal,u=n>2&&(t?d.format[2].x:d.format[2].y),v=s&&c.lines.steps,w=t?1:0,x=t?0:1,y=0,z=0;;){if(y>=o.length&&z>=q.length)break;if(l=r.length,y<o.length&&null==o[y]){for(m=0;m<n;++m)r.push(o[y+m]);y+=n}else if(y>=o.length){for(m=0;m<n;++m)r.push(q[z+m]);u&&(r[l+2]=q[z+x]),z+=p}else if(z>=q.length){for(m=0;m<n;++m)r.push(o[y+m]);y+=n}else if(z<q.length&&null==q[z])z+=p;else{if(f=o[y+w],g=o[y+x],i=q[z+w],j=q[z+x],k=0,f==i){for(m=0;m<n;++m)r.push(o[y+m]);r[l+x]+=j,k=j,y+=n,z+=p}else if(f>i){if(0==y){for(m=0;m<n;++m)r.push(q[z+m]);k=j}if(y>0&&null!=o[y-n]){for(h=g+(o[y-n+x]-g)*(i-f)/(o[y-n+w]-f),r.push(i),r.push(h+j),m=2;m<n;++m)r.push(o[y+m]);k=j}z+=p}else{for(m=0;m<n;++m)r.push(o[y+m]);z>0&&null!=q[z-p]&&(k=j+(q[z-p+x]-j)*(f-i)/(q[z-p+w]-i)),r[l+x]+=k,y+=n}fromgap=!1,l!=r.length&&u&&(r[l+2]=k)}if(v&&l!=r.length&&l>0&&null!=r[l]&&r[l]!=r[l-n]&&r[l+1]!=r[l-n+1]){for(m=0;m<n;++m)r[l+n+m]=r[l+m];r[l+1]=r[l-n+1]}}d.points=r}}}a.hooks.processDatapoints.push(c)}var c={series:{stack:null}};a.plot.plugins.push({init:b,options:c,name:"stack",version:"1.2"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.stackpercent.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){function b(a,b,d,e){if(f||(f=!0,g=c(a.getData())),1==b.stackpercent){var h=d.length;b.percents=[];var i=0,j=1;b.bars&&b.bars.horizontal&&b.bars.horizontal===!0&&(i=1,j=0);for(var k=0;k<h;k++){var l=g[d[k][i]+""];l>0?b.percents.push(100*d[k][j]/l):b.percents.push(0)}}}function c(a){var b=a.length,c={};if(b>0)for(var d=0;d<b;d++)if(a[d].stackpercent){var e=0,f=1;a[d].bars&&a[d].bars.horizontal&&a[d].bars.horizontal===!0&&(e=1,f=0);for(var g=a[d].data.length,h=0;h<g;h++){var i=0;null!=a[d].data[h][1]&&(i=a[d].data[h][f]),c[a[d].data[h][e]+""]?c[a[d].data[h][e]+""]+=i:c[a[d].data[h][e]+""]=i}}return c}function d(a,b,d){if(b.stackpercent){f||(g=c(a.getData()));var h=[],i=0,j=1;b.bars&&b.bars.horizontal&&b.bars.horizontal===!0&&(i=1,j=0);for(var k=0;k<d.points.length;k+=3)e[d.points[k+i]]||(e[d.points[k+i]]=0),h[k+i]=d.points[k+i],h[k+j]=d.points[k+j]+e[d.points[k+i]],h[k+2]=e[d.points[k+i]],e[d.points[k+i]]+=d.points[k+j],g[h[k+i]+""]>0?(h[k+j]=100*h[k+j]/g[h[k+i]+""],h[k+2]=100*h[k+2]/g[h[k+i]+""]):(h[k+j]=0,h[k+2]=0);d.points=h}}var e={},f=!1,g={};a.hooks.processRawData.push(b),a.hooks.processDatapoints.push(d)}var c={series:{stackpercent:null}};a.plot.plugins.push({init:b,options:c,name:"stackpercent",version:"0.1"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.fillbelow.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";function b(b){function c(a,b){var c;for(c=0;c<b.length;++c)if(b[c].id===a.fillBelowTo)return b[c];return null}function d(a,b,c,d,e,f,g,h){var i,j,k,l,m,n;return i=c-a,j=d-b,k=g-e,l=h-f,m=(-j*(a-e)+i*(b-f))/(-k*j+i*l),n=(k*(b-f)-l*(a-e))/(-k*j+i*l),m>=0&&m<=1&&n>=0&&n<=1?[a+n*i,b+n*j]:null}function e(b,e,f){function g(a,b){e.beginPath(),e.moveTo(f.xaxis.p2c(a)+s.left,f.yaxis.p2c(b)+s.top)}function h(){e.closePath(),e.fill()}function i(){if(p.length/o!==r.length/q)return console.error("Refusing to graph inconsistent number of points"),!1;var a;for(a=0;a<p.length/o;a++)if(null!==p[a*o]&&null!==r[a*q]&&p[a*o]!==r[a*q])return console.error("Refusing to graph points without matching value"),!1;return!0}function j(a,b){console.assert(b>a,"expects the end index to be greater than the start index");var c,d,e=0===a||null===p[a-1]||null===r[a-1],f=!1;for(c=a;c<b;c++)if(null===p[c*o+1]||null===r[c*o+1])f=!1,e=!0;else if(p[c*o+1]===r[c*q+1])f=!0,e=!1;else{if(p[c*o+1]>r[c*q+1])return e?g(p[c*o],p[c*o+1]):f?g(p[(c-1)*o],p[(c-1)*o+1]):(d=k(c),g(d[0],d[1])),void m(c,b);e=!1,f=!1}}function k(a){console.assert(a>0,"expects the second point in the series line segment");var b,c;for(b=1;b<r.length/q;b++)if(c=d(p[(a-1)*o],p[(a-1)*o+1],p[a*o],p[a*o+1],r[(b-1)*q],r[(b-1)*q+1],r[b*q],r[b*q+1]),null!==c)return c;console.error("intersectionPoint() should only be called when an intersection happens")}function l(a,b){console.assert(a>=b,"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)");var c;for(c=a;c>=b;c--)e.lineTo(n.xaxis.p2c(r[c*q])+s.left,n.yaxis.p2c(r[c*q+1])+s.top);h()}function m(a,b){console.assert(a<=b,"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)");var c,d;for(c=a;c<b;c++){if(null===p[c*o+1]&&c>a)return l(c-1,a),void j(c,b);if(p[c*o+1]===r[c*q+1])return l(c,a),void j(c,b);if(p[c*o+1]<r[c*q+1])return d=k(c),e.lineTo(f.xaxis.p2c(d[0])+s.left,f.yaxis.p2c(d[1])+s.top),l(c,a),void j(c,b);e.lineTo(f.xaxis.p2c(p[c*o])+s.left,f.yaxis.p2c(p[c*o+1])+s.top)}l(b,a)}if(null!==f.fillBelowTo){var n,o,p,q,r,s,t;n=c(f,b.getData()),n&&(o=f.datapoints.pointsize,p=f.datapoints.points,q=n.datapoints.pointsize,r=n.datapoints.points,s=b.getPlotOffset(),i()&&(t=a.color.parse(f.color),t.a=.4,t.normalize(),e.fillStyle=t.toString(),j(0,p.length/o)))}}b.hooks.drawSeries.push(e)}var c={series:{fillBelowTo:null}};a.plot.plugins.push({init:b,options:c,name:"fillbelow",version:"0.1.0"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.crosshair.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){function b(b){d.locked||d.x!=-1&&(d.x=-1,a.triggerRedrawOverlay())}function c(b){if(!d.locked){if(a.getSelection&&a.getSelection())return void(d.x=-1);var c=a.offset();d.x=Math.max(0,Math.min(b.pageX-c.left,a.width())),d.y=Math.max(0,Math.min(b.pageY-c.top,a.height())),a.triggerRedrawOverlay()}}var d={x:-1,y:-1,locked:!1};a.setCrosshair=function(b){if(b){var c=a.p2c(b);d.x=Math.max(0,Math.min(c.left,a.width())),d.y=Math.max(0,Math.min(c.top,a.height()))}else d.x=-1;a.triggerRedrawOverlay()},a.clearCrosshair=a.setCrosshair,a.lockCrosshair=function(b){b&&a.setCrosshair(b),d.locked=!0},a.unlockCrosshair=function(){d.locked=!1},a.hooks.bindEvents.push(function(a,d){a.getOptions().crosshair.mode&&(d.mouseout(b),d.mousemove(c))}),a.hooks.drawOverlay.push(function(a,b){var c=a.getOptions().crosshair;if(c.mode){var e=a.getPlotOffset();if(b.save(),b.translate(e.left,e.top),d.x!=-1){var f=a.getOptions().crosshair.lineWidth%2?.5:0;if(b.strokeStyle=c.color,b.lineWidth=c.lineWidth,b.lineJoin="round",b.beginPath(),c.mode.indexOf("x")!=-1){var g=Math.floor(d.x)+f;b.moveTo(g,0),b.lineTo(g,a.height())}if(c.mode.indexOf("y")!=-1){var h=Math.floor(d.y)+f;b.moveTo(0,h),b.lineTo(a.width(),h)}b.stroke()}b.restore()}}),a.hooks.shutdown.push(function(a,d){d.unbind("mouseout",b),d.unbind("mousemove",c)})}var c={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};a.plot.plugins.push({init:b,options:c,name:"crosshair",version:"1.0"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.dashes.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){a.hooks.processDatapoints.push(function(a,b,c){b.dashes.show&&a.hooks.draw.push(function(a,d){function e(a,e){function f(a){var b=Math.sqrt(Math.pow(y-w,2)+Math.pow(z-x,2));if(b<=a)return{deltaX:y-w,deltaY:z-x,distance:b,remainder:a-b};var c=y>w?1:-1,d=z>x?1:-1;return{deltaX:c*Math.sqrt(Math.pow(a,2)/(1+Math.pow((z-x)/(y-w),2))),deltaY:d*Math.sqrt(Math.pow(a,2)-Math.pow(a,2)/(1+Math.pow((z-x)/(y-w),2))),distance:a,remainder:0}}var i,j,k=c.points,l=c.pointsize,m=null,n=null,o=0,p=!0;b.dashes.dashLength[0]?(i=b.dashes.dashLength[0],j=b.dashes.dashLength[1]?b.dashes.dashLength[1]:i):j=i=b.dashes.dashLength,d.beginPath();for(var q=l;q<k.length;q+=l){var r=k[q-l],s=k[q-l+1],t=k[q],u=k[q+1];if(null!=r&&null!=t){if(s<=u&&s<h.min){if(u<h.min)continue;r=(h.min-s)/(u-s)*(t-r)+r,s=h.min}else if(u<=s&&u<h.min){if(s<h.min)continue;t=(h.min-s)/(u-s)*(t-r)+r,u=h.min}if(s>=u&&s>h.max){if(u>h.max)continue;r=(h.max-s)/(u-s)*(t-r)+r,s=h.max}else if(u>=s&&u>h.max){if(s>h.max)continue;t=(h.max-s)/(u-s)*(t-r)+r,u=h.max}if(r<=t&&r<g.min){if(t<g.min)continue;s=(g.min-r)/(t-r)*(u-s)+s,r=g.min}else if(t<=r&&t<g.min){if(r<g.min)continue;u=(g.min-r)/(t-r)*(u-s)+s,t=g.min}if(r>=t&&r>g.max){if(t>g.max)continue;s=(g.max-r)/(t-r)*(u-s)+s,r=g.max}else if(t>=r&&t>g.max){if(r>g.max)continue;u=(g.max-r)/(t-r)*(u-s)+s,t=g.max}r==m&&s==n||d.moveTo(g.p2c(r)+a,h.p2c(s)+e);var v,w=g.p2c(r)+a,x=h.p2c(s)+e,y=g.p2c(t)+a,z=h.p2c(u)+e;do v=f(o>0?o:p?i:j),0==v.deltaX&&0==v.deltaY||(p?d.lineTo(w+v.deltaX,x+v.deltaY):d.moveTo(w+v.deltaX,x+v.deltaY)),p=!p,o=v.remainder,w+=v.deltaX,x+=v.deltaY;while(v.distance>0);m=t,n=u}}d.stroke()}var f=a.getPlotOffset(),g=b.xaxis,h=b.yaxis;d.save(),d.translate(f.left,f.top),d.lineJoin="round";var i=b.dashes.lineWidth,j=b.shadowSize;if(i>0&&j>0){d.lineWidth=j,d.strokeStyle="rgba(0,0,0,0.1)";var k=Math.PI/18;e(Math.sin(k)*(i/2+j/2),Math.cos(k)*(i/2+j/2)),d.lineWidth=j/2,e(Math.sin(k)*(i/2+j/4),Math.cos(k)*(i/2+j/4))}d.lineWidth=i,d.strokeStyle=b.color,i>0&&e(0,0),d.restore()})})}a.plot.plugins.push({init:b,options:{series:{dashes:{show:!1,lineWidth:2,dashLength:10}}},name:"dashes",version:"0.1"})}(jQuery)}(this),d()}),function(){var a=System.amdDefine;a("app/plugins/panel/graph/jquery.flot.events.js",["jquery","lodash","angular","tether-drop"],function(a,b,c,d){"use strict";function e(a,b){var e=c.element(document).injector(),f=document.createElement("div");f.innerHTML='<annotation-tooltip event="event"></annotation-tooltip>',e.invoke(["$compile","$rootScope",function(c,e){var g=e.$new(!0);g.event=b,c(f)(g),g.$digest(),g.$destroy();var h=new d({target:a[0],content:f,position:"bottom center",classes:"drop-popover drop-popover--annotation",openOn:"hover",hoverCloseDelay:200,tetherOptions:{constraints:[{to:"window",pin:!0,attachment:"both"}]}});h.open(),h.on("close",function(){setTimeout(function(){h.destroy()})})}])}function f(b){var c=this,d=new i(b);b.getEvents=function(){return d._events},b.hideEvents=function(){a.each(d._events,function(a,b){b.visual().getObject().hide()})},b.showEvents=function(){b.hideEvents(),a.each(d._events,function(a,b){b.hide()}),c.eventMarkers.drawEvents()},b.setEvents=function(a){d.eventsEnabled&&d.setupEvents(a)},b.hooks.processOptions.push(function(a,b){null!=b.events.data&&(d.eventsEnabled=!0)}),b.hooks.draw.push(function(a){var b=a.getOptions();d.eventsEnabled&&(d.getEvents().length<1?(d.setTypes(b.events.types),d.setupEvents(b.events.data)):d.updateEvents()),d.drawEvents();
})}var g=function(a,b,c,d,e,f,g,h){var i=a,j=b,k=c,l=d,m={left:e,top:f},n=g,o=h;this.width=function(){return n},this.height=function(){return o},this.position=function(){return m},this.draw=function(){j(i)},this.clear=function(){k(i)},this.getObject=function(){return i},this.moveTo=function(a){m=a,l(i,m)}},h=function(a,b){var c,d=a,e=b,f=!1;this.visual=function(){return e},this.getOptions=function(){return d},this.getParent=function(){return c},this.isHidden=function(){return f},this.hide=function(){f=!0},this.unhide=function(){f=!1}},i=function(b){var c=[];this._types=[],this._plot=b,this.eventsEnabled=!1,this.getEvents=function(){return c},this.setTypes=function(a){return this._types=a},this.setupEvents=function(b){var d=this;a.each(b,function(a,b){var e=new h(b,d._buildDiv(b));c.push(e)}),c.sort(function(a,b){var c=a.getOptions(),d=b.getOptions();return c.min>d.min?1:c.min<d.min?-1:0})},this.drawEvents=function(){var b=this;a.each(c,function(a,c){b._insidePlot(c.getOptions().min)&&!c.isHidden()?c.visual().draw():c.visual().getObject().hide()})},this.updateEvents=function(){var b,d,e=this,f=this._plot.getPlotOffset(),g=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1];a.each(c,function(a,c){d=f.top+e._plot.height()-c.visual().height(),b=g.p2c(c.getOptions().min)+f.left-c.visual().width()/2,c.visual().moveTo({top:d,left:b})})},this._clearEvents=function(){a.each(c,function(a,b){b.visual().clear()}),c=[]},this._buildDiv=function(b){var c,d,f,h,i,j,k,l,m,n=this,o=this._plot.getPlaceholder(),p=this._plot.getPlotOffset(),q=this._plot.getAxes(),r=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1];q.yaxis&&q.yaxis.used&&(c=q.yaxis),q.yaxis2&&q.yaxis2.used&&(c=q.yaxis2);var s=b.eventType;h=null!==this._types&&this._types[s]&&this._types[s].color?this._types[s].color:"#666",i=null!==this._types&&this._types[s]&&this._types[s].markerSize?this._types[s].markerSize:8,j=null===this._types||!this._types[s]||void 0===this._types[s].markerShow||this._types[s].markerShow,m=null===this._types||!this._types[s]||void 0===this._types[s].markerTooltip||this._types[s].markerTooltip,k=null!=this._types&&this._types[s]&&this._types[s].lineStyle?this._types[s].lineStyle.toLowerCase():"dashed",l=null!=this._types&&this._types[s]&&void 0!==this._types[s].lineWidth?this._types[s].lineWidth:1,d=p.top+this._plot.height(),f=r.p2c(b.min)+p.left;var t=a('<div class="events_line flot-temp-elem"></div>').css({position:"absolute",opacity:.8,left:f+"px",top:8,width:l+"px",height:this._plot.height(),"border-left-width":l+"px","border-left-style":k,"border-left-color":h}).appendTo(o);if(j){var u=a('<div class="events_marker"></div>').css({position:"absolute",left:-i-Math.round(l/2)+"px","font-size":0,"line-height":0,width:0,height:0,"border-left":i+"px solid transparent","border-right":i+"px solid transparent"}).appendTo(t);this._types[s]&&this._types[s].position&&"BOTTOM"===this._types[s].position.toUpperCase()?u.css({top:d-i-8+"px","border-top":"none","border-bottom":i+"px solid "+h}):u.css({top:"0px","border-top":i+"px solid "+h,"border-bottom":"none"}),u.data({event:b});var v=function(){e(u,a(this).data("event"))},w=function(){n._plot.clearSelection()};m&&(u.css({cursor:"help"}),u.hover(v,w))}var x=new g(t,function(a){a.show()},function(a){a.remove()},function(a,b){a.css({top:b.top,left:b.left})},f,d,t.width(),t.height());return x},this._insidePlot=function(a){var b=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1],c=b.p2c(a);return c>0&&c<b.p2c(b.max)}},j={events:{data:null,types:null,xaxis:1,position:"BOTTOM"}};a.plot.plugins.push({init:f,options:j,name:"events",version:"0.2.5"})})}(),function(){var a=System.amdDefine;a("app/plugins/panel/graph/graph_tooltip.js",["jquery","app/core/core"],function(a,b){"use strict";function c(b,c,e,f){var g=this,h=e.ctrl,i=h.panel,j=a('<div class="graph-tooltip">');this.destroy=function(){j.remove()},this.findHoverIndexFromDataPoints=function(a,b,c){for(var d=b.datapoints.pointsize,e=c*d,f=b.datapoints.points.length,g=e;g<f;g+=d)if(!b.lines.steps&&null!=b.datapoints.points[e]&&null==b.datapoints.points[g]||b.datapoints.points[g]>a)return Math.max(g-d,0)/d;return g/d-1},this.findHoverIndexFromData=function(a,b){for(var c,d=0,e=b.data.length-1;;){if(d>e)return Math.max(e,0);if(c=Math.floor((d+e)/2),b.data[c][0]===a)return c;b.data[c][0]<a?d=c+1:e=c-1}},this.renderAndShow=function(a,b,c,d){"time"===d&&(b='<div class="graph-tooltip-time">'+a+"</div>"+b),j.html(b).place_tt(c.pageX+20,c.pageY)},this.getMultiSeriesPlotHoverInfo=function(a,b){var c,d,e,f,g,h,j,k,l,m=[[],[],[]],n=0;for(d=0;d<a.length;d++)e=a[d],!e.data.length||i.legend.hideEmpty&&e.allIsNull?m[0].push({hidden:!0,value:0}):!e.data.length||i.legend.hideZero&&e.allIsZero?m[0].push({hidden:!0,value:0}):(f=this.findHoverIndexFromData(b.x,e),g=b.x-e.data[f][0],h=e.data[f][0],(!k||g>=0&&(g<k||k<0)||g<0&&g>k)&&(k=g,l=h),e.stack?"individual"===i.tooltip.value_type?c=e.data[f][1]:e.stack?(n+=e.data[f][1],c=n):c=e.data[f][1]:c=e.data[f][1],(e.lines.steps||e.stack)&&(f=this.findHoverIndexFromDataPoints(b.x,e,f)),j=0,e.yaxis&&(j=e.yaxis.n),m[j].push({value:c,hoverIndex:f,color:e.color,label:e.label,time:h,distance:g,index:d}));return m=m[0].concat(m[1],m[2]),m.time=l,m},b.mouseleave(function(){if(i.tooltip.shared){var a=b.data().plot;a&&(j.detach(),a.unhighlight())}d.emit("graph-hover-clear")}),b.bind("plothover",function(a,c,e){g.show(c,e),c.panelRelY=(c.pageY-b.offset().top)/b.height(),d.emit("graph-hover",{pos:c,panel:i})}),b.bind("plotclick",function(a,b,c){d.emit("graph-click",{pos:b,panel:i,item:c})}),this.clear=function(a){j.detach(),a.clearCrosshair(),a.unhighlight()},this.show=function(d,e){var h,k,l,m,n,o,p,q,r=b.data().plot,s=r.getData(),t=r.getXAxes(),u=t[0].options.mode,v=f(),w=i.tooltip.shared;if(d.panelRelY){var x=r.pointOffset({x:d.x});if(Number.isNaN(x.left)||x.left<0||x.left>b.width())return void g.clear(r);d.pageX=b.offset().left+x.left,d.pageY=b.offset().top+b.height()*d.panelRelY;var y=d.pageY>=a(window).scrollTop()&&d.pageY<=a(window).innerHeight()+a(window).scrollTop();if(!y)return void g.clear(r);if(r.setCrosshair(d),w=!0,c.sharedCrosshairModeOnly())return}if(0!==v.length)if(q=v[0].hasMsResolution?"YYYY-MM-DD HH:mm:ss.SSS":"YYYY-MM-DD HH:mm:ss",w){r.unhighlight();var z=g.getMultiSeriesPlotHoverInfo(s,d);for(p="",l=c.formatDate(z.time,q),2===i.tooltip.sort?z.sort(function(a,b){return b.value-a.value}):1===i.tooltip.sort&&z.sort(function(a,b){return a.value-b.value}),n=0;n<z.length;n++)if(m=z[n],!m.hidden){var A="";e&&m.index===e.seriesIndex&&(A="graph-tooltip-list-item--highlight"),o=v[m.index],k=o.formatValue(m.value),p+='<div class="graph-tooltip-list-item '+A+'"><div class="graph-tooltip-series-name">',p+='<i class="fa fa-minus" style="color:'+m.color+';"></i> '+m.label+":</div>",p+='<div class="graph-tooltip-value">'+k+"</div></div>",r.highlight(m.index,m.hoverIndex)}g.renderAndShow(l,p,d,u)}else e?(o=v[e.seriesIndex],h='<div class="graph-tooltip-list-item"><div class="graph-tooltip-series-name">',h+='<i class="fa fa-minus" style="color:'+e.series.color+';"></i> '+o.label+":</div>",k=i.stack&&"individual"===i.tooltip.value_type?e.datapoint[1]-e.datapoint[2]:e.datapoint[1],k=o.formatValue(k),l=c.formatDate(e.datapoint[0],q),h+='<div class="graph-tooltip-value">'+k+"</div>",g.renderAndShow(l,h,d,u)):j.detach()}}var d=b.appEvents;return c})}(),System.register("app/plugins/panel/graph/threshold_manager.js",["jquery.flot","jquery","lodash"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a){this.panelCtrl=a}return a.prototype.getHandleHtml=function(a,b,c){var d=b.colorMode;return"custom"===b.colorMode&&(d="critical"),'\n    <div class="alert-handle-wrapper alert-handle-wrapper--T'+a+'">\n      <div class="alert-handle-line alert-handle-line--'+d+'">\n      </div>\n      <div class="alert-handle" data-handle-index="'+a+'">\n        <i class="icon-gf icon-gf-'+d+" alert-state-"+d+'"></i>\n        <span class="alert-handle-value">'+c+'<i class="alert-handle-grip"></i></span>\n      </div>\n    </div>'},a.prototype.initDragging=function(a){function b(a){if(null===i)i=a.clientY;else{var b=a.clientY-i;e+=b,i=a.clientY,f.css({top:e+b})}}function d(){h=!1;var a=j.c2p({left:0,top:e}).y;a=parseInt(a.toFixed(0)),l.value=a;j.p2c({x:0,y:a});f.off("mousemove",b),f.off("mouseup",b),f.off("mouseleave",b),k.$scope.$apply(function(){k.render(),k.events.emit("threshold-changed",{threshold:l,handleIndex:g})})}var e,f=c.default(a.currentTarget).parents(".alert-handle-wrapper"),g=c.default(a.currentTarget).data("handleIndex"),h=!1,i=null,j=this.plot,k=this.panelCtrl,l=this.thresholds[g];h=!0,i=null,e=f.position().top,f.on("mousemove",b),f.on("mouseup",d),f.on("mouseleave",d)},a.prototype.cleanUp=function(){this.placeholder.find(".alert-handle-wrapper").remove(),this.needsCleanup=!1},a.prototype.renderHandle=function(a,b){var e=this.thresholds[a],f=e.value,g=f,h=0;if(d.default.isNumber(f)){var i=this.plot.p2c({x:0,y:f});h=Math.round(Math.min(Math.max(i.top,0),this.height)-6)}else g="",h=b;var j=c.default(this.getHandleHtml(a,e,g));this.placeholder.append(j),j.toggleClass("alert-handle-wrapper--no-value",""===g),j.css({top:h})},a.prototype.shouldDrawHandles=function(){return!this.hasSecondYAxis&&this.panelCtrl.editingThresholds&&this.panelCtrl.panel.thresholds.length>0},a.prototype.prepare=function(a,b){this.hasSecondYAxis=!1;for(var c=0;c<b.length;c++)if(b[c].yaxis>1){this.hasSecondYAxis=!0;break}if(this.shouldDrawHandles()){var d=this.panelCtrl.panel.thresholds.length>1?"220px":"110px";a.css("margin-right",d)}else this.needsCleanup&&a.css("margin-right","0")},a.prototype.draw=function(a){this.thresholds=this.panelCtrl.panel.thresholds,this.plot=a,this.placeholder=a.getPlaceholder(),this.needsCleanup&&this.cleanUp(),this.shouldDrawHandles()&&(this.height=a.height(),this.thresholds.length>0&&this.renderHandle(0,10),this.thresholds.length>1&&this.renderHandle(1,this.height-30),this.placeholder.off("mousedown",".alert-handle"),this.placeholder.on("mousedown",".alert-handle",this.initDragging.bind(this)),this.needsCleanup=!0)},a.prototype.addFlotOptions=function(a,b){if(b.thresholds&&0!==b.thresholds.length){var c,e,f,g=1/0,h=-(1/0);for(c=0;c<b.thresholds.length;c++)if(e=b.thresholds[c],d.default.isNumber(e.value)){var i;switch(e.op){case"gt":i=g,b.thresholds.length>c+1&&(f=b.thresholds[c+1],f.value>e.value&&(i=f.value,h=i));break;case"lt":i=h,b.thresholds.length>c+1&&(f=b.thresholds[c+1],f.value<e.value&&(i=f.value,g=i))}var j,k;switch(e.colorMode){case"critical":j="rgba(234, 112, 112, 0.12)",k="rgba(237, 46, 24, 0.60)";break;case"warning":j="rgba(235, 138, 14, 0.12)",k="rgba(247, 149, 32, 0.60)";break;case"ok":j="rgba(11, 237, 50, 0.090)",k="rgba(6,163,69, 0.60)";break;case"custom":j=e.fillColor,k=e.lineColor}e.fill&&a.grid.markings.push({yaxis:{from:e.value,to:i},color:j}),e.line&&a.grid.markings.push({yaxis:{from:e.value,to:e.value},color:k})}}},a}(),a("ThresholdManager",e)}}}),System.register("app/features/annotations/editor_ctrl.js",["angular","lodash","jquery","app/core/core_module"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b){var c=this;this.$scope=a,this.datasourceSrv=b,this.annotationDefaults={name:"",datasource:null,iconColor:"rgba(255, 96, 96, 1)",enable:!0,showIn:0,hide:!1},this.showOptions=[{text:"All Panels",value:0},{text:"Specific Panels",value:1}],a.ctrl=this,this.mode="list",this.datasources=b.getAnnotationSources(),this.annotations=a.dashboard.annotations.list,this.reset(),a.$watch("mode",function(a){"new"===a&&c.reset()})}return a.$inject=["$scope","datasourceSrv"],a.prototype.datasourceChanged=function(){var a=this;return this.datasourceSrv.get(this.currentAnnotation.datasource).then(function(b){a.currentDatasource=b})},a.prototype.edit=function(a){this.currentAnnotation=a,this.currentAnnotation.showIn=this.currentAnnotation.showIn||0,this.currentIsNew=!1,this.datasourceChanged(),this.mode="edit",e.default(".tooltip.in").remove()},a.prototype.reset=function(){this.currentAnnotation=c.default.copy(this.annotationDefaults),this.currentAnnotation.datasource=this.datasources[0].name,this.currentIsNew=!0,this.datasourceChanged()},a.prototype.update=function(){this.reset(),this.mode="list",this.$scope.broadcastRefresh()},a.prototype.add=function(){this.annotations.push(this.currentAnnotation),this.reset(),this.mode="list",this.$scope.broadcastRefresh(),this.$scope.dashboard.updateSubmenuVisibility()},a.prototype.removeAnnotation=function(a){var b=d.default.indexOf(this.annotations,a);this.annotations.splice(b,1),this.$scope.dashboard.updateSubmenuVisibility(),this.$scope.broadcastRefresh()},a}(),a("AnnotationsEditorCtrl",g),f.default.controller("AnnotationsEditorCtrl",g)}}}),System.register("app/features/annotations/annotations_srv.js",["./editor_ctrl","angular","lodash","app/core/core_module"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d,e){this.$rootScope=a,this.$q=b,this.datasourceSrv=c,this.backendSrv=d,this.timeSrv=e,a.onAppEvent("refresh",this.clearCache.bind(this),a),a.onAppEvent("dashboard-initialized",this.clearCache.bind(this),a)}return a.$inject=["$rootScope","$q","datasourceSrv","backendSrv","timeSrv"],a.prototype.clearCache=function(){this.globalAnnotationsPromise=null,this.alertStatesPromise=null},a.prototype.getAnnotations=function(a){var b=this;return this.$q.all([this.getGlobalAnnotations(a),this.getPanelAnnotations(a),this.getAlertStates(a)]).then(function(b){var c=d.default.flattenDeep([b[0],b[1]]);c=d.default.filter(c,function(b){return 1!==b.source.showIn||!(!b.panelId||a.panel.id!==b.panelId)});var e=d.default.find(b[2],{panelId:a.panel.id});return{annotations:c,alertState:e}}).catch(function(a){return!a.message&&a.data&&a.data.message&&(a.message=a.data.message),b.$rootScope.appEvent("alert-error",["Annotation Query Failed",a.message||a]),[]})},a.prototype.getPanelAnnotations=function(a){var b=this,c=a.panel,d=a.dashboard;return d.id&&c&&c.alert?this.backendSrv.get("/api/annotations",{from:a.range.from.valueOf(),to:a.range.to.valueOf(),limit:100,panelId:c.id,dashboardId:d.id}).then(function(a){return b.translateQueryResult({iconColor:"#AA0000",name:"panel-alert"},a)}):this.$q.when([])},a.prototype.getAlertStates=function(a){return a.dashboard.id?a.panel&&!a.panel.alert?this.$q.when([]):"now"!==a.range.raw.to?this.$q.when([]):this.alertStatesPromise?this.alertStatesPromise:(this.alertStatesPromise=this.backendSrv.get("/api/alerts/states-for-dashboard",{dashboardId:a.dashboard.id}),this.alertStatesPromise):this.$q.when([])},a.prototype.getGlobalAnnotations=function(a){var b=this,e=a.dashboard;if(0===e.annotations.list.length)return this.$q.when([]);if(this.globalAnnotationsPromise)return this.globalAnnotationsPromise;var f=d.default.filter(e.annotations.list,{enable:!0}),g=this.timeSrv.timeRange();return this.globalAnnotationsPromise=this.$q.all(d.default.map(f,function(a){return a.snapshotData?b.translateQueryResult(a,a.snapshotData):b.datasourceSrv.get(a.datasource).then(function(b){return b.annotationQuery({range:g,rangeRaw:g.raw,annotation:a})}).then(function(d){return e.snapshot&&(a.snapshotData=c.default.copy(d)),b.translateQueryResult(a,d)})})),this.globalAnnotationsPromise},a.prototype.saveAnnotationEvent=function(a){return this.globalAnnotationsPromise=null,this.backendSrv.post("/api/annotations",a)},a.prototype.translateQueryResult=function(a,b){a.snapshotData&&(a=c.default.copy(a),delete a.snapshotData);for(var d=0,e=b;d<e.length;d++){var f=e[d];f.source=a,f.min=f.time,f.max=f.time,f.scope=1,f.eventType=a.name}return b},a}(),a("AnnotationsSrv",f),e.default.service("annotationsSrv",f)}}}),System.register("app/features/annotations/event_editor.js",["lodash","app/core/core"],function(a,b){"use strict";function c(){return{restrict:"E",controller:f,bindToController:!0,controllerAs:"ctrl",templateUrl:"public/app/features/annotations/partials/event_editor.html",scope:{panelCtrl:"=",event:"=",close:"&"}}}b&&b.id;a("eventEditor",c);var d,e,f;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a){this.annotationsSrv=a,this.event.panelId=this.panelCtrl.panel.id,this.event.dashboardId=this.panelCtrl.dashboard.id}return a.$inject=["annotationsSrv"],a.prototype.save=function(){var a=this;if(this.form.$valid){var b=d.default.cloneDeep(this.event);return b.time=b.time.valueOf(),b.timeEnd=0,b.isRegion&&(b.timeEnd=b.timeEnd.valueOf(),b.timeEnd<b.time)?void console.log("invalid time"):void this.annotationsSrv.saveAnnotationEvent(b).then(function(){a.panelCtrl.refresh(),a.close()})}},a.prototype.timeChanged=function(){this.panelCtrl.render()},a}(),a("EventEditorCtrl",f),e.coreModule.directive("eventEditor",c)}}}),System.register("app/features/annotations/event_manager.js",["lodash","moment","./event"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c){this.panelCtrl=a,this.elem=b,this.popoverSrv=c}return a.prototype.editorClosed=function(){console.log("editorClosed"),this.event=null,this.panelCtrl.render()},a.prototype.updateTime=function(a){var b=!0;return this.event?b=!1:(this.event=new e.AnnotationEvent,this.event.dashboardId=this.panelCtrl.dashboard.id,this.event.panelId=this.panelCtrl.panel.id),this.event.time=d.default(a.from),this.event.isRegion=!1,a.to&&(this.event.timeEnd=d.default(a.to),this.event.isRegion=!0),b?(this.popoverSrv.show({element:this.elem[0],classNames:"drop-popover drop-popover--form",position:"bottom center",openOn:null,template:'<event-editor panel-ctrl="panelCtrl" event="event" close="dismiss()"></event-editor>',onClose:this.editorClosed.bind(this),model:{event:this.event,panelCtrl:this.panelCtrl}}),void this.panelCtrl.render()):void this.panelCtrl.render()},a.prototype.addFlotEvents=function(a,b){if(this.event||0!==a.length){var d={$__alerting:{color:"rgba(237, 46, 24, 1)",position:"BOTTOM",markerSize:5},$__ok:{color:"rgba(11, 237, 50, 1)",position:"BOTTOM",markerSize:5},$__no_data:{color:"rgba(150, 150, 150, 1)",position:"BOTTOM",markerSize:5}};if(this.event)a=[{min:this.event.time.valueOf(),title:this.event.title,text:this.event.text,eventType:"$__alerting"}];else for(var e=0;e<a.length;e++){var f=a[e];f.newState?f.eventType="$__"+f.newState:d[f.source.name]||(d[f.source.name]={color:f.source.iconColor,position:"BOTTOM",markerSize:5})}b.events={levels:c.default.keys(d).length+1,data:a,types:d}}},a}(),a("EventManager",f)}}}),System.register("app/features/annotations/event.js",[],function(a,b){"use strict";var c;b&&b.id;return{setters:[],execute:function(){c=function(){function a(){}return a}(),a("AnnotationEvent",c)}}}),System.register("app/features/annotations/annotation_tooltip.js",["lodash","jquery","app/core/core_module","../alerting/alert_def"],function(a,b){"use strict";function c(a,b,c){function f(b){try{return a(b)}catch(a){return console.log("Could not sanitize annotation string, html escaping instead"),d.default.escape(b)}}return{restrict:"E",scope:{event:"="},link:function(a,h){var i=a.event,j=i.title,k=i.text,l=b.getCurrent(),m='<div class="graph-annotation">',n="";if("panel-alert"===i.source.name){var o=g.default.getStateDisplayModel(i.newState);n=o.stateClass,j='<i class="icon-gf '+o.iconClass+'"></i> '+o.text,k=g.default.getAlertAnnotationInfo(i)}m+='\n        <div class="graph-annotation-header">\n          <span class="graph-annotation-title '+n+'">'+f(j)+'</span>\n          <span class="graph-annotation-time">'+l.formatDate(i.min)+"</span>\n        </div>\n      ",m+='<div class="graph-annotation-body">',k&&(m+=f(k).replace(/\n/g,"<br>")+"<br>");var p=i.tags;d.default.isString(i.tags)&&(p=i.tags.split(","),1===p.length&&(p=i.tags.split(" "))),p&&p.length&&(a.tags=p,m+='<span class="label label-tag small" ng-repeat="tag in tags" tag-color-from-name="tag">{{tag}}</span><br/>'),m+="</div>";var q=e.default(m);q.appendTo(h),c(h.contents())(a)}}}c.$inject=["$sanitize","dashboardSrv","$compile"];b&&b.id;a("annotationTooltipDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){f.default.directive("annotationTooltip",c)}}}),System.register("app/features/annotations/all.js",["./annotations_srv","./event_editor","./event_manager","./event","./annotation_tooltip"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){a("AnnotationsSrv",c.AnnotationsSrv),a("eventEditor",d.eventEditor),a("EventManager",e.EventManager),a("AnnotationEvent",f.AnnotationEvent),a("annotationTooltipDirective",g.annotationTooltipDirective)}}}),System.register("app/plugins/panel/graph/histogram.js",["lodash"],function(a,b){"use strict";function c(a){for(var b=[],c=0;c<a.length;c++)for(var d=a[c],e=0;e<d.data.length;e++)null!==d.data[e][1]&&b.push(d.data[e][1]);return b}function d(a,b){for(var c={},d=0;d<a.length;d++){var g=e(a[d],b);c[g]?c[g]=c[g]+1:c[g]=1}return f.default.map(c,function(a,b){return[Number(b),a]})}function e(a,b){return Math.floor(a/b)*b}b&&b.id;a("getSeriesValues",c),a("convertValuesToHistogram",d);var f;return{setters:[function(a){f=a}],execute:function(){}}}),System.register("app/plugins/panel/graph/graph.js",["jquery.flot","jquery.flot.selection","jquery.flot.time","jquery.flot.stack","jquery.flot.stackpercent","jquery.flot.fillbelow","jquery.flot.crosshair","jquery.flot.dashes","./jquery.flot.events","jquery","lodash","moment","app/core/utils/kbn","app/core/utils/ticks","app/core/core","./graph_tooltip","./threshold_manager","app/features/annotations/all","./histogram"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l;b&&b.id;return{setters:[function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a},function(a){k=a},function(a){l=a}],execute:function(){h.coreModule.directive("grafanaGraph",["$rootScope","timeSrv","popoverSrv",function(a,b,m){return{restrict:"A",template:"",link:function(a,n){function o(a){if(!L.legend.show||L.legend.rightSide)return 0;if(L.legend.alignAsTable){var b=d.default.filter(G,function(a){return a.hideFromLegend(L.legend)===!1}),c=23+21*b.length;return Math.min(c,Math.floor(a/2))}return 26}function p(){try{var a=J.height-o(J.height);return n.css("height",a+"px"),!0}catch(a){return console.log(a),!1}}function q(){return!G||(!p()||(0===P||void 0))}function r(b){for(var e=b.getYAxes(),g=0;g<G.length;g++){var h=G[g],i=e[h.yaxis-1],j=f.default.valueFormats[L.yaxes[h.yaxis-1].format];if(d.default.isNumber(L.decimals))h.updateLegendValues(j,L.decimals,null);else{var k=(i.tickDecimals||-1)+1;h.updateLegendValues(j,k,i.scaledDecimals+2)}O.$$phase||a.$digest()}if(L.yaxes[0].label){c.default("<div class='axisLabel left-yaxis-label flot-temp-elem'></div>").text(L.yaxes[0].label).appendTo(n)}if(L.yaxes[1].label){c.default("<div class='axisLabel right-yaxis-label flot-temp-elem'></div>").text(L.yaxes[1].label).appendTo(n)}R.draw(b)}function s(a,b){var c=L.yaxes[0],d=L.yaxes[1];c.show&&c.label&&(b.left=20),d.show&&d.label&&(b.right=20);for(var e=a.getYAxes(),f=0;f<e.length;f++){var g=e[f],h=L.yaxes[f];g.options.max=null!==g.options.max?g.options.max:h.max,g.options.min=null!==g.options.min?g.options.min:h.min}}function t(a){for(var b=Number.MAX_VALUE,c=0;c<a.length;c++)if(a[c].stats.timeStep){if(L.bars){if(a[c].bars&&a[c].bars.show===!1)continue}else if("undefined"==typeof a[c].bars||"undefined"==typeof a[c].bars.show||!a[c].bars.show)continue;a[c].stats.timeStep<b&&(b=a[c].stats.timeStep)}return b}function u(){function a(a){try{H=c.default.plot(n,I,e),J.renderError&&(delete J.error,delete J.inspector)}catch(a){console.log("flotcharts error",a),J.error=a.message||"Render Error",J.renderError=!0,J.inspector={error:a}}a&&J.renderingCompleted()}if(P=n.width(),!q()){R.prepare(n,G),L.dashes=!!L.lines&&L.dashes;for(var b=!!L.stack||null,e={hooks:{draw:[r],processOffset:[s]},legend:{show:!1},series:{stackpercent:!!L.stack&&L.percentage,stack:L.percentage?null:b,lines:{show:L.lines,zero:!1,fill:v(L.fill),lineWidth:L.dashes?0:L.linewidth,steps:L.steppedLine},dashes:{show:L.dashes,lineWidth:L.linewidth,dashLength:[L.dashLength,L.spaceLength]},bars:{show:L.bars,fill:1,barWidth:1,zero:!1,lineWidth:0},points:{show:L.points,fill:1,fillColor:!1,radius:L.points?L.pointradius:2},shadowSize:0},yaxes:[],xaxis:{},grid:{minBorderMargin:0,markings:[],backgroundColor:null,borderWidth:0,hoverable:!0,clickable:!0,color:"#c8c8c8",margin:{left:0,right:0}},selection:{mode:"x",color:"#666"},crosshair:{mode:"x"}},f=0;f<G.length;f++){var h=G[f];h.data=h.getFlotPairs(h.nullPointMode||L.nullPointMode),J.hiddenSeries[h.alias]&&(h.data=[],h.stack=!1)}switch(L.xaxis.mode){case"series":e.series.bars.barWidth=.7,e.series.bars.align="center";for(var f=0;f<G.length;f++){var h=G[f];h.data=[[f+1,h.stats[L.xaxis.values[0]]]]}y(e);break;case"histogram":var i=void 0,j=l.getSeriesValues(G);if(G.length&&j.length){var k=d.default.min(d.default.map(G,function(a){return a.stats.min})),m=d.default.max(d.default.map(G,function(a){return a.stats.max})),o=L.xaxis.buckets||P/50;i=g.tickStep(k,m,o);var p=l.convertValuesToHistogram(j,i);G[0].data=p,G[0].alias=G[0].label=G[0].id="count",G=[G[0]],e.series.bars.barWidth=.8*i}else i=0;z(e,i);break;case"table":e.series.bars.barWidth=.7,e.series.bars.align="center",A(e);break;default:e.series.bars.barWidth=t(G)/1.5,x(e)}R.addFlotOptions(e,L),Q.addFlotEvents(M,e),B(G,e),I=d.default.sortBy(G,function(a){return a.zindex}),w(L)?(a(!1),setTimeout(function(){a(!0)},50),N=L.legend.rightSide):a(!0)}}function v(a){return 0===a?.001:a/10}function w(a){return!!a.legend.rightSide||(null!==N&&a.legend.rightSide!==N||void 0)}function x(a){var b=P/100,c=d.default.isUndefined(J.range.from)?null:J.range.from.valueOf(),e=d.default.isUndefined(J.range.to)?null:J.range.to.valueOf();a.xaxis={timezone:K.getTimezone(),show:L.xaxis.show,mode:"time",min:c,max:e,label:"Datetime",ticks:b,timeformat:F(b,c,e)}}function y(a){var b=d.default.map(G,function(a,b){return[b+1,a.alias]});a.xaxis={timezone:K.getTimezone(),show:L.xaxis.show,mode:null,min:0,max:b.length+1,label:"Datetime",ticks:b}}function z(a,b){var c,e,f;if(G.length&&b){c=d.default.map(G[0].data,function(a){return a[0]}),e=Math.max(0,d.default.min(c)-b),f=d.default.max(c)+b,c=[];for(var g=e;g<=f;g+=b)c.push(g)}else c=P/100,e=0,f=1;a.xaxis={timezone:K.getTimezone(),show:L.xaxis.show,mode:null,min:e,max:f,label:"Histogram",ticks:c}}function A(a){var b=d.default.map(G,function(a,b){return d.default.map(a.datapoints,function(c,d){var e=b*a.datapoints.length+d;return[e+1,c[1]]})});b=d.default.flatten(b,!0),a.xaxis={timezone:K.getTimezone(),show:L.xaxis.show,mode:null,min:0,max:b.length+1,label:"Datetime",ticks:b}}function B(a,b){var c={position:"left",show:L.yaxes[0].show,index:1,logBase:L.yaxes[0].logBase||1,min:L.yaxes[0].min?d.default.toNumber(L.yaxes[0].min):null,max:L.yaxes[0].max?d.default.toNumber(L.yaxes[0].max):null};if(b.yaxes.push(c),d.default.find(a,{yaxis:2})){var e=d.default.clone(c);e.index=2,e.show=L.yaxes[1].show,e.logBase=L.yaxes[1].logBase||1,e.position="right",e.min=L.yaxes[1].min?d.default.toNumber(L.yaxes[1].min):null,e.max=L.yaxes[1].max?d.default.toNumber(L.yaxes[1].max):null,b.yaxes.push(e),C(b.yaxes[1],a),E(b.yaxes[1],L.percentage&&L.stack?"percent":L.yaxes[1].format)}C(b.yaxes[0],a),E(b.yaxes[0],L.percentage&&L.stack?"percent":L.yaxes[0].format)}function C(a,b){if(1!==a.logBase){a.min<Number.MIN_VALUE&&(a.min=null),a.max<Number.MIN_VALUE&&(a.max=null);var c,d,e=a.max,f=a.min;for(d=0;d<b.length;d++)c=b[d],c.yaxis===a.index&&((!e||e<c.stats.max)&&(e=c.stats.max),(!f||f>c.stats.logmin)&&(f=c.stats.logmin));if(a.transform=function(b){return b<Number.MIN_VALUE?null:Math.log(b)/Math.log(a.logBase)},a.inverseTransform=function(b){return Math.pow(a.logBase,b)},e||f?e?f||(f=e*a.inverseTransform(-4)):e=f*a.inverseTransform(4):(e=a.inverseTransform(2),f=a.inverseTransform(-2)),f=a.min?a.inverseTransform(Math.ceil(a.transform(a.min))):a.min=a.inverseTransform(Math.floor(a.transform(f))),e=a.max?a.inverseTransform(Math.floor(a.transform(a.max))):a.max=a.inverseTransform(Math.ceil(a.transform(e))),!(!f||f<Number.MIN_VALUE||!e||e<Number.MIN_VALUE))if(Number.isFinite(f)&&Number.isFinite(e)){a.ticks=[];var g;for(g=f;g<=e;g*=a.logBase)a.ticks.push(g);a.tickDecimals=D(f)}else a.ticks=[1,2],delete a.min,delete a.max}}function D(a){return a?(a.toString().split(".")[1]||[]).length:0}function E(a,b){a.tickFormatter=function(a,c){return f.default.valueFormats[b](a,c.tickDecimals,c.scaledDecimals)}}function F(a,b,c){if(b&&c&&a){var d=c-b,e=d/a/1e3,f=864e5,g=31536e6;return e<=45?"%H:%M:%S":e<=7200||d<=f?"%H:%M":e<=8e4?"%m/%d %H:%M":e<=2419200||d<=g?"%m/%d":"%Y-%m"}return"%H:%M"}var G,H,I,J=a.ctrl,K=J.dashboard,L=J.panel,M=[],N=null,O=a.$root,P=0,Q=new k.EventManager(J,n,m),R=new j.ThresholdManager(J),S=new i.default(n,K,a,function(){return I});J.events.on("panel-teardown",function(){R=null,H&&(H.destroy(),H=null)}),J.events.on("render",function(a){G=a||G,G&&(M=J.annotations||[],u())}),h.appEvents.on("graph-hover",function(a){K.sharedTooltipModeEnabled()&&H&&a.panel.id!==L.id&&!J.otherPanelInFullscreenMode()&&S.show(a.pos)},a),h.appEvents.on("graph-hover-clear",function(a,b){H&&S.clear(H)},a),n.bind("plotselected",function(c,d){d.ctrlKey||d.metaKey||a.$apply(function(){b.setTime({from:e.default.utc(d.xaxis.from),to:e.default.utc(d.xaxis.to)})})}),n.bind("plotclick",function(a,b,c){if(b.ctrlKey||b.metaKey||Q.event){b.x!==b.x1}}),a.$on("$destroy",function(){S.destroy(),n.off(),n.remove()})}}}])}}}),System.registerDynamic("vendor/flot/jquery.flot.time.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a,b){return b*Math.floor(a/b)}function c(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){return a=""+a,b=""+(null==b?"0":b),1==a.length?b+a:a},f=[],g=!1,h=a.getHours(),i=h<12;null==c&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==d&&(d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var j;j=h>12?h-12:0==h?12:h;for(var k=0;k<b.length;++k){var l=b.charAt(k);if(g){switch(l){case"a":l=""+d[a.getDay()];break;case"b":l=""+c[a.getMonth()];break;case"d":l=e(a.getDate(),"");break;case"e":l=e(a.getDate()," ");break;case"h":case"H":l=e(h);break;case"I":l=e(j);break;case"l":l=e(j," ");break;case"m":l=e(a.getMonth()+1,"");break;case"M":l=e(a.getMinutes());break;case"q":l=""+(Math.floor(a.getMonth()/3)+1);break;case"S":l=e(a.getSeconds());break;case"y":l=e(a.getFullYear()%100);break;case"Y":l=""+a.getFullYear();break;case"p":l=i?"am":"pm";break;case"P":l=i?"AM":"PM";break;case"w":l=""+a.getDay()}f.push(l),g=!1}else"%"==l?g=!0:f.push(l)}return f.join("")}function d(a){function b(a,b,c,d){a[b]=function(){return c[d].apply(c,arguments)}}var c={date:a};void 0!=a.strftime&&b(c,"strftime",a,"strftime"),b(c,"getTime",a,"getTime"),b(c,"setTime",a,"setTime");for(var d=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function e(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var c=new timezoneJS.Date;return c.setTimezone(b.timezone),c.setTime(a),c}return d(new Date(a));
}return d(new Date(a))}function f(d){d.hooks.processOptions.push(function(d,f){a.each(d.getAxes(),function(a,d){var f=d.options;"time"==f.mode&&(d.tickGenerator=function(a){var c=[],d=e(a.min,f),g=0,i=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?k:j;null!=f.minTickSize&&(g="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*h[f.minTickSize[1]]);for(var l=0;l<i.length-1&&!(a.delta<(i[l][0]*h[i[l][1]]+i[l+1][0]*h[i[l+1][1]])/2&&i[l][0]*h[i[l][1]]>=g);++l);var m=i[l][0],n=i[l][1];if("year"==n){if(null!=f.minTickSize&&"year"==f.minTickSize[1])m=Math.floor(f.minTickSize[0]);else{var o=Math.pow(10,Math.floor(Math.log(a.delta/h.year)/Math.LN10)),p=a.delta/h.year/o;m=p<1.5?1:p<3?2:p<7.5?5:10,m*=o}m<1&&(m=1)}a.tickSize=f.tickSize||[m,n];var q=a.tickSize[0];n=a.tickSize[1];var r=q*h[n];"second"==n?d.setSeconds(b(d.getSeconds(),q)):"minute"==n?d.setMinutes(b(d.getMinutes(),q)):"hour"==n?d.setHours(b(d.getHours(),q)):"month"==n?d.setMonth(b(d.getMonth(),q)):"quarter"==n?d.setMonth(3*b(d.getMonth()/3,q)):"year"==n&&d.setFullYear(b(d.getFullYear(),q)),d.setMilliseconds(0),r>=h.minute&&d.setSeconds(0),r>=h.hour&&d.setMinutes(0),r>=h.day&&d.setHours(0),r>=4*h.day&&d.setDate(1),r>=2*h.month&&d.setMonth(b(d.getMonth(),3)),r>=2*h.quarter&&d.setMonth(b(d.getMonth(),6)),r>=h.year&&d.setMonth(0);var s,t=0,u=Number.NaN;do if(s=u,u=d.getTime(),c.push(u),"month"==n||"quarter"==n)if(q<1){d.setDate(1);var v=d.getTime();d.setMonth(d.getMonth()+("quarter"==n?3:1));var w=d.getTime();d.setTime(u+t*h.hour+(w-v)*q),t=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+q*("quarter"==n?3:1));else"year"==n?d.setFullYear(d.getFullYear()+q):d.setTime(u+r);while(u<a.max&&u!=s);return c},d.tickFormatter=function(a,b){var d=e(a,b.options);if(null!=f.timeformat)return c(d,f.timeformat,f.monthNames,f.dayNames);var g,i=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],j=b.tickSize[0]*h[b.tickSize[1]],k=b.max-b.min,l=f.twelveHourClock?" %p":"",m=f.twelveHourClock?"%I":"%H";g=j<h.minute?m+":%M:%S"+l:j<h.day?k<2*h.day?m+":%M"+l:"%b %d "+m+":%M"+l:j<h.month?"%b %d":i&&j<h.quarter||!i&&j<h.year?k<h.year?"%b":"%b %Y":i&&j<h.year?k<h.year?"Q%q":"Q%q %Y":"%Y";var n=c(d,g,f.monthNames,f.dayNames);return n})})})}var g={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],j=i.concat([[3,"month"],[6,"month"],[1,"year"]]),k=i.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:f,options:g,name:"time",version:"1.0"}),a.plot.formatDate=c}(jQuery)}(this),d()}),function(){var a=System.amdDefine;a("app/plugins/panel/graph/legend.js",["angular","lodash","jquery","jquery.flot","jquery.flot.time"],function(a,b,c){"use strict";var d=a.module("grafana.directives");d.directive("graphLegend",["popoverSrv","$timeout",function(a,d){return{link:function(e,f){function g(a){return a.parents("[data-series-index]").data("series-index")}function h(b){if(!c(b.target).parents(".popover").length){var e=c(b.currentTarget).find(".fa-minus"),f=g(e),h=n[f];d(function(){a.show({element:e[0],position:"bottom center",template:"<gf-color-picker></gf-color-picker>",openOn:"hover",model:{series:h,toggleAxis:function(){r.toggleAxis(h)},colorSelected:function(a){r.changeSeriesColor(h,a)}}})})}}function i(a){var b=c(a.currentTarget),d=g(b),e=n[d],f=c(p.children("tbody")).scrollTop();r.toggleSeries(e,a),c(p.children("tbody")).scrollTop(f)}function j(a){var b=c(a.currentTarget),d=b.data("stat");return d!==s.legend.sort&&(s.legend.sortDesc=null),s.legend.sortDesc===!1?(s.legend.sort=null,s.legend.sortDesc=null,void l()):(s.legend.sortDesc=!s.legend.sortDesc,s.legend.sort=d,void l())}function k(a){if(!s.legend[a])return"";var b='<th class="pointer" data-stat="'+a+'">'+a;if(s.legend.sort===a){var c=s.legend.sortDesc?"fa fa-caret-down":"fa fa-caret-up";b+=' <span class="'+c+'"></span>'}return b+"</th>"}function l(){if(!r.panel.legend.show)return f.empty(),void(q=!0);q&&(f.append(p),p.on("click",".graph-legend-icon",h),p.on("click",".graph-legend-alias",i),p.on("click","th",j),q=!1),n=m,p.empty();var a=s.legend.rightSide&&s.legend.sideWidth?s.legend.sideWidth+"px":"";p.css("min-width",a),p.toggleClass("graph-legend-table",s.legend.alignAsTable===!0);var d;if(s.legend.alignAsTable){var e="<tr>";e+='<th colspan="2" style="text-align:left"></th>',s.legend.values&&(e+=k("min"),e+=k("max"),e+=k("avg"),e+=k("current"),e+=k("total")),e+="</tr>",d=c(e)}s.legend.sort&&(n=b.sortBy(n,function(a){return a.stats[s.legend.sort]}),s.legend.sortDesc&&(n=n.reverse()));var g=0,l=[];for(o=0;o<n.length;o++){var t=n[o];if(!t.hideFromLegend(s.legend)){var u='<div class="graph-legend-series';if(2===t.yaxis&&(u+=" graph-legend-series--right-y"),r.hiddenSeries[t.alias]&&(u+=" graph-legend-series-hidden"),u+='" data-series-index="'+o+'">',u+='<div class="graph-legend-icon">',u+='<i class="fa fa-minus pointer" style="color:'+t.color+'"></i>',u+="</div>",u+='<a class="graph-legend-alias pointer" title="'+b.escape(t.label)+'">'+b.escape(t.label)+"</a>",s.legend.values){var v=t.formatValue(t.stats.avg),w=t.formatValue(t.stats.current),x=t.formatValue(t.stats.min),y=t.formatValue(t.stats.max),z=t.formatValue(t.stats.total);s.legend.min&&(u+='<div class="graph-legend-value min">'+x+"</div>"),s.legend.max&&(u+='<div class="graph-legend-value max">'+y+"</div>"),s.legend.avg&&(u+='<div class="graph-legend-value avg">'+v+"</div>"),s.legend.current&&(u+='<div class="graph-legend-value current">'+w+"</div>"),s.legend.total&&(u+='<div class="graph-legend-value total">'+z+"</div>")}u+="</div>",l.push(c(u)),g++}}if(s.legend.alignAsTable){var A=r.height;s.legend.rightSide||(A/=2);var B=6,C=c("<tbody></tbody>");C.css("max-height",A-B),C.append(d),C.append(l),p.append(C)}else p.append(l)}var m,n,o,p=c('<section class="graph-legend"></section>'),q=!0,r=e.ctrl,s=r.panel;r.events.on("render",function(){m=r.seriesList,m&&l()})}}}])})}(),function(){var a=System.amdDefine;a("app/plugins/panel/graph/series_overrides_ctrl.js",["angular","jquery","lodash"],function(a,b,c){"use strict";var d=a.module("grafana.controllers");d.controller("SeriesOverridesCtrl",["$scope","$element","popoverSrv",function(a,b,d){a.overrideMenu=[],a.currentOverrides=[],a.override=a.override||{},a.addOverrideOption=function(b,d,e){var f={};f.text=b,f.propertyName=d,f.index=a.overrideMenu.length,f.values=e,f.submenu=c.map(e,function(a){return{text:String(a),value:a}}),a.overrideMenu.push(f)},a.setOverride=function(b,c){return"color"===b.propertyName?void a.openColorSelector():(a.override[b.propertyName]=c.value,"fillBelowTo"===b.propertyName&&(a.override.lines=!1,a.ctrl.addSeriesOverride({alias:c.value,lines:!1})),a.updateCurrentOverrides(),void a.ctrl.render())},a.colorSelected=function(b){a.override.color=b,a.updateCurrentOverrides(),a.ctrl.render()},a.openColorSelector=function(){d.show({element:b.find(".dropdown")[0],position:"top center",openOn:"click",template:"<gf-color-picker></gf-color-picker>",model:{autoClose:!0,colorSelected:a.colorSelected},onClose:function(){a.ctrl.render()}})},a.removeOverride=function(b){delete a.override[b.propertyName],a.updateCurrentOverrides(),a.ctrl.refresh()},a.getSeriesNames=function(){return c.map(a.ctrl.seriesList,function(a){return a.alias})},a.updateCurrentOverrides=function(){a.currentOverrides=[],c.each(a.overrideMenu,function(b){var d=a.override[b.propertyName];c.isUndefined(d)||a.currentOverrides.push({name:b.text,propertyName:b.propertyName,value:String(d)})})},a.addOverrideOption("Bars","bars",[!0,!1]),a.addOverrideOption("Lines","lines",[!0,!1]),a.addOverrideOption("Line fill","fill",[0,1,2,3,4,5,6,7,8,9,10]),a.addOverrideOption("Line width","linewidth",[0,1,2,3,4,5,6,7,8,9,10]),a.addOverrideOption("Null point mode","nullPointMode",["connected","null","null as zero"]),a.addOverrideOption("Fill below to","fillBelowTo",a.getSeriesNames()),a.addOverrideOption("Staircase line","steppedLine",[!0,!1]),a.addOverrideOption("Dashes","dashes",[!0,!1]),a.addOverrideOption("Points","points",[!0,!1]),a.addOverrideOption("Points Radius","pointradius",[1,2,3,4,5]),a.addOverrideOption("Stack","stack",[!0,!1,"A","B","C","D"]),a.addOverrideOption("Color","color",["change"]),a.addOverrideOption("Y-axis","yaxis",[1,2]),a.addOverrideOption("Z-index","zindex",[-3,-2,-1,0,1,2,3]),a.addOverrideOption("Transform","transform",["negative-Y"]),a.addOverrideOption("Legend","legend",[!0,!1]),a.updateCurrentOverrides()}])})}(),System.register("app/plugins/panel/graph/thresholds_form.js",["app/core/core_module"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=function(){function a(a){var b=this;this.panel=this.panelCtrl.panel,this.panel.alert&&(this.disabled=!0);var c=a.$on("$destroy",function(){b.panelCtrl.editingThresholds=!1,b.panelCtrl.render(),c()});this.panelCtrl.editingThresholds=!0}return a.$inject=["$scope"],a.prototype.addThreshold=function(){this.panel.thresholds.push({value:void 0,colorMode:"critical",op:"gt",fill:!0,line:!0}),this.panelCtrl.render()},a.prototype.removeThreshold=function(a){this.panel.thresholds.splice(a,1),this.panelCtrl.render()},a.prototype.render=function(){this.panelCtrl.render()},a}(),a("ThresholdFormCtrl",d),e='\n<div class="gf-form-group">\n  <h5>Thresholds</h5>\n  <p class="muted" ng-show="ctrl.disabled">\n    Visual thresholds options <strong>disabled.</strong>\n    Visit the Alert tab update your thresholds. <br>\n    To re-enable thresholds, the alert rule must be deleted from this panel.\n  </p>\n  <div ng-class="{\'thresholds-form-disabled\': ctrl.disabled}">\n    <div class="gf-form-inline" ng-repeat="threshold in ctrl.panel.thresholds">\n      <div class="gf-form">\n        <label class="gf-form-label">T{{$index+1}}</label>\n      </div>\n\n      <div class="gf-form">\n        <div class="gf-form-select-wrapper">\n          <select class="gf-form-input" ng-model="threshold.op"\n                  ng-options="f for f in [\'gt\', \'lt\']" ng-change="ctrl.render()" ng-disabled="ctrl.disabled"></select>\n        </div>\n        <input type="number" ng-model="threshold.value" class="gf-form-input width-8"\n               ng-change="ctrl.render()" placeholder="value" ng-disabled="ctrl.disabled">\n      </div>\n\n      <div class="gf-form">\n        <label class="gf-form-label">Color</label>\n        <div class="gf-form-select-wrapper">\n          <select class="gf-form-input" ng-model="threshold.colorMode"\n                  ng-options="f for f in [\'custom\', \'critical\', \'warning\', \'ok\']" ng-change="ctrl.render()" ng-disabled="ctrl.disabled">\n          </select>\n        </div>\n      </div>\n\n      <gf-form-switch class="gf-form" label="Fill" checked="threshold.fill"\n                      on-change="ctrl.render()" ng-disabled="ctrl.disabled"></gf-form-switch>\n\n      <div class="gf-form" ng-if="threshold.fill && threshold.colorMode === \'custom\'">\n        <label class="gf-form-label">Fill color</label>\n        <span class="gf-form-label">\n          <spectrum-picker ng-model="threshold.fillColor" ng-change="ctrl.render()" ></spectrum-picker>\n        </span>\n      </div>\n\n      <gf-form-switch class="gf-form" label="Line" checked="threshold.line"\n                      on-change="ctrl.render()" ng-disabled="ctrl.disabled"></gf-form-switch>\n\n      <div class="gf-form" ng-if="threshold.line && threshold.colorMode === \'custom\'">\n        <label class="gf-form-label">Line color</label>\n        <span class="gf-form-label">\n          <spectrum-picker ng-model="threshold.lineColor" ng-change="ctrl.render()" ></spectrum-picker>\n        </span>\n      </div>\n\n      <div class="gf-form">\n        <label class="gf-form-label">\n          <a class="pointer" ng-click="ctrl.removeThreshold($index)" ng-disabled="ctrl.disabled">\n            <i class="fa fa-trash"></i>\n          </a>\n        </label>\n      </div>\n    </div>\n\n    <div class="gf-form-button-row">\n      <button class="btn btn-inverse" ng-click="ctrl.addThreshold()" ng-disabled="ctrl.disabled">\n        <i class="fa fa-plus"></i>&nbsp;Add Threshold\n      </button>\n    </div>\n  </div>\n</div>\n',c.default.directive("graphThresholdForm",function(){return{restrict:"E",template:e,controller:d,bindToController:!0,controllerAs:"ctrl",scope:{panelCtrl:"="}}})}}}),System.register("app/plugins/panel/graph/template.js",[],function(a,b){"use strict";var c;b&&b.id;return{setters:[],execute:function(){c='\n<div class="graph-wrapper" ng-class="{\'graph-legend-rightside\': ctrl.panel.legend.rightSide}">\n  <div class="graph-canvas-wrapper">\n\n    <div class="datapoints-warning" ng-if="ctrl.dataWarning">\n      <span class="small" bs-tooltip="ctrl.dataWarning.tip">{{ctrl.dataWarning.title}}</span>\n    </div>\n\n    <div grafana-graph class="histogram-chart" ng-dblclick="ctrl.zoomOut()">\n    </div>\n\n  </div>\n\n  <div class="graph-legend-wrapper" graph-legend></div>\n  </div>\n\n<div class="clearfix"></div>\n',a("default",c)}}}),System.register("app/plugins/panel/graph/data_processor.js",["lodash","app/core/time_series2","app/core/core"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a){this.panel=a}return a.prototype.getSeriesList=function(a){var b=this;if(!a.dataList||0===a.dataList.length)return[];var c;if(a.dataList&&a.dataList.length>0){c=a.dataList[0];var d=this.getAutoDetectXAxisMode(c);this.panel.xaxis.mode!==d&&(this.panel.xaxis.mode=d,this.setPanelDefaultsForNewXAxisMode())}switch(this.panel.xaxis.mode){case"series":case"histogram":case"time":return a.dataList.map(function(c,d){return b.timeSeriesHandler(c,d,a)});case"field":return this.customHandler(c)}},a.prototype.getAutoDetectXAxisMode=function(a){switch(a.type){case"docs":return"field";case"table":return"field";default:return"series"===this.panel.xaxis.mode?"series":"histogram"===this.panel.xaxis.mode?"histogram":"time"}},a.prototype.setPanelDefaultsForNewXAxisMode=function(){switch(this.panel.xaxis.mode){case"time":this.panel.bars=!1,this.panel.lines=!0,this.panel.points=!1,this.panel.legend.show=!0,this.panel.tooltip.shared=!0,this.panel.xaxis.values=[];break;case"series":this.panel.bars=!0,this.panel.lines=!1,this.panel.points=!1,this.panel.stack=!1,this.panel.legend.show=!1,this.panel.tooltip.shared=!1,this.panel.xaxis.values=["total"];break;case"histogram":this.panel.bars=!0,this.panel.lines=!1,this.panel.points=!1,this.panel.stack=!1,this.panel.legend.show=!1,this.panel.tooltip.shared=!1}},a.prototype.timeSeriesHandler=function(a,b,c){var f=a.datapoints||[],g=a.target,h=b%e.colors.length,i=this.panel.aliasColors[g]||e.colors[h],j=new d.default({datapoints:f,alias:g,color:i,unit:a.unit});if(f&&f.length>0){var k=f[f.length-1][1],l=c.range.from;k-l<-1e4&&(j.isOutsideRange=!0)}return j},a.prototype.customHandler=function(a){var b=this.panel.xaxis.name;if(!b)throw{message:"No field name specified to use for x-axis, check your axes settings"};return[]},a.prototype.validateXAxisSeriesValue=function(){switch(this.panel.xaxis.mode){case"series":if(0===this.panel.xaxis.values.length)return void(this.panel.xaxis.values=["total"]);var a=this.getXAxisValueOptions({}),b=c.default.find(a,{value:this.panel.xaxis.values[0]});return void(b||(this.panel.xaxis.values=["total"]))}},a.prototype.getDataFieldNames=function(a,b){function d(a){c.default.forEach(a,function(a,f){if(c.default.isObject(a))g.push(f),d(a);else if(!b||c.default.isNumber(a)){var h=g.concat(f).join(".");e.push(h)}}),g.pop()}if(0===a.length)return[];var e=[],f=a[0],g=[];return"docs"===f.type?0===f.datapoints.length?[]:(d(f.datapoints[0]),e):void 0},a.prototype.getXAxisValueOptions=function(a){switch(this.panel.xaxis.mode){case"time":return[];case"series":return[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Total",value:"total"},{text:"Count",value:"count"}]}},a.prototype.pluckDeep=function(a,b){for(var c=b.split("."),d=a,e=0;e<c.length;++e){if(!d[c[e]])return;d=d[c[e]]}return d},a}(),a("DataProcessor",f)}}}),System.register("app/plugins/panel/graph/axes_editor.js",["app/core/utils/kbn"],function(a,b){"use strict";function c(){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/graph/axes_editor.html",controller:e}}b&&b.id;a("axesEditorComponent",c);var d,e;return{setters:[function(a){d=a}],execute:function(){e=function(){function a(a,b){this.$scope=a,this.$q=b,this.panelCtrl=a.ctrl,this.panel=this.panelCtrl.panel,a.ctrl=this,this.unitFormats=d.default.getUnitFormats(),this.logScales={linear:1,"log (base 2)":2,"log (base 10)":10,"log (base 32)":32,"log (base 1024)":1024},this.xAxisModes={Time:"time",Series:"series",Histogram:"histogram"},this.xAxisStatOptions=[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Total",value:"total"},{text:"Count",value:"count"},{text:"Current",value:"current"}],"custom"===this.panel.xaxis.mode&&(this.panel.xaxis.name||(this.panel.xaxis.name="specify field"))}return a.$inject=["$scope","$q"],a.prototype.setUnitFormat=function(a,b){a.format=b.value,this.panelCtrl.render()},a.prototype.render=function(){this.panelCtrl.render()},a.prototype.xAxisOptionChanged=function(){this.panel.xaxis.values&&this.panel.xaxis.values[0]||this.panelCtrl.processor.setPanelDefaultsForNewXAxisMode(),this.panelCtrl.onDataReceived(this.panelCtrl.dataList)},a.prototype.getDataFieldNames=function(a){var b=this.panelCtrl.processor.getDataFieldNames(this.panelCtrl.dataList,a),c=b.map(function(a){return{text:a,value:a}});return this.$q.when(c)},a}(),a("AxesEditorCtrl",e)}}}),System.register("app/plugins/panel/graph/module.js",["./graph","./legend","./series_overrides_ctrl","./thresholds_form","./template","lodash","app/core/config","app/core/utils/file_export","app/plugins/sdk","./data_processor","./axes_editor"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){},function(a){},function(a){},function(a){},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a}],execute:function(){j=function(a){function b(b,c,e){var f=a.call(this,b,c)||this;return f.annotationsSrv=e,f.hiddenSeries={},f.seriesList=[],f.dataList=[],f.annotations=[],f.colors=[],f.panelDefaults={datasource:null,renderer:"flot",yaxes:[{label:null,show:!0,logBase:1,min:null,max:null,format:"short"},{label:null,show:!0,logBase:1,min:null,max:null,format:"short"}],xaxis:{show:!0,mode:"time",name:null,values:[],buckets:null},lines:!0,fill:1,linewidth:1,dashes:!1,dashLength:10,spaceLength:10,points:!1,pointradius:5,bars:!1,stack:!1,percentage:!1,legend:{show:!0,values:!1,min:!1,max:!1,current:!1,total:!1,avg:!1},nullPointMode:"null",steppedLine:!1,tooltip:{value_type:"individual",shared:!0,sort:0},timeFrom:null,timeShift:null,targets:[{}],aliasColors:{},seriesOverrides:[],thresholds:[]},d.default.defaults(f.panel,f.panelDefaults),d.default.defaults(f.panel.tooltip,f.panelDefaults.tooltip),d.default.defaults(f.panel.legend,f.panelDefaults.legend),d.default.defaults(f.panel.xaxis,f.panelDefaults.xaxis),f.processor=new h.DataProcessor(f.panel),f.events.on("render",f.onRender.bind(f)),f.events.on("data-received",f.onDataReceived.bind(f)),f.events.on("data-error",f.onDataError.bind(f)),f.events.on("data-snapshot-load",f.onDataSnapshotLoad.bind(f)),f.events.on("init-edit-mode",f.onInitEditMode.bind(f)),f.events.on("init-panel-actions",f.onInitPanelActions.bind(f)),f}return k(b,a),b.$inject=["$scope","$injector","annotationsSrv"],b.prototype.onInitEditMode=function(){this.addEditorTab("Axes",i.axesEditorComponent,2),this.addEditorTab("Legend","public/app/plugins/panel/graph/tab_legend.html",3),this.addEditorTab("Display","public/app/plugins/panel/graph/tab_display.html",4),e.default.alertingEnabled&&this.addEditorTab("Alert",g.alertTab,5),this.subTabIndex=0},b.prototype.onInitPanelActions=function(a){a.push({text:"Export CSV (series as rows)",click:"ctrl.exportCsv()"}),a.push({text:"Export CSV (series as columns)",click:"ctrl.exportCsvColumns()"}),a.push({text:"Toggle legend",click:"ctrl.toggleLegend()"})},b.prototype.issueQueries=function(b){return this.annotationsPromise=this.annotationsSrv.getAnnotations({dashboard:this.dashboard,panel:this.panel,range:this.range}),a.prototype.issueQueries.call(this,b)},b.prototype.zoomOut=function(a){this.publishAppEvent("zoom-out",2)},b.prototype.onDataSnapshotLoad=function(a){this.annotationsPromise=this.annotationsSrv.getAnnotations({dashboard:this.dashboard,panel:this.panel,range:this.range}),this.onDataReceived(a)},b.prototype.onDataError=function(a){this.seriesList=[],this.annotations=[],this.render([])},b.prototype.onDataReceived=function(a){var b=this;this.dataList=a,this.seriesList=this.processor.getSeriesList({dataList:a,range:this.range}),this.dataWarning=null;var c=this.seriesList.reduce(function(a,b){return a+b.datapoints.length},0);if(0===c)this.dataWarning={title:"No data points",tip:"No datapoints returned from data query"};else for(var d=0,e=this.seriesList;d<e.length;d++){var f=e[d];if(f.isOutsideRange){this.dataWarning={title:"Data points outside time range",tip:"Can be caused by timezone mismatch or missing time filter in query"};break}}this.annotationsPromise.then(function(a){b.loading=!1,b.alertState=a.alertState,b.annotations=a.annotations,b.render(b.seriesList)},function(){b.loading=!1,b.render(b.seriesList)})},b.prototype.onRender=function(){if(this.seriesList)for(var a=0,b=this.seriesList;a<b.length;a++){var c=b[a];c.applySeriesOverrides(this.panel.seriesOverrides),c.unit&&(this.panel.yaxes[c.yaxis-1].format=c.unit)}},b.prototype.changeSeriesColor=function(a,b){a.color=b,this.panel.aliasColors[a.alias]=a.color,this.render()},b.prototype.toggleSeries=function(a,b){b.ctrlKey||b.metaKey||b.shiftKey?this.hiddenSeries[a.alias]?delete this.hiddenSeries[a.alias]:this.hiddenSeries[a.alias]=!0:this.toggleSeriesExclusiveMode(a),this.render()},b.prototype.toggleSeriesExclusiveMode=function(a){var b=this,c=this.hiddenSeries;c[a.alias]&&delete c[a.alias];var e=d.default.every(this.seriesList,function(b){return b.alias===a.alias||c[b.alias]});e?d.default.each(this.seriesList,function(a){delete b.hiddenSeries[a.alias]}):d.default.each(this.seriesList,function(c){c.alias!==a.alias&&(b.hiddenSeries[c.alias]=!0)})},b.prototype.toggleAxis=function(a){var b=d.default.find(this.panel.seriesOverrides,{alias:a.alias});b||(b={alias:a.alias},this.panel.seriesOverrides.push(b)),a.yaxis=b.yaxis=2===a.yaxis?1:2,this.render()},b.prototype.addSeriesOverride=function(a){this.panel.seriesOverrides.push(a||{})},b.prototype.removeSeriesOverride=function(a){this.panel.seriesOverrides=d.default.without(this.panel.seriesOverrides,a),this.render()},b.prototype.toggleLegend=function(){this.panel.legend.show=!this.panel.legend.show,this.refresh()},b.prototype.legendValuesOptionChanged=function(){var a=this.panel.legend;a.values=a.min||a.max||a.avg||a.current||a.total,this.render()},b.prototype.exportCsv=function(){f.exportSeriesListToCsv(this.seriesList)},b.prototype.exportCsvColumns=function(){f.exportSeriesListToCsvColumns(this.seriesList)},b}(g.MetricsPanelCtrl),j.template=c.default,a("GraphCtrl",j),a("PanelCtrl",j)}}}),function(){var a=System.amdDefine;a("app/core/time_series.js",["./time_series2"],function(a){"use strict";return a.default})}(),System.register("app/plugins/panel/heatmap/axes_editor.js",["app/core/utils/kbn"],function(a,b){"use strict";function c(){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/heatmap/partials/axes_editor.html",controller:e}}b&&b.id;a("axesEditor",c);var d,e;return{setters:[function(a){d=a}],execute:function(){e=function(){function a(a,b){a.editor=this,this.panelCtrl=a.ctrl,this.panel=this.panelCtrl.panel,this.unitFormats=d.default.getUnitFormats(),this.logScales={linear:1,"log (base 2)":2,"log (base 10)":10,"log (base 32)":32,"log (base 1024)":1024},this.dataFormats={"Time series":"timeseries","Time series buckets":"tsbuckets"}}return a.$inject=["$scope","uiSegmentSrv"],a.prototype.setUnitFormat=function(a){this.panel.yAxis.format=a.value,this.panelCtrl.render()},a}(),a("AxesEditorCtrl",e)}}}),System.register("app/plugins/panel/heatmap/display_editor.js",[],function(a,b){"use strict";function c(){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/heatmap/partials/display_editor.html",controller:d}}b&&b.id;a("heatmapDisplayEditor",c);var d;return{setters:[],execute:function(){d=function(){function a(a){a.editor=this,this.panelCtrl=a.ctrl,this.panel=this.panelCtrl.panel,this.panelCtrl.render()}return a.$inject=["$scope"],a}(),a("HeatmapDisplayEditorCtrl",d)}}}),System.register("app/core/utils/ticks.js",[],function(a,b){"use strict";function c(a,b,c){var d=Math.sqrt(50),e=Math.sqrt(10),f=Math.sqrt(2),g=Math.abs(b-a)/Math.max(0,c),h=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),i=g/h;return i>=d?h*=10:i>=e?h*=5:i>=f&&(h*=2),b<a?-h:h}b&&b.id;return a("tickStep",c),{setters:[],execute:function(){}}}),function(){var a=System.amdDefine;!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?c(exports):"function"==typeof a&&a.amd?a("vendor/d3/d3.v4.min.js",["exports"],c):c(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a){return function(b,c){return yj(a(b),c)}}function c(a,b,c){var d=Math.abs(b-a)/Math.max(0,c),e=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),f=d/e;return f>=Oj?e*=10:f>=Pj?e*=5:f>=Qj&&(e*=2),b<a?-e:e}function d(a){return a.length}function e(a,b,c){var d=a(c);return"translate("+(isFinite(d)?d:b(c))+",0)"}function f(a,b,c){var d=a(c);return"translate(0,"+(isFinite(d)?d:b(c))+")"}function g(a){var b=a.bandwidth()/2;return a.round()&&(b=Math.round(b)),function(c){return a(c)+b}}function h(){return!this.__axis}function i(a,b){function c(c){var n,o=null==i?b.ticks?b.ticks.apply(b,d):b.domain():i,p=null==j?b.tickFormat?b.tickFormat.apply(b,d):ik:j,q=Math.max(k,0)+m,r=a===jk||a===lk?e:f,s=b.range(),t=s[0]+.5,u=s[s.length-1]+.5,v=(b.bandwidth?g:ik)(b.copy()),w=c.selection?c.selection():c,x=w.selectAll(".domain").data([null]),y=w.selectAll(".tick").data(o,b).order(),z=y.exit(),A=y.enter().append("g").attr("class","tick"),B=y.select("line"),C=y.select("text"),D=a===jk||a===mk?-1:1,E=a===mk||a===kk?(n="x","y"):(n="y","x");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),y=y.merge(A),B=B.merge(A.append("line").attr("stroke","#000").attr(n+"2",D*k).attr(E+"1",.5).attr(E+"2",.5)),C=C.merge(A.append("text").attr("fill","#000").attr(n,D*q).attr(E,.5).attr("dy",a===jk?"0em":a===lk?"0.71em":"0.32em")),c!==w&&(x=x.transition(c),y=y.transition(c),B=B.transition(c),C=C.transition(c),z=z.transition(c).attr("opacity",nk).attr("transform",function(a){return r(v,this.parentNode.__axis||v,a)}),A.attr("opacity",nk).attr("transform",function(a){return r(this.parentNode.__axis||v,v,a)})),z.remove(),x.attr("d",a===mk||a==kk?"M"+D*l+","+t+"H0.5V"+u+"H"+D*l:"M"+t+","+D*l+"V0.5H"+u+"V"+D*l),y.attr("opacity",1).attr("transform",function(a){return r(v,v,a)}),B.attr(n+"2",D*k),C.attr(n,D*q).text(p),w.filter(h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===kk?"start":a===mk?"end":"middle"),w.each(function(){this.__axis=v})}var d=[],i=null,j=null,k=6,l=6,m=3;return c.scale=function(a){return arguments.length?(b=a,c):b},c.ticks=function(){return d=hk.call(arguments),c},c.tickArguments=function(a){return arguments.length?(d=null==a?[]:hk.call(a),c):d.slice()},c.tickValues=function(a){return arguments.length?(i=null==a?null:hk.call(a),c):i&&i.slice()},c.tickFormat=function(a){return arguments.length?(j=a,c):j},c.tickSize=function(a){return arguments.length?(k=l=+a,c):k},c.tickSizeInner=function(a){return arguments.length?(k=+a,c):k},c.tickSizeOuter=function(a){return arguments.length?(l=+a,c):l},c.tickPadding=function(a){return arguments.length?(m=+a,c):m},c}function j(a){return i(jk,a)}function k(a){return i(kk,a)}function l(a){return i(lk,a)}function m(a){return i(mk,a)}function n(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d)throw new Error("illegal type: "+a);d[a]=[]}return new o(d)}function o(a){this._=a}function p(a,b){return a.trim().split(/^|\s+/).map(function(a){var c="",d=a.indexOf(".");if(d>=0&&(c=a.slice(d+1),a=a.slice(0,d)),a&&!b.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:c}})}function q(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}function r(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=ok,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}function s(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===pk&&b.documentElement.namespaceURI===pk?b.createElement(a):b.createElementNS(c,a)}}function t(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function u(){return new v}function v(){this._="@"+(++tk).toString(36)}function w(a,b,c){return a=x(a,b,c),function(b){var c=b.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||a.call(this,b)}}function x(b,c,d){return function(e){var f=a.event;a.event=e;try{b.call(this,this.__data__,c,d)}finally{a.event=f}}}function y(a){return a.trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}})}function z(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)c=b[d],a.type&&c.type!==a.type||c.name!==a.name?b[++e]=c:this.removeEventListener(c.type,c.listener,c.capture);++e?b.length=e:delete this.__on}}}function A(a,b,c){var d=yk.hasOwnProperty(a.type)?w:x;return function(e,f,g){var h,i=this.__on,j=d(b,f,g);if(i)for(var k=0,l=i.length;k<l;++k)if((h=i[k]).type===a.type&&h.name===a.name)return this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=j,h.capture=c),void(h.value=b);this.addEventListener(a.type,j,c),h={type:a.type,name:a.name,value:b,listener:j,capture:c},i?i.push(h):this.__on=[h]}}function B(b,c,d,e){var f=a.event;b.sourceEvent=a.event,a.event=b;try{return c.apply(d,e)}finally{a.event=f}}function C(){}function D(){return[]}function E(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function F(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new E(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function G(a,b,c,d,e,f,g){var h,i,j,k={},l=b.length,m=f.length,n=new Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=Mk+g.call(i,i.__data__,h,b),j in k?e[h]=i:k[j]=i);for(h=0;h<m;++h)j=Mk+g.call(a,f[h],h,f),(i=k[j])?(d[h]=i,i.__data__=f[h],k[j]=null):c[h]=new E(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k[n[h]]===i&&(e[h]=i)}function H(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function I(a){return function(){this.removeAttribute(a)}}function J(a){return function(){this.removeAttributeNS(a.space,a.local)}}function K(a,b){return function(){this.setAttribute(a,b)}}function L(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function M(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c);
}}function N(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function O(a){return function(){this.style.removeProperty(a)}}function P(a,b,c){return function(){this.style.setProperty(a,b,c)}}function Q(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function R(a){return function(){delete this[a]}}function S(a,b){return function(){this[a]=b}}function T(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function U(a){return a.trim().split(/^|\s+/)}function V(a){return a.classList||new W(a)}function W(a){this._node=a,this._names=U(a.getAttribute("class")||"")}function X(a,b){for(var c=V(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function Y(a,b){for(var c=V(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function Z(a){return function(){X(this,a)}}function $(a){return function(){Y(this,a)}}function _(a,b){return function(){(b.apply(this,arguments)?X:Y)(this,a)}}function aa(){this.textContent=""}function ba(a){return function(){this.textContent=a}}function ca(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function da(){this.innerHTML=""}function ea(a){return function(){this.innerHTML=a}}function fa(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function ga(){this.nextSibling&&this.parentNode.appendChild(this)}function ha(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ia(){return null}function ja(){var a=this.parentNode;a&&a.removeChild(this)}function ka(a,b,c){var d=Zk(a),e=d.CustomEvent;e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}function la(a,b){return function(){return ka(this,a,b)}}function ma(a,b){return function(){return ka(this,a,b.apply(this,arguments))}}function na(a,b){this._groups=a,this._parents=b}function oa(){return new na([[document.documentElement]],kl)}function pa(){a.event.stopImmediatePropagation()}function qa(a,b){var c=a.document.documentElement,d=ll(a).on("dragstart.drag",null);b&&(d.on("click.drag",pl,!0),setTimeout(function(){d.on("click.drag",null)},0)),"onselectstart"in c?d.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}function ra(a,b,c,d,e,f,g,h,i,j){this.target=a,this.type=b,this.subject=c,this.identifier=d,this.active=e,this.x=f,this.y=g,this.dx=h,this.dy=i,this._=j}function sa(){return!a.event.button}function ta(){return this.parentNode}function ua(b){return null==b?{x:a.event.x,y:a.event.y}:b}function va(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function wa(){}function xa(a){var b;return a=(a+"").trim().toLowerCase(),(b=zl.exec(a))?(b=parseInt(b[1],16),new Ca(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1)):(b=Al.exec(a))?ya(parseInt(b[1],16)):(b=Bl.exec(a))?new Ca(b[1],b[2],b[3],1):(b=Cl.exec(a))?new Ca(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=Dl.exec(a))?za(b[1],b[2],b[3],b[4]):(b=El.exec(a))?za(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=Fl.exec(a))?Da(b[1],b[2]/100,b[3]/100,1):(b=Gl.exec(a))?Da(b[1],b[2]/100,b[3]/100,b[4]):Hl.hasOwnProperty(a)?ya(Hl[a]):"transparent"===a?new Ca(NaN,NaN,NaN,0):null}function ya(a){return new Ca(a>>16&255,a>>8&255,255&a,1)}function za(a,b,c,d){return d<=0&&(a=b=c=NaN),new Ca(a,b,c,d)}function Aa(a){return a instanceof wa||(a=xa(a)),a?(a=a.rgb(),new Ca(a.r,a.g,a.b,a.opacity)):new Ca}function Ba(a,b,c,d){return 1===arguments.length?Aa(a):new Ca(a,b,c,null==d?1:d)}function Ca(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function Da(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new Ga(a,b,c,d)}function Ea(a){if(a instanceof Ga)return new Ga(a.h,a.s,a.l,a.opacity);if(a instanceof wa||(a=xa(a)),!a)return new Ga;if(a instanceof Ga)return a;a=a.rgb();var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+6*(c<d):c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new Ga(g,h,i,a.opacity)}function Fa(a,b,c,d){return 1===arguments.length?Ea(a):new Ga(a,b,c,null==d?1:d)}function Ga(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function Ha(a,b,c){return 255*(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)}function Ia(a){if(a instanceof Ka)return new Ka(a.l,a.a,a.b,a.opacity);if(a instanceof Ra){var b=a.h*Il;return new Ka(a.l,Math.cos(b)*a.c,Math.sin(b)*a.c,a.opacity)}a instanceof Ca||(a=Aa(a));var c=Oa(a.r),d=Oa(a.g),e=Oa(a.b),f=La((.4124564*c+.3575761*d+.1804375*e)/Ll),g=La((.2126729*c+.7151522*d+.072175*e)/Ml),h=La((.0193339*c+.119192*d+.9503041*e)/Nl);return new Ka(116*g-16,500*(f-g),200*(g-h),a.opacity)}function Ja(a,b,c,d){return 1===arguments.length?Ia(a):new Ka(a,b,c,null==d?1:d)}function Ka(a,b,c,d){this.l=+a,this.a=+b,this.b=+c,this.opacity=+d}function La(a){return a>Rl?Math.pow(a,1/3):a/Ql+Ol}function Ma(a){return a>Pl?a*a*a:Ql*(a-Ol)}function Na(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Oa(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Pa(a){if(a instanceof Ra)return new Ra(a.h,a.c,a.l,a.opacity);a instanceof Ka||(a=Ia(a));var b=Math.atan2(a.b,a.a)*Jl;return new Ra(b<0?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function Qa(a,b,c,d){return 1===arguments.length?Pa(a):new Ra(a,b,c,null==d?1:d)}function Ra(a,b,c,d){this.h=+a,this.c=+b,this.l=+c,this.opacity=+d}function Sa(a){if(a instanceof Ua)return new Ua(a.h,a.s,a.l,a.opacity);a instanceof Ca||(a=Aa(a));var b=a.r/255,c=a.g/255,d=a.b/255,e=(Zl*d+Xl*b-Yl*c)/(Zl+Xl-Yl),f=d-e,g=(Wl*(c-e)-Ul*f)/Vl,h=Math.sqrt(g*g+f*f)/(Wl*e*(1-e)),i=h?Math.atan2(g,f)*Jl-120:NaN;return new Ua(i<0?i+360:i,h,e,a.opacity)}function Ta(a,b,c,d){return 1===arguments.length?Sa(a):new Ua(a,b,c,null==d?1:d)}function Ua(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function Va(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}function Wa(a,b){return function(c){return a+c*b}}function Xa(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(d){return Math.pow(a+d*b,c)}}function Ya(a,b){var c=b-a;return c?Wa(a,c>180||c<-180?c-360*Math.round(c/360):c):gm(isNaN(a)?b:a)}function Za(a){return 1===(a=+a)?$a:function(b,c){return c-b?Xa(b,c,a):gm(isNaN(b)?c:b)}}function $a(a,b){var c=b-a;return c?Wa(a,c):gm(isNaN(a)?b:a)}function _a(a){return function(b){var c,d,e=b.length,f=new Array(e),g=new Array(e),h=new Array(e);for(c=0;c<e;++c)d=Ba(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function ab(a){return function(){return a}}function bb(a){return function(b){return a(b)+""}}function cb(a){return"none"===a?um:($l||($l=document.createElement("DIV"),_l=document.documentElement,am=document.defaultView),$l.style.transform=a,a=am.getComputedStyle(_l.appendChild($l),null).getPropertyValue("transform"),_l.removeChild($l),a=a.slice(7,-1).split(","),vm(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5]))}function db(a){return null==a?um:(bm||(bm=document.createElementNS("http://www.w3.org/2000/svg","g")),bm.setAttribute("transform",a),(a=bm.transform.baseVal.consolidate())?(a=a.matrix,vm(a.a,a.b,a.c,a.d,a.e,a.f)):um)}function eb(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}function f(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:mm(a,e)},{i:i-2,x:mm(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}function g(a,b,c,f){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),f.push({i:c.push(e(c)+"rotate(",null,d)-2,x:mm(a,b)})):b&&c.push(e(c)+"rotate("+b+d)}function h(a,b,c,f){a!==b?f.push({i:c.push(e(c)+"skewX(",null,d)-2,x:mm(a,b)}):b&&c.push(e(c)+"skewX("+b+d)}function i(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:mm(a,c)},{i:h-2,x:mm(b,d)})}else 1===c&&1===d||f.push(e(f)+"scale("+c+","+d+")")}return function(b,c){var d=[],e=[];return b=a(b),c=a(c),f(b.translateX,b.translateY,c.translateX,c.translateY,d,e),g(b.rotate,c.rotate,d,e),h(b.skewX,c.skewX,d,e),i(b.scaleX,b.scaleY,c.scaleX,c.scaleY,d,e),b=c=null,function(a){for(var b,c=-1,f=e.length;++c<f;)d[(b=e[c]).i]=b.x(a);return d.join("")}}}function fb(a){return((a=Math.exp(a))+1/a)/2}function gb(a){return((a=Math.exp(a))-1/a)/2}function hb(a){return((a=Math.exp(2*a))-1)/(a+1)}function ib(a){return function(b,c){var d=a((b=Fa(b)).h,(c=Fa(c)).h),e=$a(b.s,c.s),f=$a(b.l,c.l),g=$a(b.opacity,c.opacity);return function(a){return b.h=d(a),b.s=e(a),b.l=f(a),b.opacity=g(a),b+""}}}function jb(a,b){var c=$a((a=Ja(a)).l,(b=Ja(b)).l),d=$a(a.a,b.a),e=$a(a.b,b.b),f=$a(a.opacity,b.opacity);return function(b){return a.l=c(b),a.a=d(b),a.b=e(b),a.opacity=f(b),a+""}}function kb(a){return function(b,c){var d=a((b=Qa(b)).h,(c=Qa(c)).h),e=$a(b.c,c.c),f=$a(b.l,c.l),g=$a(b.opacity,c.opacity);return function(a){return b.h=d(a),b.c=e(a),b.l=f(a),b.opacity=g(a),b+""}}}function lb(a){return function b(c){function d(b,d){var e=a((b=Ta(b)).h,(d=Ta(d)).h),f=$a(b.s,d.s),g=$a(b.l,d.l),h=$a(b.opacity,d.opacity);return function(a){return b.h=e(a),b.s=f(a),b.l=g(Math.pow(a,c)),b.opacity=h(a),b+""}}return c=+c,d.gamma=b,d}(1)}function mb(){return Pm||(Sm(nb),Pm=Rm.now()+Qm)}function nb(){Pm=0}function ob(){this._call=this._time=this._next=null}function pb(a,b,c){var d=new ob;return d.restart(a,b,c),d}function qb(){mb(),++Km;for(var a,b=cm;b;)(a=Pm-b._time)>=0&&b._call.call(null,a),b=b._next;--Km}function rb(){Pm=(Om=Rm.now())+Qm,Km=Lm=0;try{qb()}finally{Km=0,tb(),Pm=0}}function sb(){var a=Rm.now(),b=a-Om;b>Nm&&(Qm-=b,Om=a)}function tb(){for(var a,b,c=cm,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:cm=b);dm=a,ub(d)}function ub(a){if(!Km){Lm&&(Lm=clearTimeout(Lm));var b=a-Pm;b>24?(a<1/0&&(Lm=setTimeout(rb,b)),Mm&&(Mm=clearInterval(Mm))):(Mm||(Om=Pm,Mm=setInterval(sb,Nm)),Km=1,Sm(rb))}}function vb(a,b){var c=a.__transition;if(!c||!(c=c[b])||c.state>Xm)throw new Error("too late");return c}function wb(a,b){var c=a.__transition;if(!c||!(c=c[b])||c.state>Zm)throw new Error("too late");return c}function xb(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw new Error("too late");return c}function yb(a,b,c){function d(a){c.state=Ym,c.timer.restart(e,c.delay,c.time),c.delay<=a&&e(a-c.delay)}function e(d){var j,k,l,m;if(c.state!==Ym)return g();for(j in i)if(m=i[j],m.name===c.name){if(m.state===$m)return Tm(e);m.state===_m?(m.state=bn,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete i[j]):+j<b&&(m.state=bn,m.timer.stop(),delete i[j])}if(Tm(function(){c.state===$m&&(c.state=_m,c.timer.restart(f,c.delay,c.time),f(d))}),c.state=Zm,c.on.call("start",a,a.__data__,c.index,c.group),c.state===Zm){for(c.state=$m,h=new Array(l=c.tween.length),j=0,k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(h[++k]=m);h.length=k+1}}function f(b){for(var d=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(g),c.state=an,1),e=-1,f=h.length;++e<f;)h[e].call(null,d);c.state===an&&(c.on.call("end",a,a.__data__,c.index,c.group),g())}function g(){c.state=bn,c.timer.stop(),delete i[b];for(var d in i)return;delete a.__transition}var h,i=a.__transition;i[b]=c,c.timer=pb(d,0,c.time)}function zb(a,b){var c,d;return function(){var e=wb(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){d=d.slice(),d.splice(g,1);break}}e.tween=d}}function Ab(a,b,c){var d,e;if("function"!=typeof c)throw new Error;return function(){var f=wb(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}}function Bb(a,b,c){var d=a._id;return a.each(function(){var a=wb(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return xb(a,d).value[b]}}function Cb(a){return function(){this.removeAttribute(a)}}function Db(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Eb(a,b,c){var d,e;return function(){var f=this.getAttribute(a);return f===c?null:f===d?e:e=b(d=f,c)}}function Fb(a,b,c){var d,e;return function(){var f=this.getAttributeNS(a.space,a.local);return f===c?null:f===d?e:e=b(d=f,c)}}function Gb(a,b,c){var d,e,f;return function(){var g,h=c(this);return null==h?void this.removeAttribute(a):(g=this.getAttribute(a),g===h?null:g===d&&h===e?f:f=b(d=g,e=h))}}function Hb(a,b,c){var d,e,f;return function(){var g,h=c(this);return null==h?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local),g===h?null:g===d&&h===e?f:f=b(d=g,e=h))}}function Ib(a,b){function c(){var c=this,d=b.apply(c,arguments);return d&&function(b){c.setAttributeNS(a.space,a.local,d(b))}}return c._value=b,c}function Jb(a,b){function c(){var c=this,d=b.apply(c,arguments);return d&&function(b){c.setAttribute(a,d(b))}}return c._value=b,c}function Kb(a,b){return function(){vb(this,a).delay=+b.apply(this,arguments)}}function Lb(a,b){return b=+b,function(){vb(this,a).delay=b}}function Mb(a,b){return function(){wb(this,a).duration=+b.apply(this,arguments)}}function Nb(a,b){return b=+b,function(){wb(this,a).duration=b}}function Ob(a,b){if("function"!=typeof b)throw new Error;return function(){wb(this,a).ease=b}}function Pb(a){return(a+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})}function Qb(a,b,c){var d,e,f=Pb(b)?vb:wb;return function(){var g=f(this,a),h=g.on;h!==d&&(e=(d=h).copy()).on(b,c),g.on=e}}function Rb(a){return function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function Sb(a,b){var c,d,e;return function(){var f=Zk(this).getComputedStyle(this,null),g=f.getPropertyValue(a),h=(this.style.removeProperty(a),f.getPropertyValue(a));return g===h?null:g===c&&h===d?e:e=b(c=g,d=h)}}function Tb(a){return function(){this.style.removeProperty(a)}}function Ub(a,b,c){var d,e;return function(){var f=Zk(this).getComputedStyle(this,null).getPropertyValue(a);return f===c?null:f===d?e:e=b(d=f,c)}}function Vb(a,b,c){var d,e,f;return function(){var g=Zk(this).getComputedStyle(this,null),h=g.getPropertyValue(a),i=c(this);return null==i&&(this.style.removeProperty(a),i=g.getPropertyValue(a)),h===i?null:h===d&&i===e?f:f=b(d=h,e=i)}}function Wb(a,b,c){function d(){var d=this,e=b.apply(d,arguments);return e&&function(b){d.style.setProperty(a,e(b),c)}}return d._value=b,d}function Xb(a){return function(){this.textContent=a}}function Yb(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function Zb(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}function $b(a){return oa().transition(a)}function _b(){return++zn}function ac(a){return+a}function bc(a){return a*a}function cc(a){return a*(2-a)}function dc(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}function ec(a){return a*a*a}function fc(a){return--a*a*a+1}function gc(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}function hc(a){return 1-Math.cos(a*Gn)}function ic(a){return Math.sin(a*Gn)}function jc(a){return(1-Math.cos(Fn*a))/2}function kc(a){return Math.pow(2,10*a-10)}function lc(a){return 1-Math.pow(2,-10*a)}function mc(a){return((a*=2)<=1?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2}function nc(a){return 1-Math.sqrt(1-a*a)}function oc(a){return Math.sqrt(1- --a*a)}function pc(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}function qc(a){return 1-rc(1-a)}function rc(a){return(a=+a)<Hn?Qn*a*a:a<Jn?Qn*(a-=In)*a+Kn:a<Mn?Qn*(a-=Ln)*a+Nn:Qn*(a-=On)*a+Pn}function sc(a){return((a*=2)<=1?1-rc(1-a):rc(a-1)+1)/2}function tc(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))return _n.time=mb(),_n;return c}function uc(){a.event.stopImmediatePropagation()}function vc(a){return{type:a}}function wc(){return!a.event.button}function xc(){var a=this.ownerSVGElement||this;return[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function yc(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function zc(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}function Ac(a){var b=a.__brush;return b?b.dim.output(b.selection):null}function Bc(){return Dc(lo)}function Cc(){return Dc(mo)}function Dc(b){function c(a){var c=a.property("__brush",h).selectAll(".overlay").data([vc("overlay")]);c.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",oo.overlay).merge(c).each(function(){var a=yc(this).extent;ll(this).attr("x",a[0][0]).attr("y",a[0][1]).attr("width",a[1][0]-a[0][0]).attr("height",a[1][1]-a[0][1])}),a.selectAll(".selection").data([vc("selection")]).enter().append("rect").attr("class","selection").attr("cursor",oo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var e=a.selectAll(".handle").data(b.handles,function(a){return a.type});e.exit().remove(),e.enter().append("rect").attr("class",function(a){return"handle handle--"+a.type}).attr("cursor",function(a){return oo[a.type]}),a.each(d).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",g)}function d(){var a=ll(this),b=yc(this).selection;b?(a.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),a.selectAll(".handle").style("display",null).attr("x",function(a){return"e"===a.type[a.type.length-1]?b[1][0]-m/2:b[0][0]-m/2}).attr("y",function(a){return"s"===a.type[0]?b[1][1]-m/2:b[0][1]-m/2}).attr("width",function(a){return"n"===a.type||"s"===a.type?b[1][0]-b[0][0]+m:m}).attr("height",function(a){return"e"===a.type||"w"===a.type?b[1][1]-b[0][1]+m:m})):a.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function e(a,b){return a.__brush.emitter||new f(a,b)}function f(a,b){this.that=a,this.args=b,this.state=a.__brush,this.active=0}function g(){function c(){var a=Dk(y);!K||w||x||(Math.abs(a[0]-M[0])>Math.abs(a[1]-M[1])?x=!0:w=!0),M=a,v=!0,go(),f()}function f(){var a;switch(t=M[0]-L[0],u=M[1]-L[1],A){case io:case ho:B&&(t=Math.max(G-l,Math.min(I-p,t)),m=l+t,q=p+t),C&&(u=Math.max(H-n,Math.min(J-r,u)),o=n+u,s=r+u);break;case jo:B<0?(t=Math.max(G-l,Math.min(I-l,t)),m=l+t,q=p):B>0&&(t=Math.max(G-p,Math.min(I-p,t)),m=l,q=p+t),C<0?(u=Math.max(H-n,Math.min(J-n,u)),o=n+u,s=r):C>0&&(u=Math.max(H-r,Math.min(J-r,u)),o=n,s=r+u);break;case ko:B&&(m=Math.max(G,Math.min(I,l-t*B)),q=Math.max(G,Math.min(I,p+t*B))),C&&(o=Math.max(H,Math.min(J,n-u*C)),s=Math.max(H,Math.min(J,r+u*C)))}q<m&&(B*=-1,a=l,l=p,p=a,a=m,m=q,q=a,z in po&&P.attr("cursor",oo[z=po[z]])),s<o&&(C*=-1,a=n,n=r,r=a,a=o,o=s,s=a,z in qo&&P.attr("cursor",oo[z=qo[z]])),D.selection&&(F=D.selection),w&&(m=F[0][0],q=F[1][0]),x&&(o=F[0][1],s=F[1][1]),F[0][0]===m&&F[0][1]===o&&F[1][0]===q&&F[1][1]===s||(D.selection=[[m,o],[q,s]],d.call(y),N.brush())}function g(){if(uc(),a.event.touches){if(a.event.touches.length)return;i&&clearTimeout(i),i=setTimeout(function(){i=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else qa(a.event.view,v),Q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),P.attr("cursor",oo.overlay),D.selection&&(F=D.selection),zc(F)&&(D.selection=null,d.call(y)),N.end()}function h(){switch(a.event.keyCode){case 16:K=B&&C;break;case 18:A===jo&&(B&&(p=q-t*B,l=m+t*B),C&&(r=s-u*C,n=o+u*C),A=ko,f());break;case 32:A!==jo&&A!==ko||(B<0?p=q-t:B>0&&(l=m-t),C<0?r=s-u:C>0&&(n=o-u),A=io,P.attr("cursor",oo.selection),f());break;default:return}go()}function j(){switch(a.event.keyCode){case 16:K&&(w=x=K=!1,f());break;case 18:A===ko&&(B<0?p=q:B>0&&(l=m),C<0?r=s:C>0&&(n=o),A=jo,f());break;case 32:A===io&&(a.event.altKey?(B&&(p=q-t*B,l=m+t*B),C&&(r=s-u*C,n=o+u*C),A=ko):(B<0?p=q:B>0&&(l=m),C<0?r=s:C>0&&(n=o),A=jo),P.attr("cursor",oo[z]),f());break;default:return}go()}if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return go()}else if(i)return;if(k.apply(this,arguments)){var l,m,n,o,p,q,r,s,t,u,v,w,x,y=this,z=a.event.target.__data__.type,A="selection"===(a.event.metaKey?z="overlay":z)?ho:a.event.altKey?ko:jo,B=b===mo?null:ro[z],C=b===lo?null:so[z],D=yc(y),E=D.extent,F=D.selection,G=E[0][0],H=E[0][1],I=E[1][0],J=E[1][1],K=B&&C&&a.event.shiftKey,L=Dk(y),M=L,N=e(y,arguments).beforestart();"overlay"===z?D.selection=F=[[l=b===mo?G:L[0],n=b===lo?H:L[1]],[p=b===mo?I:l,r=b===lo?J:n]]:(l=F[0][0],n=F[0][1],p=F[1][0],r=F[1][1]),m=l,o=n,q=p,s=r;var O=ll(y).attr("pointer-events","none"),P=O.selectAll(".overlay").attr("cursor",oo[z]);if(a.event.touches)O.on("touchmove.brush",c,!0).on("touchend.brush touchcancel.brush",g,!0);else{var Q=ll(a.event.view).on("keydown.brush",h,!0).on("keyup.brush",j,!0).on("mousemove.brush",c,!0).on("mouseup.brush",g,!0);ql(a.event.view)}uc(),dn(y),d.call(y),N.start()}}function h(){var a=this.__brush||{selection:null};return a.extent=j.apply(this,arguments),a.dim=b,a}var i,j=xc,k=wc,l=n(c,"start","brush","end"),m=6;return c.move=function(a,c){a.selection?a.on("start.brush",function(){e(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){e(this,arguments).end()}).tween("brush",function(){function a(a){g.selection=1===a&&zc(j)?null:k(a),d.call(f),h.brush()}var f=this,g=f.__brush,h=e(f,arguments),i=g.selection,j=b.input("function"==typeof c?c.apply(this,arguments):c,g.extent),k=rm(i,j);return i&&j?a:a(1)}):a.each(function(){var a=this,f=arguments,g=a.__brush,h=b.input("function"==typeof c?c.apply(a,f):c,g.extent),i=e(a,f).beforestart();dn(a),g.selection=null==h||zc(h)?null:h,d.call(a),i.start().brush().end()})},f.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(a){B(new fo(c,a,b.output(this.state.selection)),l.apply,l,[a,this.that,this.args])}},c.extent=function(a){return arguments.length?(j="function"==typeof a?a:eo([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),c):j},c.filter=function(a){return arguments.length?(k="function"==typeof a?a:eo(!!a),c):k},c.handleSize=function(a){return arguments.length?(m=+a,c):m},c.on=function(){var a=l.on.apply(l,arguments);return a===l?c:a},c}function Ec(a){return function(b,c){return a(b.source.value+b.target.value,c.source.value+c.target.value)}}function Fc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gc(){return new Fc}function Hc(a){return a.source}function Ic(a){return a.target}function Jc(a){return a.radius}function Kc(a){return a.startAngle}function Lc(a){return a.endAngle}function Mc(){}function Nc(a,b){var c=new Mc;if(a instanceof Mc)a.each(function(a,b){c.set(b,a)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(null==b)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b(d=a[e],e,a),d)}else if(a)for(var g in a)c.set(g,a[g]);return c}function Oc(){return{}}function Pc(a,b,c){a[b]=c}function Qc(){return Nc()}function Rc(a,b,c){a.set(b,c)}function Sc(){}function Tc(a,b){var c=new Sc;if(a instanceof Sc)a.each(function(a){c.add(a)});else if(a){var d=-1,e=a.length;if(null==b)for(;++d<e;)c.add(a[d]);else for(;++d<e;)c.add(b(a[d],d,a))}return c}function Uc(a){return new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function Vc(a,b){var c=Uc(a);return function(d,e){return b(c(d),e,a)}}function Wc(a){var b=Object.create(null),c=[];return a.forEach(function(a){for(var d in a)d in b||c.push(b[d]=d)}),c}function Xc(a,b,c,d){if(isNaN(b)||isNaN(c))return a;var e,f,g,h,i,j,k,l,m,n=a._root,o={data:d},p=a._x0,q=a._y0,r=a._x1,s=a._y1;if(!n)return a._root=o,a;for(;n.length;)if((j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g,e=n,!(n=n[l=k<<1|j]))return e[l]=o,a;if(h=+a._x.call(null,n.data),i=+a._y.call(null,n.data),b===h&&c===i)return o.next=n,e?e[l]=o:a._root=o,a;do e=e?e[l]=new Array(4):a._root=new Array(4),(j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g;while((l=k<<1|j)===(m=(i>=g)<<1|h>=f));return e[m]=n,e[l]=o,a}function Yc(a){var b,c,d,e,f=a.length,g=new Array(f),h=new Array(f),i=1/0,j=1/0,k=-(1/0),l=-(1/0);for(c=0;c<f;++c)isNaN(d=+this._x.call(null,b=a[c]))||isNaN(e=+this._y.call(null,b))||(g[c]=d,h[c]=e,d<i&&(i=d),d>k&&(k=d),e<j&&(j=e),e>l&&(l=e));for(k<i&&(i=this._x0,k=this._x1),l<j&&(j=this._y0,l=this._y1),this.cover(i,j).cover(k,l),c=0;c<f;++c)Xc(this,g[c],h[c],a[c]);return this}function Zc(a){for(var b=0,c=a.length;b<c;++b)this.remove(a[b]);return this}function $c(a){return a[0]}function _c(a){return a[1]}function ad(a,b,c){var d=new bd(null==b?$c:b,null==c?_c:c,NaN,NaN,NaN,NaN);return null==a?d:d.addAll(a)}function bd(a,b,c,d,e,f){this._x=a,this._y=b,this._x0=c,this._y0=d,this._x1=e,this._y1=f,this._root=void 0}function cd(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}function dd(a){return a.x+a.vx}function ed(a){return a.y+a.vy}function fd(a){return a.index}function gd(a,b){var c=a.get(b);if(!c)throw new Error("missing: "+b);return c}function hd(a){return a.x}function id(a){return a.y}function jd(a){if(!(b=Ep.exec(a)))throw new Error("invalid format: "+a);var b,c=b[1]||" ",d=b[2]||">",e=b[3]||"-",f=b[4]||"",g=!!b[5],h=b[6]&&+b[6],i=!!b[7],j=b[8]&&+b[8].slice(1),k=b[9]||"";"n"===k?(i=!0,k="g"):Dp[k]||(k=""),(g||"0"===c&&"="===d)&&(g=!0,c="0",d="="),this.fill=c,this.align=d,this.sign=e,this.symbol=f,this.zero=g,this.width=h,this.comma=i,this.precision=j,this.type=k}function kd(a){return a}function ld(b){return Gp=Ip(b),a.format=Gp.format,a.formatPrefix=Gp.formatPrefix,Gp}function md(){this.reset()}function nd(a,b,c){var d=a.s=b+c,e=d-b,f=d-e;a.t=b-f+(c-e)}function od(a){return a>1?0:a<-1?tq:Math.acos(a)}function pd(a){return a>1?uq:a<-1?-uq:Math.asin(a)}function qd(a){return(a=Hq(a/2))*a}function rd(){}function sd(a,b){a&&Mq.hasOwnProperty(a.type)&&Mq[a.type](a,b)}function td(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function ud(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)td(a[c],b,1);b.polygonEnd()}function vd(){Qq.point=xd}function wd(){yd(Np,Op)}function xd(a,b){Qq.point=yd,Np=a,Op=b,a*=yq,b*=yq,Pp=a,Qp=Cq(b=b/2+vq),Rp=Hq(b)}function yd(a,b){a*=yq,b*=yq,b=b/2+vq;var c=a-Pp,d=c>=0?1:-1,e=d*c,f=Cq(b),g=Hq(b),h=Rp*g,i=Qp*f+h*Cq(e),j=h*d*Hq(e);Oq.add(Bq(j,i)),Pp=a,Qp=f,Rp=g}function zd(a){return[Bq(a[1],a[0]),pd(a[2])]}function Ad(a){var b=a[0],c=a[1],d=Cq(c);return[d*Cq(b),d*Hq(b),Hq(c)]}function Bd(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Cd(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Dd(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Ed(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Fd(a){var b=Jq(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function Gd(a,b){$p.push(_p=[Sp=a,Up=a]),b<Tp&&(Tp=b),b>Vp&&(Vp=b)}function Hd(a,b){var c=Ad([a*yq,b*yq]);if(Zp){var d=Cd(Zp,c),e=[d[1],-d[0],0],f=Cd(e,d);Fd(f),f=zd(f);var g,h=a-Wp,i=h>0?1:-1,j=f[0]*xq*i,k=zq(h)>180;k^(i*Wp<j&&j<i*a)?(g=f[1]*xq,g>Vp&&(Vp=g)):(j=(j+360)%360-180,k^(i*Wp<j&&j<i*a)?(g=-f[1]*xq,g<Tp&&(Tp=g)):(b<Tp&&(Tp=b),b>Vp&&(Vp=b))),k?a<Wp?Nd(Sp,a)>Nd(Sp,Up)&&(Up=a):Nd(a,Up)>Nd(Sp,Up)&&(Sp=a):Up>=Sp?(a<Sp&&(Sp=a),a>Up&&(Up=a)):a>Wp?Nd(Sp,a)>Nd(Sp,Up)&&(Up=a):Nd(a,Up)>Nd(Sp,Up)&&(Sp=a)}else Gd(a,b);Zp=c,Wp=a}function Id(){Tq.point=Hd}function Jd(){_p[0]=Sp,_p[1]=Up,Tq.point=Gd,Zp=null}function Kd(a,b){if(Zp){var c=a-Wp;Sq.add(zq(c)>180?c+(c>0?360:-360):c)}else Xp=a,Yp=b;Qq.point(a,b),Hd(a,b)}function Ld(){Qq.lineStart()}function Md(){Kd(Xp,Yp),Qq.lineEnd(),zq(Sq)>rq&&(Sp=-(Up=180)),_p[0]=Sp,_p[1]=Up,Zp=null}function Nd(a,b){return(b-=a)<0?b+360:b}function Od(a,b){return a[0]-b[0]}function Pd(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function Qd(a,b){a*=yq,b*=yq;var c=Cq(b);Rd(c*Cq(a),c*Hq(a),Hq(b))}function Rd(a,b,c){++aq,cq+=(a-cq)/aq,dq+=(b-dq)/aq,eq+=(c-eq)/aq}function Sd(){Vq.point=Td}function Td(a,b){a*=yq,b*=yq;var c=Cq(b);nq=c*Cq(a),oq=c*Hq(a),pq=Hq(b),Vq.point=Ud,Rd(nq,oq,pq)}function Ud(a,b){a*=yq,b*=yq;var c=Cq(b),d=c*Cq(a),e=c*Hq(a),f=Hq(b),g=Bq(Jq((g=oq*f-pq*e)*g+(g=pq*d-nq*f)*g+(g=nq*e-oq*d)*g),nq*d+oq*e+pq*f);bq+=g,fq+=g*(nq+(nq=d)),gq+=g*(oq+(oq=e)),hq+=g*(pq+(pq=f)),Rd(nq,oq,pq)}function Vd(){Vq.point=Qd}function Wd(){Vq.point=Yd}function Xd(){Zd(lq,mq),Vq.point=Qd}function Yd(a,b){lq=a,mq=b,a*=yq,b*=yq,Vq.point=Zd;var c=Cq(b);nq=c*Cq(a),oq=c*Hq(a),pq=Hq(b),Rd(nq,oq,pq)}function Zd(a,b){a*=yq,b*=yq;var c=Cq(b),d=c*Cq(a),e=c*Hq(a),f=Hq(b),g=oq*f-pq*e,h=pq*d-nq*f,i=nq*e-oq*d,j=Jq(g*g+h*h+i*i),k=nq*d+oq*e+pq*f,l=j&&-od(k)/j,m=Bq(j,k);iq+=l*g,jq+=l*h,kq+=l*i,bq+=m,fq+=m*(nq+(nq=d)),gq+=m*(oq+(oq=e)),hq+=m*(pq+(pq=f)),Rd(nq,oq,pq)}function $d(a,b){return[a>tq?a-wq:a<-tq?a+wq:a,b]}function _d(a,b,c){return(a%=wq)?b||c?Yq(be(a),ce(b,c)):be(a):b||c?ce(b,c):$d}function ae(a){return function(b,c){return b+=a,[b>tq?b-wq:b<-tq?b+wq:b,c]}}function be(a){var b=ae(a);return b.invert=ae(-a),b}function ce(a,b){function c(a,b){var c=Cq(b),h=Cq(a)*c,i=Hq(a)*c,j=Hq(b),k=j*d+h*e;return[Bq(i*f-k*g,h*d-j*e),pd(k*f+i*g)]}var d=Cq(a),e=Hq(a),f=Cq(b),g=Hq(b);return c.invert=function(a,b){var c=Cq(b),h=Cq(a)*c,i=Hq(a)*c,j=Hq(b),k=j*f-i*g;return[Bq(i*f+j*g,h*d+k*e),pd(k*d-h*e)]},c}function de(a,b,c,d,e,f){if(c){var g=Cq(b),h=Hq(b),i=d*c;null==e?(e=b+d*wq,f=b-i/2):(e=ee(g,e),f=ee(g,f),(d>0?e<f:e>f)&&(e+=d*wq));for(var j,k=e;d>0?k>f:k<f;k-=i)j=zd([g,-h*Cq(k),-h*Hq(k)]),a.point(j[0],j[1])}}function ee(a,b){b=Ad(b),b[0]-=a,Fd(b);var c=od(-b[1]);return((-b[2]<0?-c:c)+wq-rq)%wq}function fe(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function ge(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function he(a,b,c,d){function e(e,f){return a<=e&&e<=c&&b<=f&&f<=d}function f(e,f,h,j){var k=0,l=0;if(null==e||(k=g(e,h))!==(l=g(f,h))||i(e,f)<0^h>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+h+4)%4)!==l)}else j.point(f[0],f[1])}function g(d,e){return zq(d[0]-a)<rq?e>0?0:3:zq(d[0]-c)<rq?e>0?2:1:zq(d[1]-b)<rq?e>0?1:0:e>0?3:2}function h(a,b){return i(a.x,b.x)}function i(a,b){var c=g(a,1),d=g(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(g){function i(a,b){e(a,b)&&A.point(a,b)}function j(){for(var b=0,c=0,e=q.length;c<e;++c)for(var f,g,h=q[c],i=1,j=h.length,k=h[0],l=k[0],m=k[1];i<j;++i)f=l,g=m,k=h[i],l=k[0],m=k[1],g<=d?m>d&&(l-f)*(d-g)>(m-g)*(a-f)&&++b:m<=d&&(l-f)*(d-g)<(m-g)*(a-f)&&--b;return b}function k(){A=B,p=[],q=[],z=!0}function l(){var a=j(),b=z&&a,c=(p=$j(p)).length;(b||c)&&(g.polygonStart(),b&&(g.lineStart(),f(null,null,1,g),g.lineEnd()),c&&nr(p,h,a,f,g),g.polygonEnd()),A=g,p=q=r=null}function m(){C.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.result())),C.point=i,x&&A.lineEnd()}function o(f,g){var h=e(f,g);if(q&&r.push([f,g]),y)s=f,t=g,u=h,y=!1,h&&(A.lineStart(),A.point(f,g));else if(h&&x)A.point(f,g);else{var i=[v=Math.max(pr,Math.min(or,v)),w=Math.max(pr,Math.min(or,w))],j=[f=Math.max(pr,Math.min(or,f)),g=Math.max(pr,Math.min(or,g))];lr(i,j,a,b,c,d)?(x||(A.lineStart(),A.point(i[0],i[1])),A.point(j[0],j[1]),h||A.lineEnd(),z=!1):h&&(A.lineStart(),A.point(f,g),z=!1)}v=f,w=g,x=h}var p,q,r,s,t,u,v,w,x,y,z,A=g,B=kr(),C={point:i,lineStart:m,lineEnd:n,polygonStart:k,polygonEnd:l};return C}}function ie(){sr.point=ke,sr.lineEnd=je}function je(){sr.point=sr.lineEnd=rd}function ke(a,b){a*=yq,b*=yq,Zq=a,$q=Hq(b),_q=Cq(b),sr.point=le}function le(a,b){a*=yq,b*=yq;var c=Hq(b),d=Cq(b),e=zq(a-Zq),f=Cq(e),g=Hq(e),h=d*g,i=_q*c-$q*d*f,j=$q*c+_q*d*f;rr.add(Bq(Jq(h*h+i*i),j)),Zq=a,$q=c,_q=d}function me(a,b,c){var d=Nj(a,b-rq,c).concat(b);return function(a){return d.map(function(b){
return[a,b]})}}function ne(a,b,c){var d=Nj(a,b-rq,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function oe(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return Nj(Dq(f/q)*q,e,q).map(m).concat(Nj(Dq(j/r)*r,i,r).map(n)).concat(Nj(Dq(d/o)*o,c,o).filter(function(a){return zq(a%q)>rq}).map(k)).concat(Nj(Dq(h/p)*p,g,p).filter(function(a){return zq(a%r)>rq}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.extentMajor(b).extentMinor(b):a.extentMinor()},a.extentMajor=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.extentMinor=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.stepMajor(b).stepMinor(b):a.stepMinor()},a.stepMajor=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.stepMinor=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=me(h,g,90),l=ne(d,c,s),m=me(j,i,90),n=ne(f,e,s),a):s},a.extentMajor([[-180,-90+rq],[180,90-rq]]).extentMinor([[-180,-80-rq],[180,80+rq]])}function pe(){return oe()()}function qe(){Br.point=re}function re(a,b){Br.point=se,ar=cr=a,br=dr=b}function se(a,b){Ar.add(dr*a-cr*b),cr=a,dr=b}function te(){se(ar,br)}function ue(a,b){a<Cr&&(Cr=a),a>Er&&(Er=a),b<Dr&&(Dr=b),b>Fr&&(Fr=b)}function ve(a,b){Hr+=a,Ir+=b,++Jr}function we(){Qr.point=xe}function xe(a,b){Qr.point=ye,ve(gr=a,hr=b)}function ye(a,b){var c=a-gr,d=b-hr,e=Jq(c*c+d*d);Kr+=e*(gr+a)/2,Lr+=e*(hr+b)/2,Mr+=e,ve(gr=a,hr=b)}function ze(){Qr.point=ve}function Ae(){Qr.point=Ce}function Be(){De(er,fr)}function Ce(a,b){Qr.point=De,ve(er=gr=a,fr=hr=b)}function De(a,b){var c=a-gr,d=b-hr,e=Jq(c*c+d*d);Kr+=e*(gr+a)/2,Lr+=e*(hr+b)/2,Mr+=e,e=hr*a-gr*b,Nr+=e*(gr+a),Or+=e*(hr+b),Pr+=3*e,ve(gr=a,hr=b)}function Ee(a){this._context=a}function Fe(){this._string=[]}function Ge(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function He(a){return a.length>1}function Ie(a,b){return((a=a.x)[0]<0?a[1]-uq-rq:uq-a[1])-((b=b.x)[0]<0?b[1]-uq-rq:uq-b[1])}function Je(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?tq:-tq,i=zq(f-c);zq(i-tq)<rq?(a.point(c,d=(d+g)/2>0?uq:-uq),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=tq&&(zq(c-e)<rq&&(c-=e*rq),zq(f-h)<rq&&(f-=h*rq),d=Ke(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Ke(a,b,c,d){var e,f,g=Hq(a-c);return zq(g)>rq?Aq((Hq(b)*(f=Cq(d))*Hq(c)-Hq(d)*(e=Cq(b))*Hq(a))/(e*f*g)):(b+d)/2}function Le(a,b,c,d){var e;if(null==a)e=c*uq,d.point(-tq,e),d.point(0,e),d.point(tq,e),d.point(tq,0),d.point(tq,-e),d.point(0,-e),d.point(-tq,-e),d.point(-tq,0),d.point(-tq,e);else if(zq(a[0]-b[0])>rq){var f=a[0]<b[0]?tq:-tq;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Me(a){return function(b){var c=new Ne;for(var d in a)c[d]=a[d];return c.stream=b,c}}function Ne(){}function Oe(a,b,c){var d=b[1][0]-b[0][0],e=b[1][1]-b[0][1],f=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]),null!=f&&a.clipExtent(null),Nq(c,a.stream(Gr));var g=Gr.result(),h=Math.min(d/(g[1][0]-g[0][0]),e/(g[1][1]-g[0][1])),i=+b[0][0]+(d-h*(g[1][0]+g[0][0]))/2,j=+b[0][1]+(e-h*(g[1][1]+g[0][1]))/2;return null!=f&&a.clipExtent(f),a.scale(150*h).translate([i,j])}function Pe(a,b,c){return Oe(a,[[0,0],b],c)}function Qe(a){return Me({point:function(b,c){b=a(b,c),this.stream.point(b[0],b[1])}})}function Re(a,b){function c(d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=j-d,s=k-e,t=r*r+s*s;if(t>4*b&&p--){var u=g+m,v=h+n,w=i+o,x=Jq(u*u+v*v+w*w),y=pd(w/=x),z=zq(zq(w)-1)<rq||zq(f-l)<rq?(f+l)/2:Bq(v,u),A=a(z,y),B=A[0],C=A[1],D=B-d,E=C-e,F=s*D-r*E;(F*F/t>b||zq((r*D+s*E)/t-.5)>.3||g*m+h*n+i*o<Zr)&&(c(d,e,f,g,h,i,B,C,z,u/=x,v/=x,w,p,q),q.point(B,C),c(B,C,z,u,v,w,j,k,l,m,n,o,p,q))}}return function(b){function d(c,d){c=a(c,d),b.point(c[0],c[1])}function e(){r=NaN,w.point=f,b.lineStart()}function f(d,e){var f=Ad([d,e]),g=a(d,e);c(r,s,q,t,u,v,r=g[0],s=g[1],q=d,t=f[0],u=f[1],v=f[2],Yr,b),b.point(r,s)}function g(){w.point=d,b.lineEnd()}function h(){e(),w.point=i,w.lineEnd=j}function i(a,b){f(k=a,b),l=r,m=s,n=t,o=u,p=v,w.point=f}function j(){c(r,s,q,t,u,v,l,m,k,n,o,p,Yr,b),w.lineEnd=g,g()}var k,l,m,n,o,p,q,r,s,t,u,v,w={point:d,lineStart:e,lineEnd:g,polygonStart:function(){b.polygonStart(),w.lineStart=h},polygonEnd:function(){b.polygonEnd(),w.lineStart=e}};return w}}function Se(a){return Te(function(){return a})()}function Te(a){function b(a){return a=k(a[0]*yq,a[1]*yq),[a[0]*q+h,i-a[1]*q]}function c(a){return a=k.invert((a[0]-h)/q,(i-a[1])/q),a&&[a[0]*xq,a[1]*xq]}function d(a,b){return a=g(a,b),[a[0]*q+h,i-a[1]*q]}function e(){k=Yq(j=_d(v,w,x),g);var a=g(t,u);return h=r-a[0]*q,i=s+a[1]*q,f()}function f(){return o=p=null,b}var g,h,i,j,k,l,m,n,o,p,q=150,r=480,s=250,t=0,u=0,v=0,w=0,x=0,y=null,z=Vr,A=null,B=yr,C=.5,D=$r(d,C);return b.stream=function(a){return o&&p===a?o:o=_r(z(j,D(B(p=a))))},b.clipAngle=function(a){return arguments.length?(z=+a?Wr(y=a*yq,6*yq):(y=null,Vr),f()):y*xq},b.clipExtent=function(a){return arguments.length?(B=null==a?(A=l=m=n=null,yr):he(A=+a[0][0],l=+a[0][1],m=+a[1][0],n=+a[1][1]),f()):null==A?null:[[A,l],[m,n]]},b.scale=function(a){return arguments.length?(q=+a,e()):q},b.translate=function(a){return arguments.length?(r=+a[0],s=+a[1],e()):[r,s]},b.center=function(a){return arguments.length?(t=a[0]%360*yq,u=a[1]%360*yq,e()):[t*xq,u*xq]},b.rotate=function(a){return arguments.length?(v=a[0]%360*yq,w=a[1]%360*yq,x=a.length>2?a[2]%360*yq:0,e()):[v*xq,w*xq,x*xq]},b.precision=function(a){return arguments.length?(D=$r(d,C=a*a),f()):Jq(C)},b.fitExtent=function(a,c){return Oe(b,a,c)},b.fitSize=function(a,c){return Pe(b,a,c)},function(){return g=a.apply(this,arguments),b.invert=g.invert&&c,e()}}function Ue(a){var b=0,c=tq/3,d=Te(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*yq,c=a[1]*yq):[b*xq,c*xq]},e}function Ve(a){function b(a,b){return[a*c,Hq(b)/c]}var c=Cq(a);return b.invert=function(a,b){return[a/c,pd(b*c)]},b}function We(a,b){function c(a,b){var c=Jq(f-2*e*Hq(b))/e;return[c*Hq(a*=e),g-c*Cq(a)]}var d=Hq(a),e=(d+Hq(b))/2;if(zq(e)<rq)return Ve(a);var f=1+d*(2*e-d),g=Jq(f)/e;return c.invert=function(a,b){var c=g-b;return[Bq(a,zq(c))/e*Iq(c),pd((f-(a*a+c*c)*e*e)/(2*e))]},c}function Xe(a){var b=a.length;return{point:function(c,d){for(var e=-1;++e<b;)a[e].point(c,d)},sphere:function(){for(var c=-1;++c<b;)a[c].sphere()},lineStart:function(){for(var c=-1;++c<b;)a[c].lineStart()},lineEnd:function(){for(var c=-1;++c<b;)a[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<b;)a[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<b;)a[c].polygonEnd()}}}function Ye(a){return function(b,c){var d=Cq(b),e=Cq(c),f=a(d*e);return[f*e*Hq(b),f*Hq(c)]}}function Ze(a){return function(b,c){var d=Jq(b*b+c*c),e=a(d),f=Hq(e),g=Cq(e);return[Bq(b*f,d*g),pd(d&&c*f/d)]}}function $e(a,b){return[a,Fq(Kq((uq+b)/2))]}function _e(a){var b,c=Se(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(a){return arguments.length?(d(a),b&&c.clipExtent(null),c):d()},c.translate=function(a){return arguments.length?(e(a),b&&c.clipExtent(null),c):e()},c.clipExtent=function(a){if(!arguments.length)return b?null:f();if(b=null==a){var g=tq*d(),h=e();a=[[h[0]-g,h[1]-g],[h[0]+g,h[1]+g]]}return f(a),c},c.clipExtent(null)}function af(a){return Kq((uq+a)/2)}function bf(a,b){function c(a,b){f>0?b<-uq+rq&&(b=-uq+rq):b>uq-rq&&(b=uq-rq);var c=f/Gq(af(b),e);return[c*Hq(e*a),f-c*Cq(e*a)]}var d=Cq(a),e=a===b?Hq(a):Fq(d/Cq(b))/Fq(af(b)/af(a)),f=d*Gq(af(a),e)/e;return e?(c.invert=function(a,b){var c=f-b,d=Iq(e)*Jq(a*a+c*c);return[Bq(a,zq(c))/e*Iq(c),2*Aq(Gq(f/d,1/e))-uq]},c):$e}function cf(a,b){return[a,b]}function df(a,b){function c(a,b){var c=f-b,d=e*a;return[c*Hq(d),f-c*Cq(d)]}var d=Cq(a),e=a===b?Hq(a):(d-Cq(b))/(b-a),f=d/e+a;return zq(e)<rq?cf:(c.invert=function(a,b){var c=f-b;return[Bq(a,zq(c))/e*Iq(c),f-Iq(e)*Jq(a*a+c*c)]},c)}function ef(a,b){var c=Cq(b),d=Cq(a)*c;return[c*Hq(a)/d,Hq(b)/d]}function ff(a,b,c,d){return 1===a&&1===b&&0===c&&0===d?yr:Me({point:function(e,f){this.stream.point(e*a+c,f*b+d)}})}function gf(a,b){return[Cq(b)*Hq(a),Hq(b)]}function hf(a,b){var c=Cq(b),d=1+Cq(a)*c;return[c*Hq(a)/d,Hq(b)/d]}function jf(a,b){return[Fq(Kq((uq+b)/2)),-a]}function kf(a,b){return a.parent===b.parent?1:2}function lf(a){return a.reduce(mf,0)/a.length}function mf(a,b){return a+b.x}function nf(a){return 1+a.reduce(of,0)}function of(a,b){return Math.max(a,b.y)}function pf(a){for(var b;b=a.children;)a=b[0];return a}function qf(a){for(var b;b=a.children;)a=b[b.length-1];return a}function rf(a){var b=0,c=a.children,d=c&&c.length;if(d)for(;--d>=0;)b+=c[d].value;else b=1;a.value=b}function sf(a,b){if(a===b)return a;var c=a.ancestors(),d=b.ancestors(),e=null;for(a=c.pop(),b=d.pop();a===b;)e=a,a=c.pop(),b=d.pop();return e}function tf(a,b){var c,d,e,f,g,h=new yf(a),i=+a.value&&(h.value=a.value),j=[h];for(null==b&&(b=vf);c=j.pop();)if(i&&(c.value=+c.data.value),(e=b(c.data))&&(g=e.length))for(c.children=new Array(g),f=g-1;f>=0;--f)j.push(d=c.children[f]=new yf(e[f])),d.parent=c,d.depth=c.depth+1;return h.eachBefore(xf)}function uf(){return tf(this).eachBefore(wf)}function vf(a){return a.children}function wf(a){a.data=a.data.data}function xf(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function yf(a){this.data=a,this.depth=this.height=0,this.parent=null}function zf(a){this._=a,this.next=null}function Af(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r-b.r;return e*e+1e-6>c*c+d*d}function Bf(a,b){var c,d,e,f=null,g=a.head;switch(b.length){case 1:c=Cf(b[0]);break;case 2:c=Df(b[0],b[1]);break;case 3:c=Ef(b[0],b[1],b[2])}for(;g;)e=g._,d=g.next,c&&Af(c,e)?f=g:(f?(a.tail=f,f.next=null):a.head=a.tail=null,b.push(e),c=Bf(a,b),b.pop(),a.head?(g.next=a.head,a.head=g):(g.next=null,a.head=a.tail=g),f=a.tail,f.next=d),g=d;return a.tail=f,c}function Cf(a){return{x:a.x,y:a.y,r:a.r}}function Df(a,b){var c=a.x,d=a.y,e=a.r,f=b.x,g=b.y,h=b.r,i=f-c,j=g-d,k=h-e,l=Math.sqrt(i*i+j*j);return{x:(c+f+i/l*k)/2,y:(d+g+j/l*k)/2,r:(l+e+h)/2}}function Ef(a,b,c){var d=a.x,e=a.y,f=a.r,g=b.x,h=b.y,i=b.r,j=c.x,k=c.y,l=c.r,m=2*(d-g),n=2*(e-h),o=2*(i-f),p=d*d+e*e-f*f-g*g-h*h+i*i,q=2*(d-j),r=2*(e-k),s=2*(l-f),t=d*d+e*e-f*f-j*j-k*k+l*l,u=q*n-m*r,v=(n*t-r*p)/u-d,w=(r*o-n*s)/u,x=(q*p-m*t)/u-e,y=(m*s-q*o)/u,z=w*w+y*y-1,A=2*(v*w+x*y+f),B=v*v+x*x-f*f,C=(-A-Math.sqrt(A*A-4*z*B))/(2*z);return{x:v+w*C+d,y:x+y*C+e,r:C}}function Ff(a,b,c){var d=a.x,e=a.y,f=b.r+c.r,g=a.r+c.r,h=b.x-d,i=b.y-e,j=h*h+i*i;if(j){var k=.5+((g*=g)-(f*=f))/(2*j),l=Math.sqrt(Math.max(0,2*f*(g+j)-(g-=j)*g-f*f))/(2*j);c.x=d+k*h+l*i,c.y=e+k*i-l*h}else c.x=d+g,c.y=e}function Gf(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e-1e-6>c*c+d*d}function Hf(a,b){for(var c=a._.r;a!==b;)c+=2*(a=a.next)._.r;return c-b._.r}function If(a,b,c){var d=a.x-b,e=a.y-c;return d*d+e*e}function Jf(a){this._=a,this.next=null,this.previous=null}function Kf(a){if(!(e=a.length))return 0;var b,c,d,e;if(b=a[0],b.x=0,b.y=0,!(e>1))return b.r;if(c=a[1],b.x=-c.r,c.x=b.r,c.y=0,!(e>2))return b.r+c.r;Ff(c,b,d=a[2]);var f,g,h,i,j,k,l,m=b.r*b.r,n=c.r*c.r,o=d.r*d.r,p=m+n+o,q=m*b.x+n*c.x+o*d.x,r=m*b.y+n*c.y+o*d.y;b=new Jf(b),c=new Jf(c),d=new Jf(d),b.next=d.previous=c,c.next=b.previous=d,d.next=c.previous=b;a:for(h=3;h<e;++h){Ff(b._,c._,d=a[h]),d=new Jf(d),i=c.next,j=b.previous,k=c._.r,l=b._.r;do if(k<=l){if(Gf(i._,d._)){k+b._.r+c._.r>Hf(i,c)?b=i:c=i,b.next=c,c.previous=b,--h;continue a}k+=i._.r,i=i.next}else{if(Gf(j._,d._)){Hf(b,j)>l+b._.r+c._.r?b=j:c=j,b.next=c,c.previous=b,--h;continue a}l+=j._.r,j=j.previous}while(i!==j.next);for(d.previous=b,d.next=c,b.next=c.previous=c=d,p+=o=d._.r*d._.r,q+=o*d._.x,r+=o*d._.y,m=If(b._,f=q/p,g=r/p);(d=d.next)!==c;)(o=If(d._,f,g))<m&&(b=d,m=o);c=b.next}for(b=[c._],d=c;(d=d.next)!==c;)b.push(d._);for(d=Ds(b),h=0;h<e;++h)b=a[h],b.x-=d.x,b.y-=d.y;return d.r}function Lf(a){return null==a?null:Mf(a)}function Mf(a){if("function"!=typeof a)throw new Error;return a}function Nf(){return 0}function Of(a){return Math.sqrt(a.value)}function Pf(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function Qf(a,b){return function(c){if(d=c.children){var d,e,f,g=d.length,h=a(c)*b||0;if(h)for(e=0;e<g;++e)d[e].r+=h;if(f=Kf(d),h)for(e=0;e<g;++e)d[e].r-=h;c.r=f+h}}}function Rf(a){return function(b){var c=b.parent;b.r*=a,c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}function Sf(a){return a.id}function Tf(a){return a.parentId}function Uf(a,b){return a.parent===b.parent?1:2}function Vf(a){var b=a.children;return b?b[0]:a.t}function Wf(a){var b=a.children;return b?b[b.length-1]:a.t}function Xf(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Yf(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Zf(a,b,c){return a.a.parent===b.parent?a.a:c}function $f(a,b){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=b}function _f(a){for(var b,c,d,e,f,g=new $f(a,0),h=[g];b=h.pop();)if(d=b._.children)for(b.children=new Array(f=d.length),e=f-1;e>=0;--e)h.push(c=b.children[e]=new $f(d[e],e)),c.parent=b;return(g.parent=new $f(null,0)).children=[g],g}function ag(a,b,c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p,q,r=[],s=b.children,t=0,u=0,v=s.length,w=b.value;t<v;){i=e-c,j=f-d;do k=s[u++].value;while(!k&&u<v);for(l=m=k,p=Math.max(j/i,i/j)/(w*a),q=k*k*p,o=Math.max(m/q,q/l);u<v;++u){if(k+=h=s[u].value,h<l&&(l=h),h>m&&(m=h),q=k*k*p,n=Math.max(m/q,q/l),n>o){k-=h;break}o=n}r.push(g={value:k,dice:i<j,children:s.slice(t,u)}),g.dice?Is(g,c,d,e,w?d+=j*k/w:f):Ps(g,c,d,w?c+=i*k/w:e,f),w-=k,t=u}return r}function bg(a,b){return a[0]-b[0]||a[1]-b[1]}function cg(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;++e){for(;d>1&&Ys(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function dg(a){if(!(a>=1))throw new Error;this._size=a,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function eg(a){if(!a._start)try{fg(a)}catch(b){if(a._tasks[a._ended+a._active-1])hg(a,b);else if(!a._data)throw b}}function fg(a){for(;a._start=a._waiting&&a._active<a._size;){var b=a._ended+a._active,c=a._tasks[b],d=c.length-1,e=c[d];c[d]=gg(a,b),--a._waiting,++a._active,c=e.apply(null,c),a._tasks[b]&&(a._tasks[b]=c||bt)}}function gg(a,b){return function(c,d){a._tasks[b]&&(--a._active,++a._ended,a._tasks[b]=null,null==a._error&&(null!=c?hg(a,c):(a._data[b]=d,a._waiting?eg(a):ig(a))))}}function hg(a,b){var c,d=a._tasks.length;for(a._error=b,a._data=void 0,a._waiting=NaN;--d>=0;)if((c=a._tasks[d])&&(a._tasks[d]=null,c.abort))try{c.abort()}catch(a){}a._active=NaN,ig(a)}function ig(a){if(!a._active&&a._call){var b=a._data;a._data=void 0,a._call(a._error,b)}}function jg(a){return new dg(arguments.length?+a:1/0)}function kg(a){return function(b,c){a(null==b?c:null)}}function lg(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function mg(a,b){return function(c){return a(c.responseText,b)}}function ng(a){function b(b){var f=b+"",g=c.get(f);if(!g){if(e!==ut)return e;c.set(f,g=d.push(b))}return a[(g-1)%a.length]}var c=Nc(),d=[],e=ut;return a=null==a?[]:tt.call(a),b.domain=function(a){if(!arguments.length)return d.slice();d=[],c=Nc();for(var e,f,g=-1,h=a.length;++g<h;)c.has(f=(e=a[g])+"")||c.set(f,d.push(e));return b},b.range=function(c){return arguments.length?(a=tt.call(c),b):a.slice()},b.unknown=function(a){return arguments.length?(e=a,b):e},b.copy=function(){return ng().domain(d).range(a).unknown(e)},b}function og(){function a(){var a=e().length,d=g[1]<g[0],l=g[d-0],m=g[1-d];b=(m-l)/Math.max(1,a-i+2*j),h&&(b=Math.floor(b)),l+=(m-l-b*(a-i))*k,c=b*(1-i),h&&(l=Math.round(l),c=Math.round(c));var n=Nj(a).map(function(a){return l+b*a});return f(d?n.reverse():n)}var b,c,d=ng().unknown(void 0),e=d.domain,f=d.range,g=[0,1],h=!1,i=0,j=0,k=.5;return delete d.unknown,d.domain=function(b){return arguments.length?(e(b),a()):e()},d.range=function(b){return arguments.length?(g=[+b[0],+b[1]],a()):g.slice()},d.rangeRound=function(b){return g=[+b[0],+b[1]],h=!0,a()},d.bandwidth=function(){return c},d.step=function(){return b},d.round=function(b){return arguments.length?(h=!!b,a()):h},d.padding=function(b){return arguments.length?(i=j=Math.max(0,Math.min(1,b)),a()):i},d.paddingInner=function(b){return arguments.length?(i=Math.max(0,Math.min(1,b)),a()):i},d.paddingOuter=function(b){return arguments.length?(j=Math.max(0,Math.min(1,b)),a()):j},d.align=function(b){return arguments.length?(k=Math.max(0,Math.min(1,b)),a()):k},d.copy=function(){return og().domain(e()).range(g).round(h).paddingInner(i).paddingOuter(j).align(k)},a()}function pg(a){var b=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return pg(b())},a}function qg(){return pg(og().paddingInner(1))}function rg(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:vt(b)}function sg(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=b?0:a>=c?1:d(a)}}}function tg(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=0?b:a>=1?c:d(a)}}}function ug(a,b,c,d){var e=a[0],f=a[1],g=b[0],h=b[1];return f<e?(e=c(f,e),g=d(h,g)):(e=c(e,f),g=d(g,h)),function(a){return g(e(a))}}function vg(a,b,c,d){var e=Math.min(a.length,b.length)-1,f=new Array(e),g=new Array(e),h=-1;for(a[e]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++h<e;)f[h]=c(a[h],a[h+1]),g[h]=d(b[h],b[h+1]);return function(b){var c=Bj(a,b,1,e)-1;return g[c](f[c](b))}}function wg(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp())}function xg(a,b){function c(){return e=Math.min(h.length,i.length)>2?vg:ug,f=g=null,d}function d(b){return(f||(f=e(h,i,k?sg(a):a,j)))(+b)}var e,f,g,h=xt,i=xt,j=rm,k=!1;return d.invert=function(a){return(g||(g=e(i,h,rg,k?tg(b):b)))(+a)},d.domain=function(a){return arguments.length?(h=st.call(a,wt),c()):h.slice()},d.range=function(a){return arguments.length?(i=tt.call(a),c()):i.slice()},d.rangeRound=function(a){return i=tt.call(a),j=sm,c()},d.clamp=function(a){return arguments.length?(k=!!a,c()):k},d.interpolate=function(a){return arguments.length?(j=a,c()):j},c()}function yg(a){var b=a.domain;return a.ticks=function(a){var c=b();return Rj(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){return yt(b(),a,c)},a.nice=function(d){var e=b(),f=e.length-1,g=null==d?10:d,h=e[0],i=e[f],j=c(h,i,g);return j&&(j=c(Math.floor(h/j)*j,Math.ceil(i/j)*j,g),e[0]=Math.floor(h/j)*j,e[f]=Math.ceil(i/j)*j,b(e)),a},a}function zg(){var a=xg(rg,mm);return a.copy=function(){return wg(a,zg())},yg(a)}function Ag(){function a(a){return+a}var b=[0,1];return a.invert=a,a.domain=a.range=function(c){return arguments.length?(b=st.call(c,wt),a):b.slice()},a.copy=function(){return Ag().domain(b)},yg(a)}function Bg(a,b){return(b=Math.log(b/a))?function(c){return Math.log(c/a)/b}:vt(b)}function Cg(a,b){return a<0?function(c){return-Math.pow(-b,c)*Math.pow(-a,1-c)}:function(c){return Math.pow(b,c)*Math.pow(a,1-c)}}function Dg(a){return isFinite(a)?+("1e"+a):a<0?0:a}function Eg(a){return 10===a?Dg:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function Fg(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function Gg(a){return function(b){return-a(-b)}}function Hg(){function b(){return f=Fg(e),g=Eg(e),d()[0]<0&&(f=Gg(f),g=Gg(g)),c}var c=xg(Bg,Cg).domain([1,10]),d=c.domain,e=10,f=Fg(10),g=Eg(10);return c.base=function(a){return arguments.length?(e=+a,b()):e},c.domain=function(a){return arguments.length?(d(a),b()):d()},c.ticks=function(a){var b,c=d(),h=c[0],i=c[c.length-1];(b=i<h)&&(m=h,h=i,i=m);var j,k,l,m=f(h),n=f(i),o=null==a?10:+a,p=[];if(!(e%1)&&n-m<o){if(m=Math.round(m)-1,n=Math.round(n)+1,h>0){for(;m<n;++m)for(k=1,j=g(m);k<e;++k)if(l=j*k,!(l<h)){if(l>i)break;p.push(l)}}else for(;m<n;++m)for(k=e-1,j=g(m);k>=1;--k)if(l=j*k,!(l<h)){if(l>i)break;p.push(l)}}else p=Rj(m,n,Math.min(n-m,o)).map(g);return b?p.reverse():p},c.tickFormat=function(b,d){if(null==d&&(d=10===e?".0e":","),"function"!=typeof d&&(d=a.format(d)),b===1/0)return d;null==b&&(b=10);var h=Math.max(1,e*b/c.ticks().length);return function(a){var b=a/g(Math.round(f(a)));return b*e<e-.5&&(b*=e),b<=h?d(a):""}},c.nice=function(){return d(zt(d(),{floor:function(a){return g(Math.floor(f(a)))},ceil:function(a){return g(Math.ceil(f(a)))}}))},c.copy=function(){return wg(c,Hg().base(e))},c}function Ig(a,b){return a<0?-Math.pow(-a,b):Math.pow(a,b)}function Jg(){function a(a,b){return(b=Ig(b,c)-(a=Ig(a,c)))?function(d){return(Ig(d,c)-a)/b}:vt(b)}function b(a,b){return b=Ig(b,c)-(a=Ig(a,c)),function(d){return Ig(a+b*d,1/c)}}var c=1,d=xg(a,b),e=d.domain;return d.exponent=function(a){return arguments.length?(c=+a,e(e())):c},d.copy=function(){return wg(d,Jg().exponent(c))},yg(d)}function Kg(){return Jg().exponent(.5)}function Lg(){function a(){var a=0,f=Math.max(1,d.length);for(e=new Array(f-1);++a<f;)e[a-1]=Uj(c,a/f);return b}function b(a){if(!isNaN(a=+a))return d[Bj(e,a)]}var c=[],d=[],e=[];return b.invertExtent=function(a){var b=d.indexOf(a);return b<0?[NaN,NaN]:[b>0?e[b-1]:c[0],b<e.length?e[b]:c[c.length-1]]},b.domain=function(b){if(!arguments.length)return c.slice();c=[];for(var d,e=0,f=b.length;e<f;++e)d=b[e],null==d||isNaN(d=+d)||c.push(d);return c.sort(yj),a()},b.range=function(b){return arguments.length?(d=tt.call(b),a()):d.slice()},b.quantiles=function(){return e.slice()},b.copy=function(){return Lg().domain(c).range(d)},b}function Mg(){function a(a){if(a<=a)return g[Bj(f,a,0,e)]}function b(){var b=-1;for(f=new Array(e);++b<e;)f[b]=((b+1)*d-(b-e)*c)/(e+1);return a}var c=0,d=1,e=1,f=[.5],g=[0,1];return a.domain=function(a){return arguments.length?(c=+a[0],d=+a[1],b()):[c,d]},a.range=function(a){return arguments.length?(e=(g=tt.call(a)).length-1,b()):g.slice()},a.invertExtent=function(a){var b=g.indexOf(a);return b<0?[NaN,NaN]:b<1?[c,f[0]]:b>=e?[f[e-1],d]:[f[b-1],f[b]]},a.copy=function(){return Mg().domain([c,d]).range(g)},yg(a)}function Ng(){function a(a){if(a<=a)return c[Bj(b,a,0,d)]}var b=[.5],c=[0,1],d=1;return a.domain=function(e){return arguments.length?(b=tt.call(e),d=Math.min(b.length,c.length-1),a):b.slice()},a.range=function(e){return arguments.length?(c=tt.call(e),d=Math.min(b.length,c.length-1),a):c.slice()},a.invertExtent=function(a){var d=c.indexOf(a);return[b[d-1],b[d]]},a.copy=function(){return Ng().domain(b).range(c)},a}function Og(a,b,c,d){function e(b){return a(b=new Date(+b)),b}return e.floor=e,e.ceil=function(c){return a(c=new Date(c-1)),b(c,1),a(c),c},e.round=function(a){var b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=function(a,c){return b(a=new Date(+a),null==c?1:Math.floor(c)),a},e.range=function(c,d,f){var g=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d&&f>0))return g;do g.push(new Date(+c));while(b(c,f),a(c),c<d);return g},e.filter=function(c){return Og(function(b){if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},function(a,d){if(a>=a)for(;--d>=0;)for(;b(a,1),!c(a););})},c&&(e.count=function(b,d){return At.setTime(+b),Bt.setTime(+d),a(At),a(Bt),Math.floor(c(At,Bt))},e.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?e.filter(d?function(b){return d(b)%a===0}:function(b){return e.count(0,b)%a===0}):e:null}),e}function Pg(a){return Og(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+7*b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*Ft)/It})}function Qg(a){return Og(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+7*b)},function(a,b){return(b-a)/It})}function Rg(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function Sg(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function Tg(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function Ug(a){function b(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=Gu[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function c(a,b){return function(c){var e=Tg(1900),f=d(e,a,c+="",0);if(f!=c.length)return null;if("p"in e&&(e.H=e.H%12+12*e.p),"W"in e||"U"in e){"w"in e||(e.w="W"in e?1:0);var g="Z"in e?Sg(Tg(e.y)).getUTCDay():b(Tg(e.y)).getDay();e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(g+5)%7:e.w+7*e.U-(g+6)%7}return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,Sg(e)):b(e)}}function d(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return-1;if(e=b.charCodeAt(g++),37===e){if(e=b.charAt(g++),f=Q[e in Gu?b.charAt(g++):e],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function e(a,b,c){var d=E.exec(b.slice(c));return d?(a.p=F[d[0].toLowerCase()],c+d[0].length):-1}function f(a,b,c){var d=I.exec(b.slice(c));return d?(a.w=J[d[0].toLowerCase()],c+d[0].length):-1}function g(a,b,c){var d=G.exec(b.slice(c));return d?(a.w=H[d[0].toLowerCase()],c+d[0].length):-1}function h(a,b,c){var d=M.exec(b.slice(c));return d?(a.m=N[d[0].toLowerCase()],c+d[0].length):-1}function i(a,b,c){var d=K.exec(b.slice(c));return d?(a.m=L[d[0].toLowerCase()],c+d[0].length):-1}function j(a,b,c){return d(a,w,b,c)}function k(a,b,c){return d(a,x,b,c)}function l(a,b,c){return d(a,y,b,c)}function m(a){return B[a.getDay()]}function n(a){return A[a.getDay()]}function o(a){return D[a.getMonth()]}function p(a){return C[a.getMonth()]}function q(a){return z[+(a.getHours()>=12)]}function r(a){return B[a.getUTCDay()]}function s(a){return A[a.getUTCDay()]}function t(a){return D[a.getUTCMonth()]}function u(a){return C[a.getUTCMonth()]}function v(a){return z[+(a.getUTCHours()>=12)]}var w=a.dateTime,x=a.date,y=a.time,z=a.periods,A=a.days,B=a.shortDays,C=a.months,D=a.shortMonths,E=Xg(z),F=Yg(z),G=Xg(A),H=Yg(A),I=Xg(B),J=Yg(B),K=Xg(C),L=Yg(C),M=Xg(D),N=Yg(D),O={a:m,A:n,b:o,B:p,c:null,d:lh,e:lh,H:mh,I:nh,j:oh,L:ph,m:qh,M:rh,p:q,S:sh,U:th,w:uh,W:vh,x:null,X:null,y:wh,Y:xh,Z:yh,"%":Nh},P={a:r,A:s,b:t,B:u,c:null,d:zh,e:zh,H:Ah,I:Bh,j:Ch,L:Dh,m:Eh,M:Fh,p:v,S:Gh,U:Hh,w:Ih,W:Jh,x:null,X:null,y:Kh,Y:Lh,Z:Mh,"%":Nh},Q={a:f,A:g,b:h,B:i,c:j,d:eh,e:eh,H:gh,I:gh,j:fh,L:jh,m:dh,M:hh,p:e,S:ih,U:$g,w:Zg,W:_g,x:k,X:l,y:bh,Y:ah,Z:ch,"%":kh};return O.x=b(x,O),O.X=b(y,O),O.c=b(w,O),P.x=b(x,P),P.X=b(y,P),P.c=b(w,P),{format:function(a){var c=b(a+="",O);return c.toString=function(){return a},c},parse:function(a){var b=c(a+="",Rg);return b.toString=function(){return a},b},utcFormat:function(a){var c=b(a+="",P);return c.toString=function(){return a},c},utcParse:function(a){var b=c(a,Sg);return b.toString=function(){return a},b}}}function Vg(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function Wg(a){return a.replace(Ju,"\\$&")}function Xg(a){return new RegExp("^(?:"+a.map(Wg).join("|")+")","i")}function Yg(a){for(var b={},c=-1,d=a.length;++c<d;)b[a[c].toLowerCase()]=c;return b}function Zg(a,b,c){var d=Hu.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function $g(a,b,c){var d=Hu.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function _g(a,b,c){var d=Hu.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function ah(a,b,c){var d=Hu.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function bh(a,b,c){var d=Hu.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function ch(a,b,c){var d=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function dh(a,b,c){var d=Hu.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function eh(a,b,c){var d=Hu.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function fh(a,b,c){var d=Hu.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function gh(a,b,c){var d=Hu.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function hh(a,b,c){var d=Hu.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function ih(a,b,c){var d=Hu.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function jh(a,b,c){var d=Hu.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function kh(a,b,c){var d=Iu.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function lh(a,b){return Vg(a.getDate(),b,2)}function mh(a,b){return Vg(a.getHours(),b,2)}function nh(a,b){return Vg(a.getHours()%12||12,b,2)}function oh(a,b){return Vg(1+Pt.count(fu(a),a),b,3)}function ph(a,b){return Vg(a.getMilliseconds(),b,3)}function qh(a,b){return Vg(a.getMonth()+1,b,2)}function rh(a,b){return Vg(a.getMinutes(),b,2)}function sh(a,b){return Vg(a.getSeconds(),b,2)}function th(a,b){return Vg(Rt.count(fu(a),a),b,2)}function uh(a){return a.getDay()}function vh(a,b){return Vg(St.count(fu(a),a),b,2)}function wh(a,b){return Vg(a.getFullYear()%100,b,2)}function xh(a,b){return Vg(a.getFullYear()%1e4,b,4)}function yh(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+Vg(b/60|0,"0",2)+Vg(b%60,"0",2)}function zh(a,b){return Vg(a.getUTCDate(),b,2)}function Ah(a,b){return Vg(a.getUTCHours(),b,2)}function Bh(a,b){return Vg(a.getUTCHours()%12||12,b,2)}function Ch(a,b){return Vg(1+lu.count(Du(a),a),b,3)}function Dh(a,b){return Vg(a.getUTCMilliseconds(),b,3)}function Eh(a,b){return Vg(a.getUTCMonth()+1,b,2)}function Fh(a,b){return Vg(a.getUTCMinutes(),b,2)}function Gh(a,b){return Vg(a.getUTCSeconds(),b,2)}function Hh(a,b){return Vg(nu.count(Du(a),a),b,2)}function Ih(a){return a.getUTCDay()}function Jh(a,b){return Vg(ou.count(Du(a),a),b,2)}function Kh(a,b){return Vg(a.getUTCFullYear()%100,b,2)}function Lh(a,b){return Vg(a.getUTCFullYear()%1e4,b,4)}function Mh(){return"+0000"}function Nh(){return"%"}function Oh(b){return Eu=Ug(b),a.timeFormat=Eu.format,a.timeParse=Eu.parse,a.utcFormat=Eu.utcFormat,a.utcParse=Eu.utcParse,Eu}function Ph(a){return a.toISOString()}function Qh(a){var b=new Date(a);return isNaN(b)?null:b}function Rh(a){return new Date(a)}function Sh(a){return a instanceof Date?+a:+new Date(+a)}function Th(a,b,d,e,f,g,h,i,j){function k(c){return(h(c)<c?p:g(c)<c?q:f(c)<c?r:e(c)<c?s:b(c)<c?d(c)<c?t:u:a(c)<c?v:w)(c)}function l(b,d,e,f){if(null==b&&(b=10),"number"==typeof b){var g=Math.abs(e-d)/b,h=zj(function(a){return a[2]}).right(x,g);h===x.length?(f=c(d/Tu,e/Tu,b),b=a):h?(h=x[g/x[h-1][2]<x[h][2]/g?h-1:h],f=h[1],b=h[0]):(f=c(d,e,b),b=i)}return null==f?b:b.every(f)}var m=xg(rg,mm),n=m.invert,o=m.domain,p=j(".%L"),q=j(":%S"),r=j("%I:%M"),s=j("%I %p"),t=j("%a %d"),u=j("%b %d"),v=j("%B"),w=j("%Y"),x=[[h,1,Nu],[h,5,5*Nu],[h,15,15*Nu],[h,30,30*Nu],[g,1,Ou],[g,5,5*Ou],[g,15,15*Ou],[g,30,30*Ou],[f,1,Pu],[f,3,3*Pu],[f,6,6*Pu],[f,12,12*Pu],[e,1,Qu],[e,2,2*Qu],[d,1,Ru],[b,1,Su],[b,3,3*Su],[a,1,Tu]];return m.invert=function(a){return new Date(n(a))},m.domain=function(a){return arguments.length?o(st.call(a,Sh)):o().map(Rh)},m.ticks=function(a,b){var c,d=o(),e=d[0],f=d[d.length-1],g=f<e;return g&&(c=e,e=f,f=c),c=l(a,e,f,b),c=c?c.range(e,f+1):[],g?c.reverse():c},m.tickFormat=function(a,b){return null==b?k:j(b)},m.nice=function(a,b){var c=o();return(a=l(a,c[0],c[c.length-1],b))?o(zt(c,a)):m},m.copy=function(){return wg(m,Th(a,b,d,e,f,g,h,i,j))},m}function Uh(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))];
}}function Vh(a){function b(b){var f=(b-c)/(d-c);return a(e?Math.max(0,Math.min(1,f)):f)}var c=0,d=1,e=!1;return b.domain=function(a){return arguments.length?(c=+a[0],d=+a[1],b):[c,d]},b.clamp=function(a){return arguments.length?(e=!!a,b):e},b.interpolator=function(c){return arguments.length?(a=c,b):a},b.copy=function(){return Vh(a).domain([c,d]).clamp(e)},yg(b)}function Wh(a){return a.innerRadius}function Xh(a){return a.outerRadius}function Yh(a){return a.startAngle}function Zh(a){return a.endAngle}function $h(a){return a&&a.padAngle}function _h(a){return a>=1?lv:a<=-1?-lv:Math.asin(a)}function ai(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=g-e,l=h-f,m=(k*(b-f)-l*(a-e))/(l*i-k*j);return[a+m*i,b+m*j]}function bi(a,b,c,d,e,f,g){var h=a-c,i=b-d,j=(g?f:-f)/Math.sqrt(h*h+i*i),k=j*i,l=-j*h,m=a+k,n=b+l,o=c+k,p=d+l,q=(m+o)/2,r=(n+p)/2,s=o-m,t=p-n,u=s*s+t*t,v=e-f,w=m*p-o*n,x=(t<0?-1:1)*Math.sqrt(Math.max(0,v*v*u-w*w)),y=(w*t-s*x)/u,z=(-w*s-t*x)/u,A=(w*t+s*x)/u,B=(-w*s+t*x)/u,C=y-q,D=z-r,E=A-q,F=B-r;return C*C+D*D>E*E+F*F&&(y=A,z=B),{cx:y,cy:z,x01:-k,y01:-l,x11:y*(e/v-1),y11:z*(e/v-1)}}function ci(a){this._context=a}function di(a){return a[0]}function ei(a){return a[1]}function fi(a){this._curve=a}function gi(a){function b(b){return new fi(a(b))}return b._curve=a,b}function hi(a){var b=a.curve;return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a.curve=function(a){return arguments.length?b(gi(a)):b()._curve},a}function ii(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function ji(a){this._context=a}function ki(a){this._context=a}function li(a){this._context=a}function mi(a,b){this._basis=new ji(a),this._beta=b}function ni(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function oi(a,b){this._context=a,this._k=(1-b)/6}function pi(a,b){this._context=a,this._k=(1-b)/6}function qi(a,b){this._context=a,this._k=(1-b)/6}function ri(a,b,c){var d=a._x1,e=a._y1,f=a._x2,g=a._y2;if(a._l01_a>jv){var h=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,i=3*a._l01_a*(a._l01_a+a._l12_a);d=(d*h-a._x0*a._l12_2a+a._x2*a._l01_2a)/i,e=(e*h-a._y0*a._l12_2a+a._y2*a._l01_2a)/i}if(a._l23_a>jv){var j=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,k=3*a._l23_a*(a._l23_a+a._l12_a);f=(f*j+a._x1*a._l23_2a-b*a._l12_2a)/k,g=(g*j+a._y1*a._l23_2a-c*a._l12_2a)/k}a._context.bezierCurveTo(d,e,f,g,a._x2,a._y2)}function si(a,b){this._context=a,this._alpha=b}function ti(a,b){this._context=a,this._alpha=b}function ui(a,b){this._context=a,this._alpha=b}function vi(a){this._context=a}function wi(a){return a<0?-1:1}function xi(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0),h=(f*e+g*d)/(d+e);return(wi(f)+wi(g))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs(h))||0}function yi(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function zi(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function Ai(a){this._context=a}function Bi(a){this._context=new Ci(a)}function Ci(a){this._context=a}function Di(a){return new Ai(a)}function Ei(a){return new Bi(a)}function Fi(a){this._context=a}function Gi(a){var b,c,d=a.length-1,e=new Array(d),f=new Array(d),g=new Array(d);for(e[0]=0,f[0]=2,g[0]=a[0]+2*a[1],b=1;b<d-1;++b)e[b]=1,f[b]=4,g[b]=4*a[b]+2*a[b+1];for(e[d-1]=2,f[d-1]=7,g[d-1]=8*a[d-1]+a[d],b=1;b<d;++b)c=e[b]/f[b-1],f[b]-=c,g[b]-=c*g[b-1];for(e[d-1]=g[d-1]/f[d-1],b=d-2;b>=0;--b)e[b]=(g[b]-e[b+1])/f[b];for(f[d-1]=(a[d]+e[d-1])/2,b=0;b<d-1;++b)f[b]=2*a[b+1]-e[b+1];return[e,f]}function Hi(a,b){this._context=a,this._t=b}function Ii(a){return new Hi(a,0)}function Ji(a){return new Hi(a,1)}function Ki(a,b){return a[b]}function Li(a){for(var b,c=0,d=-1,e=a.length;++d<e;)(b=+a[d][1])&&(c+=b);return c}function Mi(a){return a[0]}function Ni(a){return a[1]}function Oi(){this._=null}function Pi(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Qi(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function Ri(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function Si(a){for(;a.L;)a=a.L;return a}function Ti(a,b,c,d){var e=[null,null],f=tw.push(e)-1;return e.left=a,e.right=b,c&&Vi(e,a,b,c),d&&Vi(e,b,a,d),rw[a.index].halfedges.push(f),rw[b.index].halfedges.push(f),e}function Ui(a,b,c){var d=[b,c];return d.left=a,d}function Vi(a,b,c,d){a[0]||a[1]?a.left===c?a[1]=d:a[0]=d:(a[0]=d,a.left=b,a.right=c)}function Wi(a,b,c,d,e){var f,g=a[0],h=a[1],i=g[0],j=g[1],k=h[0],l=h[1],m=0,n=1,o=k-i,p=l-j;if(f=b-i,o||!(f>0)){if(f/=o,o<0){if(f<m)return;f<n&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=d-i,o||!(f<0)){if(f/=o,o<0){if(f>n)return;f>m&&(m=f)}else if(o>0){if(f<m)return;f<n&&(n=f)}if(f=c-j,p||!(f>0)){if(f/=p,p<0){if(f<m)return;f<n&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=e-j,p||!(f<0)){if(f/=p,p<0){if(f>n)return;f>m&&(m=f)}else if(p>0){if(f<m)return;f<n&&(n=f)}return!(m>0||n<1)||(m>0&&(a[0]=[i+m*o,j+m*p]),n<1&&(a[1]=[i+n*o,j+n*p]),!0)}}}}}function Xi(a,b,c,d,e){var f=a[1];if(f)return!0;var g,h,i=a[0],j=a.left,k=a.right,l=j[0],m=j[1],n=k[0],o=k[1],p=(l+n)/2,q=(m+o)/2;if(o===m){if(p<b||p>=d)return;if(l>n){if(i){if(i[1]>=e)return}else i=[p,c];f=[p,e]}else{if(i){if(i[1]<c)return}else i=[p,e];f=[p,c]}}else if(g=(l-n)/(o-m),h=q-g*p,g<-1||g>1)if(l>n){if(i){if(i[1]>=e)return}else i=[(c-h)/g,c];f=[(e-h)/g,e]}else{if(i){if(i[1]<c)return}else i=[(e-h)/g,e];f=[(c-h)/g,c]}else if(m<o){if(i){if(i[0]>=d)return}else i=[b,g*b+h];f=[d,g*d+h]}else{if(i){if(i[0]<b)return}else i=[d,g*d+h];f=[b,g*b+h]}return a[0]=i,a[1]=f,!0}function Yi(a,b,c,d){for(var e,f=tw.length;f--;)Xi(e=tw[f],a,b,c,d)&&Wi(e,a,b,c,d)&&(Math.abs(e[0][0]-e[1][0])>ww||Math.abs(e[0][1]-e[1][1])>ww)||delete tw[f]}function Zi(a){return rw[a.index]={site:a,halfedges:[]}}function $i(a,b){var c=a.site,d=b.left,e=b.right;return c===e&&(e=d,d=c),e?Math.atan2(e[1]-d[1],e[0]-d[0]):(c===d?(d=b[1],e=b[0]):(d=b[0],e=b[1]),Math.atan2(d[0]-e[0],e[1]-d[1]))}function _i(a,b){return b[+(b.left!==a.site)]}function aj(a,b){return b[+(b.left===a.site)]}function bj(){for(var a,b,c,d,e=0,f=rw.length;e<f;++e)if((a=rw[e])&&(d=(b=a.halfedges).length)){var g=new Array(d),h=new Array(d);for(c=0;c<d;++c)g[c]=c,h[c]=$i(a,tw[b[c]]);for(g.sort(function(a,b){return h[b]-h[a]}),c=0;c<d;++c)h[c]=b[g[c]];for(c=0;c<d;++c)b[c]=h[c]}}function cj(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=rw.length,r=!0;for(e=0;e<q;++e)if(f=rw[e]){for(g=f.site,i=f.halfedges,h=i.length;h--;)tw[i[h]]||i.splice(h,1);for(h=0,j=i.length;h<j;)n=aj(f,tw[i[h]]),o=n[0],p=n[1],k=_i(f,tw[i[++h%j]]),l=k[0],m=k[1],(Math.abs(o-l)>ww||Math.abs(p-m)>ww)&&(i.splice(h,0,tw.push(Ui(g,n,Math.abs(o-a)<ww&&d-p>ww?[a,Math.abs(l-a)<ww?m:d]:Math.abs(p-d)<ww&&c-o>ww?[Math.abs(m-d)<ww?l:c,d]:Math.abs(o-c)<ww&&p-b>ww?[c,Math.abs(l-c)<ww?m:b]:Math.abs(p-b)<ww&&o-a>ww?[Math.abs(m-b)<ww?l:a,b]:null))-1),++j);j&&(r=!1)}if(r){var s,t,u,v=1/0;for(e=0,r=null;e<q;++e)(f=rw[e])&&(g=f.site,s=g[0]-a,t=g[1]-b,u=s*s+t*t,u<v&&(v=u,r=f));if(r){var w=[a,b],x=[a,d],y=[c,d],z=[c,b];r.halfedges.push(tw.push(Ui(g=r.site,w,x))-1,tw.push(Ui(g,x,y))-1,tw.push(Ui(g,y,z))-1,tw.push(Ui(g,z,w))-1)}}for(e=0;e<q;++e)(f=rw[e])&&(f.halfedges.length||delete rw[e])}function dj(){Pi(this),this.x=this.y=this.arc=this.site=this.cy=null}function ej(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e[0],h=e[1],i=d[0]-g,j=d[1]-h,k=f[0]-g,l=f[1]-h,m=2*(i*l-j*k);if(!(m>=-xw)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,r=uw.pop()||new dj;r.arc=a,r.site=e,r.x=p+g,r.y=(r.cy=q+h)+Math.sqrt(p*p+q*q),a.circle=r;for(var s=null,t=sw._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}sw.insert(s,r),s||(pw=r)}}}}function fj(a){var b=a.circle;b&&(b.P||(pw=b.N),sw.remove(b),uw.push(b),Pi(b),a.circle=null)}function gj(){Pi(this),this.edge=this.site=this.circle=null}function hj(a){var b=vw.pop()||new gj;return b.site=a,b}function ij(a){fj(a),qw.remove(a),vw.push(a),Pi(a)}function jj(a){var b=a.circle,c=b.x,d=b.cy,e=[c,d],f=a.P,g=a.N,h=[a];ij(a);for(var i=f;i.circle&&Math.abs(c-i.circle.x)<ww&&Math.abs(d-i.circle.cy)<ww;)f=i.P,h.unshift(i),ij(i),i=f;h.unshift(i),fj(i);for(var j=g;j.circle&&Math.abs(c-j.circle.x)<ww&&Math.abs(d-j.circle.cy)<ww;)g=j.N,h.push(j),ij(j),j=g;h.push(j),fj(j);var k,l=h.length;for(k=1;k<l;++k)j=h[k],i=h[k-1],Vi(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=Ti(i.site,j.site,null,e),ej(i),ej(j)}function kj(a){for(var b,c,d,e,f=a[0],g=a[1],h=qw._;h;)if(d=lj(h,g)-f,d>ww)h=h.L;else{if(e=f-mj(h,g),!(e>ww)){d>-ww?(b=h.P,c=h):e>-ww?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}Zi(a);var i=hj(a);if(qw.insert(b,i),b||c){if(b===c)return fj(b),c=hj(b.site),qw.insert(i,c),i.edge=c.edge=Ti(b.site,i.site),ej(b),void ej(c);if(!c)return void(i.edge=Ti(b.site,i.site));fj(b),fj(c);var j=b.site,k=j[0],l=j[1],m=a[0]-k,n=a[1]-l,o=c.site,p=o[0]-k,q=o[1]-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u=[(q*s-n*t)/r+k,(m*t-p*s)/r+l];Vi(c.edge,j,o,u),i.edge=Ti(j,a,null,u),c.edge=Ti(a,o,null,u),ej(b),ej(c)}}function lj(a,b){var c=a.site,d=c[0],e=c[1],f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c[0],i=c[1],j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function mj(a,b){var c=a.N;if(c)return lj(c,b);var d=a.site;return d[1]===b?d[0]:1/0}function nj(a,b,c){return(a[0]-c[0])*(b[1]-a[1])-(a[0]-b[0])*(c[1]-a[1])}function oj(a,b){return b[1]-a[1]||b[0]-a[0]}function pj(a,b){var c,d,e,f=a.sort(oj).pop();for(tw=[],rw=new Array(a.length),qw=new Oi,sw=new Oi;;)if(e=pw,f&&(!e||f[1]<e.y||f[1]===e.y&&f[0]<e.x))f[0]===c&&f[1]===d||(kj(f),c=f[0],d=f[1]),f=a.pop();else{if(!e)break;jj(e.arc)}if(bj(),b){var g=+b[0][0],h=+b[0][1],i=+b[1][0],j=+b[1][1];Yi(g,h,i,j),cj(g,h,i,j)}this.edges=tw,this.cells=rw,qw=sw=tw=rw=null}function qj(a,b,c){this.target=a,this.type=b,this.transform=c}function rj(a,b,c){this.k=a,this.x=b,this.y=c}function sj(a){return a.__zoom||Aw}function tj(){a.event.stopImmediatePropagation()}function uj(){return!a.event.button}function vj(){var a,b,c=this;return c instanceof SVGElement?(c=c.ownerSVGElement||c,a=c.width.baseVal.value,b=c.height.baseVal.value):(a=c.clientWidth,b=c.clientHeight),[[0,0],[a,b]]}function wj(){return this.__zoom||Aw}var xj="4.5.0",yj=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},zj=function(a){return 1===a.length&&(a=b(a)),{left:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}},Aj=zj(yj),Bj=Aj.right,Cj=Aj.left,Dj=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},Ej=function(a){return null===a?NaN:+a},Fj=function(a,b){var c,d,e=a.length,f=0,g=0,h=-1,i=0;if(null==b)for(;++h<e;)isNaN(c=Ej(a[h]))||(d=c-f,f+=d/++i,g+=d*(c-f));else for(;++h<e;)isNaN(c=Ej(b(a[h],h,a)))||(d=c-f,f+=d/++i,g+=d*(c-f));if(i>1)return g/(i-1)},Gj=function(a,b){var c=Fj(a,b);return c?Math.sqrt(c):c},Hj=function(a,b){var c,d,e,f=-1,g=a.length;if(null==b){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),e<d&&(e=d))}else{for(;++f<g;)if(null!=(d=b(a[f],f,a))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b(a[f],f,a))&&(c>d&&(c=d),e<d&&(e=d))}return[c,e]},Ij=Array.prototype,Jj=Ij.slice,Kj=Ij.map,Lj=function(a){return function(){return a}},Mj=function(a){return a},Nj=function(a,b,c){a=+a,b=+b,c=(e=arguments.length)<2?(b=a,a=0,1):e<3?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=new Array(e);++d<e;)f[d]=a+d*c;return f},Oj=Math.sqrt(50),Pj=Math.sqrt(10),Qj=Math.sqrt(2),Rj=function(a,b,d){var e=c(a,b,d);return Nj(Math.ceil(a/e)*e,Math.floor(b/e)*e+e/2,e)},Sj=function(a){return Math.ceil(Math.log(a.length)/Math.LN2)+1},Tj=function(){function a(a){var e,f,g=a.length,h=new Array(g);for(e=0;e<g;++e)h[e]=b(a[e],e,a);var i=c(h),j=i[0],k=i[1],l=d(h,j,k);Array.isArray(l)||(l=Rj(j,k,l));for(var m=l.length;l[0]<=j;)l.shift(),--m;for(;l[m-1]>=k;)l.pop(),--m;var n,o=new Array(m+1);for(e=0;e<=m;++e)n=o[e]=[],n.x0=e>0?l[e-1]:j,n.x1=e<m?l[e]:k;for(e=0;e<g;++e)f=h[e],j<=f&&f<=k&&o[Bj(l,f,0,m)].push(a[e]);return o}var b=Mj,c=Hj,d=Sj;return a.value=function(c){return arguments.length?(b="function"==typeof c?c:Lj(c),a):b},a.domain=function(b){return arguments.length?(c="function"==typeof b?b:Lj([b[0],b[1]]),a):c},a.thresholds=function(b){return arguments.length?(d="function"==typeof b?b:Lj(Array.isArray(b)?Jj.call(b):b),a):d},a},Uj=function(a,b,c){if(null==c&&(c=Ej),d=a.length){if((b=+b)<=0||d<2)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a),h=+c(a[f+1],f+1,a);return g+(h-g)*(e-f)}},Vj=function(a,b,c){return a=Kj.call(a,Ej).sort(yj),Math.ceil((c-b)/(2*(Uj(a,.75)-Uj(a,.25))*Math.pow(a.length,-1/3)))},Wj=function(a,b,c){return Math.ceil((c-b)/(3.5*Gj(a)*Math.pow(a.length,-1/3)))},Xj=function(a,b){var c,d,e=-1,f=a.length;if(null==b){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b(a[e],e,a))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b(a[e],e,a))&&d>c&&(c=d)}return c},Yj=function(a,b){var c,d=0,e=a.length,f=-1,g=e;if(null==b)for(;++f<e;)isNaN(c=Ej(a[f]))?--g:d+=c;else for(;++f<e;)isNaN(c=Ej(b(a[f],f,a)))?--g:d+=c;if(g)return d/g},Zj=function(a,b){var c,d=[],e=a.length,f=-1;if(null==b)for(;++f<e;)isNaN(c=Ej(a[f]))||d.push(c);else for(;++f<e;)isNaN(c=Ej(b(a[f],f,a)))||d.push(c);return Uj(d.sort(yj),.5)},$j=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c},_j=function(a,b){var c,d,e=-1,f=a.length;if(null==b){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b(a[e],e,a))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b(a[e],e,a))&&c>d&&(c=d)}return c},ak=function(a){for(var b=0,c=a.length-1,d=a[0],e=new Array(c<0?0:c);b<c;)e[b]=[d,d=a[++b]];return e},bk=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},ck=function(a,b){if(c=a.length){var c,d,e=0,f=0,g=a[f];for(b||(b=yj);++e<c;)(b(d=a[e],g)<0||0!==b(g,g))&&(g=d,f=e);return 0===b(g,g)?f:void 0}},dk=function(a,b,c){for(var d,e,f=(null==c?a.length:c)-(b=null==b?0:+b);f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},ek=function(a,b){var c,d=0,e=a.length,f=-1;if(null==b)for(;++f<e;)(c=+a[f])&&(d+=c);else for(;++f<e;)(c=+b(a[f],f,a))&&(d+=c);return d},fk=function(a){if(!(f=a.length))return[];for(var b=-1,c=_j(a,d),e=new Array(c);++b<c;)for(var f,g=-1,h=e[b]=new Array(f);++g<f;)h[g]=a[g][b];return e},gk=function(){return fk(arguments)},hk=Array.prototype.slice,ik=function(a){return a},jk=1,kk=2,lk=3,mk=4,nk=1e-6,ok={value:function(){}};o.prototype=n.prototype={constructor:o,on:function(a,b){var c,d=this._,e=p(a+"",d),f=-1,g=e.length;if(!(arguments.length<2)){if(null!=b&&"function"!=typeof b)throw new Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=r(d[c],a.name,b);else if(null==b)for(c in d)d[c]=r(d[c],a.name,null);return this}for(;++f<g;)if((c=(a=e[f]).type)&&(c=q(d[c],a.name)))return c},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new o(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=new Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var pk="http://www.w3.org/1999/xhtml",qk={svg:"http://www.w3.org/2000/svg",xhtml:pk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rk=function(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),qk.hasOwnProperty(b)?{space:qk[b],local:a}:a},sk=function(a){var b=rk(a);return(b.local?t:s)(b)},tk=0;v.prototype=u.prototype={constructor:v,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var uk=function(a){return function(){return this.matches(a)}};if("undefined"!=typeof document){var vk=document.documentElement;if(!vk.matches){var wk=vk.webkitMatchesSelector||vk.msMatchesSelector||vk.mozMatchesSelector||vk.oMatchesSelector;uk=function(a){return function(){return wk.call(this,a)}}}}var xk=uk,yk={};if(a.event=null,"undefined"!=typeof document){var zk=document.documentElement;"onmouseenter"in zk||(yk={mouseenter:"mouseover",mouseleave:"mouseout"})}var Ak=function(a,b,c){var d,e,f=y(a+""),g=f.length;if(!(arguments.length<2)){for(h=b?A:z,null==c&&(c=!1),d=0;d<g;++d)this.each(h(f[d],b,c));return this}var h=this.node().__on;if(h)for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value},Bk=function(){for(var b,c=a.event;b=c.sourceEvent;)c=b;return c},Ck=function(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=b.clientX,d.y=b.clientY,d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var e=a.getBoundingClientRect();return[b.clientX-e.left-a.clientLeft,b.clientY-e.top-a.clientTop]},Dk=function(a){var b=Bk();return b.changedTouches&&(b=b.changedTouches[0]),Ck(a,b)},Ek=function(a){return null==a?C:function(){return this.querySelector(a)}},Fk=function(a){"function"!=typeof a&&(a=Ek(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=new Array(i),k=0;k<i;++k)(f=h[k])&&(g=a.call(f,f.__data__,k,h))&&("__data__"in f&&(g.__data__=f.__data__),j[k]=g);return new na(d,this._parents)},Gk=function(a){return null==a?D:function(){return this.querySelectorAll(a)}},Hk=function(a){"function"!=typeof a&&(a=Gk(a));for(var b=this._groups,c=b.length,d=[],e=[],f=0;f<c;++f)for(var g,h=b[f],i=h.length,j=0;j<i;++j)(g=h[j])&&(d.push(a.call(g,g.__data__,j,h)),e.push(g));return new na(d,e)},Ik=function(a){"function"!=typeof a&&(a=xk(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new na(d,this._parents)},Jk=function(a){return new Array(a.length)},Kk=function(){return new na(this._enter||this._groups.map(Jk),this._parents)};E.prototype={constructor:E,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var Lk=function(a){return function(){return a}},Mk="$",Nk=function(a,b){if(!a)return n=new Array(this.size()),j=-1,this.each(function(a){n[++j]=a}),n;var c=b?G:F,d=this._parents,e=this._groups;"function"!=typeof a&&(a=Lk(a));for(var f=e.length,g=new Array(f),h=new Array(f),i=new Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n=a.call(k,k&&k.__data__,j,d),o=n.length,p=h[j]=new Array(o),q=g[j]=new Array(o),r=i[j]=new Array(m);c(k,l,p,q,r,n,b);for(var s,t,u=0,v=0;u<o;++u)if(s=p[u]){for(u>=v&&(v=u+1);!(t=q[v])&&++v<o;);s._next=t||null}}return g=new na(g,d),g._enter=h,g._exit=i,g},Ok=function(){return new na(this._exit||this._groups.map(Jk),this._parents)},Pk=function(a){for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=new Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new na(g,this._parents)},Qk=function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&g!==d.nextSibling&&g.parentNode.insertBefore(d,g),g=d);return this},Rk=function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=H);for(var c=this._groups,d=c.length,e=new Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=new Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new na(e,this._parents).order()},Sk=function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},Tk=function(){var a=new Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a},Uk=function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},Vk=function(){var a=0;return this.each(function(){++a}),a},Wk=function(){return!this.node()},Xk=function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},Yk=function(a,b){var c=rk(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?J:I:"function"==typeof b?c.local?N:M:c.local?L:K)(c,b))},Zk=function(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView},$k=function(a,b,c){var d;return arguments.length>1?this.each((null==b?O:"function"==typeof b?Q:P)(a,b,null==c?"":c)):Zk(d=this.node()).getComputedStyle(d,null).getPropertyValue(a)},_k=function(a,b){return arguments.length>1?this.each((null==b?R:"function"==typeof b?T:S)(a,b)):this.node()[a]};W.prototype={add:function(a){var b=this._names.indexOf(a);b<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var al=function(a,b){var c=U(a+"");if(arguments.length<2){for(var d=V(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?_:b?Z:$)(c,b))},bl=function(a){return arguments.length?this.each(null==a?aa:("function"==typeof a?ca:ba)(a)):this.node().textContent},cl=function(a){return arguments.length?this.each(null==a?da:("function"==typeof a?fa:ea)(a)):this.node().innerHTML},dl=function(){return this.each(ga)},el=function(){return this.each(ha)},fl=function(a){var b="function"==typeof a?a:sk(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},gl=function(a,b){var c="function"==typeof a?a:sk(a),d=null==b?ia:"function"==typeof b?b:Ek(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},hl=function(){return this.each(ja)},il=function(a){return arguments.length?this.property("__data__",a):this.node().__data__},jl=function(a,b){return this.each(("function"==typeof b?ma:la)(a,b))},kl=[null];na.prototype=oa.prototype={constructor:na,select:Fk,selectAll:Hk,filter:Ik,data:Nk,enter:Kk,exit:Ok,merge:Pk,order:Qk,sort:Rk,call:Sk,nodes:Tk,node:Uk,size:Vk,empty:Wk,each:Xk,attr:Yk,style:$k,property:_k,classed:al,text:bl,html:cl,raise:dl,lower:el,append:fl,insert:gl,remove:hl,datum:il,on:Ak,dispatch:jl};var ll=function(a){return"string"==typeof a?new na([[document.querySelector(a)]],[document.documentElement]):new na([[a]],kl)},ml=function(a){return"string"==typeof a?new na([document.querySelectorAll(a)],[document.documentElement]):new na([null==a?[]:a],kl)},nl=function(a,b,c){arguments.length<3&&(c=b,b=Bk().changedTouches);for(var d,e=0,f=b?b.length:0;e<f;++e)if((d=b[e]).identifier===c)return Ck(a,d);return null},ol=function(a,b){null==b&&(b=Bk().touches);for(var c=0,d=b?b.length:0,e=new Array(d);c<d;++c)e[c]=Ck(a,b[c]);return e},pl=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},ql=function(a){var b=a.document.documentElement,c=ll(a).on("dragstart.drag",pl,!0);"onselectstart"in b?c.on("selectstart.drag",pl,!0):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")},rl=function(a){return function(){return a}};ra.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var sl=function(){function b(a){a.on("mousedown.drag",c).on("touchstart.drag",f).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",h).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){if(!k&&l.apply(this,arguments)){var b=i("mouse",m.apply(this,arguments),Dk,this,arguments);b&&(ll(a.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",e,!0),ql(a.event.view),pa(),j=!1,b("start"))}}function d(){pl(),j=!0,p.mouse("drag")}function e(){ll(a.event.view).on("mousemove.drag mouseup.drag",null),qa(a.event.view,j),pl(),p.mouse("end")}function f(){if(l.apply(this,arguments)){var b,c,d=a.event.changedTouches,e=m.apply(this,arguments),f=d.length;for(b=0;b<f;++b)(c=i(d[b].identifier,e,nl,this,arguments))&&(pa(),c("start"))}}function g(){var b,c,d=a.event.changedTouches,e=d.length;for(b=0;b<e;++b)(c=p[d[b].identifier])&&(pl(),c("drag"))}function h(){var b,c,d=a.event.changedTouches,e=d.length;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),b=0;b<e;++b)(c=p[d[b].identifier])&&(pa(),c("end"))}function i(c,d,e,f,g){var h,i,j,k=e(d,c),l=q.copy();if(B(new ra(b,"beforestart",h,c,r,k[0],k[1],0,0,l),function(){return null!=(a.event.subject=h=o.apply(f,g))&&(i=h.x-k[0]||0,j=h.y-k[1]||0,!0)}))return function a(m){var n,o=k;switch(m){case"start":p[c]=a,n=r++;break;case"end":delete p[c],--r;case"drag":k=e(d,c),n=r}B(new ra(b,m,h,c,n,k[0]+i,k[1]+j,k[0]-o[0],k[1]-o[1],l),l.apply,l,[m,f,g])}}var j,k,l=sa,m=ta,o=ua,p={},q=n("start","drag","end"),r=0;return b.filter=function(a){return arguments.length?(l="function"==typeof a?a:rl(!!a),b):l},b.container=function(a){return arguments.length?(m="function"==typeof a?a:rl(a),b):m},b.subject=function(a){return arguments.length?(o="function"==typeof a?a:rl(a),b):o},b.on=function(){var a=q.on.apply(q,arguments);return a===q?b:a},b},tl=function(a,b,c){a.prototype=b.prototype=c,c.constructor=a},ul=.7,vl=1/ul,wl="\\s*([+-]?\\d+)\\s*",xl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",yl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zl=/^#([0-9a-f]{3})$/,Al=/^#([0-9a-f]{6})$/,Bl=new RegExp("^rgb\\("+[wl,wl,wl]+"\\)$"),Cl=new RegExp("^rgb\\("+[yl,yl,yl]+"\\)$"),Dl=new RegExp("^rgba\\("+[wl,wl,wl,xl]+"\\)$"),El=new RegExp("^rgba\\("+[yl,yl,yl,xl]+"\\)$"),Fl=new RegExp("^hsl\\("+[xl,yl,yl]+"\\)$"),Gl=new RegExp("^hsla\\("+[xl,yl,yl,xl]+"\\)$"),Hl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tl(wa,xa,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),tl(Ca,Ba,va(wa,{brighter:function(a){return a=null==a?vl:Math.pow(vl,a),new Ca(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?ul:Math.pow(ul,a),new Ca(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),tl(Ga,Fa,va(wa,{brighter:function(a){return a=null==a?vl:Math.pow(vl,a),new Ga(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?ul:Math.pow(ul,a),new Ga(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new Ca(Ha(a>=240?a-240:a+120,e,d),Ha(a,e,d),Ha(a<120?a+240:a-120,e,d),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Il=Math.PI/180,Jl=180/Math.PI,Kl=18,Ll=.95047,Ml=1,Nl=1.08883,Ol=4/29,Pl=6/29,Ql=3*Pl*Pl,Rl=Pl*Pl*Pl;tl(Ka,Ja,va(wa,{brighter:function(a){return new Ka(this.l+Kl*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new Ka(this.l-Kl*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;return a=Ml*Ma(a),b=Ll*Ma(b),c=Nl*Ma(c),new Ca(Na(3.2404542*b-1.5371385*a-.4985314*c),Na(-.969266*b+1.8760108*a+.041556*c),Na(.0556434*b-.2040259*a+1.0572252*c),this.opacity)}})),tl(Ra,Qa,va(wa,{brighter:function(a){return new Ra(this.h,this.c,this.l+Kl*(null==a?1:a),this.opacity)},darker:function(a){return new Ra(this.h,this.c,this.l-Kl*(null==a?1:a),this.opacity)},rgb:function(){return Ia(this).rgb()}}));var Sl=-.14861,Tl=1.78277,Ul=-.29227,Vl=-.90649,Wl=1.97294,Xl=Wl*Vl,Yl=Wl*Tl,Zl=Tl*Ul-Vl*Sl;tl(Ua,Ta,va(wa,{brighter:function(a){return a=null==a?vl:Math.pow(vl,a),new Ua(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?ul:Math.pow(ul,a),new Ua(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*Il,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),d=Math.cos(a),e=Math.sin(a);return new Ca(255*(b+c*(Sl*d+Tl*e)),255*(b+c*(Ul*d+Vl*e)),255*(b+c*(Wl*d)),this.opacity)}}));var $l,_l,am,bm,cm,dm,em=function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return Va((c-d/b)*b,g,e,f,h)};
},fm=function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return Va((c-d/b)*b,e,f,g,h)}},gm=function(a){return function(){return a}},hm=function a(b){function c(a,b){var c=d((a=Ba(a)).r,(b=Ba(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=$a(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}var d=Za(b);return c.gamma=a,c}(1),im=_a(em),jm=_a(fm),km=function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=new Array(d),g=new Array(d);for(c=0;c<e;++c)f[c]=rm(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}},lm=function(a,b){var c=new Date;return a=+a,b-=a,function(d){return c.setTime(a+b*d),c}},mm=function(a,b){return a=+a,b-=a,function(c){return a+b*c}},nm=function(a,b){var c,d={},e={};null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={});for(c in b)c in a?d[c]=rm(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}},om=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pm=new RegExp(om.source,"g"),qm=function(a,b){var c,d,e,f=om.lastIndex=pm.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=om.exec(a))&&(d=pm.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:mm(c,d)})),f=pm.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?bb(i[0].x):ab(b):(b=i.length,function(a){for(var c,d=0;d<b;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})},rm=function(a,b){var c,d=typeof b;return null==b||"boolean"===d?gm(b):("number"===d?mm:"string"===d?(c=xa(b))?(b=c,hm):qm:b instanceof xa?hm:b instanceof Date?lm:Array.isArray(b)?km:isNaN(b)?nm:mm)(a,b)},sm=function(a,b){return a=+a,b-=a,function(c){return Math.round(a+b*c)}},tm=180/Math.PI,um={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},vm=function(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*tm,skewX:Math.atan(i)*tm,scaleX:g,scaleY:h}},wm=eb(cb,"px, ","px)","deg)"),xm=eb(db,", ",")",")"),ym=Math.SQRT2,zm=2,Am=4,Bm=1e-12,Cm=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(m<Bm)d=Math.log(j/g)/ym,c=function(a){return[e+a*k,f+a*l,g*Math.exp(ym*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+Am*m)/(2*g*zm*n),p=(j*j-g*g-Am*m)/(2*j*zm*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/ym,c=function(a){var b=a*d,c=fb(q),h=g/(zm*n)*(c*hb(ym*b+q)-gb(q));return[e+h*k,f+h*l,g*c/fb(ym*b+q)]}}return c.duration=1e3*d,c},Dm=ib(Ya),Em=ib($a),Fm=kb(Ya),Gm=kb($a),Hm=lb(Ya),Im=lb($a),Jm=function(a,b){for(var c=new Array(b),d=0;d<b;++d)c[d]=a(d/(b-1));return c},Km=0,Lm=0,Mm=0,Nm=1e3,Om=0,Pm=0,Qm=0,Rm="object"==typeof performance&&performance.now?performance:Date,Sm="function"==typeof requestAnimationFrame?requestAnimationFrame:function(a){setTimeout(a,17)};ob.prototype=pb.prototype={constructor:ob,restart:function(a,b,c){if("function"!=typeof a)throw new TypeError("callback is not a function");c=(null==c?mb():+c)+(null==b?0:+b),this._next||dm===this||(dm?dm._next=this:cm=this,dm=this),this._call=a,this._time=c,ub()},stop:function(){this._call&&(this._call=null,this._time=1/0,ub())}};var Tm=function(a,b,c){var d=new ob;return b=null==b?0:+b,d.restart(function(c){d.stop(),a(c+b)},b,c),d},Um=function(a,b,c){var d=new ob,e=b;return null==b?(d.restart(a,b,c),d):(b=+b,c=null==c?mb():+c,d.restart(function f(g){g+=e,d.restart(f,e+=b,c),a(g)},b,c),d)},Vm=n("start","end","interrupt"),Wm=[],Xm=0,Ym=1,Zm=2,$m=3,_m=4,an=5,bn=6,cn=function(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};yb(a,c,{name:b,index:d,group:e,on:Vm,tween:Wm,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:Xm})},dn=function(a,b){var c,d,e,f=a.__transition,g=!0;if(f){b=null==b?null:b+"";for(e in f)(c=f[e]).name===b?(d=c.state>Zm&&c.state<an,c.state=bn,c.timer.stop(),d&&c.on.call("interrupt",a,a.__data__,c.index,c.group),delete f[e]):g=!1;g&&delete a.__transition}},en=function(a){return this.each(function(){dn(this,a)})},fn=function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=xb(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?zb:Ab)(c,a,b))},gn=function(a,b){var c;return("number"==typeof b?mm:b instanceof xa?hm:(c=xa(b))?(b=c,hm):qm)(a,b)},hn=function(a,b){var c=rk(a),d="transform"===c?xm:gn;return this.attrTween(a,"function"==typeof b?(c.local?Hb:Gb)(c,d,Bb(this,"attr."+a,b)):null==b?(c.local?Db:Cb)(c):(c.local?Fb:Eb)(c,d,b))},jn=function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw new Error;var d=rk(a);return this.tween(c,(d.local?Ib:Jb)(d,b))},kn=function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?Kb:Lb)(b,a)):xb(this.node(),b).delay},ln=function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?Mb:Nb)(b,a)):xb(this.node(),b).duration},mn=function(a){var b=this._id;return arguments.length?this.each(Ob(b,a)):xb(this.node(),b).ease},nn=function(a){"function"!=typeof a&&(a=xk(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new Zb(d,this._parents,this._name,this._id)},on=function(a){if(a._id!==this._id)throw new Error;for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=new Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new Zb(g,this._parents,this._name,this._id)},pn=function(a,b){var c=this._id;return arguments.length<2?xb(this.node(),c).on.on(a):this.each(Qb(c,a,b))},qn=function(){return this.on("end.remove",Rb(this._id))},rn=function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=Ek(a));for(var d=this._groups,e=d.length,f=new Array(e),g=0;g<e;++g)for(var h,i,j=d[g],k=j.length,l=f[g]=new Array(k),m=0;m<k;++m)(h=j[m])&&(i=a.call(h,h.__data__,m,j))&&("__data__"in h&&(i.__data__=h.__data__),l[m]=i,cn(l[m],b,c,m,l,xb(h,c)));return new Zb(f,this._parents,b,c)},sn=function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=Gk(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],k=j.length,l=0;l<k;++l)if(i=j[l]){for(var m,n=a.call(i,i.__data__,l,j),o=xb(i,c),p=0,q=n.length;p<q;++p)(m=n[p])&&cn(m,b,c,p,n,o);f.push(n),g.push(i)}return new Zb(f,g,b,c)},tn=oa.prototype.constructor,un=function(){return new tn(this._groups,this._parents)},vn=function(a,b,c){var d="transform"==(a+="")?wm:gn;return null==b?this.styleTween(a,Sb(a,d)).on("end.style."+a,Tb(a)):this.styleTween(a,"function"==typeof b?Vb(a,d,Bb(this,"style."+a,b)):Ub(a,d,b),c)},wn=function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw new Error;return this.tween(d,Wb(a,b,null==c?"":c))},xn=function(a){return this.tween("text","function"==typeof a?Yb(Bb(this,"text",a)):Xb(null==a?"":a+""))},yn=function(){for(var a=this._name,b=this._id,c=_b(),d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=xb(g,b);cn(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new Zb(d,this._parents,a,c)},zn=0,An=oa.prototype;Zb.prototype=$b.prototype={constructor:Zb,select:rn,selectAll:sn,filter:nn,merge:on,selection:un,transition:yn,call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:pn,attr:hn,attrTween:jn,style:vn,styleTween:wn,text:xn,remove:qn,tween:fn,delay:kn,duration:ln,ease:mn};var Bn=3,Cn=function a(b){function c(a){return Math.pow(a,b)}return b=+b,c.exponent=a,c}(Bn),Dn=function a(b){function c(a){return 1-Math.pow(1-a,b)}return b=+b,c.exponent=a,c}(Bn),En=function a(b){function c(a){return((a*=2)<=1?Math.pow(a,b):2-Math.pow(2-a,b))/2}return b=+b,c.exponent=a,c}(Bn),Fn=Math.PI,Gn=Fn/2,Hn=4/11,In=6/11,Jn=8/11,Kn=.75,Ln=9/11,Mn=10/11,Nn=.9375,On=21/22,Pn=63/64,Qn=1/Hn/Hn,Rn=1.70158,Sn=function a(b){function c(a){return a*a*((b+1)*a-b)}return b=+b,c.overshoot=a,c}(Rn),Tn=function a(b){function c(a){return--a*a*((b+1)*a+b)+1}return b=+b,c.overshoot=a,c}(Rn),Un=function a(b){function c(a){return((a*=2)<1?a*a*((b+1)*a-b):(a-=2)*a*((b+1)*a+b)+2)/2}return b=+b,c.overshoot=a,c}(Rn),Vn=2*Math.PI,Wn=1,Xn=.3,Yn=function a(b,c){function d(a){return b*Math.pow(2,10*--a)*Math.sin((e-a)/c)}var e=Math.asin(1/(b=Math.max(1,b)))*(c/=Vn);return d.amplitude=function(b){return a(b,c*Vn)},d.period=function(c){return a(b,c)},d}(Wn,Xn),Zn=function a(b,c){function d(a){return 1-b*Math.pow(2,-10*(a=+a))*Math.sin((a+e)/c)}var e=Math.asin(1/(b=Math.max(1,b)))*(c/=Vn);return d.amplitude=function(b){return a(b,c*Vn)},d.period=function(c){return a(b,c)},d}(Wn,Xn),$n=function a(b,c){function d(a){return((a=2*a-1)<0?b*Math.pow(2,10*a)*Math.sin((e-a)/c):2-b*Math.pow(2,-10*a)*Math.sin((e+a)/c))/2}var e=Math.asin(1/(b=Math.max(1,b)))*(c/=Vn);return d.amplitude=function(b){return a(b,c*Vn)},d.period=function(c){return a(b,c)},d}(Wn,Xn),_n={time:null,delay:0,duration:250,ease:gc},ao=function(a){var b,c;a instanceof Zb?(b=a._id,a=a._name):(b=_b(),(c=_n).time=mb(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&cn(g,a,b,j,h,c||tc(g,b));return new Zb(d,this._parents,a,b)};oa.prototype.interrupt=en,oa.prototype.transition=ao;var bo=[null],co=function(a,b){var c,d,e=a.__transition;if(e){b=null==b?null:b+"";for(d in e)if((c=e[d]).state>Ym&&c.name===b)return new Zb([[a]],bo,b,+d)}return null},eo=function(a){return function(){return a}},fo=function(a,b,c){this.target=a,this.type=b,this.selection=c},go=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},ho={name:"drag"},io={name:"space"},jo={name:"handle"},ko={name:"center"},lo={name:"x",handles:["e","w"].map(vc),input:function(a,b){return a&&[[a[0],b[0][1]],[a[1],b[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},mo={name:"y",handles:["n","s"].map(vc),input:function(a,b){return a&&[[b[0][0],a[0]],[b[1][0],a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},no={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(vc),input:function(a){return a},output:function(a){return a}},oo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},po={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},qo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ro={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},so={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},to=function(){return Dc(no)},uo=Math.cos,vo=Math.sin,wo=Math.PI,xo=wo/2,yo=2*wo,zo=Math.max,Ao=function(){function a(a){var f,g,h,i,j,k,l=a.length,m=[],n=Nj(l),o=[],p=[],q=p.groups=new Array(l),r=new Array(l*l);for(f=0,j=-1;++j<l;){for(g=0,k=-1;++k<l;)g+=a[j][k];m.push(g),o.push(Nj(l)),f+=g}for(c&&n.sort(function(a,b){return c(m[a],m[b])}),d&&o.forEach(function(b,c){b.sort(function(b,e){return d(a[c][b],a[c][e])})}),f=zo(0,yo-b*l)/f,i=f?b:yo/l,g=0,j=-1;++j<l;){for(h=g,k=-1;++k<l;){var s=n[j],t=o[s][k],u=a[s][t],v=g,w=g+=u*f;r[t*l+s]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}q[s]={index:s,startAngle:h,endAngle:g,value:m[s]},g+=i}for(j=-1;++j<l;)for(k=j-1;++k<l;){var x=r[k*l+j],y=r[j*l+k];(x.value||y.value)&&p.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}return e?p.sort(e):p}var b=0,c=null,d=null,e=null;return a.padAngle=function(c){return arguments.length?(b=zo(0,c),a):b},a.sortGroups=function(b){return arguments.length?(c=b,a):c},a.sortSubgroups=function(b){return arguments.length?(d=b,a):d},a.sortChords=function(b){return arguments.length?(null==b?e=null:(e=Ec(b))._=b,a):e&&e._},a},Bo=Array.prototype.slice,Co=function(a){return function(){return a}},Do=Math.PI,Eo=2*Do,Fo=1e-6,Go=Eo-Fo;Fc.prototype=Gc.prototype={constructor:Fc,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,c,d){this._+="Q"+ +a+","+ +b+","+(this._x1=+c)+","+(this._y1=+d)},bezierCurveTo:function(a,b,c,d,e,f){this._+="C"+ +a+","+ +b+","+ +c+","+ +d+","+(this._x1=+e)+","+(this._y1=+f)},arcTo:function(a,b,c,d,e){a=+a,b=+b,c=+c,d=+d,e=+e;var f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(e<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=a)+","+(this._y1=b);else if(l>Fo)if(Math.abs(k*h-i*j)>Fo&&e){var m=c-f,n=d-g,o=h*h+i*i,p=m*m+n*n,q=Math.sqrt(o),r=Math.sqrt(l),s=e*Math.tan((Do-Math.acos((o+l-p)/(2*q*r)))/2),t=s/r,u=s/q;Math.abs(t-1)>Fo&&(this._+="L"+(a+t*j)+","+(b+t*k)),this._+="A"+e+","+e+",0,0,"+ +(k*m>j*n)+","+(this._x1=a+u*h)+","+(this._y1=b+u*i)}else this._+="L"+(this._x1=a)+","+(this._y1=b)},arc:function(a,b,c,d,e,f){a=+a,b=+b,c=+c;var g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;if(c<0)throw new Error("negative radius: "+c);null===this._x1?this._+="M"+i+","+j:(Math.abs(this._x1-i)>Fo||Math.abs(this._y1-j)>Fo)&&(this._+="L"+i+","+j),c&&(l>Go?this._+="A"+c+","+c+",0,1,"+k+","+(a-g)+","+(b-h)+"A"+c+","+c+",0,1,"+k+","+(this._x1=i)+","+(this._y1=j):(l<0&&(l=l%Eo+Eo),this._+="A"+c+","+c+",0,"+ +(l>=Do)+","+k+","+(this._x1=a+c*Math.cos(e))+","+(this._y1=b+c*Math.sin(e))))},rect:function(a,b,c,d){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)+"h"+ +c+"v"+ +d+"h"+-c+"Z"},toString:function(){return this._}};var Ho=function(){function a(){var a,h=Bo.call(arguments),i=b.apply(this,h),j=c.apply(this,h),k=+d.apply(this,(h[0]=i,h)),l=e.apply(this,h)-xo,m=f.apply(this,h)-xo,n=k*uo(l),o=k*vo(l),p=+d.apply(this,(h[0]=j,h)),q=e.apply(this,h)-xo,r=f.apply(this,h)-xo;if(g||(g=a=Gc()),g.moveTo(n,o),g.arc(0,0,k,l,m),l===q&&m===r||(g.quadraticCurveTo(0,0,p*uo(q),p*vo(q)),g.arc(0,0,p,q,r)),g.quadraticCurveTo(0,0,n,o),g.closePath(),a)return g=null,a+""||null}var b=Hc,c=Ic,d=Jc,e=Kc,f=Lc,g=null;return a.radius=function(b){return arguments.length?(d="function"==typeof b?b:Co(+b),a):d},a.startAngle=function(b){return arguments.length?(e="function"==typeof b?b:Co(+b),a):e},a.endAngle=function(b){return arguments.length?(f="function"==typeof b?b:Co(+b),a):f},a.source=function(c){return arguments.length?(b=c,a):b},a.target=function(b){return arguments.length?(c=b,a):c},a.context=function(b){return arguments.length?(g=null==b?null:b,a):g},a},Io="$";Mc.prototype=Nc.prototype={constructor:Mc,has:function(a){return Io+a in this},get:function(a){return this[Io+a]},set:function(a,b){return this[Io+a]=b,this},remove:function(a){var b=Io+a;return b in this&&delete this[b]},clear:function(){for(var a in this)a[0]===Io&&delete this[a]},keys:function(){var a=[];for(var b in this)b[0]===Io&&a.push(b.slice(1));return a},values:function(){var a=[];for(var b in this)b[0]===Io&&a.push(this[b]);return a},entries:function(){var a=[];for(var b in this)b[0]===Io&&a.push({key:b.slice(1),value:this[b]});return a},size:function(){var a=0;for(var b in this)b[0]===Io&&++a;return a},empty:function(){for(var a in this)if(a[0]===Io)return!1;return!0},each:function(a){for(var b in this)b[0]===Io&&a(this[b],b.slice(1),this)}};var Jo=function(){function a(b,e,g,h){if(e>=f.length)return null!=d?d(b):null!=c?b.sort(c):b;for(var i,j,k,l=-1,m=b.length,n=f[e++],o=Nc(),p=g();++l<m;)(k=o.get(i=n(j=b[l])+""))?k.push(j):o.set(i,[j]);return o.each(function(b,c){h(p,c,a(b,e,g,h))}),p}function b(a,c){if(++c>f.length)return a;var e,h=g[c-1];return null!=d&&c>=f.length?e=a.entries():(e=[],a.each(function(a,d){e.push({key:d,values:b(a,c)})})),null!=h?e.sort(function(a,b){return h(a.key,b.key)}):e}var c,d,e,f=[],g=[];return e={object:function(b){return a(b,0,Oc,Pc)},map:function(b){return a(b,0,Qc,Rc)},entries:function(c){return b(a(c,0,Qc,Rc),0)},key:function(a){return f.push(a),e},sortKeys:function(a){return g[f.length-1]=a,e},sortValues:function(a){return c=a,e},rollup:function(a){return d=a,e}}},Ko=Nc.prototype;Sc.prototype=Tc.prototype={constructor:Sc,has:Ko.has,add:function(a){return a+="",this[Io+a]=a,this},remove:Ko.remove,clear:Ko.clear,values:Ko.keys,size:Ko.size,empty:Ko.empty,each:Ko.each};var Lo=function(a){var b=[];for(var c in a)b.push(c);return b},Mo=function(a){var b=[];for(var c in a)b.push(a[c]);return b},No=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},Oo=function(a){function b(a,b){var d,e,f=c(a,function(a,c){return d?d(a,c-1):(e=a,void(d=b?Vc(a,b):Uc(a)))});return f.columns=e,f}function c(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b,c=k;if(34===a.charCodeAt(c)){for(var d=c;d++<j;)if(34===a.charCodeAt(d)){if(34!==a.charCodeAt(d+1))break;++d}return k=d+2,b=a.charCodeAt(d+1),13===b?(e=!0,10===a.charCodeAt(d+2)&&++k):10===b&&(e=!0),a.slice(c+1,d).replace(/""/g,'"')}for(;k<j;){var h=1;if(b=a.charCodeAt(k++),10===b)e=!0;else if(13===b)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(b!==i)continue;return a.slice(c,k-h)}return a.slice(c)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h}function d(b,c){return null==c&&(c=Wc(b)),[c.map(g).join(a)].concat(b.map(function(b){return c.map(function(a){return g(b[a])}).join(a)})).join("\n")}function e(a){return a.map(f).join("\n")}function f(b){return b.map(g).join(a)}function g(a){return null==a?"":h.test(a+="")?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return{parse:b,parseRows:c,format:d,formatRows:e}},Po=Oo(","),Qo=Po.parse,Ro=Po.parseRows,So=Po.format,To=Po.formatRows,Uo=Oo("\t"),Vo=Uo.parse,Wo=Uo.parseRows,Xo=Uo.format,Yo=Uo.formatRows,Zo=function(a,b){function c(){var c,e,f=d.length,g=0,h=0;for(c=0;c<f;++c)e=d[c],g+=e.x,h+=e.y;for(g=g/f-a,h=h/f-b,c=0;c<f;++c)e=d[c],e.x-=g,e.y-=h}var d;return null==a&&(a=0),null==b&&(b=0),c.initialize=function(a){d=a},c.x=function(b){return arguments.length?(a=+b,c):a},c.y=function(a){return arguments.length?(b=+a,c):b},c},$o=function(a){return function(){return a}},_o=function(){return 1e-6*(Math.random()-.5)},ap=function(a){var b=+this._x.call(null,a),c=+this._y.call(null,a);return Xc(this.cover(b,c),b,c,a)},bp=function(a,b){if(isNaN(a=+a)||isNaN(b=+b))return this;var c=this._x0,d=this._y0,e=this._x1,f=this._y1;if(isNaN(c))e=(c=Math.floor(a))+1,f=(d=Math.floor(b))+1;else{if(!(c>a||a>e||d>b||b>f))return this;var g,h,i=e-c,j=this._root;switch(h=(b<(d+f)/2)<<1|a<(c+e)/2){case 0:do g=new Array(4),g[h]=j,j=g;while(i*=2,e=c+i,f=d+i,a>e||b>f);break;case 1:do g=new Array(4),g[h]=j,j=g;while(i*=2,c=e-i,f=d+i,c>a||b>f);break;case 2:do g=new Array(4),g[h]=j,j=g;while(i*=2,e=c+i,d=f-i,a>e||d>b);break;case 3:do g=new Array(4),g[h]=j,j=g;while(i*=2,c=e-i,d=f-i,c>a||d>b)}this._root&&this._root.length&&(this._root=j)}return this._x0=c,this._y0=d,this._x1=e,this._y1=f,this},cp=function(){var a=[];return this.visit(function(b){if(!b.length)do a.push(b.data);while(b=b.next)}),a},dp=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ep=function(a,b,c,d,e){this.node=a,this.x0=b,this.y0=c,this.x1=d,this.y1=e},fp=function(a,b,c){var d,e,f,g,h,i,j,k=this._x0,l=this._y0,m=this._x1,n=this._y1,o=[],p=this._root;for(p&&o.push(new ep(p,k,l,m,n)),null==c?c=1/0:(k=a-c,l=b-c,m=a+c,n=b+c,c*=c);i=o.pop();)if(!(!(p=i.node)||(e=i.x0)>m||(f=i.y0)>n||(g=i.x1)<k||(h=i.y1)<l))if(p.length){var q=(e+g)/2,r=(f+h)/2;o.push(new ep(p[3],q,r,g,h),new ep(p[2],e,r,q,h),new ep(p[1],q,f,g,r),new ep(p[0],e,f,q,r)),(j=(b>=r)<<1|a>=q)&&(i=o[o.length-1],o[o.length-1]=o[o.length-1-j],o[o.length-1-j]=i)}else{var s=a-+this._x.call(null,p.data),t=b-+this._y.call(null,p.data),u=s*s+t*t;if(u<c){var v=Math.sqrt(c=u);k=a-v,l=b-v,m=a+v,n=b+v,d=p.data}}return d},gp=function(a){if(isNaN(f=+this._x.call(null,a))||isNaN(g=+this._y.call(null,a)))return this;var b,c,d,e,f,g,h,i,j,k,l,m,n=this._root,o=this._x0,p=this._y0,q=this._x1,r=this._y1;if(!n)return this;if(n.length)for(;;){if((j=f>=(h=(o+q)/2))?o=h:q=h,(k=g>=(i=(p+r)/2))?p=i:r=i,b=n,!(n=n[l=k<<1|j]))return this;if(!n.length)break;(b[l+1&3]||b[l+2&3]||b[l+3&3])&&(c=b,m=l)}for(;n.data!==a;)if(d=n,!(n=n.next))return this;return(e=n.next)&&delete n.next,d?(e?d.next=e:delete d.next,this):b?(e?b[l]=e:delete b[l],(n=b[0]||b[1]||b[2]||b[3])&&n===(b[3]||b[2]||b[1]||b[0])&&!n.length&&(c?c[m]=n:this._root=n),this):(this._root=e,this)},hp=function(){return this._root},ip=function(){var a=0;return this.visit(function(b){if(!b.length)do++a;while(b=b.next)}),a},jp=function(a){var b,c,d,e,f,g,h=[],i=this._root;for(i&&h.push(new ep(i,this._x0,this._y0,this._x1,this._y1));b=h.pop();)if(!a(i=b.node,d=b.x0,e=b.y0,f=b.x1,g=b.y1)&&i.length){var j=(d+f)/2,k=(e+g)/2;(c=i[3])&&h.push(new ep(c,j,k,f,g)),(c=i[2])&&h.push(new ep(c,d,k,j,g)),(c=i[1])&&h.push(new ep(c,j,e,f,k)),(c=i[0])&&h.push(new ep(c,d,e,j,k))}return this},kp=function(a){var b,c=[],d=[];for(this._root&&c.push(new ep(this._root,this._x0,this._y0,this._x1,this._y1));b=c.pop();){var e=b.node;if(e.length){var f,g=b.x0,h=b.y0,i=b.x1,j=b.y1,k=(g+i)/2,l=(h+j)/2;(f=e[0])&&c.push(new ep(f,g,h,k,l)),(f=e[1])&&c.push(new ep(f,k,h,i,l)),(f=e[2])&&c.push(new ep(f,g,l,k,j)),(f=e[3])&&c.push(new ep(f,k,l,i,j))}d.push(b)}for(;b=d.pop();)a(b.node,b.x0,b.y0,b.x1,b.y1);return this},lp=function(a){return arguments.length?(this._x=a,this):this._x},mp=function(a){return arguments.length?(this._y=a,this):this._y},np=ad.prototype=bd.prototype;np.copy=function(){var a,b,c=new bd(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root;if(!d)return c;if(!d.length)return c._root=cd(d),c;for(a=[{source:d,target:c._root=new Array(4)}];d=a.pop();)for(var e=0;e<4;++e)(b=d.source[e])&&(b.length?a.push({source:b,target:d.target[e]=new Array(4)}):d.target[e]=cd(b));return c},np.add=ap,np.addAll=Yc,np.cover=bp,np.data=cp,np.extent=dp,np.find=fp,np.remove=gp,np.removeAll=Zc,np.root=hp,np.size=ip,np.visit=jp,np.visitAfter=kp,np.x=lp,np.y=mp;var op,pp=function(a){function b(){function a(a,b,c,d,e){var f=a.data,h=a.r,n=l+h;if(!f)return b>j+n||d<j-n||c>k+n||e<k-n;if(f.index>i.index){var o=j-f.x-f.vx,p=k-f.y-f.vy,q=o*o+p*p;q<n*n&&(0===o&&(o=_o(),q+=o*o),0===p&&(p=_o(),q+=p*p),q=(n-(q=Math.sqrt(q)))/q*g,i.vx+=(o*=q)*(n=(h*=h)/(m+h)),i.vy+=(p*=q)*n,f.vx-=o*(n=1-n),f.vy-=p*n)}}for(var b,d,i,j,k,l,m,n=e.length,o=0;o<h;++o)for(d=ad(e,dd,ed).visitAfter(c),b=0;b<n;++b)i=e[b],l=f[i.index],m=l*l,j=i.x+i.vx,k=i.y+i.vy,d.visit(a)}function c(a){if(a.data)return a.r=f[a.data.index];for(var b=a.r=0;b<4;++b)a[b]&&a[b].r>a.r&&(a.r=a[b].r)}function d(){if(e){var b,c,d=e.length;for(f=new Array(d),b=0;b<d;++b)c=e[b],f[c.index]=+a(c,b,e)}}var e,f,g=1,h=1;return"function"!=typeof a&&(a=$o(null==a?1:+a)),b.initialize=function(a){e=a,d()},b.iterations=function(a){return arguments.length?(h=+a,b):h},b.strength=function(a){return arguments.length?(g=+a,b):g},b.radius=function(c){return arguments.length?(a="function"==typeof c?c:$o(+c),d(),b):a},b},qp=function(a){function b(a){return 1/Math.min(j[a.source.index],j[a.target.index])}function c(b){for(var c=0,d=a.length;c<o;++c)for(var e,f,i,j,l,m,n,p=0;p<d;++p)e=a[p],f=e.source,i=e.target,j=i.x+i.vx-f.x-f.vx||_o(),l=i.y+i.vy-f.y-f.vy||_o(),m=Math.sqrt(j*j+l*l),m=(m-h[p])/m*b*g[p],j*=m,l*=m,i.vx-=j*(n=k[p]),i.vy-=l*n,f.vx+=j*(n=1-n),f.vy+=l*n}function d(){if(i){var b,c,d=i.length,m=a.length,n=Nc(i,l);for(b=0,j=new Array(d);b<m;++b)c=a[b],c.index=b,"object"!=typeof c.source&&(c.source=gd(n,c.source)),"object"!=typeof c.target&&(c.target=gd(n,c.target)),j[c.source.index]=(j[c.source.index]||0)+1,j[c.target.index]=(j[c.target.index]||0)+1;for(b=0,k=new Array(m);b<m;++b)c=a[b],k[b]=j[c.source.index]/(j[c.source.index]+j[c.target.index]);g=new Array(m),e(),h=new Array(m),f()}}function e(){if(i)for(var b=0,c=a.length;b<c;++b)g[b]=+m(a[b],b,a)}function f(){if(i)for(var b=0,c=a.length;b<c;++b)h[b]=+n(a[b],b,a)}var g,h,i,j,k,l=fd,m=b,n=$o(30),o=1;return null==a&&(a=[]),c.initialize=function(a){i=a,d()},c.links=function(b){return arguments.length?(a=b,d(),c):a},c.id=function(a){return arguments.length?(l=a,c):l},c.iterations=function(a){return arguments.length?(o=+a,c):o},c.strength=function(a){return arguments.length?(m="function"==typeof a?a:$o(+a),e(),c):m},c.distance=function(a){return arguments.length?(n="function"==typeof a?a:$o(+a),f(),c):n},c},rp=10,sp=Math.PI*(3-Math.sqrt(5)),tp=function(a){function b(){c(),o.call("tick",f),g<h&&(m.stop(),o.call("end",f))}function c(){var b,c,d=a.length;for(g+=(j-g)*i,l.each(function(a){a(g)}),b=0;b<d;++b)c=a[b],null==c.fx?c.x+=c.vx*=k:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=k:(c.y=c.fy,c.vy=0)}function d(){for(var b,c=0,d=a.length;c<d;++c){if(b=a[c],b.index=c,isNaN(b.x)||isNaN(b.y)){var e=rp*Math.sqrt(c),f=c*sp;b.x=e*Math.cos(f),b.y=e*Math.sin(f)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function e(b){return b.initialize&&b.initialize(a),b}var f,g=1,h=.001,i=1-Math.pow(h,1/300),j=0,k=.6,l=Nc(),m=pb(b),o=n("tick","end");return null==a&&(a=[]),d(),f={tick:c,restart:function(){return m.restart(b),f},stop:function(){return m.stop(),f},nodes:function(b){return arguments.length?(a=b,d(),l.each(e),f):a},alpha:function(a){return arguments.length?(g=+a,f):g},alphaMin:function(a){return arguments.length?(h=+a,f):h},alphaDecay:function(a){return arguments.length?(i=+a,f):+i},alphaTarget:function(a){return arguments.length?(j=+a,f):j},velocityDecay:function(a){return arguments.length?(k=1-a,f):1-k},force:function(a,b){return arguments.length>1?(null==b?l.remove(a):l.set(a,e(b)),f):l.get(a)},find:function(b,c,d){var e,f,g,h,i,j=0,k=a.length;for(null==d?d=1/0:d*=d,j=0;j<k;++j)h=a[j],e=b-h.x,f=c-h.y,g=e*e+f*f,g<d&&(i=h,d=g);return i},on:function(a,b){return arguments.length>1?(o.on(a,b),f):o.on(a)}}},up=function(){function a(a){var b,h=e.length,i=ad(e,hd,id).visitAfter(c);for(g=a,b=0;b<h;++b)f=e[b],i.visit(d)}function b(){if(e){var a,b,c=e.length;for(h=new Array(c),a=0;a<c;++a)b=e[a],h[b.index]=+i(b,a,e)}}function c(a){var b,c,d,e,f,g=0;if(a.length){for(d=e=f=0;f<4;++f)(b=a[f])&&(c=b.value)&&(g+=c,d+=c*b.x,e+=c*b.y);a.x=d/g,a.y=e/g}else{b=a,b.x=b.data.x,b.y=b.data.y;do g+=h[b.data.index];while(b=b.next)}a.value=g}function d(a,b,c,d){if(!a.value)return!0;var e=a.x-f.x,i=a.y-f.y,m=d-b,n=e*e+i*i;if(m*m/l<n)return n<k&&(0===e&&(e=_o(),n+=e*e),0===i&&(i=_o(),n+=i*i),n<j&&(n=Math.sqrt(j*n)),f.vx+=e*a.value*g/n,f.vy+=i*a.value*g/n),!0;if(!(a.length||n>=k)){(a.data!==f||a.next)&&(0===e&&(e=_o(),n+=e*e),0===i&&(i=_o(),n+=i*i),n<j&&(n=Math.sqrt(j*n)));do a.data!==f&&(m=h[a.data.index]*g/n,f.vx+=e*m,f.vy+=i*m);while(a=a.next)}}var e,f,g,h,i=$o(-30),j=1,k=1/0,l=.81;return a.initialize=function(a){e=a,b()},a.strength=function(c){return arguments.length?(i="function"==typeof c?c:$o(+c),b(),a):i},a.distanceMin=function(b){return arguments.length?(j=b*b,a):Math.sqrt(j)},a.distanceMax=function(b){return arguments.length?(k=b*b,a):Math.sqrt(k)},a.theta=function(b){return arguments.length?(l=b*b,a):Math.sqrt(l)},a},vp=function(a){function b(a){for(var b,c=0,g=d.length;c<g;++c)b=d[c],b.vx+=(f[c]-b.x)*e[c]*a}function c(){if(d){var b,c=d.length;for(e=new Array(c),f=new Array(c),b=0;b<c;++b)e[b]=isNaN(f[b]=+a(d[b],b,d))?0:+g(d[b],b,d)}}var d,e,f,g=$o(.1);return"function"!=typeof a&&(a=$o(null==a?0:+a)),b.initialize=function(a){d=a,c()},b.strength=function(a){return arguments.length?(g="function"==typeof a?a:$o(+a),c(),b):g},b.x=function(d){return arguments.length?(a="function"==typeof d?d:$o(+d),c(),b):a},b},wp=function(a){function b(a){for(var b,c=0,g=d.length;c<g;++c)b=d[c],b.vy+=(f[c]-b.y)*e[c]*a}function c(){if(d){var b,c=d.length;for(e=new Array(c),f=new Array(c),b=0;b<c;++b)e[b]=isNaN(f[b]=+a(d[b],b,d))?0:+g(d[b],b,d)}}var d,e,f,g=$o(.1);return"function"!=typeof a&&(a=$o(null==a?0:+a)),b.initialize=function(a){d=a,c()},b.strength=function(a){return arguments.length?(g="function"==typeof a?a:$o(+a),c(),b):g},b.y=function(d){return arguments.length?(a="function"==typeof d?d:$o(+d),c(),b):a},b},xp=function(a,b){if((c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"))<0)return null;var c,d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]},yp=function(a){return a=xp(Math.abs(a)),a?a[1]:NaN},zp=function(a,b){return function(c,d){for(var e=c.length,f=[],g=0,h=a[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(c.substring(e-=h,e+h)),!((i+=h+1)>d));)h=a[g=(g+1)%a.length];return f.reverse().join(b)}},Ap=function(a,b){a=a.toPrecision(b);a:for(var c,d=a.length,e=1,f=-1;e<d;++e)switch(a[e]){case".":f=c=e;break;case"0":0===f&&(f=e),c=e;break;case"e":break a;default:f>0&&(f=0)}return f>0?a.slice(0,f)+a.slice(c+1):a},Bp=function(a,b){var c=xp(a,b);if(!c)return a+"";var d=c[0],e=c[1],f=e-(op=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,g=d.length;return f===g?d:f>g?d+new Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+new Array(1-f).join("0")+xp(a,Math.max(0,b+f-1))[0]},Cp=function(a,b){var c=xp(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+new Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+new Array(e-d.length+2).join("0")},Dp={"":Ap,"%":function(a,b){return(100*a).toFixed(b)},b:function(a){return Math.round(a).toString(2)},c:function(a){return a+""},d:function(a){return Math.round(a).toString(10)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},g:function(a,b){return a.toPrecision(b)},o:function(a){return Math.round(a).toString(8)},p:function(a,b){return Cp(100*a,b)},r:Cp,s:Bp,X:function(a){return Math.round(a).toString(16).toUpperCase()},x:function(a){return Math.round(a).toString(16)}},Ep=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Fp=function(a){return new jd(a)};jd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Gp,Hp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Ip=function(a){function b(a){function b(a){var b,e,i,s=o,t=p;if("c"===n)t=q(a)+t,a="";else{a=+a;var u=(a<0||1/a<0)&&(a*=-1,!0);if(a=q(a,m),u)for(b=-1,e=a.length,u=!1;++b<e;)if(i=a.charCodeAt(b),48<i&&i<58||"x"===n&&96<i&&i<103||"X"===n&&64<i&&i<71){u=!0;break}if(s=(u?"("===h?h:"-":"-"===h||"("===h?"":h)+s,t=t+("s"===n?Hp[8+op/3]:"")+(u&&"("===h?")":""),r)for(b=-1,e=a.length;++b<e;)if(i=a.charCodeAt(b),48>i||i>57){t=(46===i?f+a.slice(b+1):a.slice(b))+t,a=a.slice(0,b);break}}l&&!j&&(a=d(a,1/0));var v=s.length+a.length+t.length,w=v<k?new Array(k-v+1).join(c):"";switch(l&&j&&(a=d(w+a,w.length?k-t.length:1/0),w=""),g){case"<":return s+a+t+w;case"=":return s+w+a+t;case"^":return w.slice(0,v=w.length>>1)+s+a+t+w.slice(v)}return w+s+a+t}a=Fp(a);var c=a.fill,g=a.align,h=a.sign,i=a.symbol,j=a.zero,k=a.width,l=a.comma,m=a.precision,n=a.type,o="$"===i?e[0]:"#"===i&&/[boxX]/.test(n)?"0"+n.toLowerCase():"",p="$"===i?e[1]:/[%p]/.test(n)?"%":"",q=Dp[n],r=!n||/[defgprs%]/.test(n);return m=null==m?n?6:12:/[gprs]/.test(n)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),b.toString=function(){return a+""},b}function c(a,c){var d=b((a=Fp(a),a.type="f",a)),e=3*Math.max(-8,Math.min(8,Math.floor(yp(c)/3))),f=Math.pow(10,-e),g=Hp[8+e/3];return function(a){return d(f*a)+g}}var d=a.grouping&&a.thousands?zp(a.grouping,a.thousands):kd,e=a.currency,f=a.decimal;return{format:b,formatPrefix:c}};ld({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Jp=function(a){return Math.max(0,-yp(Math.abs(a)));
},Kp=function(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yp(b)/3)))-yp(Math.abs(a)))},Lp=function(a,b){return a=Math.abs(a),b=Math.abs(b)-a,Math.max(0,yp(b)-yp(a))+1},Mp=function(){return new md};md.prototype={constructor:md,reset:function(){this.s=this.t=0},add:function(a){nd(qq,a,this.t),nd(this,qq.s,this.s),this.s?this.t+=qq.t:this.s=qq.t},valueOf:function(){return this.s}};var Np,Op,Pp,Qp,Rp,Sp,Tp,Up,Vp,Wp,Xp,Yp,Zp,$p,_p,aq,bq,cq,dq,eq,fq,gq,hq,iq,jq,kq,lq,mq,nq,oq,pq,qq=new md,rq=1e-6,sq=1e-12,tq=Math.PI,uq=tq/2,vq=tq/4,wq=2*tq,xq=180/tq,yq=tq/180,zq=Math.abs,Aq=Math.atan,Bq=Math.atan2,Cq=Math.cos,Dq=Math.ceil,Eq=Math.exp,Fq=Math.log,Gq=Math.pow,Hq=Math.sin,Iq=Math.sign||function(a){return a>0?1:a<0?-1:0},Jq=Math.sqrt,Kq=Math.tan,Lq={Feature:function(a,b){sd(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)sd(c[d].geometry,b)}},Mq={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){td(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)td(c[d],b,0)},Polygon:function(a,b){ud(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)ud(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)sd(c[d],b)}},Nq=function(a,b){a&&Lq.hasOwnProperty(a.type)?Lq[a.type](a,b):sd(a,b)},Oq=Mp(),Pq=Mp(),Qq={point:rd,lineStart:rd,lineEnd:rd,polygonStart:function(){Oq.reset(),Qq.lineStart=vd,Qq.lineEnd=wd},polygonEnd:function(){var a=+Oq;Pq.add(a<0?wq+a:a),this.lineStart=this.lineEnd=this.point=rd},sphere:function(){Pq.add(wq)}},Rq=function(a){return Pq.reset(),Nq(a,Qq),2*Pq},Sq=Mp(),Tq={point:Gd,lineStart:Id,lineEnd:Jd,polygonStart:function(){Tq.point=Kd,Tq.lineStart=Ld,Tq.lineEnd=Md,Sq.reset(),Qq.polygonStart()},polygonEnd:function(){Qq.polygonEnd(),Tq.point=Gd,Tq.lineStart=Id,Tq.lineEnd=Jd,Oq<0?(Sp=-(Up=180),Tp=-(Vp=90)):Sq>rq?Vp=90:Sq<-rq&&(Tp=-90),_p[0]=Sp,_p[1]=Up}},Uq=function(a){var b,c,d,e,f,g,h;if(Vp=Up=-(Sp=Tp=1/0),$p=[],Nq(a,Tq),c=$p.length){for($p.sort(Od),b=1,d=$p[0],f=[d];b<c;++b)e=$p[b],Pd(d,e[0])||Pd(d,e[1])?(Nd(d[0],e[1])>Nd(d[0],d[1])&&(d[1]=e[1]),Nd(e[0],d[1])>Nd(d[0],d[1])&&(d[0]=e[0])):f.push(d=e);for(g=-(1/0),c=f.length-1,b=0,d=f[c];b<=c;d=e,++b)e=f[b],(h=Nd(d[1],e[0]))>g&&(g=h,Sp=e[0],Up=d[1])}return $p=_p=null,Sp===1/0||Tp===1/0?[[NaN,NaN],[NaN,NaN]]:[[Sp,Tp],[Up,Vp]]},Vq={sphere:rd,point:Qd,lineStart:Sd,lineEnd:Vd,polygonStart:function(){Vq.lineStart=Wd,Vq.lineEnd=Xd},polygonEnd:function(){Vq.lineStart=Sd,Vq.lineEnd=Vd}},Wq=function(a){aq=bq=cq=dq=eq=fq=gq=hq=iq=jq=kq=0,Nq(a,Vq);var b=iq,c=jq,d=kq,e=b*b+c*c+d*d;return e<sq&&(b=fq,c=gq,d=hq,bq<rq&&(b=cq,c=dq,d=eq),e=b*b+c*c+d*d,e<sq)?[NaN,NaN]:[Bq(c,b)*xq,pd(d/Jq(e))*xq]},Xq=function(a){return function(){return a}},Yq=function(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c};$d.invert=$d;var Zq,$q,_q,ar,br,cr,dr,er,fr,gr,hr,ir=function(a){function b(b){return b=a(b[0]*yq,b[1]*yq),b[0]*=xq,b[1]*=xq,b}return a=_d(a[0]*yq,a[1]*yq,a.length>2?a[2]*yq:0),b.invert=function(b){return b=a.invert(b[0]*yq,b[1]*yq),b[0]*=xq,b[1]*=xq,b},b},jr=function(){function a(a,b){c.push(a=d(a,b)),a[0]*=xq,a[1]*=xq}function b(){var a=e.apply(this,arguments),b=f.apply(this,arguments)*yq,i=g.apply(this,arguments)*yq;return c=[],d=_d(-a[0]*yq,-a[1]*yq,0).invert,de(h,b,i,1),a={type:"Polygon",coordinates:[c]},c=d=null,a}var c,d,e=Xq([0,0]),f=Xq(90),g=Xq(6),h={point:a};return b.center=function(a){return arguments.length?(e="function"==typeof a?a:Xq([+a[0],+a[1]]),b):e},b.radius=function(a){return arguments.length?(f="function"==typeof a?a:Xq(+a),b):f},b.precision=function(a){return arguments.length?(g="function"==typeof a?a:Xq(+a),b):g},b},kr=function(){var a,b=[];return{point:function(b,c){a.push([b,c])},lineStart:function(){b.push(a=[])},lineEnd:rd,rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))},result:function(){var c=b;return b=[],a=null,c}}},lr=function(a,b,c,d,e,f){var g,h=a[0],i=a[1],j=b[0],k=b[1],l=0,m=1,n=j-h,o=k-i;if(g=c-h,n||!(g>0)){if(g/=n,n<0){if(g<l)return;g<m&&(m=g)}else if(n>0){if(g>m)return;g>l&&(l=g)}if(g=e-h,n||!(g<0)){if(g/=n,n<0){if(g>m)return;g>l&&(l=g)}else if(n>0){if(g<l)return;g<m&&(m=g)}if(g=d-i,o||!(g>0)){if(g/=o,o<0){if(g<l)return;g<m&&(m=g)}else if(o>0){if(g>m)return;g>l&&(l=g)}if(g=f-i,o||!(g<0)){if(g/=o,o<0){if(g>m)return;g>l&&(l=g)}else if(o>0){if(g<l)return;g<m&&(m=g)}return l>0&&(a[0]=h+l*n,a[1]=i+l*o),m<1&&(b[0]=h+m*n,b[1]=i+m*o),!0}}}}},mr=function(a,b){return zq(a[0]-b[0])<rq&&zq(a[1]-b[1])<rq},nr=function(a,b,c,d,e){var f,g,h=[],i=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c,d=a[0],g=a[b];if(mr(d,g)){for(e.lineStart(),f=0;f<b;++f)e.point((d=a[f])[0],d[1]);return void e.lineEnd()}h.push(c=new fe(d,a,null,!0)),i.push(c.o=new fe(d,null,c,!1)),h.push(c=new fe(g,a,null,!1)),i.push(c.o=new fe(g,null,c,!0))}}),h.length){for(i.sort(b),ge(h),ge(i),f=0,g=i.length;f<g;++f)i[f].e=c=!c;for(var j,k,l=h[0];;){for(var m=l,n=!0;m.v;)if((m=m.n)===l)return;j=m.z,e.lineStart();do{if(m.v=m.o.v=!0,m.e){if(n)for(f=0,g=j.length;f<g;++f)e.point((k=j[f])[0],k[1]);else d(m.x,m.n.x,1,e);m=m.n}else{if(n)for(j=m.p.z,f=j.length-1;f>=0;--f)e.point((k=j[f])[0],k[1]);else d(m.x,m.p.x,-1,e);m=m.p}m=m.o,j=m.z,n=!n}while(!m.v);e.lineEnd()}}},or=1e9,pr=-or,qr=function(){var a,b,c,d=0,e=0,f=960,g=500;return c={stream:function(c){return a&&b===c?a:a=he(d,e,f,g)(b=c)},extent:function(h){return arguments.length?(d=+h[0][0],e=+h[0][1],f=+h[1][0],g=+h[1][1],a=b=null,c):[[d,e],[f,g]]}}},rr=Mp(),sr={sphere:rd,point:rd,lineStart:ie,lineEnd:rd,polygonStart:rd,polygonEnd:rd},tr=function(a){return rr.reset(),Nq(a,sr),+rr},ur=[null,null],vr={type:"LineString",coordinates:ur},wr=function(a,b){return ur[0]=a,ur[1]=b,tr(vr)},xr=function(a,b){var c=a[0]*yq,d=a[1]*yq,e=b[0]*yq,f=b[1]*yq,g=Cq(d),h=Hq(d),i=Cq(f),j=Hq(f),k=g*Cq(c),l=g*Hq(c),m=i*Cq(e),n=i*Hq(e),o=2*pd(Jq(qd(f-d)+g*i*qd(e-c))),p=Hq(o),q=o?function(a){var b=Hq(a*=o)/p,c=Hq(o-a)/p,d=c*k+b*m,e=c*l+b*n,f=c*h+b*j;return[Bq(e,d)*xq,Bq(f,Jq(d*d+e*e))*xq]}:function(){return[c*xq,d*xq]};return q.distance=o,q},yr=function(a){return a},zr=Mp(),Ar=Mp(),Br={point:rd,lineStart:rd,lineEnd:rd,polygonStart:function(){Br.lineStart=qe,Br.lineEnd=te},polygonEnd:function(){Br.lineStart=Br.lineEnd=Br.point=rd,zr.add(zq(Ar)),Ar.reset()},result:function(){var a=zr/2;return zr.reset(),a}},Cr=1/0,Dr=Cr,Er=-Cr,Fr=Er,Gr={point:ue,lineStart:rd,lineEnd:rd,polygonStart:rd,polygonEnd:rd,result:function(){var a=[[Cr,Dr],[Er,Fr]];return Er=Fr=-(Dr=Cr=1/0),a}},Hr=0,Ir=0,Jr=0,Kr=0,Lr=0,Mr=0,Nr=0,Or=0,Pr=0,Qr={point:ve,lineStart:we,lineEnd:ze,polygonStart:function(){Qr.lineStart=Ae,Qr.lineEnd=Be},polygonEnd:function(){Qr.point=ve,Qr.lineStart=we,Qr.lineEnd=ze},result:function(){var a=Pr?[Nr/Pr,Or/Pr]:Mr?[Kr/Mr,Lr/Mr]:Jr?[Hr/Jr,Ir/Jr]:[NaN,NaN];return Hr=Ir=Jr=Kr=Lr=Mr=Nr=Or=Pr=0,a}};Ee.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._context.moveTo(a,b),this._point=1;break;case 1:this._context.lineTo(a,b);break;default:this._context.moveTo(a+this._radius,b),this._context.arc(a,b,this._radius,0,wq)}},result:rd},Fe.prototype={_circle:Ge(4.5),pointRadius:function(a){return this._circle=Ge(a),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._string.push("M",a,",",b),this._point=1;break;case 1:this._string.push("L",a,",",b);break;default:this._string.push("M",a,",",b,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");return this._string=[],a}}};var Rr=function(a,b){function c(a){return a&&("function"==typeof f&&e.pointRadius(+f.apply(this,arguments)),Nq(a,d(e))),e.result()}var d,e,f=4.5;return c.area=function(a){return Nq(a,d(Br)),Br.result()},c.bounds=function(a){return Nq(a,d(Gr)),Gr.result()},c.centroid=function(a){return Nq(a,d(Qr)),Qr.result()},c.projection=function(b){return arguments.length?(d=null==b?(a=null,yr):(a=b).stream,c):a},c.context=function(a){return arguments.length?(e=null==a?(b=null,new Fe):new Ee(b=a),"function"!=typeof f&&e.pointRadius(f),c):b},c.pointRadius=function(a){return arguments.length?(f="function"==typeof a?a:(e.pointRadius(+a),+a),c):f},c.projection(a).context(b)},Sr=Mp(),Tr=function(a,b){var c=b[0],d=b[1],e=[Hq(c),-Cq(c),0],f=0,g=0;Sr.reset();for(var h=0,i=a.length;h<i;++h)if(k=(j=a[h]).length)for(var j,k,l=j[k-1],m=l[0],n=l[1]/2+vq,o=Hq(n),p=Cq(n),q=0;q<k;++q,m=s,o=u,p=v,l=r){var r=j[q],s=r[0],t=r[1]/2+vq,u=Hq(t),v=Cq(t),w=s-m,x=w>=0?1:-1,y=x*w,z=y>tq,A=o*u;if(Sr.add(Bq(A*x*Hq(y),p*v+A*Cq(y))),f+=z?w+x*wq:w,z^m>=c^s>=c){var B=Cd(Ad(l),Ad(r));Fd(B);var C=Cd(e,B);Fd(C);var D=(z^w>=0?-1:1)*pd(C[2]);(d>D||d===D&&(B[0]||B[1]))&&(g+=z^w>=0?1:-1)}}return(f<-rq||f<rq&&Sr<-rq)^1&g},Ur=function(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){v.point=h,q.lineStart()}function j(){v.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);t.point(c[0],c[1])}function l(){t.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),t.lineEnd();var a,b,c,d,e=t.clean(),g=s.result(),h=g.length;if(p.pop(),n.push(p),p=null,h)if(1&e){if(c=g[0],(b=c.length-1)>0){for(u||(f.polygonStart(),u=!0),f.lineStart(),a=0;a<b;++a)f.point((d=c[a])[0],d[1]);f.lineEnd()}}else h>1&&2&e&&g.push(g.pop().concat(g.shift())),o.push(g.filter(He))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s=kr(),t=b(s),u=!1,v={point:g,lineStart:i,lineEnd:j,polygonStart:function(){v.point=k,v.lineStart=l,v.lineEnd=m,o=[],n=[]},polygonEnd:function(){v.point=g,v.lineStart=i,v.lineEnd=j,o=$j(o);var a=Tr(n,r);o.length?(u||(f.polygonStart(),u=!0),nr(o,Ie,a,c,f)):a&&(u||(f.polygonStart(),u=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),u&&(f.polygonEnd(),u=!1),o=n=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}};return v}},Vr=Ur(function(){return!0},Je,Le,[-tq,-uq]),Wr=function(a,b){function c(c,d,e,f){de(f,a,b,e,c,d)}function d(a,b){return Cq(a)*Cq(b)>h}function e(a){var b,c,e,h,k;return{lineStart:function(){h=e=!1,k=1},point:function(l,m){var n,o=[l,m],p=d(l,m),q=i?p?0:g(l,m):p?g(l+(l<0?tq:-tq),m):0;if(!b&&(h=e=p)&&a.lineStart(),p!==e&&(n=f(b,o),(mr(b,n)||mr(o,n))&&(o[0]+=rq,o[1]+=rq,p=d(o[0],o[1]))),p!==e)k=0,p?(a.lineStart(),n=f(o,b),a.point(n[0],n[1])):(n=f(b,o),a.point(n[0],n[1]),a.lineEnd()),b=n;else if(j&&b&&i^p){var r;q&c||!(r=f(o,b,!0))||(k=0,i?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||b&&mr(b,o)||a.point(o[0],o[1]),b=o,e=p,c=q},lineEnd:function(){e&&a.lineEnd(),b=null},clean:function(){return k|(h&&e)<<1}}}function f(a,b,c){var d=Ad(a),e=Ad(b),f=[1,0,0],g=Cd(d,e),i=Bd(g,g),j=g[0],k=i-j*j;if(!k)return!c&&a;var l=h*i/k,m=-h*j/k,n=Cd(f,g),o=Ed(f,l),p=Ed(g,m);Dd(o,p);var q=n,r=Bd(o,q),s=Bd(q,q),t=r*r-s*(Bd(o,o)-1);if(!(t<0)){var u=Jq(t),v=Ed(q,(-r-u)/s);if(Dd(v,o),v=zd(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];y<x&&(w=x,x=y,y=w);var B=y-x,C=zq(B-tq)<rq,D=C||B<rq;if(!C&&A<z&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(zq(v[0]-x)<rq?z:A):z<=v[1]&&v[1]<=A:B>tq^(x<=v[0]&&v[0]<=y)){var E=Ed(q,(-r+u)/s);return Dd(E,o),[v,zd(E)]}}}function g(b,c){var d=i?a:tq-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var h=Cq(a),i=h>0,j=zq(h)>rq;return Ur(d,e,c,i?[0,-a]:[-tq,a-tq])},Xr=function(a){return{stream:Me(a)}};Ne.prototype={constructor:Ne,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yr=16,Zr=Cq(30*yq),$r=function(a,b){return+b?Re(a,b):Qe(a)},_r=Me({point:function(a,b){this.stream.point(a*yq,b*yq)}}),as=function(){return Ue(We).scale(155.424).center([0,33.6442])},bs=function(){return as().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},cs=function(){function a(a){var b=a[0],c=a[1];return h=null,e.point(b,c),h||(f.point(b,c),h)||(g.point(b,c),h)}function b(){return c=d=null,a}var c,d,e,f,g,h,i=bs(),j=as().rotate([154,0]).center([-2,58.5]).parallels([55,65]),k=as().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(a,b){h=[a,b]}};return a.invert=function(a){var b=i.scale(),c=i.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&e<.234&&d>=-.425&&d<-.214?j:e>=.166&&e<.234&&d>=-.214&&d<-.115?k:i).invert(a)},a.stream=function(a){return c&&d===a?c:c=Xe([i.stream(d=a),j.stream(a),k.stream(a)])},a.precision=function(a){return arguments.length?(i.precision(a),j.precision(a),k.precision(a),b()):i.precision()},a.scale=function(b){return arguments.length?(i.scale(b),j.scale(.35*b),k.scale(b),a.translate(i.translate())):i.scale()},a.translate=function(a){if(!arguments.length)return i.translate();var c=i.scale(),d=+a[0],h=+a[1];return e=i.translate(a).clipExtent([[d-.455*c,h-.238*c],[d+.455*c,h+.238*c]]).stream(l),f=j.translate([d-.307*c,h+.201*c]).clipExtent([[d-.425*c+rq,h+.12*c+rq],[d-.214*c-rq,h+.234*c-rq]]).stream(l),g=k.translate([d-.205*c,h+.212*c]).clipExtent([[d-.214*c+rq,h+.166*c+rq],[d-.115*c-rq,h+.234*c-rq]]).stream(l),b()},a.fitExtent=function(b,c){return Oe(a,b,c)},a.fitSize=function(b,c){return Pe(a,b,c)},a.scale(1070)},ds=Ye(function(a){return Jq(2/(1+a))});ds.invert=Ze(function(a){return 2*pd(a/2)});var es=function(){return Se(ds).scale(124.75).clipAngle(179.999)},fs=Ye(function(a){return(a=od(a))&&a/Hq(a)});fs.invert=Ze(function(a){return a});var gs=function(){return Se(fs).scale(79.4188).clipAngle(179.999)};$e.invert=function(a,b){return[a,2*Aq(Eq(b))-uq]};var hs=function(){return _e($e).scale(961/wq)},is=function(){return Ue(bf).scale(109.5).parallels([30,30])};cf.invert=cf;var js=function(){return Se(cf).scale(152.63)},ks=function(){return Ue(df).scale(131.154).center([0,13.9389])};ef.invert=Ze(Aq);var ls=function(){return Se(ef).scale(144.049).clipAngle(60)},ms=function(){function a(){return e=f=null,g}var b,c,d,e,f,g,h=1,i=0,j=0,k=1,l=1,m=yr,n=null,o=yr;return g={stream:function(a){return e&&f===a?e:e=m(o(f=a))},clipExtent:function(e){return arguments.length?(o=null==e?(n=b=c=d=null,yr):he(n=+e[0][0],b=+e[0][1],c=+e[1][0],d=+e[1][1]),a()):null==n?null:[[n,b],[c,d]]},scale:function(b){return arguments.length?(m=ff((h=+b)*k,h*l,i,j),a()):h},translate:function(b){return arguments.length?(m=ff(h*k,h*l,i=+b[0],j=+b[1]),a()):[i,j]},reflectX:function(b){return arguments.length?(m=ff(h*(k=b?-1:1),h*l,i,j),a()):k<0},reflectY:function(b){return arguments.length?(m=ff(h*k,h*(l=b?-1:1),i,j),a()):l<0},fitExtent:function(a,b){return Oe(g,a,b)},fitSize:function(a,b){return Pe(g,a,b)}}};gf.invert=Ze(pd);var ns=function(){return Se(gf).scale(249.5).clipAngle(90+rq)};hf.invert=Ze(function(a){return 2*Aq(a)});var os=function(){return Se(hf).scale(250).clipAngle(142)};jf.invert=function(a,b){return[-b,2*Aq(Eq(a))-uq]};var ps=function(){var a=_e(jf),b=a.center,c=a.rotate;return a.center=function(a){return arguments.length?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return arguments.length?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90]).scale(159.155)},qs=function(){function a(a){var f,g=0;a.eachAfter(function(a){var c=a.children;c?(a.x=lf(c),a.y=nf(c)):(a.x=f?g+=b(a,f):0,a.y=0,f=a)});var h=pf(a),i=qf(a),j=h.x-b(h,i)/2,k=i.x+b(i,h)/2;return a.eachAfter(e?function(b){b.x=(b.x-a.x)*c,b.y=(a.y-b.y)*d}:function(b){b.x=(b.x-j)/(k-j)*c,b.y=(1-(a.y?b.y/a.y:1))*d})}var b=kf,c=1,d=1,e=!1;return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(b){return arguments.length?(e=!1,c=+b[0],d=+b[1],a):e?null:[c,d]},a.nodeSize=function(b){return arguments.length?(e=!0,c=+b[0],d=+b[1],a):e?[c,d]:null},a},rs=function(){return this.eachAfter(rf)},ss=function(a){var b,c,d,e,f=this,g=[f];do for(b=g.reverse(),g=[];f=b.pop();)if(a(f),c=f.children)for(d=0,e=c.length;d<e;++d)g.push(c[d]);while(g.length);return this},ts=function(a){for(var b,c,d=this,e=[d];d=e.pop();)if(a(d),b=d.children)for(c=b.length-1;c>=0;--c)e.push(b[c]);return this},us=function(a){for(var b,c,d,e=this,f=[e],g=[];e=f.pop();)if(g.push(e),b=e.children)for(c=0,d=b.length;c<d;++c)f.push(b[c]);for(;e=g.pop();)a(e);return this},vs=function(a){return this.eachAfter(function(b){for(var c=+a(b.data)||0,d=b.children,e=d&&d.length;--e>=0;)c+=d[e].value;b.value=c})},ws=function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},xs=function(a){for(var b=this,c=sf(b,a),d=[b];b!==c;)b=b.parent,d.push(b);for(var e=d.length;a!==c;)d.splice(e,0,a),a=a.parent;return d},ys=function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},zs=function(){var a=[];return this.each(function(b){a.push(b)}),a},As=function(){var a=[];return this.eachBefore(function(b){b.children||a.push(b)}),a},Bs=function(){var a=this,b=[];return a.each(function(c){c!==a&&b.push({source:c.parent,target:c})}),b};yf.prototype=tf.prototype={constructor:yf,count:rs,each:ss,eachAfter:us,eachBefore:ts,sum:vs,sort:ws,path:xs,ancestors:ys,descendants:zs,leaves:As,links:Bs,copy:uf};var Cs=function(a){for(var b,c=(a=a.slice()).length,d=null,e=d;c;){var f=new zf(a[c-1]);e=e?e.next=f:d=f,a[b]=a[--c]}return{head:d,tail:e}},Ds=function(a){return Bf(Cs(a),[])},Es=function(a){return Kf(a),a},Fs=function(a){return function(){return a}},Gs=function(){function a(a){return a.x=c/2,a.y=d/2,b?a.eachBefore(Pf(b)).eachAfter(Qf(e,.5)).eachBefore(Rf(1)):a.eachBefore(Pf(Of)).eachAfter(Qf(Nf,1)).eachAfter(Qf(e,a.r/Math.min(c,d))).eachBefore(Rf(Math.min(c,d)/(2*a.r))),a}var b=null,c=1,d=1,e=Nf;return a.radius=function(c){return arguments.length?(b=Lf(c),a):b},a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]},a.padding=function(b){return arguments.length?(e="function"==typeof b?b:Fs(+b),a):e},a},Hs=function(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)},Is=function(a,b,c,d,e){for(var f,g=a.children,h=-1,i=g.length,j=a.value&&(d-b)/a.value;++h<i;)f=g[h],f.y0=c,f.y1=e,f.x0=b,f.x1=b+=f.value*j},Js=function(){function a(a){var g=a.height+1;return a.x0=a.y0=e,a.x1=c,a.y1=d/g,a.eachBefore(b(d,g)),f&&a.eachBefore(Hs),a}function b(a,b){return function(c){c.children&&Is(c,c.x0,a*(c.depth+1)/b,c.x1,a*(c.depth+2)/b);var d=c.x0,f=c.y0,g=c.x1-e,h=c.y1-e;g<d&&(d=g=(d+g)/2),h<f&&(f=h=(f+h)/2),c.x0=d,c.y0=f,c.x1=g,c.y1=h}}var c=1,d=1,e=0,f=!1;return a.round=function(b){return arguments.length?(f=!!b,a):f},a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]},a.padding=function(b){return arguments.length?(e=+b,a):e},a},Ks="$",Ls={depth:-1},Ms={},Ns=function(){function a(a){var d,e,f,g,h,i,j,k=a.length,l=new Array(k),m={};for(e=0;e<k;++e)d=a[e],h=l[e]=new yf(d),null!=(i=b(d,e,a))&&(i+="")&&(j=Ks+(h.id=i),m[j]=j in m?Ms:h);for(e=0;e<k;++e)if(h=l[e],i=c(a[e],e,a),null!=i&&(i+="")){if(g=m[Ks+i],!g)throw new Error("missing: "+i);if(g===Ms)throw new Error("ambiguous: "+i);g.children?g.children.push(h):g.children=[h],h.parent=g}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(f.parent=Ls,f.eachBefore(function(a){a.depth=a.parent.depth+1,--k}).eachBefore(xf),f.parent=null,k>0)throw new Error("cycle");return f}var b=Sf,c=Tf;return a.id=function(c){return arguments.length?(b=Mf(c),a):b},a.parentId=function(b){return arguments.length?(c=Mf(b),a):c},a};$f.prototype=Object.create(yf.prototype);var Os=function(){function a(a){var d=_f(a);if(d.eachAfter(b),d.parent.m=-d.z,d.eachBefore(c),i)a.eachBefore(e);else{var j=a,k=a,l=a;a.eachBefore(function(a){a.x<j.x&&(j=a),a.x>k.x&&(k=a),a.depth>l.depth&&(l=a)});var m=j===k?1:f(j,k)/2,n=m-j.x,o=g/(k.x+m+n),p=h/(l.depth||1);a.eachBefore(function(a){a.x=(a.x+n)*o,a.y=a.depth*p})}return a}function b(a){var b=a.children,c=a.parent.children,e=a.i?c[a.i-1]:null;if(b){Yf(a);var g=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+f(a._,e._),a.m=a.z-g):a.z=g}else e&&(a.z=e.z+f(a._,e._));a.parent.A=d(a,e,a.parent.A||c[0])}function c(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function d(a,b,c){if(b){for(var d,e=a,g=a,h=b,i=e.parent.children[0],j=e.m,k=g.m,l=h.m,m=i.m;h=Wf(h),e=Vf(e),h&&e;)i=Vf(i),g=Wf(g),g.a=a,d=h.z+l-e.z-j+f(h._,e._),d>0&&(Xf(Zf(h,a,c),a,d),j+=d,k+=d),l+=h.m,j+=e.m,m+=i.m,k+=g.m;h&&!Wf(g)&&(g.t=h,g.m+=l-k),e&&!Vf(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function e(a){a.x*=g,a.y=a.depth*h}var f=Uf,g=1,h=1,i=null;return a.separation=function(b){return arguments.length?(f=b,a):f},a.size=function(b){return arguments.length?(i=!1,g=+b[0],h=+b[1],a):i?null:[g,h]},a.nodeSize=function(b){return arguments.length?(i=!0,g=+b[0],h=+b[1],a):i?[g,h]:null},a},Ps=function(a,b,c,d,e){for(var f,g=a.children,h=-1,i=g.length,j=a.value&&(e-c)/a.value;++h<i;)f=g[h],f.x0=b,f.x1=d,f.y0=c,f.y1=c+=f.value*j},Qs=(1+Math.sqrt(5))/2,Rs=function a(b){function c(a,c,d,e,f){ag(b,a,c,d,e,f)}return c.ratio=function(b){return a((b=+b)>1?b:1)},c}(Qs),Ss=function(){function a(a){return a.x0=a.y0=0,a.x1=e,a.y1=f,a.eachBefore(b),g=[0],d&&a.eachBefore(Hs),a}function b(a){var b=g[a.depth],d=a.x0+b,e=a.y0+b,f=a.x1-b,m=a.y1-b;f<d&&(d=f=(d+f)/2),m<e&&(e=m=(e+m)/2),a.x0=d,a.y0=e,a.x1=f,a.y1=m,a.children&&(b=g[a.depth+1]=h(a)/2,d+=l(a)-b,e+=i(a)-b,f-=j(a)-b,m-=k(a)-b,f<d&&(d=f=(d+f)/2),m<e&&(e=m=(e+m)/2),c(a,d,e,f,m))}var c=Rs,d=!1,e=1,f=1,g=[0],h=Nf,i=Nf,j=Nf,k=Nf,l=Nf;return a.round=function(b){return arguments.length?(d=!!b,a):d},a.size=function(b){return arguments.length?(e=+b[0],f=+b[1],a):[e,f]},a.tile=function(b){return arguments.length?(c=Mf(b),a):c},a.padding=function(b){return arguments.length?a.paddingInner(b).paddingOuter(b):a.paddingInner()},a.paddingInner=function(b){return arguments.length?(h="function"==typeof b?b:Fs(+b),a):h},a.paddingOuter=function(b){return arguments.length?a.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):a.paddingTop()},a.paddingTop=function(b){return arguments.length?(i="function"==typeof b?b:Fs(+b),a):i},a.paddingRight=function(b){return arguments.length?(j="function"==typeof b?b:Fs(+b),a):j},a.paddingBottom=function(b){return arguments.length?(k="function"==typeof b?b:Fs(+b),a):k},a.paddingLeft=function(b){return arguments.length?(l="function"==typeof b?b:Fs(+b),a):l},a},Ts=function(a,b,c,d,e){function f(a,b,c,d,e,g,h){if(a>=b-1){var j=i[a];return j.x0=d,j.y0=e,j.x1=g,void(j.y1=h)}for(var l=k[a],m=c/2+l,n=a+1,o=b-1;n<o;){var p=n+o>>>1;k[p]<m?n=p+1:o=p}var q=k[n]-l,r=c-q;if(h-e>g-d){var s=(e*r+h*q)/c;f(a,n,q,d,e,g,s),f(n,b,r,d,s,g,h)}else{var t=(d*r+g*q)/c;f(a,n,q,d,e,t,h),f(n,b,r,t,e,g,h)}}var g,h,i=a.children,j=i.length,k=new Array(j+1);for(k[0]=h=g=0;g<j;++g)k[g+1]=h+=i[g].value;f(0,j,a.value,b,c,d,e)},Us=function(a,b,c,d,e){(1&a.depth?Ps:Is)(a,b,c,d,e)},Vs=function a(b){function c(a,c,d,e,f){if((g=a._squarify)&&g.ratio===b)for(var g,h,i,j,k,l=-1,m=g.length,n=a.value;++l<m;){for(h=g[l],i=h.children,j=h.value=0,k=i.length;j<k;++j)h.value+=i[j].value;h.dice?Is(h,c,d,e,d+=(f-d)*h.value/n):Ps(h,c,d,c+=(e-c)*h.value/n,f),n-=h.value}else a._squarify=g=ag(b,a,c,d,e,f),g.ratio=b}return c.ratio=function(b){return a((b=+b)>1?b:1)},c}(Qs),Ws=function(a){for(var b,c=-1,d=a.length,e=a[d-1],f=0;++c<d;)b=e,e=a[c],f+=b[1]*e[0]-b[0]*e[1];return f/2},Xs=function(a){for(var b,c,d=-1,e=a.length,f=0,g=0,h=a[e-1],i=0;++d<e;)b=h,h=a[d],i+=c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return i*=3,[f/i,g/i]},Ys=function(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])},Zs=function(a){if((c=a.length)<3)return null;var b,c,d=new Array(c),e=new Array(c);for(b=0;b<c;++b)d[b]=[+a[b][0],+a[b][1],b];for(d.sort(bg),b=0;b<c;++b)e[b]=[d[b][0],-d[b][1]];var f=cg(d),g=cg(e),h=g[0]===f[0],i=g[g.length-1]===f[f.length-1],j=[];for(b=f.length-1;b>=0;--b)j.push(a[d[f[b]][2]]);for(b=+h;b<g.length-i;++b)j.push(a[d[g[b]][2]]);return j},$s=function(a,b){for(var c,d,e=a.length,f=a[e-1],g=b[0],h=b[1],i=f[0],j=f[1],k=!1,l=0;l<e;++l)f=a[l],c=f[0],d=f[1],d>h!=j>h&&g<(i-c)*(h-d)/(j-d)+c&&(k=!k),i=c,j=d;return k},_s=function(a){for(var b,c,d=-1,e=a.length,f=a[e-1],g=f[0],h=f[1],i=0;++d<e;)b=g,c=h,f=a[d],g=f[0],h=f[1],b-=g,c-=h,i+=Math.sqrt(b*b+c*c);return i},at=[].slice,bt={};dg.prototype=jg.prototype={constructor:dg,defer:function(a){if("function"!=typeof a||this._call)throw new Error;if(null!=this._error)return this;var b=at.call(arguments,1);return b.push(a),++this._waiting,this._tasks.push(b),eg(this),this},abort:function(){return null==this._error&&hg(this,new Error("abort")),this},await:function(a){if("function"!=typeof a||this._call)throw new Error;return this._call=function(b,c){a.apply(null,[b].concat(c))},ig(this),this},awaitAll:function(a){if("function"!=typeof a||this._call)throw new Error;return this._call=a,ig(this),this}};var ct=function(a,b){return a=null==a?0:+a,b=null==b?1:+b,1===arguments.length?(b=a,a=0):b-=a,function(){return Math.random()*b+a}},dt=function(a,b){var c,d;return a=null==a?0:+a,b=null==b?1:+b,function(){var e;if(null!=c)e=c,c=null;else do c=2*Math.random()-1,e=2*Math.random()-1,d=c*c+e*e;while(!d||d>1);return a+b*e*Math.sqrt(-2*Math.log(d)/d)}},et=function(){var a=dt.apply(this,arguments);return function(){return Math.exp(a())}},ft=function(a){return function(){for(var b=0,c=0;c<a;++c)b+=Math.random();return b}},gt=function(a){var b=ft(a);return function(){return b()/a}},ht=function(a){return function(){return-Math.log(1-Math.random())/a}},it=function(a,b){function c(a){var b,c=j.status;if(!c&&lg(j)||c>=200&&c<300||304===c){if(f)try{b=f.call(d,j)}catch(a){return void h.call("error",d,a)}else b=j;h.call("load",d,b)}else h.call("error",d,a)}var d,e,f,g,h=n("beforesend","progress","load","error"),i=Nc(),j=new XMLHttpRequest,k=null,l=null,m=0;if("undefined"==typeof XDomainRequest||"withCredentials"in j||!/^(http(s)?:)?\/\//.test(a)||(j=new XDomainRequest),"onload"in j?j.onload=j.onerror=j.ontimeout=c:j.onreadystatechange=function(a){j.readyState>3&&c(a)},j.onprogress=function(a){h.call("progress",d,a)},d={header:function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?i.get(a):(null==b?i.remove(a):i.set(a,b+""),d)},mimeType:function(a){return arguments.length?(e=null==a?null:a+"",d):e},responseType:function(a){return arguments.length?(g=a,d):g},timeout:function(a){return arguments.length?(m=+a,d):m},user:function(a){return arguments.length<1?k:(k=null==a?null:a+"",d)},password:function(a){return arguments.length<1?l:(l=null==a?null:a+"",d)},response:function(a){return f=a,d},get:function(a,b){return d.send("GET",a,b)},post:function(a,b){return d.send("POST",a,b)},send:function(b,c,f){return j.open(b,a,!0,k,l),null==e||i.has("accept")||i.set("accept",e+",*/*"),j.setRequestHeader&&i.each(function(a,b){j.setRequestHeader(b,a)}),null!=e&&j.overrideMimeType&&j.overrideMimeType(e),null!=g&&(j.responseType=g),m>0&&(j.timeout=m),null==f&&"function"==typeof c&&(f=c,c=null),null!=f&&1===f.length&&(f=kg(f)),null!=f&&d.on("error",f).on("load",function(a){f(null,a)}),h.call("beforesend",d,j),j.send(null==c?null:c),d},abort:function(){return j.abort(),d},on:function(){var a=h.on.apply(h,arguments);return a===h?d:a}},null!=b){if("function"!=typeof b)throw new Error("invalid callback: "+b);return d.get(b)}return d},jt=function(a,b){return function(c,d){var e=it(c).mimeType(a).response(b);if(null!=d){if("function"!=typeof d)throw new Error("invalid callback: "+d);return e.get(d)}return e}},kt=jt("text/html",function(a){return document.createRange().createContextualFragment(a.responseText)}),lt=jt("application/json",function(a){return JSON.parse(a.responseText)}),mt=jt("text/plain",function(a){return a.responseText}),nt=jt("application/xml",function(a){var b=a.responseXML;if(!b)throw new Error("parse error");return b}),ot=function(a,b){return function(c,d,e){arguments.length<3&&(e=d,d=null);var f=it(c).mimeType(a);return f.row=function(a){return arguments.length?f.response(mg(b,d=a)):d},f.row(d),e?f.get(e):f}},pt=ot("text/csv",Qo),qt=ot("text/tab-separated-values",Vo),rt=Array.prototype,st=rt.map,tt=rt.slice,ut={name:"implicit"},vt=function(a){return function(){return a}},wt=function(a){return+a},xt=[0,1],yt=function(b,d,e){var f,g=b[0],h=b[b.length-1],i=c(g,h,null==d?10:d);switch(e=Fp(null==e?",f":e),e.type){case"s":var j=Math.max(Math.abs(g),Math.abs(h));return null!=e.precision||isNaN(f=Kp(i,j))||(e.precision=f),a.formatPrefix(e,j);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(f=Lp(i,Math.max(Math.abs(g),Math.abs(h))))||(e.precision=f-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(f=Jp(i))||(e.precision=f-2*("%"===e.type))}return a.format(e)},zt=function(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a},At=new Date,Bt=new Date,Ct=Og(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a});Ct.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?Og(function(b){b.setTime(Math.floor(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a}):Ct:null};var Dt=Ct.range,Et=1e3,Ft=6e4,Gt=36e5,Ht=864e5,It=6048e5,Jt=Og(function(a){a.setTime(Math.floor(a/Et)*Et)},function(a,b){a.setTime(+a+b*Et)},function(a,b){return(b-a)/Et},function(a){return a.getUTCSeconds()}),Kt=Jt.range,Lt=Og(function(a){a.setTime(Math.floor(a/Ft)*Ft)},function(a,b){a.setTime(+a+b*Ft)},function(a,b){return(b-a)/Ft},function(a){return a.getMinutes()}),Mt=Lt.range,Nt=Og(function(a){var b=a.getTimezoneOffset()*Ft%Gt;b<0&&(b+=Gt),a.setTime(Math.floor((+a-b)/Gt)*Gt+b)},function(a,b){a.setTime(+a+b*Gt)},function(a,b){return(b-a)/Gt},function(a){return a.getHours()}),Ot=Nt.range,Pt=Og(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*Ft)/Ht},function(a){return a.getDate()-1}),Qt=Pt.range,Rt=Pg(0),St=Pg(1),Tt=Pg(2),Ut=Pg(3),Vt=Pg(4),Wt=Pg(5),Xt=Pg(6),Yt=Rt.range,Zt=St.range,$t=Tt.range,_t=Ut.range,au=Vt.range,bu=Wt.range,cu=Xt.range,du=Og(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),eu=du.range,fu=Og(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});fu.every=function(a){return isFinite(a=Math.floor(a))&&a>0?Og(function(b){b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c*a)}):null};var gu=fu.range,hu=Og(function(a){a.setUTCSeconds(0,0)},function(a,b){a.setTime(+a+b*Ft)},function(a,b){return(b-a)/Ft},function(a){return a.getUTCMinutes()}),iu=hu.range,ju=Og(function(a){a.setUTCMinutes(0,0,0)},function(a,b){a.setTime(+a+b*Gt)},function(a,b){return(b-a)/Gt},function(a){return a.getUTCHours()}),ku=ju.range,lu=Og(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/Ht},function(a){return a.getUTCDate()-1}),mu=lu.range,nu=Qg(0),ou=Qg(1),pu=Qg(2),qu=Qg(3),ru=Qg(4),su=Qg(5),tu=Qg(6),uu=nu.range,vu=ou.range,wu=pu.range,xu=qu.range,yu=ru.range,zu=su.range,Au=tu.range,Bu=Og(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+12*(b.getUTCFullYear()-a.getUTCFullYear());
},function(a){return a.getUTCMonth()}),Cu=Bu.range,Du=Og(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});Du.every=function(a){return isFinite(a=Math.floor(a))&&a>0?Og(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null};var Eu,Fu=Du.range,Gu={"-":"",_:" ",0:"0"},Hu=/^\s*\d+/,Iu=/^%/,Ju=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Oh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ku="%Y-%m-%dT%H:%M:%S.%LZ",Lu=Date.prototype.toISOString?Ph:a.utcFormat(Ku),Mu=+new Date("2000-01-01T00:00:00.000Z")?Qh:a.utcParse(Ku),Nu=1e3,Ou=60*Nu,Pu=60*Ou,Qu=24*Pu,Ru=7*Qu,Su=30*Qu,Tu=365*Qu,Uu=function(){return Th(fu,du,Rt,Pt,Nt,Lt,Jt,Ct,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Vu=function(){return Th(Du,Bu,nu,lu,ju,hu,Jt,Ct,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Wu=function(a){return a.match(/.{6}/g).map(function(a){return"#"+a})},Xu=Wu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Yu=Wu("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Zu=Wu("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),$u=Wu("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),_u=Im(Ta(300,.5,0),Ta(-240,.5,1)),av=Im(Ta(-100,.75,.35),Ta(80,1.5,.8)),bv=Im(Ta(260,.75,.35),Ta(80,1.5,.8)),cv=Ta(),dv=function(a){(a<0||a>1)&&(a-=Math.floor(a));var b=Math.abs(a-.5);return cv.h=360*a-100,cv.s=1.5-1.5*b,cv.l=.8-.9*b,cv+""},ev=Uh(Wu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),fv=Uh(Wu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gv=Uh(Wu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hv=Uh(Wu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),iv=function(a){return function(){return a}},jv=1e-12,kv=Math.PI,lv=kv/2,mv=2*kv,nv=function(){function a(){var a,j,k=+b.apply(this,arguments),l=+c.apply(this,arguments),m=f.apply(this,arguments)-lv,n=g.apply(this,arguments)-lv,o=Math.abs(n-m),p=n>m;if(i||(i=a=Gc()),l<k&&(j=l,l=k,k=j),l>jv)if(o>mv-jv)i.moveTo(l*Math.cos(m),l*Math.sin(m)),i.arc(0,0,l,m,n,!p),k>jv&&(i.moveTo(k*Math.cos(n),k*Math.sin(n)),i.arc(0,0,k,n,m,p));else{var q,r,s=m,t=n,u=m,v=n,w=o,x=o,y=h.apply(this,arguments)/2,z=y>jv&&(e?+e.apply(this,arguments):Math.sqrt(k*k+l*l)),A=Math.min(Math.abs(l-k)/2,+d.apply(this,arguments)),B=A,C=A;if(z>jv){var D=_h(z/k*Math.sin(y)),E=_h(z/l*Math.sin(y));(w-=2*D)>jv?(D*=p?1:-1,u+=D,v-=D):(w=0,u=v=(m+n)/2),(x-=2*E)>jv?(E*=p?1:-1,s+=E,t-=E):(x=0,s=t=(m+n)/2)}var F=l*Math.cos(s),G=l*Math.sin(s),H=k*Math.cos(v),I=k*Math.sin(v);if(A>jv){var J=l*Math.cos(t),K=l*Math.sin(t),L=k*Math.cos(u),M=k*Math.sin(u);if(o<kv){var N=w>jv?ai(F,G,L,M,J,K,H,I):[H,I],O=F-N[0],P=G-N[1],Q=J-N[0],R=K-N[1],S=1/Math.sin(Math.acos((O*Q+P*R)/(Math.sqrt(O*O+P*P)*Math.sqrt(Q*Q+R*R)))/2),T=Math.sqrt(N[0]*N[0]+N[1]*N[1]);B=Math.min(A,(k-T)/(S-1)),C=Math.min(A,(l-T)/(S+1))}}x>jv?C>jv?(q=bi(L,M,F,G,l,C,p),r=bi(J,K,H,I,l,C,p),i.moveTo(q.cx+q.x01,q.cy+q.y01),C<A?i.arc(q.cx,q.cy,C,Math.atan2(q.y01,q.x01),Math.atan2(r.y01,r.x01),!p):(i.arc(q.cx,q.cy,C,Math.atan2(q.y01,q.x01),Math.atan2(q.y11,q.x11),!p),i.arc(0,0,l,Math.atan2(q.cy+q.y11,q.cx+q.x11),Math.atan2(r.cy+r.y11,r.cx+r.x11),!p),i.arc(r.cx,r.cy,C,Math.atan2(r.y11,r.x11),Math.atan2(r.y01,r.x01),!p))):(i.moveTo(F,G),i.arc(0,0,l,s,t,!p)):i.moveTo(F,G),k>jv&&w>jv?B>jv?(q=bi(H,I,J,K,k,-B,p),r=bi(F,G,L,M,k,-B,p),i.lineTo(q.cx+q.x01,q.cy+q.y01),B<A?i.arc(q.cx,q.cy,B,Math.atan2(q.y01,q.x01),Math.atan2(r.y01,r.x01),!p):(i.arc(q.cx,q.cy,B,Math.atan2(q.y01,q.x01),Math.atan2(q.y11,q.x11),!p),i.arc(0,0,k,Math.atan2(q.cy+q.y11,q.cx+q.x11),Math.atan2(r.cy+r.y11,r.cx+r.x11),p),i.arc(r.cx,r.cy,B,Math.atan2(r.y11,r.x11),Math.atan2(r.y01,r.x01),!p))):i.arc(0,0,k,v,u,p):i.lineTo(H,I)}else i.moveTo(0,0);if(i.closePath(),a)return i=null,a+""||null}var b=Wh,c=Xh,d=iv(0),e=null,f=Yh,g=Zh,h=$h,i=null;return a.centroid=function(){var a=(+b.apply(this,arguments)+ +c.apply(this,arguments))/2,d=(+f.apply(this,arguments)+ +g.apply(this,arguments))/2-kv/2;return[Math.cos(d)*a,Math.sin(d)*a]},a.innerRadius=function(c){return arguments.length?(b="function"==typeof c?c:iv(+c),a):b},a.outerRadius=function(b){return arguments.length?(c="function"==typeof b?b:iv(+b),a):c},a.cornerRadius=function(b){return arguments.length?(d="function"==typeof b?b:iv(+b),a):d},a.padRadius=function(b){return arguments.length?(e=null==b?null:"function"==typeof b?b:iv(+b),a):e},a.startAngle=function(b){return arguments.length?(f="function"==typeof b?b:iv(+b),a):f},a.endAngle=function(b){return arguments.length?(g="function"==typeof b?b:iv(+b),a):g},a.padAngle=function(b){return arguments.length?(h="function"==typeof b?b:iv(+b),a):h},a.context=function(b){return arguments.length?(i=null==b?null:b,a):i},a};ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}};var ov=function(a){return new ci(a)},pv=function(){function a(a){var h,i,j,k=a.length,l=!1;for(null==e&&(g=f(j=Gc())),h=0;h<=k;++h)!(h<k&&d(i=a[h],h,a))===l&&((l=!l)?g.lineStart():g.lineEnd()),l&&g.point(+b(i,h,a),+c(i,h,a));if(j)return g=null,j+""||null}var b=di,c=ei,d=iv(!0),e=null,f=ov,g=null;return a.x=function(c){return arguments.length?(b="function"==typeof c?c:iv(+c),a):b},a.y=function(b){return arguments.length?(c="function"==typeof b?b:iv(+b),a):c},a.defined=function(b){return arguments.length?(d="function"==typeof b?b:iv(!!b),a):d},a.curve=function(b){return arguments.length?(f=b,null!=e&&(g=f(e)),a):f},a.context=function(b){return arguments.length?(null==b?e=g=null:g=f(e=b),a):e},a},qv=function(){function a(a){var b,k,l,m,n,o=a.length,p=!1,q=new Array(o),r=new Array(o);for(null==h&&(j=i(n=Gc())),b=0;b<=o;++b){if(!(b<o&&g(m=a[b],b,a))===p)if(p=!p)k=b,j.areaStart(),j.lineStart();else{for(j.lineEnd(),j.lineStart(),l=b-1;l>=k;--l)j.point(q[l],r[l]);j.lineEnd(),j.areaEnd()}p&&(q[b]=+c(m,b,a),r[b]=+e(m,b,a),j.point(d?+d(m,b,a):q[b],f?+f(m,b,a):r[b]))}if(n)return j=null,n+""||null}function b(){return pv().defined(g).curve(i).context(h)}var c=di,d=null,e=iv(0),f=ei,g=iv(!0),h=null,i=ov,j=null;return a.x=function(b){return arguments.length?(c="function"==typeof b?b:iv(+b),d=null,a):c},a.x0=function(b){return arguments.length?(c="function"==typeof b?b:iv(+b),a):c},a.x1=function(b){return arguments.length?(d=null==b?null:"function"==typeof b?b:iv(+b),a):d},a.y=function(b){return arguments.length?(e="function"==typeof b?b:iv(+b),f=null,a):e},a.y0=function(b){return arguments.length?(e="function"==typeof b?b:iv(+b),a):e},a.y1=function(b){return arguments.length?(f=null==b?null:"function"==typeof b?b:iv(+b),a):f},a.lineX0=a.lineY0=function(){return b().x(c).y(e)},a.lineY1=function(){return b().x(c).y(f)},a.lineX1=function(){return b().x(d).y(e)},a.defined=function(b){return arguments.length?(g="function"==typeof b?b:iv(!!b),a):g},a.curve=function(b){return arguments.length?(i=b,null!=h&&(j=i(h)),a):i},a.context=function(b){return arguments.length?(null==b?h=j=null:j=i(h=b),a):h},a},rv=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},sv=function(a){return a},tv=function(){function a(a){var h,i,j,k,l,m=a.length,n=0,o=new Array(m),p=new Array(m),q=+e.apply(this,arguments),r=Math.min(mv,Math.max(-mv,f.apply(this,arguments)-q)),s=Math.min(Math.abs(r)/m,g.apply(this,arguments)),t=s*(r<0?-1:1);for(h=0;h<m;++h)(l=p[o[h]=h]=+b(a[h],h,a))>0&&(n+=l);for(null!=c?o.sort(function(a,b){return c(p[a],p[b])}):null!=d&&o.sort(function(b,c){return d(a[b],a[c])}),h=0,j=n?(r-m*t)/n:0;h<m;++h,q=k)i=o[h],l=p[i],k=q+(l>0?l*j:0)+t,p[i]={data:a[i],index:h,value:l,startAngle:q,endAngle:k,padAngle:s};return p}var b=sv,c=rv,d=null,e=iv(0),f=iv(mv),g=iv(0);return a.value=function(c){return arguments.length?(b="function"==typeof c?c:iv(+c),a):b},a.sortValues=function(b){return arguments.length?(c=b,d=null,a):c},a.sort=function(b){return arguments.length?(d=b,c=null,a):d},a.startAngle=function(b){return arguments.length?(e="function"==typeof b?b:iv(+b),a):e},a.endAngle=function(b){return arguments.length?(f="function"==typeof b?b:iv(+b),a):f},a.padAngle=function(b){return arguments.length?(g="function"==typeof b?b:iv(+b),a):g},a},uv=gi(ov);fi.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,b){this._curve.point(b*Math.sin(a),b*-Math.cos(a))}};var vv=function(){return hi(pv().curve(uv))},wv=function(){var a=qv().curve(uv),b=a.curve,c=a.lineX0,d=a.lineX1,e=a.lineY0,f=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return hi(c())},delete a.lineX0,a.lineEndAngle=function(){return hi(d())},delete a.lineX1,a.lineInnerRadius=function(){return hi(e())},delete a.lineY0,a.lineOuterRadius=function(){return hi(f())},delete a.lineY1,a.curve=function(a){return arguments.length?b(gi(a)):b()._curve},a},xv={draw:function(a,b){var c=Math.sqrt(b/kv);a.moveTo(c,0),a.arc(0,0,c,0,mv)}},yv={draw:function(a,b){var c=Math.sqrt(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},zv=Math.sqrt(1/3),Av=2*zv,Bv={draw:function(a,b){var c=Math.sqrt(b/Av),d=c*zv;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},Cv=.8908130915292852,Dv=Math.sin(kv/10)/Math.sin(7*kv/10),Ev=Math.sin(mv/10)*Dv,Fv=-Math.cos(mv/10)*Dv,Gv={draw:function(a,b){var c=Math.sqrt(b*Cv),d=Ev*c,e=Fv*c;a.moveTo(0,-c),a.lineTo(d,e);for(var f=1;f<5;++f){var g=mv*f/5,h=Math.cos(g),i=Math.sin(g);a.lineTo(i*c,-h*c),a.lineTo(h*d-i*e,i*d+h*e)}a.closePath()}},Hv={draw:function(a,b){var c=Math.sqrt(b),d=-c/2;a.rect(d,d,c,c)}},Iv=Math.sqrt(3),Jv={draw:function(a,b){var c=-Math.sqrt(b/(3*Iv));a.moveTo(0,2*c),a.lineTo(-Iv*c,-c),a.lineTo(Iv*c,-c),a.closePath()}},Kv=-.5,Lv=Math.sqrt(3)/2,Mv=1/Math.sqrt(12),Nv=3*(Mv/2+1),Ov={draw:function(a,b){var c=Math.sqrt(b/Nv),d=c/2,e=c*Mv,f=d,g=c*Mv+c,h=-f,i=g;a.moveTo(d,e),a.lineTo(f,g),a.lineTo(h,i),a.lineTo(Kv*d-Lv*e,Lv*d+Kv*e),a.lineTo(Kv*f-Lv*g,Lv*f+Kv*g),a.lineTo(Kv*h-Lv*i,Lv*h+Kv*i),a.lineTo(Kv*d+Lv*e,Kv*e-Lv*d),a.lineTo(Kv*f+Lv*g,Kv*g-Lv*f),a.lineTo(Kv*h+Lv*i,Kv*i-Lv*h),a.closePath()}},Pv=[xv,yv,Bv,Hv,Gv,Jv,Ov],Qv=function(){function a(){var a;if(d||(d=a=Gc()),b.apply(this,arguments).draw(d,+c.apply(this,arguments)),a)return d=null,a+""||null}var b=iv(xv),c=iv(64),d=null;return a.type=function(c){return arguments.length?(b="function"==typeof c?c:iv(c),a):b},a.size=function(b){return arguments.length?(c="function"==typeof b?b:iv(+b),a):c},a.context=function(b){return arguments.length?(d=null==b?null:b,a):d},a},Rv=function(){};ji.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ii(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ii(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};var Sv=function(a){return new ji(a)};ki.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:ii(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};var Tv=function(a){return new ki(a)};li.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:ii(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};var Uv=function(a){return new li(a)};mi.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var a=this._x,b=this._y,c=a.length-1;if(c>0)for(var d,e=a[0],f=b[0],g=a[c]-e,h=b[c]-f,i=-1;++i<=c;)d=i/c,this._basis.point(this._beta*a[i]+(1-this._beta)*(e+d*g),this._beta*b[i]+(1-this._beta)*(f+d*h));this._x=this._y=null,this._basis.lineEnd()},point:function(a,b){this._x.push(+a),this._y.push(+b)}};var Vv=function a(b){function c(a){return 1===b?new ji(a):new mi(a,b)}return c.beta=function(b){return a(+b)},c}(.85);oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ni(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2,this._x1=a,this._y1=b;break;case 2:this._point=3;default:ni(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var Wv=function a(b){function c(a){return new oi(a,b)}return c.tension=function(b){return a(+b)},c}(0);pi.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:ni(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var Xv=function a(b){function c(a){return new pi(a,b)}return c.tension=function(b){return a(+b)},c}(0);qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ni(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var Yv=function a(b){function c(a){return new qi(a,b)}return c.tension=function(b){return a(+b)},c}(0);si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:ri(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var Zv=function a(b){function c(a){return b?new si(a,b):new oi(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);ti.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:ri(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var $v=function a(b){function c(a){return b?new ti(a,b):new pi(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ri(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var _v=function a(b){function c(a){return b?new ui(a,b):new qi(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);vi.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a=+a,b=+b,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};var aw=function(a){return new vi(a)};Ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zi(this,this._t0,yi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(a=+a,b=+b,a!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,zi(this,yi(this,c=xi(this,a,b)),c);break;default:zi(this,this._t0,c=xi(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},(Bi.prototype=Object.create(Ai.prototype)).point=function(a,b){Ai.prototype.point.call(this,b,a)},Ci.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},Fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],b[1]);else for(var d=Gi(a),e=Gi(b),f=0,g=1;g<c;++f,++g)this._context.bezierCurveTo(d[0][f],e[0][f],d[1][f],e[1][f],a[g],b[g]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}};var bw=function(a){return new Fi(a)};Hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,b)}}this._x=a,this._y=b}};var cw=function(a){return new Hi(a,.5)},dw=Array.prototype.slice,ew=function(a,b){if((d=a.length)>1)for(var c,d,e=1,f=a[b[0]],g=f.length;e<d;++e){c=f,f=a[b[e]];for(var h=0;h<g;++h)f[h][1]+=f[h][0]=isNaN(c[h][1])?c[h][0]:c[h][1]}},fw=function(a){for(var b=a.length,c=new Array(b);--b>=0;)c[b]=b;return c},gw=function(){function a(a){var f,g,h=b.apply(this,arguments),i=a.length,j=h.length,k=new Array(j);for(f=0;f<j;++f){for(var l,m=h[f],n=k[f]=new Array(i),o=0;o<i;++o)n[o]=l=[0,+e(a[o],m,o,a)],l.data=a[o];n.key=m}for(f=0,g=c(k);f<j;++f)k[g[f]].index=f;return d(k,g),k}var b=iv([]),c=fw,d=ew,e=Ki;return a.keys=function(c){return arguments.length?(b="function"==typeof c?c:iv(dw.call(c)),a):b},a.value=function(b){return arguments.length?(e="function"==typeof b?b:iv(+b),a):e},a.order=function(b){return arguments.length?(c=null==b?fw:"function"==typeof b?b:iv(dw.call(b)),a):c},a.offset=function(b){return arguments.length?(d=null==b?ew:b,a):d},a},hw=function(a,b){if((d=a.length)>0){for(var c,d,e,f=0,g=a[0].length;f<g;++f){for(e=c=0;c<d;++c)e+=a[c][f][1]||0;if(e)for(c=0;c<d;++c)a[c][f][1]/=e}ew(a,b)}},iw=function(a,b){if((c=a.length)>0){for(var c,d=0,e=a[b[0]],f=e.length;d<f;++d){for(var g=0,h=0;g<c;++g)h+=a[g][d][1]||0;e[d][1]+=e[d][0]=-h/2}ew(a,b)}},jw=function(a,b){if((e=a.length)>0&&(d=(c=a[b[0]]).length)>0){for(var c,d,e,f=0,g=1;g<d;++g){for(var h=0,i=0,j=0;h<e;++h){for(var k=a[b[h]],l=k[g][1]||0,m=k[g-1][1]||0,n=(l-m)/2,o=0;o<h;++o){var p=a[b[o]],q=p[g][1]||0,r=p[g-1][1]||0;n+=q-r}i+=l,j+=n*l}c[g-1][1]+=c[g-1][0]=f,i&&(f-=j/i)}c[g-1][1]+=c[g-1][0]=f,ew(a,b)}},kw=function(a){var b=a.map(Li);return fw(a).sort(function(a,c){return b[a]-b[c]})},lw=function(a){return kw(a).reverse()},mw=function(a){var b,c,d=a.length,e=a.map(Li),f=fw(a).sort(function(a,b){return e[b]-e[a]}),g=0,h=0,i=[],j=[];for(b=0;b<d;++b)c=f[b],g<h?(g+=e[c],i.push(c)):(h+=e[c],j.push(c));return j.reverse().concat(i)},nw=function(a){return fw(a).reverse()},ow=function(a){return function(){return a}};Oi.prototype={constructor:Oi,insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=Si(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(Qi(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Ri(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(Ri(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Qi(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?Si(g):f:g,
e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,Qi(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,Ri(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,Qi(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,Ri(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,Qi(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,Ri(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}};var pw,qw,rw,sw,tw,uw=[],vw=[],ww=1e-6,xw=1e-12;pj.prototype={constructor:pj,polygons:function(){var a=this.edges;return this.cells.map(function(b){var c=b.halfedges.map(function(c){return _i(b,a[c])});return c.data=b.site.data,c})},triangles:function(){var a=[],b=this.edges;return this.cells.forEach(function(c,d){if(f=(e=c.halfedges).length)for(var e,f,g,h=c.site,i=-1,j=b[e[f-1]],k=j.left===h?j.right:j.left;++i<f;)g=k,j=b[e[i]],k=j.left===h?j.right:j.left,g&&k&&d<g.index&&d<k.index&&nj(h,g,k)<0&&a.push([h.data,g.data,k.data])}),a},links:function(){return this.edges.filter(function(a){return a.right}).map(function(a){return{source:a.left.data,target:a.right.data}})},find:function(a,b,c){for(var d,e,f=this,g=f._found||0,h=f.cells.length;!(e=f.cells[g]);)if(++g>=h)return null;var i=a-e.site[0],j=b-e.site[1],k=i*i+j*j;do e=f.cells[d=g],g=null,e.halfedges.forEach(function(c){var d=f.edges[c],h=d.left;if(h!==e.site&&h||(h=d.right)){var i=a-h[0],j=b-h[1],l=i*i+j*j;l<k&&(k=l,g=h.index)}});while(null!==g);return f._found=d,null==c||k<=c*c?e.site:null}};var yw=function(){function a(a){return new pj(a.map(function(d,e){var f=[Math.round(b(d,e,a)/ww)*ww,Math.round(c(d,e,a)/ww)*ww];return f.index=e,f.data=d,f}),d)}var b=Mi,c=Ni,d=null;return a.polygons=function(b){return a(b).polygons()},a.links=function(b){return a(b).links()},a.triangles=function(b){return a(b).triangles()},a.x=function(c){return arguments.length?(b="function"==typeof c?c:ow(+c),a):b},a.y=function(b){return arguments.length?(c="function"==typeof b?b:ow(+b),a):c},a.extent=function(b){return arguments.length?(d=null==b?null:[[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]],a):d&&[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},a.size=function(b){return arguments.length?(d=null==b?null:[[0,0],[+b[0],+b[1]]],a):d&&[d[1][0]-d[0][0],d[1][1]-d[0][1]]},a},zw=function(a){return function(){return a}};rj.prototype={constructor:rj,scale:function(a){return 1===a?this:new rj(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new rj(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Aw=new rj(1,0,0);sj.prototype=rj.prototype;var Bw=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},Cw=function(){function b(a){a.on("wheel.zoom",j).on("mousedown.zoom",k).on("dblclick.zoom",l).on("touchstart.zoom",m).on("touchmove.zoom",o).on("touchend.zoom touchcancel.zoom",p).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",wj)}function c(a,b){return b=Math.max(u,Math.min(v,b)),b===a.k?a:new rj(b,a.x,a.y)}function d(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new rj(a.k,d,e)}function e(a,b){var c=a.invertX(b[0][0])-w,d=a.invertX(b[1][0])-x,e=a.invertY(b[0][1])-y,f=a.invertY(b[1][1])-z;return a.translate(d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d),f>e?(e+f)/2:Math.min(0,e)||Math.max(0,f))}function f(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function g(a,b,c){a.on("start.zoom",function(){h(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){h(this,arguments).end()}).tween("zoom",function(){var a=this,d=arguments,e=h(a,d),g=t.apply(a,d),i=c||f(g),j=Math.max(g[1][0]-g[0][0],g[1][1]-g[0][1]),k=a.__zoom,l="function"==typeof b?b.apply(a,d):b,m=C(k.invert(i).concat(j/k.k),l.invert(i).concat(j/l.k));return function(a){if(1===a)a=l;else{var b=m(a),c=j/b[2];a=new rj(c,i[0]-b[0]*c,i[1]-b[1]*c)}e.zoom(null,a)}})}function h(a,b){for(var c,d=0,e=D.length;d<e;++d)if((c=D[d]).that===a)return c;return new i(a,b)}function i(a,b){this.that=a,this.args=b,this.index=-1,this.active=0,this.extent=t.apply(a,b)}function j(){function b(){f.wheel=null,f.end()}if(s.apply(this,arguments)){var f=h(this,arguments),g=this.__zoom,i=Math.max(u,Math.min(v,g.k*Math.pow(2,-a.event.deltaY*(a.event.deltaMode?120:1)/500))),j=Dk(this);if(f.wheel)f.mouse[0][0]===j[0]&&f.mouse[0][1]===j[1]||(f.mouse[1]=g.invert(f.mouse[0]=j)),clearTimeout(f.wheel);else{if(g.k===i)return;f.mouse=[j,g.invert(j)],dn(this),f.start()}Bw(),f.wheel=setTimeout(b,G),f.zoom("mouse",e(d(c(g,i),f.mouse[0],f.mouse[1]),f.extent))}}function k(){function b(){Bw(),f.moved=!0,f.zoom("mouse",e(d(f.that.__zoom,f.mouse[0]=Dk(f.that),f.mouse[1]),f.extent))}function c(){g.on("mousemove.zoom mouseup.zoom",null),qa(a.event.view,f.moved),Bw(),f.end()}if(!r&&s.apply(this,arguments)){var f=h(this,arguments),g=ll(a.event.view).on("mousemove.zoom",b,!0).on("mouseup.zoom",c,!0),i=Dk(this);ql(a.event.view),tj(),f.mouse=[i,this.__zoom.invert(i)],dn(this),f.start()}}function l(){if(s.apply(this,arguments)){var f=this.__zoom,h=Dk(this),i=f.invert(h),j=f.k*(a.event.shiftKey?.5:2),k=e(d(c(f,j),h,i),t.apply(this,arguments));Bw(),A>0?ll(this).transition().duration(A).call(g,k,h):ll(this).call(b.transform,k)}}function m(){if(s.apply(this,arguments)){var b,c,d,e,f=h(this,arguments),g=a.event.changedTouches,i=g.length;for(tj(),c=0;c<i;++c)d=g[c],e=nl(this,g,d.identifier),e=[e,this.__zoom.invert(e),d.identifier],f.touch0?f.touch1||(f.touch1=e):(f.touch0=e,b=!0);return q&&(q=clearTimeout(q),!f.touch1)?(f.end(),e=ll(this).on("dblclick.zoom"),void(e&&e.apply(this,arguments))):void(b&&(q=setTimeout(function(){q=null},F),dn(this),f.start()))}}function o(){var b,f,g,i,j=h(this,arguments),k=a.event.changedTouches,l=k.length;for(Bw(),q&&(q=clearTimeout(q)),b=0;b<l;++b)f=k[b],g=nl(this,k,f.identifier),j.touch0&&j.touch0[2]===f.identifier?j.touch0[0]=g:j.touch1&&j.touch1[2]===f.identifier&&(j.touch1[0]=g);if(f=j.that.__zoom,j.touch1){var m=j.touch0[0],n=j.touch0[1],o=j.touch1[0],p=j.touch1[1],r=(r=o[0]-m[0])*r+(r=o[1]-m[1])*r,s=(s=p[0]-n[0])*s+(s=p[1]-n[1])*s;f=c(f,Math.sqrt(r/s)),g=[(m[0]+o[0])/2,(m[1]+o[1])/2],i=[(n[0]+p[0])/2,(n[1]+p[1])/2]}else{if(!j.touch0)return;g=j.touch0[0],i=j.touch0[1]}j.zoom("touch",e(d(f,g,i),j.extent))}function p(){var b,c,d=h(this,arguments),e=a.event.changedTouches,f=e.length;for(tj(),r&&clearTimeout(r),r=setTimeout(function(){r=null},F),b=0;b<f;++b)c=e[b],d.touch0&&d.touch0[2]===c.identifier?delete d.touch0:d.touch1&&d.touch1[2]===c.identifier&&delete d.touch1;d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0||d.end()}var q,r,s=uj,t=vj,u=0,v=1/0,w=-v,x=v,y=w,z=x,A=250,C=Cm,D=[],E=n("start","zoom","end"),F=500,G=150;return b.transform=function(a,b){var c=a.selection?a.selection():a;c.property("__zoom",wj),a!==c?g(a,b):c.interrupt().each(function(){h(this,arguments).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},b.scaleBy=function(a,c){b.scaleTo(a,function(){var a=this.__zoom.k,b="function"==typeof c?c.apply(this,arguments):c;return a*b})},b.scaleTo=function(a,g){b.transform(a,function(){var a=t.apply(this,arguments),b=this.__zoom,h=f(a),i=b.invert(h),j="function"==typeof g?g.apply(this,arguments):g;return e(d(c(b,j),h,i),a)})},b.translateBy=function(a,c,d){b.transform(a,function(){return e(this.__zoom.translate("function"==typeof c?c.apply(this,arguments):c,"function"==typeof d?d.apply(this,arguments):d),t.apply(this,arguments))})},i.prototype={start:function(){return 1===++this.active&&(this.index=D.push(this)-1,this.emit("start")),this},zoom:function(a,b){return this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0===--this.active&&(D.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(a){B(new qj(b,a,this.that.__zoom),E.apply,E,[a,this.that,this.args])}},b.filter=function(a){return arguments.length?(s="function"==typeof a?a:zw(!!a),b):s},b.extent=function(a){return arguments.length?(t="function"==typeof a?a:zw([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):t},b.scaleExtent=function(a){return arguments.length?(u=+a[0],v=+a[1],b):[u,v]},b.translateExtent=function(a){return arguments.length?(w=+a[0][0],x=+a[1][0],y=+a[0][1],z=+a[1][1],b):[[w,y],[x,z]]},b.duration=function(a){return arguments.length?(A=+a,b):A},b.interpolate=function(a){return arguments.length?(C=a,b):C},b.on=function(){var a=E.on.apply(E,arguments);return a===E?b:a},b};a.version=xj,a.bisect=Bj,a.bisectRight=Bj,a.bisectLeft=Cj,a.ascending=yj,a.bisector=zj,a.descending=Dj,a.deviation=Gj,a.extent=Hj,a.histogram=Tj,a.thresholdFreedmanDiaconis=Vj,a.thresholdScott=Wj,a.thresholdSturges=Sj,a.max=Xj,a.mean=Yj,a.median=Zj,a.merge=$j,a.min=_j,a.pairs=ak,a.permute=bk,a.quantile=Uj,a.range=Nj,a.scan=ck,a.shuffle=dk,a.sum=ek,a.ticks=Rj,a.tickStep=c,a.transpose=fk,a.variance=Fj,a.zip=gk,a.axisTop=j,a.axisRight=k,a.axisBottom=l,a.axisLeft=m,a.brush=to,a.brushX=Bc,a.brushY=Cc,a.brushSelection=Ac,a.chord=Ao,a.ribbon=Ho,a.nest=Jo,a.set=Tc,a.map=Nc,a.keys=Lo,a.values=Mo,a.entries=No,a.color=xa,a.rgb=Ba,a.hsl=Fa,a.lab=Ja,a.hcl=Qa,a.cubehelix=Ta,a.dispatch=n,a.drag=sl,a.dragDisable=ql,a.dragEnable=qa,a.dsvFormat=Oo,a.csvParse=Qo,a.csvParseRows=Ro,a.csvFormat=So,a.csvFormatRows=To,a.tsvParse=Vo,a.tsvParseRows=Wo,a.tsvFormat=Xo,a.tsvFormatRows=Yo,a.easeLinear=ac,a.easeQuad=dc,a.easeQuadIn=bc,a.easeQuadOut=cc,a.easeQuadInOut=dc,a.easeCubic=gc,a.easeCubicIn=ec,a.easeCubicOut=fc,a.easeCubicInOut=gc,a.easePoly=En,a.easePolyIn=Cn,a.easePolyOut=Dn,a.easePolyInOut=En,a.easeSin=jc,a.easeSinIn=hc,a.easeSinOut=ic,a.easeSinInOut=jc,a.easeExp=mc,a.easeExpIn=kc,a.easeExpOut=lc,a.easeExpInOut=mc,a.easeCircle=pc,a.easeCircleIn=nc,a.easeCircleOut=oc,a.easeCircleInOut=pc,a.easeBounce=rc,a.easeBounceIn=qc,a.easeBounceOut=rc,a.easeBounceInOut=sc,a.easeBack=Un,a.easeBackIn=Sn,a.easeBackOut=Tn,a.easeBackInOut=Un,a.easeElastic=Zn,a.easeElasticIn=Yn,a.easeElasticOut=Zn,a.easeElasticInOut=$n,a.forceCenter=Zo,a.forceCollide=pp,a.forceLink=qp,a.forceManyBody=up,a.forceSimulation=tp,a.forceX=vp,a.forceY=wp,a.formatDefaultLocale=ld,a.formatLocale=Ip,a.formatSpecifier=Fp,a.precisionFixed=Jp,a.precisionPrefix=Kp,a.precisionRound=Lp,a.geoArea=Rq,a.geoBounds=Uq,a.geoCentroid=Wq,a.geoCircle=jr,a.geoClipExtent=qr,a.geoDistance=wr,a.geoGraticule=oe,a.geoGraticule10=pe,a.geoInterpolate=xr,a.geoLength=tr,a.geoPath=Rr,a.geoAlbers=bs,a.geoAlbersUsa=cs,a.geoAzimuthalEqualArea=es,a.geoAzimuthalEqualAreaRaw=ds,a.geoAzimuthalEquidistant=gs,a.geoAzimuthalEquidistantRaw=fs,a.geoConicConformal=is,a.geoConicConformalRaw=bf,a.geoConicEqualArea=as,a.geoConicEqualAreaRaw=We,a.geoConicEquidistant=ks,a.geoConicEquidistantRaw=df,a.geoEquirectangular=js,a.geoEquirectangularRaw=cf,a.geoGnomonic=ls,a.geoGnomonicRaw=ef,a.geoIdentity=ms,a.geoProjection=Se,a.geoProjectionMutator=Te,a.geoMercator=hs,a.geoMercatorRaw=$e,a.geoOrthographic=ns,a.geoOrthographicRaw=gf,a.geoStereographic=os,a.geoStereographicRaw=hf,a.geoTransverseMercator=ps,a.geoTransverseMercatorRaw=jf,a.geoRotation=ir,a.geoStream=Nq,a.geoTransform=Xr,a.cluster=qs,a.hierarchy=tf,a.pack=Gs,a.packSiblings=Es,a.packEnclose=Ds,a.partition=Js,a.stratify=Ns,a.tree=Os,a.treemap=Ss,a.treemapBinary=Ts,a.treemapDice=Is,a.treemapSlice=Ps,a.treemapSliceDice=Us,a.treemapSquarify=Rs,a.treemapResquarify=Vs,a.interpolate=rm,a.interpolateArray=km,a.interpolateBasis=em,a.interpolateBasisClosed=fm,a.interpolateDate=lm,a.interpolateNumber=mm,a.interpolateObject=nm,a.interpolateRound=sm,a.interpolateString=qm,a.interpolateTransformCss=wm,a.interpolateTransformSvg=xm,a.interpolateZoom=Cm,a.interpolateRgb=hm,a.interpolateRgbBasis=im,a.interpolateRgbBasisClosed=jm,a.interpolateHsl=Dm,a.interpolateHslLong=Em,a.interpolateLab=jb,a.interpolateHcl=Fm,a.interpolateHclLong=Gm,a.interpolateCubehelix=Hm,a.interpolateCubehelixLong=Im,a.quantize=Jm,a.path=Gc,a.polygonArea=Ws,a.polygonCentroid=Xs,a.polygonHull=Zs,a.polygonContains=$s,a.polygonLength=_s;a.quadtree=ad;a.queue=jg,a.randomUniform=ct,a.randomNormal=dt,a.randomLogNormal=et,a.randomBates=gt,a.randomIrwinHall=ft,a.randomExponential=ht,a.request=it,a.html=kt,a.json=lt,a.text=mt,a.xml=nt,a.csv=pt,a.tsv=qt,a.scaleBand=og,a.scalePoint=qg,a.scaleIdentity=Ag,a.scaleLinear=zg,a.scaleLog=Hg,a.scaleOrdinal=ng,a.scaleImplicit=ut,a.scalePow=Jg,a.scaleSqrt=Kg,a.scaleQuantile=Lg,a.scaleQuantize=Mg,a.scaleThreshold=Ng,a.scaleTime=Uu,a.scaleUtc=Vu,a.schemeCategory10=Xu,a.schemeCategory20b=Yu,a.schemeCategory20c=Zu,a.schemeCategory20=$u,a.interpolateCubehelixDefault=_u,a.interpolateRainbow=dv,a.interpolateWarm=av,a.interpolateCool=bv,a.interpolateViridis=ev,a.interpolateMagma=fv,a.interpolateInferno=gv,a.interpolatePlasma=hv,a.scaleSequential=Vh,a.creator=sk,a.local=u,a.matcher=xk,a.mouse=Dk,a.namespace=rk,a.namespaces=qk,a.select=ll,a.selectAll=ml,a.selection=oa,a.selector=Ek,a.selectorAll=Gk,a.touch=nl,a.touches=ol,a.window=Zk,a.customEvent=B,a.arc=nv,a.area=qv,a.line=pv,a.pie=tv,a.radialArea=wv,a.radialLine=vv,a.symbol=Qv,a.symbols=Pv,a.symbolCircle=xv,a.symbolCross=yv,a.symbolDiamond=Bv,a.symbolSquare=Hv,a.symbolStar=Gv,a.symbolTriangle=Jv,a.symbolWye=Ov,a.curveBasisClosed=Tv,a.curveBasisOpen=Uv,a.curveBasis=Sv,a.curveBundle=Vv,a.curveCardinalClosed=Xv,a.curveCardinalOpen=Yv,a.curveCardinal=Wv,a.curveCatmullRomClosed=$v,a.curveCatmullRomOpen=_v,a.curveCatmullRom=Zv,a.curveLinearClosed=aw,a.curveLinear=ov,a.curveMonotoneX=Di,a.curveMonotoneY=Ei,a.curveNatural=bw,a.curveStep=cw,a.curveStepAfter=Ji,a.curveStepBefore=Ii,a.stack=gw,a.stackOffsetExpand=hw,a.stackOffsetNone=ew,a.stackOffsetSilhouette=iw,a.stackOffsetWiggle=jw,a.stackOrderAscending=kw,a.stackOrderDescending=lw,a.stackOrderInsideOut=mw,a.stackOrderNone=fw,a.stackOrderReverse=nw,a.timeInterval=Og,a.timeMillisecond=Ct,a.timeMilliseconds=Dt,a.utcMillisecond=Ct,a.utcMilliseconds=Dt,a.timeSecond=Jt,a.timeSeconds=Kt,a.utcSecond=Jt,a.utcSeconds=Kt,a.timeMinute=Lt,a.timeMinutes=Mt,a.timeHour=Nt,a.timeHours=Ot,a.timeDay=Pt,a.timeDays=Qt,a.timeWeek=Rt,a.timeWeeks=Yt,a.timeSunday=Rt,a.timeSundays=Yt,a.timeMonday=St,a.timeMondays=Zt,a.timeTuesday=Tt,a.timeTuesdays=$t,a.timeWednesday=Ut,a.timeWednesdays=_t,a.timeThursday=Vt,a.timeThursdays=au,a.timeFriday=Wt,a.timeFridays=bu,a.timeSaturday=Xt,a.timeSaturdays=cu,a.timeMonth=du,a.timeMonths=eu,a.timeYear=fu,a.timeYears=gu,a.utcMinute=hu,a.utcMinutes=iu,a.utcHour=ju,a.utcHours=ku,a.utcDay=lu,a.utcDays=mu,a.utcWeek=nu,a.utcWeeks=uu,a.utcSunday=nu,a.utcSundays=uu,a.utcMonday=ou,a.utcMondays=vu,a.utcTuesday=pu,a.utcTuesdays=wu,a.utcWednesday=qu,a.utcWednesdays=xu,a.utcThursday=ru,a.utcThursdays=yu,a.utcFriday=su,a.utcFridays=zu,a.utcSaturday=tu,a.utcSaturdays=Au,a.utcMonth=Bu,a.utcMonths=Cu,a.utcYear=Du,a.utcYears=Fu,a.timeFormatDefaultLocale=Oh,a.timeFormatLocale=Ug,a.isoFormat=Lu,a.isoParse=Mu,a.now=mb,a.timer=pb,a.timerFlush=qb,a.timeout=Tm,a.interval=Um,a.transition=$b,a.active=co,a.interrupt=dn,a.voronoi=yw,a.zoom=Cw,a.zoomTransform=sj,a.zoomIdentity=Aw,Object.defineProperty(a,"__esModule",{value:!0})})}(),function(){var a=System.amdDefine;!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?c(exports,require("./d3.v4.min.js")):"function"==typeof a&&a.amd?a("vendor/d3/d3-scale-chromatic.min.js",["exports","./d3.v4.min.js"],c):c(b.d3=b.d3||{},b.d3)}(this,function(a,b){"use strict";var c=function(a){for(var b=a.length/6|0,c=new Array(b),d=0;d<b;)c[d]="#"+a.slice(6*d,6*++d);return c},d=c("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),e=c("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),f=c("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),g=c("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),h=c("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),i=c("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),j=c("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),k=c("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),l=function(a){return b.interpolateRgbBasis(a[a.length-1])},m=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(c),n=l(m),o=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(c),p=l(o),q=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(c),r=l(q),s=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(c),t=l(s),u=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(c),v=l(u),w=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(c),x=l(w),y=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(c),z=l(y),A=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(c),B=l(A),C=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(c),D=l(C),E=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(c),F=l(E),G=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(c),H=l(G),I=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(c),J=l(I),K=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(c),L=l(K),M=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(c),N=l(M),O=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(c),P=l(O),Q=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(c),R=l(Q),S=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(c),T=l(S),U=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(c),V=l(U),W=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(c),X=l(W),Y=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(c),Z=l(Y),$=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(c),_=l($),aa=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(c),ba=l(aa),ca=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(c),da=l(ca),ea=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(c),fa=l(ea),ga=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(c),ha=l(ga),ia=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(c),ja=l(ia),ka=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(c),la=l(ka);a.schemeAccent=d,a.schemeDark2=e,a.schemePaired=f,a.schemePastel1=g,a.schemePastel2=h,a.schemeSet1=i,a.schemeSet2=j,a.schemeSet3=k,a.interpolateBrBG=n,a.schemeBrBG=m,a.interpolatePRGn=p,a.schemePRGn=o,a.interpolatePiYG=r,a.schemePiYG=q,a.interpolatePuOr=t,a.schemePuOr=s,a.interpolateRdBu=v,a.schemeRdBu=u,a.interpolateRdGy=x,a.schemeRdGy=w,a.interpolateRdYlBu=z,a.schemeRdYlBu=y,a.interpolateRdYlGn=B,a.schemeRdYlGn=A,a.interpolateSpectral=D,a.schemeSpectral=C,a.interpolateBuGn=F,a.schemeBuGn=E,a.interpolateBuPu=H,a.schemeBuPu=G,a.interpolateGnBu=J,a.schemeGnBu=I,a.interpolateOrRd=L,a.schemeOrRd=K,a.interpolatePuBuGn=N,a.schemePuBuGn=M,a.interpolatePuBu=P,a.schemePuBu=O,a.interpolatePuRd=R,a.schemePuRd=Q,a.interpolateRdPu=T,a.schemeRdPu=S,a.interpolateYlGnBu=V,a.schemeYlGnBu=U,a.interpolateYlGn=X,a.schemeYlGn=W,a.interpolateYlOrBr=Z,a.schemeYlOrBr=Y,a.interpolateYlOrRd=_,a.schemeYlOrRd=$,a.interpolateBlues=ba,a.schemeBlues=aa,a.interpolateGreens=da,a.schemeGreens=ca,a.interpolateGreys=fa,a.schemeGreys=ea,a.interpolatePurples=ha,a.schemePurples=ga,a.interpolateReds=ja,a.schemeReds=ia,a.interpolateOranges=la,a.schemeOranges=ka,Object.defineProperty(a,"__esModule",{value:!0})})}(),System.registerDynamic("d3",["./d3.v4.min.js","./d3-scale-chromatic.min.js"],!0,function(a,b,c){var d=(this||self,Object.assign({},a("./d3.v4.min.js"),a("./d3-scale-chromatic.min.js")));c.exports=d}),System.register("app/plugins/panel/heatmap/heatmap_tooltip.js",["d3","jquery","lodash","app/core/utils/kbn","./heatmap_data_converter"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=30,i=5,j=160,k=40,l=function(){function a(a,b){this.scope=b,this.dashboard=b.ctrl.dashboard,this.panel=b.ctrl.panel,this.heatmapPanel=a,this.mouseOverBucket=!1,this.originalFillColor=null,a.on("mouseover",this.onMouseOver.bind(this)),a.on("mouseleave",this.onMouseLeave.bind(this))}return a.prototype.onMouseOver=function(a){this.panel.tooltip.show&&this.scope.ctrl.data&&!e.default.isEmpty(this.scope.ctrl.data.buckets)&&(this.tooltip||(this.add(),this.move(a)))},a.prototype.onMouseLeave=function(){this.destroy()},a.prototype.onMouseMove=function(a){this.panel.tooltip.show&&this.move(a)},a.prototype.add=function(){this.tooltip=c.default.select("body").append("div").attr("class","heatmap-tooltip graph-tooltip grafana-tooltip")},a.prototype.destroy=function(){this.tooltip&&this.tooltip.remove(),this.tooltip=null},a.prototype.show=function(a,b){if(this.panel.tooltip.show&&b&&!a.panelRelY){var c=this.getBucketIndexes(a,b),d=c.xBucketIndex,e=c.yBucketIndex;if(!b.buckets[d]||!this.tooltip)return void this.destroy();var f,g,h,i=b.buckets[d],j=i.buckets[e],k="YYYY-MM-DD HH:mm:ss",l=this.dashboard.formatDate(i.x,k),m=this.panel.tooltipDecimals||5,n=this.valueFormatter(m),o='<div class="graph-tooltip-time">'+l+'</div>\n      <div class="heatmap-histogram"></div>';if(j)j.bounds?(f=n(j.bounds.bottom),g=n(j.bounds.top),h=j.count,o+="<div>\n          bucket: <b>"+f+" - "+g+"</b> <br>\n          count: <b>"+h+"</b> <br>\n        </div>"):o+="<div>count: <b>"+j.count+"</b><br></div>";else{if(!this.panel.tooltip.showHistogram)return void this.destroy();f=e,g="",h=0}this.tooltip.html(o),this.panel.tooltip.showHistogram&&this.addHistogram(i),this.move(a)}},a.prototype.getBucketIndexes=function(a,b){var c=this.getXBucketIndex(a.offsetX,b),d=this.getYBucketIndex(a.offsetY,b);return{xBucketIndex:c,yBucketIndex:d}},a.prototype.getXBucketIndex=function(a,b){var c=this.scope.xScale.invert(a-this.scope.yAxisWidth).valueOf(),d=g.getValueBucketBound(c,b.xBucketSize,1);return d},a.prototype.getYBucketIndex=function(a,b){var c=this.scope.yScale.invert(a-this.scope.chartTop),d=g.getValueBucketBound(c,b.yBucketSize,this.panel.yAxis.logBase);return d},a.prototype.getSharedTooltipPos=function(a){return a.pageX=this.heatmapPanel.offset().left+this.scope.xScale(a.x),a.pageY=this.heatmapPanel.offset().top+this.scope.chartHeight*a.panelRelY,a},a.prototype.addHistogram=function(a){var b=this.scope.ctrl.data.buckets[a.x],d=this.scope.ctrl.data.yBucketSize,f=this.scope.ctrl.data.yAxis,g=f.min,h=f.max,i=f.ticks,l=e.default.map(b.buckets,function(a){return[a.y,a.values.length]});l=e.default.filter(l,function(a){return a[0]>=g&&a[0]<=h});var m,n=this.scope.yScale.copy(),o=n.domain([g,h]).range([0,j]);m=1===this.panel.yAxis.logBase?Math.floor(j/(h-g)*d*.9):Math.floor(j/i/d*.9),m=Math.max(m,1);var p=c.default.scaleLinear().domain([0,e.default.max(e.default.map(l,function(a){return a[1]}))]).range([0,k]),q=this.tooltip.select(".heatmap-histogram").append("svg").attr("width",j).attr("height",k);q.selectAll(".bar").data(l).enter().append("rect").attr("x",function(a){return o(a[0])}).attr("width",m).attr("y",function(a){return k-p(a[1])}).attr("height",function(a){return p(a[1])})},a.prototype.move=function(a){if(this.tooltip){var b=d.default(this.tooltip.node())[0],c=b.clientWidth,e=b.clientHeight,f=a.pageX+h,g=a.pageY+i;return a.pageX+c+40>window.innerWidth&&(f=a.pageX-c-h),a.pageY-window.pageYOffset+e+20>window.innerHeight&&(g=a.pageY-e-i),this.tooltip.style("left",f+"px").style("top",g+"px")}},a.prototype.valueFormatter=function(a){var b=this.panel.yAxis.format;return function(c){return e.default.isInteger(c)&&(a=0),f.default.valueFormats[b](c,a)}},a}(),a("HeatmapTooltip",l)}}}),System.register("app/plugins/panel/heatmap/rendering.js",["lodash","jquery","moment","app/core/utils/kbn","app/core/core","app/core/utils/ticks","d3","./heatmap_tooltip","./heatmap_data_converter"],function(a,b){"use strict";
function c(a,b,c,y){function z(){try{var a=y.height||oa.height||y.row.height;return g.default.isString(a)&&(a=parseInt(a.replace("px",""),10)),a-=5,a-=oa.title?24:9,Ha.css("height",a+"px"),!0}catch(a){return!1}}function A(a){var b=a.selectAll(".axis-y text").nodes(),c=g.default.max(g.default.map(b,function(a){var b=h.default(a);return b.outerWidth()}));return c}function B(a){var b=a.select(".axis-x line");if(b.empty())return 30;var c=parseFloat(a.select(".axis-x line").attr("y2")),d=parseFloat(a.attr("height"));return d-c}function C(){a.xScale=ta=m.default.scaleTime().domain([na.from,na.to]).range([0,ua]);var b=ua/t,c=d(b,na.from,na.to),e=m.default.axisBottom(ta).ticks(b).tickFormat(m.default.timeFormat(c)).tickPadding(v).tickSize(va),f=La.top,g=ya;pa.append("g").attr("class","axis axis-x").attr("transform","translate("+g+","+f+")").call(e),pa.select(".axis-x").select(".domain").remove()}function D(){var b=Math.ceil(va/u),c=l.tickStep(ma.heatmapStats.min,ma.heatmapStats.max,b),d=E(ma.heatmapStats.min,ma.heatmapStats.max,c),e=d.y_min,h=d.y_max;e=null!==oa.yAxis.min?oa.yAxis.min:e,h=null!==oa.yAxis.max?oa.yAxis.max:h,c=l.tickStep(e,h,b),b=Math.ceil((h-e)/c);var i=null===oa.yAxis.decimals?f(c):oa.yAxis.decimals;g.default.isEmpty(ma.buckets)&&(h=1,e=-1,b=3,i=1),ma.yAxis={min:e,max:h,ticks:b},a.yScale=sa=m.default.scaleLinear().domain([e,h]).range([va,0]);var j=m.default.axisLeft(sa).ticks(b).tickFormat(K(i)).tickSizeInner(0-qa).tickSizeOuter(0).tickPadding(w);pa.append("g").attr("class","axis axis-y").call(j);var k=La.top,n=A(pa)+w;pa.select(".axis-y").attr("transform","translate("+n+","+k+")"),pa.select(".axis-y").select(".domain").remove()}function E(a,b,c){var d,e,f=(b*(Ma-1)-a*(Ma-1))/2;return 0===c?(e=b*Ma,d=a-a*(Ma-1),c=(e-d)/2):(e=Math.ceil((b+f)/c)*c,d=Math.floor((a-f)/c)*c),a>=0&&d<0&&(d=0),{y_min:d,y_max:e}}function F(){var b=oa.yAxis.logBase,c=G(ma.heatmapStats.minLog,ma.heatmapStats.max,b),d=c.y_min,e=c.y_max;d=null!==oa.yAxis.min?I(oa.yAxis.min,b):d,e=null!==oa.yAxis.max?H(oa.yAxis.max,b):e,g.default.isEmpty(ma.buckets)&&(e=Math.pow(b,2),d=1),a.yScale=sa=m.default.scaleLog().base(oa.yAxis.logBase).domain([d,e]).range([va,0]);var f=sa.domain(),h=J(f,b),i=oa.yAxis.decimals;ma.yAxis={min:d,max:e,ticks:h.length};var j=m.default.axisLeft(sa).tickValues(h).tickFormat(K(i)).tickSizeInner(0-qa).tickSizeOuter(0).tickPadding(w);pa.append("g").attr("class","axis axis-y").call(j);var k=La.top,l=A(pa)+w;pa.select(".axis-y").attr("transform","translate("+l+","+k+")"),d<1&&pa.select(".axis-y").select(".tick text").text("0"),pa.select(".axis-y").select(".domain").remove()}function G(a,b,c){var d,e;return d=ma.heatmapStats.minLog,d=ma.heatmapStats.minLog>1||!ma.heatmapStats.minLog?1:I(ma.heatmapStats.minLog,c),e=H(ma.heatmapStats.max,c),{y_min:d,y_max:e}}function H(a,b){return Math.pow(b,Math.ceil(e(a,b)))}function I(a,b){return Math.pow(b,Math.floor(e(a,b)))}function J(a,b){var c=a[0],d=a[1],f=[];if(c<1)for(var g=Math.floor(e(c,b)),h=g;h<0;h++){var i=Math.pow(b,h);f.push(i)}for(var j=Math.ceil(e(d,b)),h=0;h<=j;h++){var i=Math.pow(b,h);f.push(i)}return f}function K(a){var b=oa.yAxis.format;return function(c){return j.default.valueFormats[b](c,a)}}function L(){pa.select(".axis-y").selectAll(".tick line").attr("x2",ua)}function M(){va=ra-La.top-La.bottom,wa=La.top,xa=wa+va,1===oa.yAxis.logBase?D():F(),ya=A(pa)+w,ua=qa-ya-La.right,L(),C(),za=B(pa),oa.yAxis.show||pa.select(".axis-y").selectAll("line").style("opacity",0),oa.xAxis.show||pa.select(".axis-x").selectAll("line").style("opacity",0)}function N(){var a=Ha[0];qa=Math.floor(Ha.width())-Ka.right,ra=Math.floor(Ha.height())-Ka.bottom,Aa=null!==oa.cards.cardPadding?oa.cards.cardPadding:q,Ba=null!==oa.cards.cardRound?oa.cards.cardRound:r,pa&&pa.remove(),pa=m.default.select(a).append("svg").attr("width",qa).attr("height",ra)}function O(){if(N(),M(),1!==oa.yAxis.logBase){var a=oa.yAxis.logBase,b=sa.domain(),c=J(b,a);ma.buckets=o.mergeZeroBuckets(ma.buckets,g.default.min(c))}var d=o.convertToCards(ma.buckets),e=m.default.max(d,function(a){return a.count});Ea=R(e),S(e),T();var f=pa.selectAll(".heatmap-card").data(d);f.append("title"),f=f.enter().append("rect").attr("x",U).attr("width",V).attr("y",W).attr("height",X).attr("rx",Ba).attr("ry",Ba).attr("class","bordered heatmap-card").style("fill",Y).style("stroke",Y).style("stroke-width",0).style("opacity",Z);var h=Ha.find(".heatmap-card");h.on("mouseenter",function(a){Ia.mouseOverBucket=!0,P(a)}).on("mouseleave",function(a){Ia.mouseOverBucket=!1,Q(a)})}function P(a){var b=m.default.select(a.target).style("fill"),c=m.default.color(b).darker(2),d=m.default.color(b).brighter(4),e=m.default.select(a.target);Ia.originalFillColor=b,e.style("fill",c).style("stroke",d).style("stroke-width",1)}function Q(a){m.default.select(a.target).style("fill",Ia.originalFillColor).style("stroke",Ia.originalFillColor).style("stroke-width",0)}function R(a){var b=g.default.find(y.colorSchemes,{value:oa.color.colorScheme}),c=m.default[b.value],d="always"===b.invert||"dark"===b.invert&&!k.contextSrv.user.lightTheme,e=d?a:0,f=d?0:a;return m.default.scaleSequential(c).domain([e,f])}function S(a){"linear"===oa.color.colorScale?Fa=m.default.scaleLinear().domain([0,a]).range([0,1]):"sqrt"===oa.color.colorScale&&(Fa=m.default.scalePow().exponent(oa.color.exponent).domain([0,a]).range([0,1]))}function T(){var a=Math.floor(ta(ma.xBucketSize)-ta(0)),b=Math.floor(sa(sa.invert(0)-ma.yBucketSize));if(1!==oa.yAxis.logBase){var c=oa.yAxis.logBase,d=ma.yBucketSize||1;b=Math.floor((sa(1)-sa(c))/d)}Ca=a-2*Aa,Da=b?b-2*Aa:0}function U(a){var b;return b=ta(a.x)<0?ya+Aa:ta(a.x)+ya+Aa}function V(a){var b;if(ta(a.x)<0){var c=ta(a.x)+Ca;b=c>0?c:0}else b=ta(a.x)+Ca>ua?ua-ta(a.x)-Aa:Ca;return b=Math.max(b,p)}function W(a){var b=sa(a.y)+wa-Da-Aa;return 1!==oa.yAxis.logBase&&0===a.y?b=xa-Da-Aa:b<wa&&(b=wa),b}function X(a){var b=sa(a.y)+wa-Da-Aa,c=Da;return 1!==oa.yAxis.logBase&&0===a.y?Da:(b<wa?c=sa(a.y)-Aa:sa(a.y)>xa?c=xa-b:b+Da>xa&&(c=xa-b),c=Math.min(c,va),c=Math.max(c,p))}function Y(a){return"opacity"===oa.color.mode?oa.color.cardColor:Ea(a.count)}function Z(a){return"opacity"===oa.color.mode?Fa(a.count):1}function $(a){Ja.active=!0,Ja.x1=a.offsetX,Ga=function(){_()},h.default(document).one("mouseup",Ga)}function _(){h.default(document).unbind("mouseup",Ga),Ga=null,Ja.active=!1;var a=Math.abs(Ja.x2-Ja.x1);if(Ja.x2>=0&&a>x){var b=ta.invert(Math.min(Ja.x1,Ja.x2)-ya),c=ta.invert(Math.max(Ja.x1,Ja.x2)-ya);y.timeSrv.setTime({from:i.default.utc(b),to:i.default.utc(c)})}fa()}function aa(){k.appEvents.emit("graph-hover-clear"),ia()}function ba(a){pa&&(Ja.active?(ia(),Ia.destroy(),Ja.x2=da(a.offsetX),ea(Ja.x1,Ja.x2)):(ca(a),ga(a.offsetX),Ia.show(a,ma)))}function ca(a){var b=ta.invert(a.offsetX-ya).valueOf(),c=sa.invert(a.offsetY),d={pageX:a.pageX,pageY:a.pageY,x:b,x1:b,y:c,y1:c,panelRelY:null};d.panelRelY=Math.max(a.offsetY/ra,.001),k.appEvents.emit("graph-hover",{pos:d,panel:oa})}function da(a){return a=Math.max(a,ya),a=Math.min(a,ua+ya)}function ea(a,b){if(pa){pa.selectAll(".heatmap-selection").remove();var c=Math.min(a,b),d=Math.abs(a-b);d>x&&pa.append("rect").attr("class","heatmap-selection").attr("x",c).attr("width",d).attr("y",wa).attr("height",va)}}function fa(){Ja.x1=-1,Ja.x2=-1,pa&&pa.selectAll(".heatmap-selection").remove()}function ga(a){if(pa){pa.selectAll(".heatmap-crosshair").remove();var b=a;b=Math.max(b,ya),b=Math.min(b,ua+ya),pa.append("g").attr("class","heatmap-crosshair").attr("transform","translate("+b+",0)").append("line").attr("x1",1).attr("y1",wa).attr("x2",1).attr("y2",xa).attr("stroke-width",1)}}function ha(a){if(pa&&0!==y.dashboard.graphTooltip){var b=ta(a.x)+ya;ga(b)}}function ia(){pa&&pa.selectAll(".heatmap-crosshair").remove()}function ja(){m.default.select("#heatmap-color-legend").selectAll("rect").remove();var a=m.default.select("#heatmap-color-legend"),b=Math.floor(h.default(m.default.select("#heatmap-color-legend").node()).outerWidth()),c=m.default.select("#heatmap-color-legend").attr("height"),d=R(b),e=2,f=m.default.range(0,b,e),g=a.selectAll(".heatmap-color-legend-rect").data(f);g.enter().append("rect").attr("x",function(a){return a}).attr("y",0).attr("width",e+1).attr("height",c).attr("stroke-width",0).attr("fill",function(a){return d(a)})}function ka(){m.default.select("#heatmap-opacity-legend").selectAll("rect").remove();var a,b=m.default.select("#heatmap-opacity-legend"),c=Math.floor(h.default(m.default.select("#heatmap-opacity-legend").node()).outerWidth()),d=m.default.select("#heatmap-opacity-legend").attr("height");"linear"===oa.color.colorScale?a=m.default.scaleLinear().domain([0,c]).range([0,1]):"sqrt"===oa.color.colorScale&&(a=m.default.scalePow().exponent(oa.color.exponent).domain([0,c]).range([0,1]));var e=1,f=m.default.range(0,c,e),g=b.selectAll(".heatmap-opacity-legend-rect").data(f);g.enter().append("rect").attr("x",function(a){return a}).attr("y",0).attr("width",e).attr("height",d).attr("stroke-width",0).attr("fill",oa.color.cardColor).style("opacity",function(b){return a(b)})}function la(){if(ma=y.data,oa=y.panel,na=y.range,m.default.select("#heatmap-color-legend").empty()||ja(),m.default.select("#heatmap-opacity-legend").empty()||ka(),z()&&ma){if(g.default.isEmpty(ma.buckets))return N(),void M();O(),a.yAxisWidth=ya,a.xAxisHeight=za,a.chartHeight=va,a.chartWidth=ua,a.chartTop=wa}}var ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha=b.find(".heatmap-panel"),Ia=new n.HeatmapTooltip(Ha,a),Ja={active:!1,x1:-1,x2:-1},Ka={left:0,right:0,top:0,bottom:0},La={left:25,right:15,top:10,bottom:20},Ma=s;y.events.on("render",function(){la(),y.renderingCompleted()}),k.appEvents.on("graph-hover",function(a){ha(a.pos)},a),k.appEvents.on("graph-hover-clear",function(){ia()},a),Ha.on("mousedown",$),Ha.on("mousemove",ba),Ha.on("mouseleave",aa)}function d(a,b,c){if(b&&c&&a){var d=c-b,e=d/a/1e3,f=864e5,g=31536e6;return e<=45?"%H:%M:%S":e<=7200||d<=f?"%H:%M":e<=8e4?"%m/%d %H:%M":e<=2419200||d<=g?"%m/%d":"%Y-%m"}return"%H:%M"}function e(a,b){return Math.log(a)/Math.log(b)}function f(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1}b&&b.id;a("default",c);var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return{setters:[function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a},function(a){k=a},function(a){l=a},function(a){m=a},function(a){n=a},function(a){o=a}],execute:function(){p=1,q=1,r=0,s=1.2,t=100,u=50,v=10,w=5,x=2}}}),System.register("app/plugins/panel/heatmap/heatmap_data_converter.js",["lodash"],function(a,b){"use strict";function c(a){for(var b={},c=0,d=a;c<d.length;c++){var e=d[c],f=Number(e.alias);if(isNaN(f))return;for(var g=0,h=e.datapoints;g<h.length;g++){var i=h[g],j=i[w],k=i[x];if(v.default.isNumber(j)){var l=b[k];l||(l=b[k]={x:k,buckets:{}}),l.buckets[f]={y:f,count:j,values:[],points:[]}}}}return b}function d(a){var b=[];return v.default.forEach(a,function(a){v.default.forEach(a.buckets,function(c){var d={x:a.x,y:c.y,yBounds:c.bounds,values:c.values,count:c.count};b.push(d)})}),b}function e(a,b){return v.default.forEach(a,function(a){var c=a.buckets,d={bounds:{bottom:0,top:0},values:[],points:[],count:0},e=c[0]||d,f=c[b]||d,g={y:0,bounds:{bottom:b,top:f.bounds.top||b},values:[],points:[],count:0};g.points=e.points.concat(f.points),g.values=e.values.concat(f.values),g.count=g.values.length,0!==g.count&&(delete c[b],c[0]=g)}),a}function f(a,b,c,d){void 0===d&&(d=1);for(var e={},f=function(a){var b=a.datapoints,d=a.label;v.default.forEach(b,function(a){var b=k(a[x],c);g(e,a,b,d)})},h=0,i=a;h<i.length;h++){var j=i[h];f(j)}return v.default.forEach(e,function(a){1!==d?a.buckets=o(a,b,d):a.buckets=l(a,b)}),e}function g(a,b,c,d){var e=b[w];null===e||void 0===e||isNaN(e)||(b.push(d),a[c]&&a[c].values?(a[c].values.push(e),a[c].points.push(b)):a[c]={x:c,values:[e],points:[b]})}function h(a,b,c,d,e){a[b]?(a[b].values.push(c),a[b].count+=1):a[b]={y:b,bounds:e,values:[c],count:1}}function i(a,b,c){return 1===c?k(a,b):n(a,b,c)}function j(a,b){var c,d;return c=Math.floor(a/b)*b,d=(Math.floor(a/b)+1)*b,{bottom:c,top:d}}function k(a,b){var c=j(a,b);return c.bottom}function l(a,b){var c=a.values,d=a.points,e={};return v.default.forEach(c,function(a,c){var f=j(a,b),g=f.bottom;h(e,g,a,d[c],f)}),e}function m(a,b,c){var d,e;if(0===a)return{bottom:0,top:0};var f,g,h=q(a,c);if(1!==b&&b){var i=1/b,j=h-Math.floor(h);j=Math.floor(j/i)*i,f=Math.floor(h)+j,g=f+i}else f=Math.floor(h),g=f+1;return e=Math.pow(c,f),d=Math.pow(c,g),{bottom:e,top:d}}function n(a,b,c){var d=m(a,b,c);return d.bottom}function o(a,b,c){var d=a.values,e=a.points,f={};return v.default.forEach(d,function(a,d){var g=m(a,b,c),i=g.bottom;h(f,i,a,e[d],g)}),f}function p(a){var b=v.default.compact(v.default.map(a.datapoints,function(a){return a[0]}));return v.default.min(b)}function q(a,b){return Math.log(a)/Math.log(b)}function r(a,b){void 0===b&&(b=1);var c=1/0;if(0===a.length)return 0;if(1===a.length)return a[0];a=v.default.sortBy(a);for(var d=1;d<a.length;d++){var e=s(a[d],a[d-1],b);c=e<c?e:c}return c}function s(a,b,c){if(void 0===c&&(c=1),1===c)return Math.abs(b-a);var d=Math.max(a,b)/Math.min(a,b);return q(d,c)}function t(a,b){var c=!u(a,b);return v.default.forEach(a,function(a,d){return b[d]?u(a.buckets,b[d].buckets)?(c=!1,!1):(v.default.forEach(a.buckets,function(a,e){return b[d].buckets&&b[d].buckets[e]&&b[d].buckets[e].values?!!(c=v.default.isEqual(v.default.sortBy(a.values),v.default.sortBy(b[d].buckets[e].values)))&&void 0:(c=!1,!1)}),!!c&&void 0):(c=!1,!1)}),c}function u(a,b){return(v.default.isEmpty(a)||v.default.isEmpty(b))&&!(v.default.isEmpty(a)&&v.default.isEmpty(b))}b&&b.id;a("elasticHistogramToHeatmap",c),a("convertToCards",d),a("mergeZeroBuckets",e),a("convertToHeatMap",f),a("getValueBucketBound",i),a("getMinLog",p),a("calculateBucketSize",r),a("isHeatmapDataEqual",t);var v,w,x;return{setters:[function(a){v=a}],execute:function(){w=0,x=1}}}),System.register("app/plugins/panel/heatmap/heatmap_ctrl.js",["app/plugins/sdk","lodash","app/core/utils/kbn","app/core/time_series","./axes_editor","./display_editor","./rendering","./heatmap_data_converter"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a}],execute:function(){k=30,l=10,m={heatmap:{},cards:{cardPadding:null,cardRound:null},color:{mode:"spectrum",cardColor:"#b4ff00",colorScale:"sqrt",exponent:.5,colorScheme:"interpolateOranges"},dataFormat:"timeseries",xAxis:{show:!0},yAxis:{show:!0,format:"short",decimals:null,logBase:1,splitFactor:null,min:null,max:null},xBucketSize:null,xBucketNumber:null,yBucketSize:null,yBucketNumber:null,tooltip:{show:!0,showHistogram:!1},highlightCards:!0},n=["opacity","spectrum"],o=["linear","sqrt"],p=[{name:"Spectral",value:"interpolateSpectral",invert:"always"},{name:"RdYlGn",value:"interpolateRdYlGn",invert:"always"},{name:"Blues",value:"interpolateBlues",invert:"dark"},{name:"Greens",value:"interpolateGreens",invert:"dark"},{name:"Greys",value:"interpolateGreys",invert:"dark"},{name:"Oranges",value:"interpolateOranges",invert:"dark"},{name:"Purples",value:"interpolatePurples",invert:"dark"},{name:"Reds",value:"interpolateReds",invert:"dark"},{name:"BuGn",value:"interpolateBuGn",invert:"dark"},{name:"BuPu",value:"interpolateBuPu",invert:"dark"},{name:"GnBu",value:"interpolateGnBu",invert:"dark"},{name:"OrRd",value:"interpolateOrRd",invert:"dark"},{name:"PuBuGn",value:"interpolatePuBuGn",invert:"dark"},{name:"PuBu",value:"interpolatePuBu",invert:"dark"},{name:"PuRd",value:"interpolatePuRd",invert:"dark"},{name:"RdPu",value:"interpolateRdPu",invert:"dark"},{name:"YlGnBu",value:"interpolateYlGnBu",invert:"dark"},{name:"YlGn",value:"interpolateYlGn",invert:"dark"},{name:"YlOrBr",value:"interpolateYlOrBr",invert:"dark"},{name:"YlOrRd",value:"interpolateYlOrRd",invert:"darm"}],q=function(a){function b(b,c,e,f){var g=a.call(this,b,c)||this;return g.$rootScope=e,g.opacityScales=[],g.colorModes=[],g.colorSchemes=[],g.$rootScope=e,g.timeSrv=f,g.selectionActivated=!1,d.default.defaultsDeep(g.panel,m),g.opacityScales=o,g.colorModes=n,g.colorSchemes=p,g.events.on("render",g.onRender.bind(g)),g.events.on("data-received",g.onDataReceived.bind(g)),g.events.on("data-error",g.onDataError.bind(g)),g.events.on("data-snapshot-load",g.onDataReceived.bind(g)),g.events.on("init-edit-mode",g.onInitEditMode.bind(g)),g}return r(b,a),b.$inject=["$scope","$injector","$rootScope","timeSrv"],b.prototype.onInitEditMode=function(){this.addEditorTab("Axes",g.axesEditor,2),this.addEditorTab("Display",h.heatmapDisplayEditor,3),this.unitFormats=e.default.getUnitFormats()},b.prototype.zoomOut=function(a){this.publishAppEvent("zoom-out",2)},b.prototype.onRender=function(){if(this.range){var a,b,c,f,g=this.panel.yAxis.logBase;if("tsbuckets"===this.panel.dataFormat){c=this.parseHistogramSeries(this.series),f=j.elasticHistogramToHeatmap(this.series);var h=d.default.map(d.default.keys(f),function(a){return Number(a)}),i=d.default.map(this.series,function(a){return Number(a.alias)});a=j.calculateBucketSize(h),b=j.calculateBucketSize(i,g),1!==g&&(b=1/b)}else{var m=this.panel.xBucketNumber||k,n=Math.floor((this.range.to-this.range.from)/m),o=e.default.interval_regex.test(this.panel.xBucketSize);a=o?e.default.interval_to_ms(this.panel.xBucketSize):isNaN(Number(this.panel.xBucketSize))||""===this.panel.xBucketSize||null===this.panel.xBucketSize?n:Number(this.panel.xBucketSize),c=this.parseSeries(this.series);var p=this.panel.yBucketNumber||l;1!==g?b=this.panel.yAxis.splitFactor:(b=c.max===c.min?c.max?c.max/l:1:(c.max-c.min)/p,b=this.panel.yBucketSize||b),f=j.convertToHeatMap(this.series,b,a,g)}c.min||c.max||(c={min:-1,max:1,minLog:1},b=1),this.data={buckets:f,heatmapStats:c,xBucketSize:a,yBucketSize:b}}},b.prototype.onDataReceived=function(a){this.series=a.map(this.seriesHandler.bind(this)),this.dataWarning=null;var b=d.default.reduce(this.series,function(a,b){return a+b.datapoints.length},0);if(0===b)this.dataWarning={title:"No data points",tip:"No datapoints returned from data query"};else for(var c=0,e=this.series;c<e.length;c++){var f=e[c];if(f.isOutsideRange){this.dataWarning={title:"Data points outside time range",tip:"Can be caused by timezone mismatch or missing time filter in query"};break}}this.render()},b.prototype.onDataError=function(){this.series=[],this.render()},b.prototype.seriesHandler=function(a){var b=new f.default({datapoints:a.datapoints,alias:a.target});b.flotpairs=b.getFlotPairs(this.panel.nullPointMode),b.minLog=j.getMinLog(b);var c=a.datapoints||[];if(c&&c.length>0){var d=c[c.length-1][1],e=this.range.from;d-e<-1e4&&(b.isOutsideRange=!0)}return b},b.prototype.parseSeries=function(a){var b=d.default.min(d.default.map(a,function(a){return a.stats.min})),c=d.default.min(d.default.map(a,function(a){return a.minLog})),e=d.default.max(d.default.map(a,function(a){return a.stats.max}));return{max:e,min:b,minLog:c}},b.prototype.parseHistogramSeries=function(a){var b=d.default.map(a,function(a){return Number(a.alias)}),c=d.default.min(b),e=d.default.min(b),f=d.default.max(b);return{max:f,min:c,minLog:e}},b.prototype.link=function(a,b,c,d){i.default(a,b,c,d)},b}(c.MetricsPanelCtrl),q.templateUrl="module.html",a("HeatmapCtrl",q)}}}),System.register("app/plugins/panel/heatmap/module.js",["./heatmap_ctrl"],function(a,b){"use strict";var c;b&&b.id;return{setters:[function(a){c=a}],execute:function(){a("PanelCtrl",c.HeatmapCtrl)}}}),System.register("app/plugins/panel/pluginlist/module.js",["lodash","../../../features/panel/panel_ctrl"],function(a,b){"use strict";var c,d,e,f=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(a){function b(b,d,e,f){var g=a.call(this,b,d)||this;return g.backendSrv=e,g.$location=f,g.panelDefaults={},c.default.defaults(g.panel,g.panelDefaults),g.events.on("init-edit-mode",g.onInitEditMode.bind(g)),g.pluginList=[],g.viewModel=[{header:"Installed Apps",list:[],type:"app"},{header:"Installed Panels",list:[],type:"panel"},{header:"Installed Datasources",list:[],type:"datasource"}],g.update(),g}return f(b,a),b.$inject=["$scope","$injector","backendSrv","$location"],b.prototype.onInitEditMode=function(){this.editorTabIndex=1,this.addEditorTab("Options","public/app/plugins/panel/pluginlist/editor.html")},b.prototype.gotoPlugin=function(a,b){b&&b.stopPropagation(),this.$location.url("plugins/"+a.id+"/edit")},b.prototype.updateAvailable=function(a,b){b.stopPropagation(),b.preventDefault();var c=this.$scope.$new(!0);c.plugin=a,this.publishAppEvent("show-modal",{src:"public/app/features/plugins/partials/update_instructions.html",scope:c})},b.prototype.update=function(){var a=this;this.backendSrv.get("api/plugins",{embedded:0,core:0}).then(function(b){a.pluginList=b,a.viewModel[0].list=c.default.filter(b,{type:"app"}),a.viewModel[1].list=c.default.filter(b,{type:"panel"}),a.viewModel[2].list=c.default.filter(b,{type:"datasource"});for(var d=0,e=a.pluginList;d<e.length;d++){var f=e[d];f.hasUpdate?f.state="has-update":f.enabled||(f.state="not-enabled")}})},b}(d.PanelCtrl),e.templateUrl="module.html",a("PluginListCtrl",e),a("PanelCtrl",e)}}}),System.registerDynamic("vendor/flot/jquery.flot.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=null!=e?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return b<a?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{if(d=b.css(c).toLowerCase(),""!=d&&"transparent"!=d)break;b=b.parent()}while(b.length&&!a.nodeName(b.get(0),"body"));return"rgba(0, 0, 0, 0)"==d&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return"transparent"==f?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function b(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");d=window.G_vmlCanvasManager.initElement(d)}this.element=d;var e=this.context=d.getContext("2d"),f=window.devicePixelRatio||1,g=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=f/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={},this._textSizeCache=window.flotTextSizeCache=window.flotTextSizeCache||{}}function c(c,e,f,g){function h(a,b){b=[qa].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function i(){for(var c={Canvas:b},d=0;d<g.length;++d){var e=g[d];e.init(qa,c),e.options&&a.extend(!0,ea,e.options)}}function j(b){a.extend(!0,ea,b),b&&b.colors&&(ea.colors=b.colors),null==ea.xaxis.color&&(ea.xaxis.color=a.color.parse(ea.grid.color).scale("a",.22).toString()),null==ea.yaxis.color&&(ea.yaxis.color=a.color.parse(ea.grid.color).scale("a",.22).toString()),null==ea.xaxis.tickColor&&(ea.xaxis.tickColor=ea.grid.tickColor||ea.xaxis.color),null==ea.yaxis.tickColor&&(ea.yaxis.tickColor=ea.grid.tickColor||ea.yaxis.color),null==ea.grid.borderColor&&(ea.grid.borderColor=ea.grid.color),null==ea.grid.tickColor&&(ea.grid.tickColor=a.color.parse(ea.grid.color).scale("a",.22).toString());var d,e,f,g=c.css("font-size"),i=g?+g.replace("px",""):13,j={style:c.css("font-style"),size:Math.round(.8*i),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};for(f=ea.xaxes.length||1,d=0;d<f;++d)e=ea.xaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},ea.xaxis,e),ea.xaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(f=ea.yaxes.length||1,d=0;d<f;++d)e=ea.yaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},ea.yaxis,e),ea.yaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(ea.xaxis.noTicks&&null==ea.xaxis.ticks&&(ea.xaxis.ticks=ea.xaxis.noTicks),ea.yaxis.noTicks&&null==ea.yaxis.ticks&&(ea.yaxis.ticks=ea.yaxis.noTicks),ea.x2axis&&(ea.xaxes[1]=a.extend(!0,{},ea.xaxis,ea.x2axis),ea.xaxes[1].position="top",null==ea.x2axis.min&&(ea.xaxes[1].min=null),null==ea.x2axis.max&&(ea.xaxes[1].max=null)),ea.y2axis&&(ea.yaxes[1]=a.extend(!0,{},ea.yaxis,ea.y2axis),ea.yaxes[1].position="right",null==ea.y2axis.min&&(ea.yaxes[1].min=null),null==ea.y2axis.max&&(ea.yaxes[1].max=null)),ea.grid.coloredAreas&&(ea.grid.markings=ea.grid.coloredAreas),ea.grid.coloredAreasColor&&(ea.grid.markingsColor=ea.grid.coloredAreasColor),ea.lines&&a.extend(!0,ea.series.lines,ea.lines),ea.points&&a.extend(!0,ea.series.points,ea.points),ea.bars&&a.extend(!0,ea.series.bars,ea.bars),null!=ea.shadowSize&&(ea.series.shadowSize=ea.shadowSize),null!=ea.highlightColor&&(ea.series.highlightColor=ea.highlightColor),d=0;d<ea.xaxes.length;++d)q(ka,d+1).options=ea.xaxes[d];for(d=0;d<ea.yaxes.length;++d)q(la,d+1).options=ea.yaxes[d];for(var k in pa)ea.hooks[k]&&ea.hooks[k].length&&(pa[k]=pa[k].concat(ea.hooks[k]));h(pa.processOptions,[ea])}function k(a){da=l(a),r(),s()}function l(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},ea.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function m(a,b){var c=a[b+"axis"];return"object"==typeof c&&(c=c.n),"number"!=typeof c&&(c=1),c}function n(){return a.grep(ka.concat(la),function(a){return a})}function o(a){var b,c,d={};for(b=0;b<ka.length;++b)c=ka[b],c&&c.used&&(d["x"+c.n]=c.c2p(a.left));for(b=0;b<la.length;++b)c=la[b],c&&c.used&&(d["y"+c.n]=c.c2p(a.top));return void 0!==d.x1&&(d.x=d.x1),void 0!==d.y1&&(d.y=d.y1),d}function p(a){var b,c,d,e={};for(b=0;b<ka.length;++b)if(c=ka[b],c&&c.used&&(d="x"+c.n,null==a[d]&&1==c.n&&(d="x"),null!=a[d])){e.left=c.p2c(a[d]);break}for(b=0;b<la.length;++b)if(c=la[b],c&&c.used&&(d="y"+c.n,null==a[d]&&1==c.n&&(d="y"),null!=a[d])){e.top=c.p2c(a[d]);break}return e}function q(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==ka?"x":"y",options:a.extend(!0,{},b==ka?ea.xaxis:ea.yaxis)}),b[c-1]}function r(){var b,c=da.length,d=-1;for(b=0;b<da.length;++b){var e=da[b].color;null!=e&&(c--,"number"==typeof e&&e>d&&(d=e))}c<=d&&(c=d+1);var f,g=[],h=ea.colors,i=h.length,j=0;for(b=0;b<c;b++)f=a.color.parse(h[b%i]||"#666"),b%i==0&&b&&(j=j>=0?j<.5?-j-.2:0:-j),g[b]=f.scale("rgb",1+j);var k,l=0;for(b=0;b<da.length;++b){if(k=da[b],null==k.color?(k.color=g[l].toString(),++l):"number"==typeof k.color&&(k.color=g[k.color].toString()),null==k.lines.show){var n,o=!0;for(n in k)if(k[n]&&k[n].show){o=!1;break}o&&(k.lines.show=!0)}null==k.lines.zero&&(k.lines.zero=!!k.lines.fill),k.xaxis=q(ka,m(k,"x")),k.yaxis=q(la,m(k,"y"))}}function s(){function b(a,b,c){b<a.datamin&&b!=-s&&(a.datamin=b),c>a.datamax&&c!=s&&(a.datamax=c)}var c,d,e,f,g,i,j,k,l,m,o,p,q=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=Number.MAX_VALUE;for(a.each(n(),function(a,b){b.datamin=q,b.datamax=r,b.used=!1}),c=0;c<da.length;++c)g=da[c],g.datapoints={points:[]},h(pa.processRawData,[g,g.data,g.datapoints]);for(c=0;c<da.length;++c){if(g=da[c],o=g.data,p=g.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),g.bars.show||g.lines.show&&g.lines.fill){var t=!!(g.bars.show&&g.bars.zero||g.lines.show&&g.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:t}),g.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}g.datapoints.format=p}if(null==g.datapoints.pointsize){g.datapoints.pointsize=p.length,j=g.datapoints.pointsize,i=g.datapoints.points;var u=g.lines.show&&g.lines.steps;for(g.xaxis.used=g.yaxis.used=!0,d=e=0;d<o.length;++d,e+=j){m=o[d];var v=null==m;if(!v)for(f=0;f<j;++f)k=m[f],l=p[f],l&&(l.number&&null!=k&&(k=+k,isNaN(k)?k=null:k==1/0?k=s:k==-(1/0)&&(k=-s)),null==k&&(l.required&&(v=!0),null!=l.defaultValue&&(k=l.defaultValue))),i[e+f]=k;if(v)for(f=0;f<j;++f)k=i[e+f],null!=k&&(l=p[f],l.autoscale!==!1&&(l.x&&b(g.xaxis,k,k),l.y&&b(g.yaxis,k,k))),i[e+f]=null;if(u&&e>0&&(!v||null!=i[e-j])){for(f=0;f<j;++f)i[e+j+f]=i[e+f];i[e+1]=i[e-j+1]||0,v&&(i[e]=m[0]),e+=j}}}}for(c=0;c<da.length;++c){if(g=da[c],i=g.datapoints.points,j=g.datapoints.pointsize,"negative-Y"===g.transform)for(d=0;d<i.length;d+=j)null!=i[d]&&(k=i[d+1],i[d+1]=-k);h(pa.processDatapoints,[g,g.datapoints])}for(c=0;c<da.length;++c){g=da[c],i=g.datapoints.points,j=g.datapoints.pointsize,p=g.datapoints.format;var w=q,x=q,y=r,z=r;for(d=0;d<i.length;d+=j)if(null!=i[d])for(f=0;f<j;++f)k=i[d+f],l=p[f],l&&l.autoscale!==!1&&k!=s&&k!=-s&&(l.x&&(k<w&&(w=k),k>y&&(y=k)),
l.y&&(k<x&&(x=k),k>z&&(z=k)));if(g.bars.show){var A;switch(g.bars.align){case"left":A=0;break;case"right":A=-g.bars.barWidth;break;default:A=-g.bars.barWidth/2}g.bars.horizontal?(x+=A,z+=A+g.bars.barWidth):(w+=A,y+=A+g.bars.barWidth)}b(g.xaxis,w,y),b(g.yaxis,x,z)}a.each(n(),function(a,b){b.datamin==q&&(b.datamin=null),b.datamax==r&&(b.datamax=null)})}function t(){c.find(".flot-temp-elem").remove(),"static"==c.css("position")&&c.css("position","relative"),fa=new b("flot-base",c),ga=new b("flot-overlay",c),ia=fa.context,ja=ga.context,ha=a(ga.element).unbind();var d=c.data("plot");d&&(d.shutdown(),ga.clear()),c.data("plot",qa)}function u(){ea.grid.hoverable&&(ha.mousemove(T),ha.bind("mouseleave",U)),ea.grid.clickable&&ha.click(V),h(pa.bindEvents,[ha])}function v(){sa&&clearTimeout(sa),ha.unbind("mousemove",T),ha.unbind("mouseleave",U),ha.unbind("click",V),h(pa.shutdown,[ha])}function w(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=na/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=oa/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),e==b?a.p2c=function(a){return(a-d)*c}:a.p2c=function(a){return(e(a)-d)*c},f?a.c2p=function(a){return f(d+a/c)}:a.c2p=function(a){return d+a/c}}function x(a){for(var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=d||("x"==a.direction?Math.floor(fa.width/(c.length||1)):null),g=a.direction+"Axis "+a.direction+a.n+"Axis",h="flot-"+a.direction+"-axis flot-"+a.direction+a.n+"-axis "+g,i=b.font||"flot-tick-label tickLabel",j=0;j<c.length;++j){var k=c[j];if(k.label){var l=fa.getTextInfo(h,k.label,i,null,f);d=Math.max(d,l.width+1),e=Math.max(e,l.height)}}a.labelWidth=b.labelWidth||d,a.labelHeight=b.labelHeight||e}function y(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,g=b.options.tickLength,h=ea.grid.axisMargin,i=ea.grid.labelMargin,j=!0,k=!0,l=!0,m=!1;a.each(f?ka:la,function(a,c){c&&(c.show||c.reserveSpace)&&(c===b?m=!0:c.options.position===e&&(m?k=!1:j=!1),m||(l=!1))}),k&&(h=0),null==g&&(g=l?"full":5),isNaN(+g)||(i+=+g),f?(d+=i,"bottom"==e?(ma.bottom+=d+h,b.box={top:fa.height-ma.bottom,height:d}):(b.box={top:ma.top+h,height:d},ma.top+=d+h)):(c+=i,"left"==e?(b.box={left:ma.left+h,width:c},ma.left+=c+h):(ma.right+=c+h,b.box={left:fa.width-ma.right,width:c})),b.position=e,b.tickLength=g,b.box.padding=i,b.innermost=j}function z(a){"x"==a.direction?(a.box.left=ma.left-a.labelWidth/2,a.box.width=fa.width-ma.left-ma.right+a.labelWidth):(a.box.top=ma.top-a.labelHeight/2,a.box.height=fa.height-ma.bottom-ma.top+a.labelHeight)}function A(){var b,c=ea.grid.minBorderMargin;if(null==c)for(c=0,b=0;b<da.length;++b)c=Math.max(c,2*(da[b].points.radius+da[b].points.lineWidth/2));var d={left:c,right:c,top:c,bottom:c};a.each(n(),function(a,b){b.reserveSpace&&b.ticks&&b.ticks.length&&("x"===b.direction?(d.left=Math.max(d.left,b.labelWidth/2),d.right=Math.max(d.right,b.labelWidth/2)):(d.bottom=Math.max(d.bottom,b.labelHeight/2),d.top=Math.max(d.top,b.labelHeight/2)))}),ma.left=Math.ceil(Math.max(d.left,ma.left)),ma.right=Math.ceil(Math.max(d.right,ma.right)),ma.top=Math.ceil(Math.max(d.top,ma.top)),ma.bottom=Math.ceil(Math.max(d.bottom,ma.bottom))}function B(){var b,c=n(),d=ea.grid.show;for(var e in ma){var f=ea.grid.margin||0;ma[e]="number"==typeof f?f:f[e]||0}h(pa.processOffset,[ma]);for(var e in ma)"object"==typeof ea.grid.borderWidth?ma[e]+=d?ea.grid.borderWidth[e]:0:ma[e]+=d?ea.grid.borderWidth:0;if(a.each(c,function(a,b){var c=b.options;b.show=null==c.show?b.used:c.show,b.reserveSpace=null==c.reserveSpace?b.show:c.reserveSpace,C(b)}),d){var g=a.grep(c,function(a){return a.show||a.reserveSpace});for(a.each(g,function(a,b){D(b),E(b),F(b,b.ticks),x(b)}),b=g.length-1;b>=0;--b)y(g[b]);A(),a.each(g,function(a,b){z(b)})}na=fa.width-ma.left-ma.right,oa=fa.height-ma.bottom-ma.top,a.each(c,function(a,b){w(b)}),d&&K(),R()}function C(a){var b=a.options,c=+(null!=b.min?b.min:a.datamin),d=+(null!=b.max?b.max:a.datamax),e=d-c;if(0==e){var f=.25,g=Math.abs(0==d?1:d*f);null==b.min&&(c-=g),null!=b.max&&null==b.min||(d+=g)}else{var h=b.autoscaleMargin;null!=h&&(null==b.min&&(c-=e*h,c<0&&null!=a.datamin&&a.datamin>=0&&(c=0)),null==b.max&&(d+=e*h,d>0&&null!=a.datamax&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function D(b){var c,e=b.options;c="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==b.direction?fa.width:fa.height);var f=(b.max-b.min)/c,g=-Math.floor(Math.log(f)/Math.LN10),h=e.tickDecimals;null!=h&&g>h&&(g=h);var i,j=Math.pow(10,-g),k=f/j;if(k<1.5?i=1:k<3?(i=2,k>2.25&&(null==h||g+1<=h)&&(i=2.5,++g)):i=k<7.5?5:10,i*=j,null!=e.minTickSize&&i<e.minTickSize&&(i=e.minTickSize),b.delta=f,b.tickDecimals=Math.max(0,null!=h?h:g),b.tickSize=e.tickSize||i,b.scaledDecimals=b.tickDecimals-Math.floor(Math.log(b.tickSize)/Math.LN10),"time"==e.mode&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(b.tickGenerator||(b.tickGenerator=function(a){var b,c=[],e=d(a.min,a.tickSize),f=0,g=Number.NaN;do b=g,g=e+f*a.tickSize,c.push(g),++f;while(g<a.max&&g!=b);return c},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),f=e==-1?0:d.length-e-1;if(f<b.tickDecimals)return(f?d:d+".")+(""+c).substr(1,b.tickDecimals-f)}return d}),a.isFunction(e.tickFormatter)&&(b.tickFormatter=function(a,b){return""+e.tickFormatter(a,b)}),null!=e.alignTicksWithAxis){var l=("x"==b.direction?ka:la)[e.alignTicksWithAxis-1];if(l&&l.used&&l!=b){var m=b.tickGenerator(b);if(m.length>0&&(null==e.min&&(b.min=Math.min(b.min,m[0])),null==e.max&&m.length>1&&(b.max=Math.max(b.max,m[m.length-1]))),b.tickGenerator=function(a){var b,c,d=[];for(c=0;c<l.ticks.length;++c)b=(l.ticks[c].v-l.min)/(l.max-l.min),b=a.min+b*(a.max-a.min),d.push(b);return d},!b.mode&&null==e.tickDecimals){var n=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),o=b.tickGenerator(b);o.length>1&&/\..*0$/.test((o[1]-o[0]).toFixed(n))||(b.tickDecimals=n)}}}}function E(b){var c=b.options.ticks,d=[];null==c||"number"==typeof c&&c>0?d=b.tickGenerator(b):c&&(d=a.isFunction(c)?c(b):c);var e,f;for(b.ticks=[],e=0;e<d.length;++e){var g=null,h=d[e];"object"==typeof h?(f=+h[0],h.length>1&&(g=h[1])):f=+h,null==g&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function F(a,b){a.options.autoscaleMargin&&b.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function G(){fa.clear(),h(pa.drawBackground,[ia]);var a=ea.grid;a.show&&a.backgroundColor&&I(),a.show&&!a.aboveData&&J();for(var b=0;b<da.length;++b)h(pa.drawSeries,[ia,da[b]]),L(da[b]);h(pa.draw,[ia]),a.show&&a.aboveData&&J(),fa.render(),X()}function H(a,b){for(var c,d,e,f,g=n(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from,e=a[f].to;break}if(a[f]||(c="x"==b?ka[0]:la[0],d=a[b+"1"],e=a[b+"2"]),null!=d&&null!=e&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function I(){ia.save(),ia.translate(ma.left,ma.top),ia.fillStyle=ca(ea.grid.backgroundColor,oa,0,"rgba(255, 255, 255, 0)"),ia.fillRect(0,0,na,oa),ia.restore()}function J(){var b,c,d,e;ia.save(),ia.translate(ma.left,ma.top);var f=ea.grid.markings;if(f)for(a.isFunction(f)&&(c=qa.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,f=f(c)),b=0;b<f.length;++b){var g=f[b],h=H(g,"x"),i=H(g,"y");if(null==h.from&&(h.from=h.axis.min),null==h.to&&(h.to=h.axis.max),null==i.from&&(i.from=i.axis.min),null==i.to&&(i.to=i.axis.max),!(h.to<h.axis.min||h.from>h.axis.max||i.to<i.axis.min||i.from>i.axis.max)){h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max);var j=h.from===h.to,k=i.from===i.to;if(!j||!k)if(h.from=Math.floor(h.axis.p2c(h.from)),h.to=Math.floor(h.axis.p2c(h.to)),i.from=Math.floor(i.axis.p2c(i.from)),i.to=Math.floor(i.axis.p2c(i.to)),j||k){var l=g.lineWidth||ea.grid.markingsLineWidth,m=l%2?.5:0;ia.beginPath(),ia.strokeStyle=g.color||ea.grid.markingsColor,ia.lineWidth=l,j?(ia.moveTo(h.to+m,i.from),ia.lineTo(h.to+m,i.to)):(ia.moveTo(h.from,i.to+m),ia.lineTo(h.to,i.to+m)),ia.stroke()}else ia.fillStyle=g.color||ea.grid.markingsColor,ia.fillRect(h.from,i.to,h.to-h.from,i.from-i.to)}}c=n(),d=ea.grid.borderWidth;for(var o=0;o<c.length;++o){var p,q,r,s,t=c[o],u=t.box,v=t.tickLength;if(t.show&&0!=t.ticks.length){for(ia.lineWidth=1,"x"==t.direction?(p=0,q="full"==v?"top"==t.position?0:oa:u.top-ma.top+("top"==t.position?u.height:0)):(q=0,p="full"==v?"left"==t.position?0:na:u.left-ma.left+("left"==t.position?u.width:0)),t.innermost||(ia.strokeStyle=t.options.color,ia.beginPath(),r=s=0,"x"==t.direction?r=na+1:s=oa+1,1==ia.lineWidth&&("x"==t.direction?q=Math.floor(q)+.5:p=Math.floor(p)+.5),ia.moveTo(p,q),ia.lineTo(p+r,q+s),ia.stroke()),ia.strokeStyle=t.options.tickColor,ia.beginPath(),b=0;b<t.ticks.length;++b){var w=t.ticks[b].v;r=s=0,isNaN(w)||w<t.min||w>t.max||"full"==v&&("object"==typeof d&&d[t.position]>0||d>0)&&(w==t.min||w==t.max)||("x"==t.direction?(p=t.p2c(w),s="full"==v?-oa:v,"top"==t.position&&(s=-s)):(q=t.p2c(w),r="full"==v?-na:v,"left"==t.position&&(r=-r)),1==ia.lineWidth&&("x"==t.direction?p=Math.floor(p)+.5:q=Math.floor(q)+.5),ia.moveTo(p,q),ia.lineTo(p+r,q+s))}ia.stroke()}}d&&(e=ea.grid.borderColor,"object"==typeof d||"object"==typeof e?("object"!=typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),d.top>0&&(ia.strokeStyle=e.top,ia.lineWidth=d.top,ia.beginPath(),ia.moveTo(0-d.left,0-d.top/2),ia.lineTo(na,0-d.top/2),ia.stroke()),d.right>0&&(ia.strokeStyle=e.right,ia.lineWidth=d.right,ia.beginPath(),ia.moveTo(na+d.right/2,0-d.top),ia.lineTo(na+d.right/2,oa),ia.stroke()),d.bottom>0&&(ia.strokeStyle=e.bottom,ia.lineWidth=d.bottom,ia.beginPath(),ia.moveTo(na+d.right,oa+d.bottom/2),ia.lineTo(0,oa+d.bottom/2),ia.stroke()),d.left>0&&(ia.strokeStyle=e.left,ia.lineWidth=d.left,ia.beginPath(),ia.moveTo(0-d.left/2,oa+d.bottom),ia.lineTo(0-d.left/2,0),ia.stroke())):(ia.lineWidth=d,ia.strokeStyle=ea.grid.borderColor,ia.strokeRect(-d/2,-d/2,na+d,oa+d))),ia.restore()}function K(){a.each(n(),function(a,b){var c,d,e,f,g,h=b.box,i=b.direction+"Axis "+b.direction+b.n+"Axis",j="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+i,k=b.options.font||"flot-tick-label tickLabel";if(fa.removeText(j),b.show&&0!=b.ticks.length)for(var l=0;l<b.ticks.length;++l)c=b.ticks[l],!c.label||c.v<b.min||c.v>b.max||("x"==b.direction?(f="center",d=ma.left+b.p2c(c.v),"bottom"==b.position?e=h.top+h.padding:(e=h.top+h.height-h.padding,g="bottom")):(g="middle",e=ma.top+b.p2c(c.v),"left"==b.position?(d=h.left+h.width-h.padding,f="right"):d=h.left+h.padding),fa.addText(j,d,e,c.label,k,null,null,f,g))})}function L(a){a.lines.show&&M(a),a.bars.show&&P(a),a.points.show&&N(a)}function M(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;ia.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],m=f[j],n=f[j+1];if(null!=k&&null!=m){if(l<=n&&l<e.min){if(n<e.min)continue;k=(e.min-l)/(n-l)*(m-k)+k,l=e.min}else if(n<=l&&n<e.min){if(l<e.min)continue;m=(e.min-l)/(n-l)*(m-k)+k,n=e.min}if(l>=n&&l>e.max){if(n>e.max)continue;k=(e.max-l)/(n-l)*(m-k)+k,l=e.max}else if(n>=l&&n>e.max){if(l>e.max)continue;m=(e.max-l)/(n-l)*(m-k)+k,n=e.max}if(k<=m&&k<d.min){if(m<d.min)continue;l=(d.min-k)/(m-k)*(n-l)+l,k=d.min}else if(m<=k&&m<d.min){if(k<d.min)continue;n=(d.min-k)/(m-k)*(n-l)+l,m=d.min}if(k>=m&&k>d.max){if(m>d.max)continue;l=(d.max-k)/(m-k)*(n-l)+l,k=d.max}else if(m>=k&&m>d.max){if(k>d.max)continue;n=(d.max-k)/(m-k)*(n-l)+l,m=d.max}k==h&&l==i||ia.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=m,i=n,ia.lineTo(d.p2c(m)+b,e.p2c(n)+c)}}ia.stroke()}function c(a,b,c){for(var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,h=!1,i=1,j=0,k=0;;){if(e>0&&g>d.length+e)break;g+=e;var l=d[g-e],m=d[g-e+i],n=d[g],o=d[g+i];if(h){if(e>0&&null!=l&&null==n){k=g,e=-e,i=2;continue}if(e<0&&g==j+e){ia.fill(),h=!1,e=-e,i=1,g=j=k+e;continue}}if(null!=l&&null!=n){if(l<=n&&l<b.min){if(n<b.min)continue;m=(b.min-l)/(n-l)*(o-m)+m,l=b.min}else if(n<=l&&n<b.min){if(l<b.min)continue;o=(b.min-l)/(n-l)*(o-m)+m,n=b.min}if(l>=n&&l>b.max){if(n>b.max)continue;m=(b.max-l)/(n-l)*(o-m)+m,l=b.max}else if(n>=l&&n>b.max){if(l>b.max)continue;o=(b.max-l)/(n-l)*(o-m)+m,n=b.max}if(h||(ia.beginPath(),ia.moveTo(b.p2c(l),c.p2c(f)),h=!0),m>=c.max&&o>=c.max)ia.lineTo(b.p2c(l),c.p2c(c.max)),ia.lineTo(b.p2c(n),c.p2c(c.max));else if(m<=c.min&&o<=c.min)ia.lineTo(b.p2c(l),c.p2c(c.min)),ia.lineTo(b.p2c(n),c.p2c(c.min));else{var p=l,q=n;m<=o&&m<c.min&&o>=c.min?(l=(c.min-m)/(o-m)*(n-l)+l,m=c.min):o<=m&&o<c.min&&m>=c.min&&(n=(c.min-m)/(o-m)*(n-l)+l,o=c.min),m>=o&&m>c.max&&o<=c.max?(l=(c.max-m)/(o-m)*(n-l)+l,m=c.max):o>=m&&o>c.max&&m<=c.max&&(n=(c.max-m)/(o-m)*(n-l)+l,o=c.max),l!=p&&ia.lineTo(b.p2c(p),c.p2c(m)),ia.lineTo(b.p2c(l),c.p2c(m)),ia.lineTo(b.p2c(n),c.p2c(o)),n!=q&&(ia.lineTo(b.p2c(n),c.p2c(o)),ia.lineTo(b.p2c(q),c.p2c(o)))}}}}ia.save(),ia.translate(ma.left,ma.top),ia.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){ia.lineWidth=e,ia.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),ia.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}ia.lineWidth=d,ia.strokeStyle=a.color;var g=Q(a.lines,a.color,0,oa);g&&(ia.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),ia.restore()}function N(a){function b(a,b,c,d,e,f,g,h){for(var i=a.points,j=a.pointsize,k=0;k<i.length;k+=j){var l=i[k],m=i[k+1];null==l||l<f.min||l>f.max||m<g.min||m>g.max||(ia.beginPath(),l=f.p2c(l),m=g.p2c(m)+d,"circle"==h?ia.arc(l,m,b,0,e?Math.PI:2*Math.PI,!1):h(ia,l,m,b,e),ia.closePath(),c&&(ia.fillStyle=c,ia.fill()),ia.stroke())}}ia.save(),ia.translate(ma.left,ma.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(0==c&&(c=1e-4),c>0&&d>0){var g=d/2;ia.lineWidth=g,ia.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),ia.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}ia.lineWidth=c,ia.strokeStyle=a.color,b(a.datapoints,e,Q(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),ia.restore()}function O(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;j?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,m<l&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,o=b,o<n&&(t=o,o=n,n=t,s=!0,r=!1)),m<g.min||l>g.max||o<h.min||n>h.max||(l<g.min&&(l=g.min,p=!1),m>g.max&&(m=g.max,q=!1),n<h.min&&(n=h.min,s=!1),o>h.max&&(o=h.max,r=!1),l=g.p2c(l),n=h.p2c(n),m=g.p2c(m),o=h.p2c(o),f&&(i.fillStyle=f(n,o),i.fillRect(l,o,m-l,n-o)),k>0&&(p||q||r||s)&&(i.beginPath(),i.moveTo(l,n),p?i.lineTo(l,o):i.moveTo(l,o),r?i.lineTo(m,o):i.moveTo(m,o),q?i.lineTo(m,n):i.moveTo(m,n),s?i.lineTo(l,n):i.moveTo(l,n),i.stroke()))}function P(a){function b(b,c,d,e,f,g){for(var h=b.points,i=b.pointsize,j=0;j<h.length;j+=i)null!=h[j]&&O(h[j],h[j+1],h[j+2],c,d,e,f,g,ia,a.bars.horizontal,a.bars.lineWidth)}ia.save(),ia.translate(ma.left,ma.top),ia.lineWidth=a.bars.lineWidth,ia.strokeStyle=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;default:c=-a.bars.barWidth/2}var d=a.bars.fill?function(b,c){return Q(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,d,a.xaxis,a.yaxis),ia.restore()}function Q(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return ca(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a="number"==typeof f?f:.4,g.normalize(),g.toString()}function R(){if(null!=ea.legend.container?a(ea.legend.container).html(""):c.find(".legend").remove(),ea.legend.show){for(var b,d,e=[],f=[],g=!1,h=ea.legend.labelFormatter,i=0;i<da.length;++i)b=da[i],b.label&&(d=h?h(b.label,b):b.label,d&&f.push({label:d,color:b.color}));if(ea.legend.sorted)if(a.isFunction(ea.legend.sorted))f.sort(ea.legend.sorted);else if("reverse"==ea.legend.sorted)f.reverse();else{var j="descending"!=ea.legend.sorted;f.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=j?1:-1})}for(var i=0;i<f.length;++i){var k=f[i];i%ea.legend.noColumns==0&&(g&&e.push("</tr>"),e.push("<tr>"),g=!0),e.push('<td class="legendColorBox"><div style="border:1px solid '+ea.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+k.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+k.label+"</td>")}if(g&&e.push("</tr>"),0!=e.length){var l='<table style="font-size:smaller;color:'+ea.grid.color+'">'+e.join("")+"</table>";if(null!=ea.legend.container)a(ea.legend.container).html(l);else{var m="",n=ea.legend.position,o=ea.legend.margin;null==o[0]&&(o=[o,o]),"n"==n.charAt(0)?m+="top:"+(o[1]+ma.top)+"px;":"s"==n.charAt(0)&&(m+="bottom:"+(o[1]+ma.bottom)+"px;"),"e"==n.charAt(1)?m+="right:"+(o[0]+ma.right)+"px;":"w"==n.charAt(1)&&(m+="left:"+(o[0]+ma.left)+"px;");var p=a('<div class="legend">'+l.replace('style="','style="position:absolute;'+m+";")+"</div>").appendTo(c);if(0!=ea.legend.backgroundOpacity){var q=ea.legend.backgroundColor;null==q&&(q=ea.grid.backgroundColor,q=q&&"string"==typeof q?a.color.parse(q):a.color.extract(p,"background-color"),q.a=1,q=q.toString());var r=p.children();a('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+m+"background-color:"+q+';"> </div>').prependTo(p).css("opacity",ea.legend.backgroundOpacity)}}}}}function S(a,b,c){var d,e,f,g=ea.grid.mouseActiveRadius,h=g*g+1,i=null;for(d=da.length-1;d>=0;--d)if(c(da[d])){var j=da[d],k=j.xaxis,l=j.yaxis,m=j.datapoints.points,n=k.c2p(a),o=l.c2p(b),p=g/k.scale,q=g/l.scale;if(f=j.datapoints.pointsize,k.options.inverseTransform&&(p=Number.MAX_VALUE),l.options.inverseTransform&&(q=Number.MAX_VALUE),j.lines.show||j.points.show)for(e=0;e<m.length;e+=f){var r=m[e],s=m[e+1];if(null!=r&&!(r-n>p||r-n<-p||s-o>q||s-o<-q)){var t=Math.abs(k.p2c(r)-a),u=Math.abs(l.p2c(s)-b),v=t*t+u*u;v<h&&(h=v,i=[d,e/f])}}if(j.bars.show&&!i){var w,x;switch(j.bars.align){case"left":w=0;break;case"right":w=-j.bars.barWidth;break;default:w=-j.bars.barWidth/2}for(x=w+j.bars.barWidth,e=0;e<m.length;e+=f){var r=m[e],s=m[e+1],y=m[e+2];null!=r&&(da[d].bars.horizontal?n<=Math.max(y,r)&&n>=Math.min(y,r)&&o>=s+w&&o<=s+x:n>=r+w&&n<=r+x&&o>=Math.min(y,s)&&o<=Math.max(y,s))&&(i=[d,e/f])}}}return i?(d=i[0],e=i[1],f=da[d].datapoints.pointsize,{datapoint:da[d].datapoints.points.slice(e*f,(e+1)*f),dataIndex:e,series:da[d],seriesIndex:d}):null}function T(a){ea.grid.hoverable&&W("plothover",a,function(a){return 0!=a.hoverable})}function U(a){ea.grid.hoverable&&W("plothover",a,function(a){return!1})}function V(a){W("plotclick",a,function(a){return 0!=a.clickable})}function W(a,b,d){var e=ha.offset(),f=b.pageX-e.left-ma.left,g=b.pageY-e.top-ma.top,h=o({left:f,top:g});h.pageX=b.pageX,h.pageY=b.pageY,h.ctrlKey=b.ctrlKey,h.metaKey=b.metaKey;var i=S(f,g,d);if(i&&(i.pageX=parseInt(i.series.xaxis.p2c(i.datapoint[0])+e.left+ma.left,10),i.pageY=parseInt(i.series.yaxis.p2c(i.datapoint[1])+e.top+ma.top,10)),ea.grid.autoHighlight){for(var j=0;j<ra.length;++j){var k=ra[j];k.auto!=a||i&&k.series==i.series&&k.point[0]==i.datapoint[0]&&k.point[1]==i.datapoint[1]||$(k.series,k.point)}i&&Z(i.series,i.datapoint,a)}c.trigger(a,[h,i])}function X(){var a=ea.interaction.redrawOverlayInterval;return a==-1?void Y():void(sa||(sa=setTimeout(Y,a)))}function Y(){sa=null,ja.save(),ga.clear(),ja.translate(ma.left,ma.top);var a,b;for(a=0;a<ra.length;++a)b=ra[a],b.series.bars.show?ba(b.series,b.point):aa(b.series,b.point);ja.restore(),h(pa.drawOverlay,[ja])}function Z(a,b,c){if("number"==typeof a&&(a=da[a]),"number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=_(a,b);e==-1?(ra.push({series:a,point:b,auto:c}),X()):c||(ra[e].auto=!1)}function $(a,b){if(null==a&&null==b)return ra=[],void X();if("number"==typeof a&&(a=da[a]),"number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}var d=_(a,b);d!=-1&&(ra.splice(d,1),X())}function _(a,b){for(var c=0;c<ra.length;++c){var d=ra[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function aa(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis,h="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var i=b.points.radius+b.points.lineWidth/2;ja.lineWidth=i,ja.strokeStyle=h;var j=1.5*i;d=f.p2c(d),e=g.p2c(e),ja.beginPath(),"circle"==b.points.symbol?ja.arc(d,e,j,0,2*Math.PI,!1):b.points.symbol(ja,d,e,j,!1),ja.closePath(),ja.stroke()}}function ba(b,c){var d,e="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),f=e;switch(b.bars.align){case"left":d=0;break;case"right":d=-b.bars.barWidth;break;default:d=-b.bars.barWidth/2}ja.lineWidth=b.bars.lineWidth,ja.strokeStyle=e,O(c[0],c[1],c[2]||0,d,d+b.bars.barWidth,function(){return f},b.xaxis,b.yaxis,ja,b.bars.horizontal,b.bars.lineWidth)}function ca(b,c,d,e){if("string"==typeof b)return b;for(var f=ia.createLinearGradient(0,d,0,c),g=0,h=b.colors.length;g<h;++g){var i=b.colors[g];if("string"!=typeof i){var j=a.color.parse(e);null!=i.brightness&&(j=j.scale("rgb",i.brightness)),null!=i.opacity&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var da=[],ea={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},fa=null,ga=null,ha=null,ia=null,ja=null,ka=[],la=[],ma={left:0,right:0,top:0,bottom:0},na=0,oa=0,pa={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},qa=this;qa.setData=k,qa.setupGrid=B,qa.draw=G,qa.getPlaceholder=function(){return c},qa.getCanvas=function(){return fa.element},qa.getPlotOffset=function(){return ma},qa.width=function(){return na},qa.height=function(){return oa},qa.offset=function(){var a=ha.offset();return a.left+=ma.left,a.top+=ma.top,a},qa.getData=function(){return da},qa.getAxes=function(){var b={};return a.each(ka.concat(la),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)}),b},qa.getXAxes=function(){return ka},qa.getYAxes=function(){return la},qa.c2p=o,qa.p2c=p,qa.getOptions=function(){return ea},qa.highlight=Z,qa.unhighlight=$,qa.triggerRedrawOverlay=X,qa.pointOffset=function(a){return{left:parseInt(ka[m(a,"x")-1].p2c(+a.x)+ma.left,10),top:parseInt(la[m(a,"y")-1].p2c(+a.y)+ma.top,10)}},qa.shutdown=v,qa.destroy=function(){v(),c.removeData("plot").empty(),da=[],ea=null,fa=null,ga=null,ha=null,ia=null,ja=null,ka=[],la=[],pa=null,ra=[],qa=null},qa.resize=function(){var a=c.width(),b=c.height();fa.resize(a,b),ga.resize(a,b)},qa.hooks=pa,i(qa),j(f),t(),k(e),B(),G(),u();var ra=[],sa=null}function d(a,b){return b*Math.floor(a/b)}var e=Object.prototype.hasOwnProperty;a.fn.detach||(a.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),b.prototype.resize=function(a,b){if(a<=0||b<=0)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,e=this.pixelRatio;this.width!=a&&(c.width=a*e,c.style.width=a+"px",this.width=a),this.height!=b&&(c.height=b*e,c.style.height=b+"px",this.height=b),d.restore(),d.save(),d.scale(e,e)},b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},b.prototype.render=function(){var a=this._textCache;for(var b in a)if(e.call(a,b)){var c=this.getTextLayer(b),d=a[b];c.hide();for(var f in d)if(e.call(d,f)){var g=d[f];for(var h in g)if(e.call(g,h)){for(var i,j=g[h].positions,k=0;i=j[k];k++)i.active?i.rendered||(c.append(i.element),i.rendered=!0):(j.splice(k--,1),i.rendered&&i.element.detach());0==j.length&&delete g[h]}}c.show()}},b.prototype.getTextLayer=function(b){var c=this.text[b];return null==c&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text flot-temp-elem'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},b.prototype.getTextInfo=function(b,c,d,e,f){var g,h,i,j;if(c=""+c,g="object"==typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d,h=this._textCache[b],null==h&&(h=this._textCache[b]={}),i=h[g],null==i&&(i=h[g]={}),j=i[c],null==j){var k=a("<div></div>").html(c).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(b));"object"==typeof d?k.css({font:g,color:d.color}):"string"==typeof d&&k.addClass(d),j=i[c]={element:k,positions:[]};var l=this._textSizeCache[c];l?(j.width=l.width,j.height=l.height):(j.width=k.outerWidth(!0),j.height=k.outerHeight(!0),this._textSizeCache[c]={width:j.width,height:j.height}),k.detach()}return j},b.prototype.addText=function(a,b,c,d,e,f,g,h,i){var j=this.getTextInfo(a,d,e,f,g),k=j.positions;"center"==h?b-=j.width/2:"right"==h&&(b-=j.width),"middle"==i?c-=j.height/2:"bottom"==i&&(c-=j.height);for(var l,m=0;l=k[m];m++)if(l.x==b&&l.y==c)return void(l.active=!0);l={active:!0,rendered:!1,element:k.length?j.element.clone():j.element,x:b,y:c},k.push(l),l.element.css({top:Math.round(c),left:Math.round(b),"text-align":h})},b.prototype.removeText=function(a,b,c,d,f,g){if(null==d){var h=this._textCache[a];if(null!=h)for(var i in h)if(e.call(h,i)){var j=h[i];for(var k in j)if(e.call(j,k))for(var l,m=j[k].positions,n=0;l=m[n];n++)l.active=!1}}else for(var l,m=this.getTextInfo(a,d,f,g).positions,n=0;l=m[n];n++)l.x==b&&l.y==c&&(l.active=!1)},a.plot=function(b,d,e){var f=new c(a(b),d,e,a.plot.plugins);return f},a.plot.version="0.8.3",a.plot.plugins=[],a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.gauge.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){return"undefined"!=typeof Logger?new Logger(a):null}function c(a,b){return b%a}function d(a,b){return Math.floor(b/a)}function e(a){return a*Math.PI}function f(a,b,c,d,e,f,g,h,i,j){if(f!==g){var k=!1;a.save(),a.beginPath(),a.arc(b,c,d,f,g,k),a.lineTo(b+(d-e)*Math.cos(g),c+(d-e)*Math.sin(g)),a.arc(b,c,d-e,g,f,!k),a.closePath(),i&&(a.lineWidth=i),h&&(a.strokeStyle=h,a.stroke()),j&&(a.fillStyle=j,a.fill()),a.restore()}}function g(c){c.hooks.processOptions.push(function(a,c){b(c.series.gauges.debug);c.series.gauges.show&&(c.grid.show=!1,c.legend.show=!1);var d=c.series.gauges.threshold.values;d.sort(function(a,b){return a.value<b.value?-1:a.value>b.value?1:0})}),c.hooks.draw.push(function(c,d){var e=c.getOptions(),f=e.series.gauges;b(f.debug);if(f.show){var g=c.getData();if(g&&g.length){var i=new h(c,d),j=i.calculateLayout();f.debug.layout,i.drawBackground(j);for(var k=0;k<g.length;k++){var l=g[k],m=a.extend({},f,l.gauges);l.gauges&&i.calculateAutoValues(m,j.cellWidth);var n=i.calculateCellLayout(m,j,k);i.drawCellBackground(m,n),m.debug.layout,m.label.show&&i.drawLable(m,j,n,k,l),i.drawGauge(m,j,n,l.label,l.data[0][1]),m.threshold.show&&i.drawThreshold(m,j,n),m.threshold.label.show&&i.drawThresholdValues(m,j,n,k),m.value.show&&i.drawValue(m,j,n,k,l)}}}})}var h=function(){function g(a,b){"auto"===a.gauge.width&&(a.gauge.width=Math.max(5,b/8)),"auto"===a.label.margin&&(a.label.margin=Math.max(1,b/20)),"auto"===a.label.font.size&&(a.label.font.size=Math.max(5,b/8)),"auto"===a.value.margin&&(a.value.margin=Math.max(1,b/30)),"auto"===a.value.font.size&&(a.value.font.size=Math.max(5,b/9)),"auto"===a.threshold.width&&(a.threshold.width=Math.max(3,b/100)),"auto"===a.threshold.label.margin&&(a.threshold.label.margin=Math.max(3,b/40)),"auto"===a.threshold.label.font.size&&(a.threshold.label.font.size=Math.max(5,b/15))}function h(a,b){for(var c,d=0;d<a.threshold.values.length;d++){var e=a.threshold.values[d];if(c=e.color,b<=e.value)break}return c}function i(a,b,c){var d=a.gauge.startAngle+(a.gauge.endAngle-a.gauge.startAngle)*((c-a.gauge.min)/(a.gauge.max-a.gauge.min));return d<a.gauge.startAngle?d=a.gauge.startAngle:d>a.gauge.endAngle&&(d=a.gauge.endAngle),d}function j(a,b,c,d,e,g,h,i,j,k){e!==g&&(m.save(),f(m,a,b,c,d,e,g,h,i,j),k&&(f(m,a,b,c,d,e,g),m.clip(),m.shadowOffsetX=0,m.shadowOffsetY=0,m.shadowBlur=10,m.shadowColor="gray",f(m,a,b,c+1,d+2,e,g,h,1)),m.restore())}function k(a,b,c,d,f,g){l(c.cx+(b.thresholdLabelMargin+b.thresholdLabelFontSize/2+b.radius)*Math.cos(e(g)),c.cy+(b.thresholdLabelMargin+b.thresholdLabelFontSize/2+b.radius)*Math.sin(e(g)),"flotGagueThresholdValue"+d,a.threshold.label.formatter?a.threshold.label.formatter(f):f,a.threshold.label,g)}function l(b,c,d,e,f,g){var h=a("."+d,n),i=h.length;i||(h=a("<span></span>"),h.attr("id",d),h.css("position","absolute"),h.css("top",c+"px"),f.font.size&&h.css("font-size",f.font.size+"px"),f.font.family&&h.css("font-family",f.font.family),f.color&&h.css("color",f.color),f.background.color&&h.css("background-color",f.background.color),f.background.opacity&&h.css("opacity",f.background.opacity),n.append(h)),h.text(e),h.css("left",b+"px"),h.css("left",parseInt(h.css("left"))-h.width()/2+"px"),!i&&g&&(h.css("top",parseInt(h.css("top"))-h.height()/2+"px"),h.css("transform","rotate("+(180*g+90)+"deg)"))}var m,n,o,p,q,r,s=function(a,c){m=c,n=a.getPlaceholder(),o=a.getOptions(),p=o.series.gauges,q=a.getData(),r=b(p.debug)};return s.prototype.calculateLayout=function(){var a=n.width(),b=n.height(),c=Math.min(q.length,p.layout.columns),d=Math.ceil(q.length/c),f=p.layout.margin,h=p.layout.hMargin,i=p.layout.vMargin,j=(a-2*f-h*(c-1))/c,k=(b-2*f-i*(d-1))/d;if(p.layout.square){var l=Math.min(j,k);j=l,k=l}g(p,j);var m=p.cell.margin,o=0,r=0;p.label.show&&(o=p.label.margin,r=p.label.font.size);var s=0,t=0;p.value.show&&(s=p.value.margin,t=p.value.font.size);var u=0;p.threshold.show&&(u=p.threshold.width);var v=0,w=0;p.threshold.label.show&&(v=p.threshold.label.margin,w=p.threshold.label.font.size);for(var x=j/2-m-u-2*v-w,y=p.gauge.startAngle,z=p.gauge.endAngle,A=(z-y)/100,B=-1,C=y;C<z;C+=A)B=Math.max(B,Math.sin(e(C)));B=Math.max(B,Math.sin(e(z)));var D=(k-2*m-2*o-r)/(1+B);D*B<s+t/2&&(D=k-2*m-2*o-r-s-t/2);var E=D-2*v-w-u,F=Math.min(x,E),G=p.gauge.width;G>=F&&(G=Math.max(3,F/3));var H=2*v+w+u+F,I=Math.max(H*(1+B),H+s+t/2);return{canvasWidth:a,canvasHeight:b,margin:f,hMargin:h,vMargin:i,columns:c,rows:d,cellWidth:j,cellHeight:k,cellMargin:m,labelMargin:o,labelFontSize:r,valueMargin:s,valueFontSize:t,width:G,radius:F,thresholdWidth:u,thresholdLabelMargin:v,thresholdLabelFontSize:w,gaugeOuterHeight:I}},s.prototype.calculateAutoValues=g,s.prototype.calculateCellLayout=function(a,b,e){var f=c(b.columns,e),g=d(b.columns,e),h=b.margin+(b.cellWidth+b.hMargin)*f,i=b.margin+(b.cellHeight+b.vMargin)*g,j=h+b.cellWidth/2,k=i+b.cellMargin+2*b.labelMargin+b.labelFontSize+b.thresholdWidth+b.thresholdLabelFontSize+2*b.thresholdLabelMargin+b.radius,l=b.cellHeight-2*b.cellMargin-2*b.labelMargin-b.labelFontSize-b.gaugeOuterHeight,m=0;
return"middle"===a.cell.vAlign?m=l/2:"bottom"===a.cell.vAlign&&(m=l),k+=m,{col:f,row:g,x:h,y:i,offsetY:m,cellWidth:b.cellWidth,cellHeight:b.cellHeight,cellMargin:b.cellMargin,cx:j,cy:k}},s.prototype.drawBackground=function(a){p.frame.show&&(m.save(),m.strokeStyle=o.grid.borderColor,m.lineWidth=o.grid.borderWidth,m.strokeRect(0,0,a.canvasWidth,a.canvasHeight),o.grid.backgroundColor&&(m.fillStyle=o.grid.backgroundColor,m.fillRect(0,0,a.canvasWidth,a.canvasHeight)),m.restore())},s.prototype.drawCellBackground=function(a,b){m.save(),a.cell.border&&a.cell.border.show&&a.cell.border.color&&a.cell.border.width&&(m.strokeStyle=a.cell.border.color,m.lineWidth=a.cell.border.width,m.strokeRect(b.x,b.y,b.cellWidth,b.cellHeight)),a.cell.background&&a.cell.background.color&&(m.fillStyle=a.cell.background.color,m.fillRect(b.x,b.y,b.cellWidth,b.cellHeight)),m.restore()},s.prototype.drawGauge=function(a,b,c,d,f){var g=a.gauge.shadow.show?a.gauge.shadow.blur:0;j(c.cx,c.cy,b.radius,b.width,e(a.gauge.startAngle),e(a.gauge.endAngle),a.gauge.border.color,a.gauge.border.width,a.gauge.background.color,g);var k=h(a,f),l=i(a,b,f);j(c.cx,c.cy,b.radius-1,b.width-2,e(a.gauge.startAngle),e(l),k,1,k,g)},s.prototype.drawThreshold=function(a,b,c){for(var d=a.gauge.startAngle,g=0;g<a.threshold.values.length;g++){var h=a.threshold.values[g];c1=h.color,a2=i(a,b,h.value),f(m,c.cx,c.cy,b.radius+b.thresholdWidth,b.thresholdWidth-2,e(d),e(a2),c1,1,c1),d=a2}},s.prototype.drawLable=function(a,b,c,d,e){l(c.cx,c.y+c.cellMargin+b.labelMargin+c.offsetY,"flotGagueLabel"+d,a.label.formatter?a.label.formatter(e.label,e.data[0][1]):text,a.label)},s.prototype.drawValue=function(a,b,c,d,e){l(c.cx,c.cy-a.value.font.size/2,"flotGagueValue"+d,a.value.formatter?a.value.formatter(e.label,e.data[0][1]):text,a.value)},s.prototype.drawThresholdValues=function(a,b,c,d){k(a,b,c,"Min"+d,a.gauge.min,a.gauge.startAngle),k(a,b,c,"Max"+d,a.gauge.max,a.gauge.endAngle);for(var e=0;e<a.threshold.values.length;e++){var f=a.threshold.values[e];if(f.value>a.gauge.min&&f.value<a.gauge.max){var g=i(a,b,f.value);k(a,b,c,d+"_"+e,f.value,g)}}},s}(),i={series:{gauges:{debug:{log:!1,layout:!1,alert:!1},show:!1,layout:{margin:5,columns:3,hMargin:5,vMargin:5,square:!1},frame:{show:!0},cell:{background:{color:null},border:{show:!0,color:"black",width:1},margin:5,vAlign:"middle"},gauge:{width:"auto",startAngle:.9,endAngle:2.1,min:0,max:100,background:{color:"white"},border:{color:"lightgray",width:2},shadow:{show:!0,blur:5}},label:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:"sans-serif"},color:null,formatter:function(a,b){return a}},value:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:"sans-serif"},color:null,formatter:function(a,b){return parseInt(b)}},threshold:{show:!0,width:"auto",label:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:",sans-serif"},color:null,formatter:function(a){return a}},values:[{value:50,color:"lightgreen"},{value:80,color:"yellow"},{value:100,color:"red"}]}}}};a.plot.plugins.push({init:g,options:i,name:"gauge",version:"1.1.0"})}(jQuery)}(this),d()}),System.register("app/plugins/panel/singlestat/module.js",["lodash","jquery","jquery.flot","jquery.flot.gauge","app/core/utils/kbn","app/core/config","app/core/time_series2","app/plugins/sdk"],function(a,b){"use strict";function c(a,b){for(var c=a.thresholds.length;c>0;c--)if(b>=a.thresholds[c-1])return a.colorMap[c];return e.default.first(a.colorMap)}var d=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;a("getColorForValue",c);var e,f,g,h,i,j,k;return{setters:[function(a){e=a},function(a){f=a},function(a){},function(a){},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a}],execute:function(){k=function(a){function b(b,c,d,f){var g=a.call(this,b,c)||this;return g.$location=d,g.linkSrv=f,g.dataType="timeseries",g.valueNameOptions=["min","max","avg","current","total","name","first","delta","diff","range"],g.panelDefaults={links:[],datasource:null,maxDataPoints:100,interval:null,targets:[{}],cacheTimeout:null,format:"none",prefix:"",postfix:"",nullText:null,valueMaps:[{value:"null",op:"=",text:"N/A"}],mappingTypes:[{name:"value to text",value:1},{name:"range to text",value:2}],rangeMaps:[{from:"null",to:"null",text:"N/A"}],mappingType:1,nullPointMode:"connected",valueName:"avg",prefixFontSize:"50%",valueFontSize:"80%",postfixFontSize:"50%",thresholds:"",colorBackground:!1,colorValue:!1,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],sparkline:{show:!1,full:!1,lineColor:"rgb(31, 120, 193)",fillColor:"rgba(31, 118, 189, 0.18)"},gauge:{show:!1,minValue:0,maxValue:100,thresholdMarkers:!0,thresholdLabels:!1},tableColumn:""},e.default.defaults(g.panel,g.panelDefaults),g.events.on("data-received",g.onDataReceived.bind(g)),g.events.on("data-error",g.onDataError.bind(g)),g.events.on("data-snapshot-load",g.onDataReceived.bind(g)),g.events.on("init-edit-mode",g.onInitEditMode.bind(g)),g}return d(b,a),b.$inject=["$scope","$injector","$location","linkSrv"],b.prototype.onInitEditMode=function(){this.fontSizes=["20%","30%","50%","70%","80%","100%","110%","120%","150%","170%","200%"],this.addEditorTab("Options","public/app/plugins/panel/singlestat/editor.html",2),this.addEditorTab("Value Mappings","public/app/plugins/panel/singlestat/mappings.html",3),this.unitFormats=g.default.getUnitFormats()},b.prototype.setUnitFormat=function(a){this.panel.format=a.value,this.render()},b.prototype.onDataError=function(a){this.onDataReceived([])},b.prototype.onDataReceived=function(a){var b={};if(a.length>0&&"table"===a[0].type){this.dataType="table";var c=a.map(this.tableHandler.bind(this));this.setTableValues(c,b)}else this.dataType="timeseries",this.series=a.map(this.seriesHandler.bind(this)),this.setValues(b);this.data=b,this.render()},b.prototype.seriesHandler=function(a){var b=new i.default({datapoints:a.datapoints,alias:a.target});return b.flotpairs=b.getFlotPairs(this.panel.nullPointMode),b},b.prototype.tableHandler=function(a){var b=[],c={};return a.columns.forEach(function(a,b){c[b]=a.text}),this.tableColumnOptions=c,e.default.find(a.columns,["text",this.panel.tableColumn])||this.setTableColumnToSensibleDefault(a),a.rows.forEach(function(a){var d={};a.forEach(function(a,b){var e=c[b];d[e]=a}),b.push(d)}),b},b.prototype.setTableColumnToSensibleDefault=function(a){1===this.tableColumnOptions.length?this.panel.tableColumn=this.tableColumnOptions[0]:this.panel.tableColumn=e.default.find(a.columns,function(a){return"time"!==a.type}).text},b.prototype.setTableValues=function(a,b){if(a&&0!==a.length&&0!==a[0].length&&a[0][0][this.panel.tableColumn]){var c=(Number.MAX_VALUE,a[0][0]);if(b.value=c[this.panel.tableColumn],e.default.isString(b.value))b.valueFormatted=e.default.escape(b.value),b.value=0,b.valueRounded=0;else{var d=this.getDecimalsForValue(b.value),f=g.default.valueFormats[this.panel.format];b.valueFormatted=f(c[this.panel.tableColumn],d.decimals,d.scaledDecimals),b.valueRounded=g.default.roundValue(b.value,this.panel.decimals||0)}this.setValueMapping(b)}},b.prototype.setColoring=function(a){a.background?(this.panel.colorValue=!1,this.panel.colors=["rgba(71, 212, 59, 0.4)","rgba(245, 150, 40, 0.73)","rgba(225, 40, 40, 0.59)"]):(this.panel.colorBackground=!1,this.panel.colors=["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"]),this.render()},b.prototype.invertColorOrder=function(){var a=this.panel.colors[0];this.panel.colors[0]=this.panel.colors[2],this.panel.colors[2]=a,this.render()},b.prototype.getDecimalsForValue=function(a){if(e.default.isNumber(this.panel.decimals))return{decimals:this.panel.decimals,scaledDecimals:null};var b,c=a/2,d=-Math.floor(Math.log(c)/Math.LN10),f=Math.pow(10,-d),g=c/f;g<1.5?b=1:g<3?(b=2,g>2.25&&(b=2.5,++d)):b=g<7.5?5:10,b*=f,Math.floor(a)===a&&(d=0);var h={};return h.decimals=Math.max(0,d),h.scaledDecimals=h.decimals-Math.floor(Math.log(b)/Math.LN10)+2,h},b.prototype.setValues=function(a){if(a.flotpairs=[],this.series.length>1){var b=new Error;throw b.message="Multiple Series Error",b.data="Metric query returns "+this.series.length+" series. Single Stat Panel expects a single series.\n\nResponse:\n"+JSON.stringify(this.series),b}if(this.series&&this.series.length>0){var c=e.default.last(this.series[0].datapoints),d=e.default.isArray(c)?c[0]:null;if("name"===this.panel.valueName)a.value=0,a.valueRounded=0,a.valueFormatted=this.series[0].alias;else if(e.default.isString(d))a.value=0,a.valueFormatted=e.default.escape(d),a.valueRounded=0;else{a.value=this.series[0].stats[this.panel.valueName],a.flotpairs=this.series[0].flotpairs;var f=this.getDecimalsForValue(a.value),h=g.default.valueFormats[this.panel.format];a.valueFormatted=h(a.value,f.decimals,f.scaledDecimals),a.valueRounded=g.default.roundValue(a.value,f.decimals)}a.scopedVars=e.default.extend({},this.panel.scopedVars),a.scopedVars.__name={value:this.series[0].label}}this.setValueMapping(a)},b.prototype.setValueMapping=function(a){if(1===this.panel.mappingType)for(var b=0;b<this.panel.valueMaps.length;b++){var c=this.panel.valueMaps[b];if("null"!==c.value){var d=parseFloat(c.value);if(d===a.valueRounded)return void(a.valueFormatted=c.text)}else if(null===a.value||void 0===a.value)return void(a.valueFormatted=c.text)}else if(2===this.panel.mappingType)for(var b=0;b<this.panel.rangeMaps.length;b++){var c=this.panel.rangeMaps[b];if("null"!==c.from||"null"!==c.to){var e=parseFloat(c.from),f=parseFloat(c.to);if(f>=a.valueRounded&&e<=a.valueRounded)return void(a.valueFormatted=c.text)}else if(null===a.value||void 0===a.value)return void(a.valueFormatted=c.text)}null!==a.value&&void 0!==a.value||(a.valueFormatted="no value")},b.prototype.removeValueMap=function(a){var b=e.default.indexOf(this.panel.valueMaps,a);this.panel.valueMaps.splice(b,1),this.render()},b.prototype.addValueMap=function(){this.panel.valueMaps.push({value:"",op:"=",text:""})},b.prototype.removeRangeMap=function(a){var b=e.default.indexOf(this.panel.rangeMaps,a);this.panel.rangeMaps.splice(b,1),this.render()},b.prototype.addRangeMap=function(){this.panel.rangeMaps.push({from:"",to:"",text:""})},b.prototype.link=function(a,b,d,e){function g(){b.css("height",e.height+"px")}function i(a,b){if(!v.colorValue)return b;var d=c(q,a);return d?'<span style="color:'+d+'">'+b+"</span>":b}function j(a,b,c){return c=w.replace(c,q.scopedVars),'<span class="'+a+'" style="font-size:'+b+'">'+c+"</span>"}function k(){var a='<div class="singlestat-panel-value-container">';v.prefix&&(a+=j("singlestat-panel-prefix",v.prefixFontSize,v.prefix));var b=i(q.value,q.valueFormatted);return a+=j("singlestat-panel-value",v.valueFontSize,b),v.postfix&&(a+=j("singlestat-panel-postfix",v.postfixFontSize,v.postfix)),a+="</div>"}function l(){var a=v.prefix?v.prefix:"";return a+=q.valueFormatted,a+=v.postfix?v.postfix:""}function m(){var a=b.width(),d=b.height(),g=Math.min(a,d);if(e.invalidGaugeRange=!1,v.gauge.minValue>v.gauge.maxValue)return void(e.invalidGaugeRange=!0);var i=f.default("<div></div>"),j={top:"10px",margin:"auto",position:"relative",height:.9*d+"px",width:g+"px"};i.css(j);for(var k=[],m=0;m<q.thresholds.length;m++)k.push({value:q.thresholds[m],color:q.colorMap[m]});k.push({value:v.gauge.maxValue,color:q.colorMap[q.colorMap.length-1]});var n=h.default.bootData.user.lightTheme?"rgb(230,230,230)":"rgb(38,38,38)",o=parseInt(v.valueFontSize)/100,p=Math.min(g/5,100)*o,r=Math.min(g/6,60),s=r/5,t={series:{gauges:{gauge:{min:v.gauge.minValue,max:v.gauge.maxValue,background:{color:n},border:{color:null},shadow:{show:!1},width:r},frame:{show:!1},label:{show:!1},layout:{margin:0,thresholdWidth:0},cell:{border:{width:0}},threshold:{values:k,label:{show:v.gauge.thresholdLabels,margin:8,font:{size:18}},show:v.gauge.thresholdMarkers,width:s},value:{color:v.colorValue?c(q,q.valueRounded):null,formatter:function(){return l()},font:{size:p,family:'"Helvetica Neue", Helvetica, Arial, sans-serif'}},show:!0}}};b.append(i);var u={data:[[0,q.valueRounded]]};f.default.plot(i,[u],t)}function n(){var a=b.width()+20;if(a<30)return void setTimeout(n,30);var c=e.height,d=f.default("<div></div>"),g={};if(g.position="absolute",v.sparkline.full){g.bottom="5px",g.left="-5px",g.width=a-10+"px";var h=c<=100?5:15*Math.round(c/100)+5;g.height=c-h+"px"}else g.bottom="0px",g.left="-5px",g.width=a-10+"px",g.height=Math.floor(.25*c)+"px";d.css(g);var i={legend:{show:!1},series:{lines:{show:!0,fill:1,lineWidth:1,fillColor:v.sparkline.fillColor}},yaxes:{show:!1},xaxis:{show:!1,mode:"time",min:e.range.from.valueOf(),max:e.range.to.valueOf()},grid:{hoverable:!1,show:!1}};b.append(d);var j={data:q.flotpairs,color:v.sparkline.lineColor};f.default.plot(d,[j],i)}function o(){if(e.data){q=e.data,q.thresholds=v.thresholds.split(",").map(function(a){return Number(a.trim())}),q.colorMap=v.colors,g();var d=v.gauge.show?"":k();if(v.colorBackground&&!isNaN(q.value)){var f=c(q,q.value);f&&(x.css("background-color",f),a.fullscreen?b.css("background-color",f):b.css("background-color",""))}else x.css("background-color",""),b.css("background-color","");b.html(d),v.sparkline.show&&n(),v.gauge.show&&m(),b.toggleClass("pointer",v.links.length>0),r=v.links.length>0?t.getPanelLinkAnchorInfo(v.links[0],q.scopedVars):null}}function p(){var a=f.default('<div id="tooltip" class="">hello</div>"');b.mouseleave(function(){0!==v.links.length&&u(function(){a.detach()})}),b.click(function(b){if(r&&!(f.default(b).parents(".panel-header").length>0)){if("_blank"===r.target){var c=window.open(r.href,"_blank");return void c.location}0===r.href.indexOf("http")?window.location.href=r.href:u(function(){s.url(r.href)}),a.detach()}}),b.mousemove(function(b){r&&(a.text("click to go to: "+r.title),a.place_tt(b.pageX,b.pageY-50))})}var q,r,s=this.$location,t=this.linkSrv,u=this.$timeout,v=e.panel,w=this.templateSrv,x=b.find(".panel-container");b=b.find(".singlestat-panel"),p(),this.events.on("render",function(){o(),e.renderingCompleted()})},b}(j.MetricsPanelCtrl),k.templateUrl="module.html",a("SingleStatCtrl",k),a("PanelCtrl",k)}}}),System.register("app/core/utils/file_export.js",["lodash"],function(a,b){"use strict";function c(a){var b="sep=;\nSeries;Time;Value\n";g.default.each(a,function(a){g.default.each(a.datapoints,function(c){b+=a.alias+";"+new Date(c[1]).toISOString()+";"+c[0]+"\n"})}),f(b,"grafana_data_export.csv")}function d(a){var b="sep=;\nTime;";g.default.each(a,function(a){b+=a.alias+";"}),b=b.substring(0,b.length-1),b+="\n";var c=[[]],d=1;g.default.each(a,function(a){var b=0;c.push([]),g.default.each(a.datapoints,function(a){c[0][b]=new Date(a[1]).toISOString(),c[d][b]=a[0],b++}),d++});for(var e=0;e<c[0].length;e++){b+=c[0][e]+";";for(var h=1;h<c.length;h++)b+=c[h][e]+";";b=b.substring(0,b.length-1),b+="\n"}f(b,"grafana_data_export.csv")}function e(a){var b="sep=;\n";g.default.each(a.columns,function(a){b+=(a.title||a.text)+";"}),b+="\n",g.default.each(a.rows,function(a){g.default.each(a,function(a){b+=a+";"}),b+="\n"}),f(b,"grafana_data_export.csv")}function f(a,b){var c=new Blob([a],{type:"text/csv;charset=utf-8"});window.saveAs(c,b)}b&&b.id;a("exportSeriesListToCsv",c),a("exportSeriesListToCsvColumns",d),a("exportTableDataToCsv",e),a("saveSaveBlob",f);var g;return{setters:[function(a){g=a}],execute:function(){}}}),System.register("app/core/utils/flatten.js",[],function(a,b){"use strict";function c(a,b){function c(a,h){Object.keys(a).forEach(function(i){var j=a[i],k=b.safe&&Array.isArray(j),l=Object.prototype.toString.call(j),m="[object Object]"===l,n=h?h+d+i:i;return b.maxDepth||(e=f+1),!k&&m&&Object.keys(j).length&&f<e?(++f,c(j,n)):void(g[n]=j)})}b=b||{};var d=b.delimiter||".",e=b.maxDepth||3,f=1,g={};return c(a,null),g}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("app/core/time_series2.js",["app/core/utils/kbn","lodash"],function(a,b){"use strict";function c(a,b){if(!a)return!1;if("/"===a[0]){var c=e.default.stringToJsRegex(a);return null!=b.match(c)}return a===b}function d(a){return 0===a?.001:a/10}var e,f,g;b&&b.id;return{setters:[function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a){this.datapoints=a.datapoints,this.label=a.alias,this.id=a.alias,this.alias=a.alias,this.color=a.color,this.valueFormater=e.default.valueFormats.none,this.stats={},this.legend=!0,this.unit=a.unit,this.hasMsResolution=this.isMsResolutionNeeded()}return a.prototype.applySeriesOverrides=function(a){this.lines={},this.dashes={dashLength:[]},this.points={},this.bars={},this.yaxis=1,this.zindex=0,this.nullPointMode=null,delete this.stack;for(var b=0;b<a.length;b++){var e=a[b];c(e.alias,this.alias)&&(void 0!==e.lines&&(this.lines.show=e.lines),void 0!==e.dashes&&(this.dashes.show=e.dashes,this.lines.lineWidth=0),void 0!==e.points&&(this.points.show=e.points),void 0!==e.bars&&(this.bars.show=e.bars),void 0!==e.fill&&(this.lines.fill=d(e.fill)),void 0!==e.stack&&(this.stack=e.stack),void 0!==e.linewidth&&(this.lines.lineWidth=e.linewidth,this.dashes.lineWidth=e.linewidth),void 0!==e.nullPointMode&&(this.nullPointMode=e.nullPointMode),void 0!==e.pointradius&&(this.points.radius=e.pointradius),void 0!==e.steppedLine&&(this.lines.steps=e.steppedLine),void 0!==e.zindex&&(this.zindex=e.zindex),void 0!==e.fillBelowTo&&(this.fillBelowTo=e.fillBelowTo),void 0!==e.color&&(this.color=e.color),void 0!==e.transform&&(this.transform=e.transform),void 0!==e.legend&&(this.legend=e.legend),void 0!==e.yaxis&&(this.yaxis=e.yaxis))}},a.prototype.getFlotPairs=function(a){var b=[];this.stats.total=0,this.stats.max=-Number.MAX_VALUE,this.stats.min=Number.MAX_VALUE,this.stats.logmin=Number.MAX_VALUE,this.stats.avg=null,this.stats.current=null,this.stats.first=null,this.stats.delta=0,this.stats.diff=null,this.stats.range=null,this.stats.timeStep=Number.MAX_VALUE,this.allIsNull=!0,this.allIsZero=!0;for(var c,d,e,g="connected"===a,h="null as zero"===a,i=0,j=0,k=!0,l=0;l<this.datapoints.length;l++){if(d=this.datapoints[l][0],c=this.datapoints[l][1],void 0!==e){var m=c-e;m<this.stats.timeStep&&(this.stats.timeStep=m)}if(e=c,null===d){if(g)continue;h&&(d=0)}null!==d&&(f.default.isNumber(d)&&(this.stats.total+=d,this.allIsNull=!1,i++),d>this.stats.max&&(this.stats.max=d),d<this.stats.min&&(this.stats.min=d),null===this.stats.first?this.stats.first=d:j>d?(k=!1,l===this.datapoints.length-1&&(this.stats.delta+=d)):(k?this.stats.delta+=d-j:this.stats.delta+=d,k=!0),j=d,d<this.stats.logmin&&d>0&&(this.stats.logmin=d)),0!==d&&(this.allIsZero=!1),b.push([c,d])}return this.stats.max===-Number.MAX_VALUE&&(this.stats.max=null),this.stats.min===Number.MAX_VALUE&&(this.stats.min=null),b.length&&(this.stats.avg=this.stats.total/i,this.stats.current=b[b.length-1][1],null===this.stats.current&&b.length>1&&(this.stats.current=b[b.length-2][1])),null!==this.stats.max&&null!==this.stats.min&&(this.stats.range=this.stats.max-this.stats.min),null!==this.stats.current&&null!==this.stats.first&&(this.stats.diff=this.stats.current-this.stats.first),this.stats.count=b.length,b},a.prototype.updateLegendValues=function(a,b,c){this.valueFormater=a,this.decimals=b,this.scaledDecimals=c},a.prototype.formatValue=function(a){return this.valueFormater(a,this.decimals,this.scaledDecimals)},a.prototype.isMsResolutionNeeded=function(){for(var a=0;a<this.datapoints.length;a++)if(null!==this.datapoints[a][1]){var b=this.datapoints[a][1].toString();if(13===b.length&&b%1e3!==0)return!0}return!1},a.prototype.hideFromLegend=function(a){return!(!a.hideEmpty||!this.allIsNull)||(!this.legend||!(!a.hideZero||!this.allIsZero))},a}(),a("default",g)}}}),System.register("app/core/table_model.js",[],function(a,b){"use strict";var c;b&&b.id;return{setters:[],execute:function(){c=function(){function a(){this.columns=[],this.rows=[],this.type="table"}return a.prototype.sort=function(a){null===a.col||this.columns.length<=a.col||(this.rows.sort(function(b,c){return b=b[a.col],c=c[a.col],b<c?-1:b>c?1:0}),this.columns[a.col].sort=!0,a.desc?(this.rows.reverse(),this.columns[a.col].desc=!0):this.columns[a.col].desc=!1)},a}(),a("default",c)}}}),System.register("app/plugins/panel/table/transformers.js",["lodash","../../../core/utils/flatten","../../../core/time_series2","../../../core/table_model"],function(a,b){"use strict";function c(a,b){var c=new g.default;if(!a||0===a.length)return c;var d=h[b.transform];if(!d)throw{message:"Transformer "+b.transform+" not found"};return d.transform(a,b,c),c}b&&b.id;a("transformDataToTable",c);var d,e,f,g,h;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h={},a("transformers",h),h.timeseries_to_rows={description:"Time series to rows",getColumns:function(){return[]},transform:function(a,b,c){c.columns=[{text:"Time",type:"date"},{text:"Metric"},{text:"Value"}];for(var d=0;d<a.length;d++)for(var e=a[d],f=0;f<e.datapoints.length;f++){var g=e.datapoints[f];c.rows.push([g[1],e.target,g[0]])}}},h.timeseries_to_columns={description:"Time series to columns",getColumns:function(){return[]},transform:function(a,b,c){c.columns.push({text:"Time",type:"date"});for(var d={},e=0;e<a.length;e++){var f=a[e];c.columns.push({text:f.target});for(var g=0;g<f.datapoints.length;g++){var h=f.datapoints[g],i=h[1].toString();d[i]?d[i][e]=h[0]:(d[i]={time:h[1]},d[i][e]=h[0])}}for(var j in d){for(var k=d[j],l=[k.time],e=0;e<a.length;e++){var m=k[e];l.push(m)}c.rows.push(l)}}},h.timeseries_aggregations={description:"Time series aggregations",getColumns:function(){return[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Total",value:"total"},{text:"Current",value:"current"},{text:"Count",value:"count"}]},transform:function(a,b,c){var d,e;for(c.columns.push({text:"Metric"}),d=0;d<b.columns.length;d++)c.columns.push({text:b.columns[d].text});for(d=0;d<a.length;d++){var g=new f.default({datapoints:a[d].datapoints,alias:a[d].target});g.getFlotPairs("connected");var h=[g.alias];for(e=0;e<b.columns.length;e++)h.push(g.stats[b.columns[e].value]);c.rows.push(h)}}},h.annotations={description:"Annotations",getColumns:function(){return[]},transform:function(a,b,c){if(c.columns.push({text:"Time",type:"date"}),c.columns.push({text:"Title"}),c.columns.push({text:"Text"}),c.columns.push({text:"Tags"}),a&&a.annotations&&0!==a.annotations.length)for(var d=0;d<a.annotations.length;d++){var e=a.annotations[d];c.rows.push([e.min,e.title,e.text,e.tags])}}},h.table={description:"Table",getColumns:function(a){if(!a||0===a.length)return[]},transform:function(a,b,c){if(a&&0!==a.length){if("table"!==a[0].type)throw{message:"Query result is not in table format, try using another transform."};c.columns=a[0].columns,c.rows=a[0].rows}}},h.json={description:"JSON Data",getColumns:function(a){if(!a||0===a.length)return[];for(var b={},c=0;c<a.length;c++){var f=a[c];if("docs"===f.type)for(var g=Math.min(f.datapoints.length,100),h=0;h<g;h++){var i=f.datapoints[h],j=e.default(i,null);for(var k in j)b[k]=!0}}return d.default.map(b,function(a,b){return{text:b,value:b}})},transform:function(a,b,c){var f,g,h;for(f=0;f<b.columns.length;f++)c.columns.push({text:b.columns[f].text});for(0===c.columns.length&&c.columns.push({text:"JSON"}),f=0;f<a.length;f++){var i=a[f];for(g=0;g<i.datapoints.length;g++){var j=i.datapoints[g],k=[];if(d.default.isObject(j)&&b.columns.length>0){var l=e.default(j,null);for(h=0;h<b.columns.length;h++)k.push(l[b.columns[h].value])}else k.push(JSON.stringify(j));c.rows.push(k)}}}}}}}),System.register("app/plugins/panel/table/editor.js",["lodash","./transformers"],function(a,b){"use strict";function c(a,b){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/table/editor.html",controller:f}}c.$inject=["$q","uiSegmentSrv"];b&&b.id;a("tablePanelEditor",c);var d,e,f;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c){this.$q=b,this.uiSegmentSrv=c,a.editor=this,this.panelCtrl=a.ctrl,this.panel=this.panelCtrl.panel,this.transformers=e.transformers,this.fontSizes=["80%","90%","100%","110%","120%","130%","150%","160%","180%","200%","220%","250%"],this.addColumnSegment=c.newPlusButton()}return a.$inject=["$scope","$q","uiSegmentSrv"],a.prototype.getColumnOptions=function(){var a=this;if(!this.panelCtrl.dataRaw)return this.$q.when([]);var b=this.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw),c=d.default.map(b,function(b){return a.uiSegmentSrv.newSegment({value:b.text})});return this.$q.when(c)},a.prototype.addColumn=function(){var a=e.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw),b=d.default.find(a,{text:this.addColumnSegment.value});b&&(this.panel.columns.push(b),this.render());var c=this.uiSegmentSrv.newPlusButton();this.addColumnSegment.html=c.html,this.addColumnSegment.value=c.value},a.prototype.transformChanged=function(){this.panel.columns=[],"timeseries_aggregations"===this.panel.transform&&this.panel.columns.push({text:"Avg",value:"avg"}),this.render()},a.prototype.render=function(){this.panelCtrl.render()},a.prototype.removeColumn=function(a){this.panel.columns=d.default.without(this.panel.columns,a),this.panelCtrl.render()},a}(),a("TablePanelEditorCtrl",f)}}}),System.register("app/plugins/panel/table/column_options.js",["lodash","app/core/utils/kbn"],function(a,b){"use strict";function c(a,b){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/table/column_options.html",controller:f}}c.$inject=["$q","uiSegmentSrv"];b&&b.id;a("columnOptionsTab",c);var d,e,f;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c){var f=this;this.$q=b,this.uiSegmentSrv=c,a.editor=this,this.activeStyleIndex=0,this.panelCtrl=a.ctrl,this.panel=this.panelCtrl.panel,this.unitFormats=e.default.getUnitFormats(),this.colorModes=[{text:"Disabled",value:null},{text:"Cell",value:"cell"},{text:"Value",value:"value"},{text:"Row",value:"row"}],this.columnTypes=[{text:"Number",value:"number"},{text:"String",value:"string"},{text:"Date",value:"date"},{text:"Hidden",value:"hidden"}],this.fontSizes=["80%","90%","100%","110%","120%","130%","150%","160%","180%","200%","220%","250%"],this.dateFormats=[{text:"YYYY-MM-DD HH:mm:ss",value:"YYYY-MM-DD HH:mm:ss"},{text:"MM/DD/YY h:mm:ss a",value:"MM/DD/YY h:mm:ss a"},{text:"MMMM D, YYYY LT",value:"MMMM D, YYYY LT"}],this.getColumnNames=function(){return f.panelCtrl.table?d.default.map(f.panelCtrl.table.columns,function(a){return a.text}):[]}}return a.$inject=["$scope","$q","uiSegmentSrv"],a.prototype.render=function(){this.panelCtrl.render()},a.prototype.setUnitFormat=function(a,b){a.unit=b.value,this.panelCtrl.render()},a.prototype.addColumnStyle=function(){var a={unit:"short",type:"number",alias:"",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],colorMode:null,pattern:"",dateFormat:"YYYY-MM-DD HH:mm:ss",thresholds:[]},b=this.panel.styles,c=b.length,d=c;if(c>0){var e=b[c-1];"/.*/"===e.pattern&&(d=c-1)}b.splice(d,0,a),this.activeStyleIndex=d},a.prototype.removeColumnStyle=function(a){this.panel.styles=d.default.without(this.panel.styles,a)},a.prototype.invertColorOrder=function(a){var b=this.panel.styles[a].colors,c=b[0];b[0]=b[2],b[2]=c,this.panelCtrl.render()},a}(),a("ColumnOptionsCtrl",f)}}}),System.register("app/plugins/panel/table/renderer.js",["lodash","moment","app/core/utils/kbn"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d){this.panel=a,this.table=b,this.isUtc=c,this.sanitize=d,this.initColumns()}return a.prototype.setTable=function(a){this.table=a,this.initColumns()},a.prototype.initColumns=function(){this.formatters=[],this.colorState={};for(var a=0;a<this.table.columns.length;a++){var b=this.table.columns[a];b.title=b.text;for(var c=0;c<this.panel.styles.length;c++){var d=this.panel.styles[c],f=e.default.stringToJsRegex(d.pattern);if(b.text.match(f)){b.style=d,d.alias&&(b.title=b.text.replace(f,d.alias));break}}this.formatters[a]=this.createColumnFormatter(b)}},a.prototype.getColorForValue=function(a,b){if(!b.thresholds)return null;for(var d=b.thresholds.length;d>0;d--)if(a>=b.thresholds[d-1])return b.colors[d];return c.default.first(b.colors)},a.prototype.defaultCellFormatter=function(a,b){return null===a||void 0===a||void 0===a?"":(c.default.isArray(a)&&(a=a.join(", ")),b&&b.sanitize?this.sanitize(a):c.default.escape(a))},a.prototype.createColumnFormatter=function(a){var b=this;if(!a.style)return this.defaultCellFormatter;if("hidden"===a.style.type)return function(a){};if("date"===a.style.type)return function(e){if(void 0===e||null===e)return"-";c.default.isArray(e)&&(e=e[0]);var f=d.default(e);return b.isUtc&&(f=f.utc()),f.format(a.style.dateFormat)};if("number"===a.style.type){var f=e.default.valueFormats[a.unit||a.style.unit];return function(d){return null===d||void 0===d?"-":c.default.isString(d)?b.defaultCellFormatter(d,a.style):(a.style.colorMode&&(b.colorState[a.style.colorMode]=b.getColorForValue(d,a.style)),f(d,a.style.decimals,null))}}return function(c){return b.defaultCellFormatter(c,a.style)}},a.prototype.formatColumnValue=function(a,b){return this.formatters[a]?this.formatters[a](b):b},a.prototype.renderCell=function(a,b,c){void 0===c&&(c=!1),b=this.formatColumnValue(a,b);var d="";this.colorState.cell?(d=' style="background-color:'+this.colorState.cell+';color: white"',this.colorState.cell=null):this.colorState.value&&(d=' style="color:'+this.colorState.value+'"',this.colorState.value=null);var e="";return c&&(e='<div class="table-panel-width-hack">'+this.table.columns[a].title+"</div>"),void 0===b?(d=' style="display:none;"',this.table.columns[a].hidden=!0):this.table.columns[a].hidden=!1,"<td"+d+">"+b+e+"</td>"},a.prototype.render=function(a){for(var b=this.panel.pageSize||100,c=a*b,d=Math.min(c+b,this.table.rows.length),e="",f=c;f<d;f++){for(var g=this.table.rows[f],h="",i="",j=0;j<this.table.columns.length;j++)h+=this.renderCell(j,g[j],f===c);this.colorState.row&&(i=' style="background-color:'+this.colorState.row+';color: white"',this.colorState.row=null),e+="<tr "+i+">"+h+"</tr>"}return e},a.prototype.render_values=function(){for(var a=[],b=0;b<this.table.rows.length;b++){for(var c=this.table.rows[b],d=[],e=0;e<this.table.columns.length;e++)d.push(this.formatColumnValue(e,c[e]));a.push(d)}return{columns:this.table.columns,rows:a}},a}(),a("TableRenderer",f)}}}),System.register("app/plugins/panel/table/module.js",["lodash","jquery","app/core/utils/file_export","app/plugins/sdk","./transformers","./editor","./column_options","./renderer"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a}],execute:function(){k=function(a){function b(b,d,e,f){var g=a.call(this,b,d)||this;return g.annotationsSrv=e,g.$sanitize=f,g.panelDefaults={targets:[{}],transform:"timeseries_to_columns",pageSize:null,showHeader:!0,styles:[{type:"date",pattern:"Time",alias:"Time",dateFormat:"YYYY-MM-DD HH:mm:ss"},{unit:"short",type:"number",alias:"",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],colorMode:null,pattern:"/.*/",thresholds:[]}],columns:[],scroll:!0,fontSize:"100%",sort:{col:0,desc:!0}},g.pageIndex=0,
void 0===g.panel.styles&&(g.panel.styles=g.panel.columns,g.panel.columns=g.panel.fields,delete g.panel.columns,delete g.panel.fields),c.default.defaults(g.panel,g.panelDefaults),g.events.on("data-received",g.onDataReceived.bind(g)),g.events.on("data-error",g.onDataError.bind(g)),g.events.on("data-snapshot-load",g.onDataReceived.bind(g)),g.events.on("init-edit-mode",g.onInitEditMode.bind(g)),g.events.on("init-panel-actions",g.onInitPanelActions.bind(g)),g}return l(b,a),b.$inject=["$scope","$injector","annotationsSrv","$sanitize"],b.prototype.onInitEditMode=function(){this.addEditorTab("Options",h.tablePanelEditor,2),this.addEditorTab("Column Styles",i.columnOptionsTab,3)},b.prototype.onInitPanelActions=function(a){a.push({text:"Export CSV",click:"ctrl.exportCsv()"})},b.prototype.issueQueries=function(b){return this.pageIndex=0,"annotations"===this.panel.transform?(this.setTimeQueryStart(),this.annotationsSrv.getAnnotations({dashboard:this.dashboard,panel:this.panel,range:this.range}).then(function(a){return{data:a}})):a.prototype.issueQueries.call(this,b)},b.prototype.onDataError=function(a){this.dataRaw=[],this.render()},b.prototype.onDataReceived=function(a){this.dataRaw=a,this.pageIndex=0,this.dataRaw&&this.dataRaw.length&&("table"===this.dataRaw[0].type?this.panel.transform="table":"docs"===this.dataRaw[0].type?this.panel.transform="json":"table"!==this.panel.transform&&"json"!==this.panel.transform||(this.panel.transform="timeseries_to_rows")),this.render()},b.prototype.render=function(){return this.table=g.transformDataToTable(this.dataRaw,this.panel),this.table.sort(this.panel.sort),this.renderer=new j.TableRenderer(this.panel,this.table,this.dashboard.isTimezoneUtc(),this.$sanitize),a.prototype.render.call(this,this.table)},b.prototype.toggleColumnSort=function(a,b){this.table.columns[this.panel.sort.col]&&(this.table.columns[this.panel.sort.col].sort=!1),this.panel.sort.col===b?this.panel.sort.desc?this.panel.sort.desc=!1:this.panel.sort.col=null:(this.panel.sort.col=b,this.panel.sort.desc=!0),this.render()},b.prototype.exportCsv=function(){e.exportTableDataToCsv(this.renderer.render_values())},b.prototype.link=function(a,b,c,e){function f(){var a=e.height;return m>1&&(a-=26),a-31+"px"}function g(a){e.renderer.setTable(k),a.empty(),a.html(e.renderer.render(e.pageIndex))}function h(a){var b=d.default(a.currentTarget);e.pageIndex=parseInt(b.text(),10)-1,j()}function i(a){a.empty();var b=l.pageSize||100;if(m=Math.ceil(k.rows.length/b),1!==m){for(var c=Math.max(e.pageIndex-3,0),f=Math.min(m,c+9),g=d.default("<ul></ul>"),h=c;h<f;h++){var i=h===e.pageIndex?"active":"",j=d.default('<li><a class="table-panel-page-link pointer '+i+'">'+(h+1)+"</a></li>");g.append(j)}a.append(g)}}function j(){var a=b.parents(".panel"),c=b.find(".table-panel-scroll"),d=b.find("tbody"),e=b.find(".table-panel-footer");b.css({"font-size":l.fontSize}),a.addClass("table-panel-wrapper"),g(d),i(e),c.css({"max-height":l.scroll?f():""})}var k,l=e.panel,m=0;b.on("click",".table-panel-page-link",h);var n=a.$on("$destroy",function(){b.off("click",".table-panel-page-link"),n()});e.events.on("render",function(a){k=a||k,k&&j(),e.renderingCompleted()})},b}(f.MetricsPanelCtrl),k.templateUrl="module.html",a("TablePanelCtrl",k),a("PanelCtrl",k)}}}),function(){var a=System.amdDefine;!function(b){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=b();else if("function"==typeof a&&a.amd)a("remarkable",[],b);else{var c;c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,c.Remarkable=b()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",GT:">",Gt:"≫",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",LT:"<",Lt:"≪",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},{}],2:[function(a,b,c){"use strict";var d={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(a){d[a]=!0}),b.exports=d},{}],3:[function(a,b,c){"use strict";function d(a,b){return a=a.source,b=b||"",function c(d,e){return d?(e=e.source||e,a=a.replace(d,e),c):new RegExp(a,b)}}var e=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,f=/[^"'=<>`\x00-\x20]+/,g=/'[^']*'/,h=/"[^"]*"/,i=d(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",f)("single_quoted",g)("double_quoted",h)(),j=d(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",e)("attr_value",i)(),k=d(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",j)(),l=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,m=/<!--([^-]+|[-][^-]+)*-->/,n=/<[?].*?[?]>/,o=/<![A-Z]+\s+[^>]*>/,p=/<!\[CDATA\[([^\]]+|\][^\]]|\]\][^>])*\]\]>/,q=d(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",k)("close_tag",l)("comment",m)("processing",n)("declaration",o)("cdata",p)();b.exports.HTML_TAG_RE=q},{}],4:[function(a,b,c){"use strict";b.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"]},{}],5:[function(a,b,c){"use strict";function d(a){return Object.prototype.toString.call(a)}function e(a){return"[object String]"===d(a)}function f(a,b){return!!a&&o.call(a,b)}function g(a){var b=[].slice.call(arguments,1);return b.forEach(function(b){if(b){if("object"!=typeof b)throw new TypeError(b+"must be object");Object.keys(b).forEach(function(c){a[c]=b[c];
})}}),a}function h(a){return a.indexOf("\\")<0?a:a.replace(p,"$1")}function i(a){return!(a>=55296&&a<=57343)&&(!(a>=64976&&a<=65007)&&(65535!==(65535&a)&&65534!==(65535&a)&&(!(a>=0&&a<=8)&&(11!==a&&(!(a>=14&&a<=31)&&(!(a>=127&&a<=159)&&!(a>1114111)))))))}function j(a){if(a>65535){a-=65536;var b=55296+(a>>10),c=56320+(1023&a);return String.fromCharCode(b,c)}return String.fromCharCode(a)}function k(a,b){var c=0;return f(s,b)?s[b]:35===b.charCodeAt(0)&&r.test(b)&&(c="x"===b[1].toLowerCase()?parseInt(b.slice(2),16):parseInt(b.slice(1),10),i(c))?j(c):a}function l(a){return a.indexOf("&")<0?a:a.replace(q,k)}function m(a){return v[a]}function n(a){return t.test(a)?a.replace(u,m):a}var o=Object.prototype.hasOwnProperty,p=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g,q=/&([a-z#][a-z0-9]{1,31});/gi,r=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,s=a("./entities"),t=/[&<>"]/,u=/[&<>"]/g,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};c.assign=g,c.isString=e,c.has=f,c.unescapeMd=h,c.isValidEntityCode=i,c.fromCodePoint=j,c.replaceEntities=l,c.escapeHtml=n},{"./entities":1}],6:[function(a,b,c){"use strict";b.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}},{}],7:[function(a,b,c){"use strict";b.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","linkify","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}}},{}],8:[function(a,b,c){"use strict";b.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}}},{}],9:[function(a,b,c){"use strict";var d=a("../common/utils").replaceEntities;b.exports=function(a){var b=d(a);try{b=decodeURI(b)}catch(a){}return encodeURI(b)}},{"../common/utils":5}],10:[function(a,b,c){"use strict";b.exports=function(a){return a.trim().replace(/\s+/g," ").toUpperCase()}},{}],11:[function(a,b,c){"use strict";var d=a("./normalize_link"),e=a("../common/utils").unescapeMd;b.exports=function(a,b){var c,f,g,h=b,i=a.posMax;if(60===a.src.charCodeAt(b)){for(b++;b<i;){if(c=a.src.charCodeAt(b),10===c)return!1;if(62===c)return g=d(e(a.src.slice(h+1,b))),!!a.parser.validateLink(g)&&(a.pos=b+1,a.linkContent=g,!0);92===c&&b+1<i?b+=2:b++}return!1}for(f=0;b<i&&(c=a.src.charCodeAt(b),32!==c)&&!(c>8&&c<14);)if(92===c&&b+1<i)b+=2;else{if(40===c&&(f++,f>1))break;if(41===c&&(f--,f<0))break;b++}return h!==b&&(g=e(a.src.slice(h,b)),!!a.parser.validateLink(g)&&(a.linkContent=g,a.pos=b,!0))}},{"../common/utils":5,"./normalize_link":9}],12:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f=-1,g=a.posMax,h=a.pos,i=a.isInLabel;if(a.isInLabel)return-1;if(a.labelUnmatchedScopes)return a.labelUnmatchedScopes--,-1;for(a.pos=b+1,a.isInLabel=!0,c=1;a.pos<g;){if(e=a.src.charCodeAt(a.pos),91===e)c++;else if(93===e&&(c--,0===c)){d=!0;break}a.parser.skipToken(a)}return d?(f=a.pos,a.labelUnmatchedScopes=0):a.labelUnmatchedScopes=c-1,a.pos=h,a.isInLabel=i,f}},{}],13:[function(a,b,c){"use strict";var d=a("../common/utils").unescapeMd;b.exports=function(a,b){var c,e=b,f=a.posMax,g=a.src.charCodeAt(b);if(34!==g&&39!==g&&40!==g)return!1;for(b++,40===g&&(g=41);b<f;){if(c=a.src.charCodeAt(b),c===g)return a.pos=b+1,a.linkContent=d(a.src.slice(e+1,b)),!0;92===c&&b+1<f?b+=2:b++}return!1}},{"../common/utils":5}],14:[function(a,b,c){"use strict";function d(a,b,c){this.src=b,this.env=c,this.options=a.options,this.tokens=[],this.inlineMode=!1,this.inline=a.inline,this.block=a.block,this.renderer=a.renderer,this.typographer=a.typographer}function e(a,b){"string"!=typeof a&&(b=a,a="default"),this.inline=new j,this.block=new i,this.core=new h,this.renderer=new g,this.ruler=new k,this.options={},this.configure(l[a]),this.set(b||{})}var f=a("./common/utils").assign,g=a("./renderer"),h=a("./parser_core"),i=a("./parser_block"),j=a("./parser_inline"),k=a("./ruler"),l={default:a("./configs/default"),full:a("./configs/full"),commonmark:a("./configs/commonmark")};e.prototype.set=function(a){f(this.options,a)},e.prototype.configure=function(a){var b=this;if(!a)throw new Error("Wrong `remarkable` preset, check name/content");a.options&&b.set(a.options),a.components&&Object.keys(a.components).forEach(function(c){a.components[c].rules&&b[c].ruler.enable(a.components[c].rules,!0)})},e.prototype.use=function(a,b){return a(this,b),this},e.prototype.parse=function(a,b){var c=new d(this,a,b);return this.core.process(c),c.tokens},e.prototype.render=function(a,b){return b=b||{},this.renderer.render(this.parse(a,b),this.options,b)},e.prototype.parseInline=function(a,b){var c=new d(this,a,b);return c.inlineMode=!0,this.core.process(c),c.tokens},e.prototype.renderInline=function(a,b){return b=b||{},this.renderer.render(this.parseInline(a,b),this.options,b)},b.exports=e,b.exports.utils=a("./common/utils")},{"./common/utils":5,"./configs/commonmark":6,"./configs/default":7,"./configs/full":8,"./parser_block":15,"./parser_core":16,"./parser_inline":17,"./renderer":18,"./ruler":19}],15:[function(a,b,c){"use strict";function d(){this.ruler=new e;for(var a=0;a<g.length;a++)this.ruler.push(g[a][0],g[a][1],{alt:(g[a][2]||[]).slice()})}var e=a("./ruler"),f=a("./rules_block/state_block"),g=[["code",a("./rules_block/code")],["fences",a("./rules_block/fences"),["paragraph","blockquote","list"]],["blockquote",a("./rules_block/blockquote"),["paragraph","blockquote","list"]],["hr",a("./rules_block/hr"),["paragraph","blockquote","list"]],["list",a("./rules_block/list"),["paragraph","blockquote"]],["footnote",a("./rules_block/footnote"),["paragraph"]],["heading",a("./rules_block/heading"),["paragraph","blockquote"]],["lheading",a("./rules_block/lheading")],["htmlblock",a("./rules_block/htmlblock"),["paragraph","blockquote"]],["table",a("./rules_block/table"),["paragraph"]],["deflist",a("./rules_block/deflist"),["paragraph"]],["paragraph",a("./rules_block/paragraph")]];d.prototype.tokenize=function(a,b,c){for(var d,e,f=this.ruler.getRules(""),g=f.length,h=b,i=!1;h<c&&(a.line=h=a.skipEmptyLines(h),!(h>=c))&&!(a.tShift[h]<a.blkIndent);){for(e=0;e<g&&!(d=f[e](a,h,c,!1));e++);if(a.tight=!i,a.isEmpty(a.line-1)&&(i=!0),h=a.line,h<c&&a.isEmpty(h)){if(i=!0,h++,h<c&&"list"===a.parentType&&a.isEmpty(h))break;a.line=h}}};var h=/[\n\t]/g,i=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,j=/\u00a0/g;d.prototype.parse=function(a,b,c,d){var e,g=0,k=0;return a?(a=a.replace(j," "),a=a.replace(i,"\n"),a.indexOf("\t")>=0&&(a=a.replace(h,function(b,c){var d;return 10===a.charCodeAt(c)?(g=c+1,k=0,b):(d="    ".slice((c-g-k)%4),k=c-g+1,d)})),e=new f(a,this,b,c,d),void this.tokenize(e,e.line,e.lineMax)):[]},b.exports=d},{"./ruler":19,"./rules_block/blockquote":21,"./rules_block/code":22,"./rules_block/deflist":23,"./rules_block/fences":24,"./rules_block/footnote":25,"./rules_block/heading":26,"./rules_block/hr":27,"./rules_block/htmlblock":28,"./rules_block/lheading":29,"./rules_block/list":30,"./rules_block/paragraph":31,"./rules_block/state_block":32,"./rules_block/table":33}],16:[function(a,b,c){"use strict";function d(){this.options={},this.ruler=new e;for(var a=0;a<f.length;a++)this.ruler.push(f[a][0],f[a][1])}var e=a("./ruler"),f=[["block",a("./rules_core/block")],["abbr",a("./rules_core/abbr")],["references",a("./rules_core/references")],["inline",a("./rules_core/inline")],["footnote_tail",a("./rules_core/footnote_tail")],["abbr2",a("./rules_core/abbr2")],["replacements",a("./rules_core/replacements")],["smartquotes",a("./rules_core/smartquotes")],["linkify",a("./rules_core/linkify")]];d.prototype.process=function(a){var b,c,d;for(d=this.ruler.getRules(""),b=0,c=d.length;b<c;b++)d[b](a)},b.exports=d},{"./ruler":19,"./rules_core/abbr":34,"./rules_core/abbr2":35,"./rules_core/block":36,"./rules_core/footnote_tail":37,"./rules_core/inline":38,"./rules_core/linkify":39,"./rules_core/references":40,"./rules_core/replacements":41,"./rules_core/smartquotes":42}],17:[function(a,b,c){"use strict";function d(){this.ruler=new f;for(var a=0;a<i.length;a++)this.ruler.push(i[a][0],i[a][1]);this.validateLink=e}function e(a){var b=["vbscript","javascript","file","data"],c=a.trim().toLowerCase();return c=h.replaceEntities(c),c.indexOf(":")===-1||b.indexOf(c.split(":")[0])===-1}var f=a("./ruler"),g=a("./rules_inline/state_inline"),h=a("./common/utils"),i=[["text",a("./rules_inline/text")],["newline",a("./rules_inline/newline")],["escape",a("./rules_inline/escape")],["backticks",a("./rules_inline/backticks")],["del",a("./rules_inline/del")],["ins",a("./rules_inline/ins")],["mark",a("./rules_inline/mark")],["emphasis",a("./rules_inline/emphasis")],["sub",a("./rules_inline/sub")],["sup",a("./rules_inline/sup")],["links",a("./rules_inline/links")],["footnote_inline",a("./rules_inline/footnote_inline")],["footnote_ref",a("./rules_inline/footnote_ref")],["autolink",a("./rules_inline/autolink")],["htmltag",a("./rules_inline/htmltag")],["entity",a("./rules_inline/entity")]];d.prototype.skipToken=function(a){var b,c,d=this.ruler.getRules(""),e=d.length,f=a.pos;if((c=a.cacheGet(f))>0)return void(a.pos=c);for(b=0;b<e;b++)if(d[b](a,!0))return void a.cacheSet(f,a.pos);a.pos++,a.cacheSet(f,a.pos)},d.prototype.tokenize=function(a){for(var b,c,d=this.ruler.getRules(""),e=d.length,f=a.posMax;a.pos<f;){for(c=0;c<e&&!(b=d[c](a,!1));c++);if(b){if(a.pos>=f)break}else a.pending+=a.src[a.pos++]}a.pending&&a.pushPending()},d.prototype.parse=function(a,b,c,d){var e=new g(a,this,b,c,d);this.tokenize(e)},b.exports=d},{"./common/utils":5,"./ruler":19,"./rules_inline/autolink":43,"./rules_inline/backticks":44,"./rules_inline/del":45,"./rules_inline/emphasis":46,"./rules_inline/entity":47,"./rules_inline/escape":48,"./rules_inline/footnote_inline":49,"./rules_inline/footnote_ref":50,"./rules_inline/htmltag":51,"./rules_inline/ins":52,"./rules_inline/links":53,"./rules_inline/mark":54,"./rules_inline/newline":55,"./rules_inline/state_inline":56,"./rules_inline/sub":57,"./rules_inline/sup":58,"./rules_inline/text":59}],18:[function(a,b,c){"use strict";function d(){this.rules=e.assign({},f),this.getBreak=f.getBreak}var e=a("./common/utils"),f=a("./rules");b.exports=d,d.prototype.renderInline=function(a,b,c){for(var d=this.rules,e=a.length,f=0,g="";e--;)g+=d[a[f].type](a,f++,b,c,this);return g},d.prototype.render=function(a,b,c){for(var d=this.rules,e=a.length,f=-1,g="";++f<e;)g+="inline"===a[f].type?this.renderInline(a[f].children,b,c):d[a[f].type](a,f,b,c,this);return g}},{"./common/utils":5,"./rules":20}],19:[function(a,b,c){"use strict";function d(){this.__rules__=[],this.__cache__=null}d.prototype.__find__=function(a){for(var b=this.__rules__.length,c=-1;b--;)if(this.__rules__[++c].name===a)return c;return-1},d.prototype.__compile__=function(){var a=this,b=[""];a.__rules__.forEach(function(a){a.enabled&&a.alt.forEach(function(a){b.indexOf(a)<0&&b.push(a)})}),a.__cache__={},b.forEach(function(b){a.__cache__[b]=[],a.__rules__.forEach(function(c){c.enabled&&(b&&c.alt.indexOf(b)<0||a.__cache__[b].push(c.fn))})})},d.prototype.at=function(a,b,c){var d=this.__find__(a),e=c||{};if(d===-1)throw new Error("Parser rule not found: "+a);this.__rules__[d].fn=b,this.__rules__[d].alt=e.alt||[],this.__cache__=null},d.prototype.before=function(a,b,c,d){var e=this.__find__(a),f=d||{};if(e===-1)throw new Error("Parser rule not found: "+a);this.__rules__.splice(e,0,{name:b,enabled:!0,fn:c,alt:f.alt||[]}),this.__cache__=null},d.prototype.after=function(a,b,c,d){var e=this.__find__(a),f=d||{};if(e===-1)throw new Error("Parser rule not found: "+a);this.__rules__.splice(e+1,0,{name:b,enabled:!0,fn:c,alt:f.alt||[]}),this.__cache__=null},d.prototype.push=function(a,b,c){var d=c||{};this.__rules__.push({name:a,enabled:!0,fn:b,alt:d.alt||[]}),this.__cache__=null},d.prototype.enable=function(a,b){a=Array.isArray(a)?a:[a],b&&this.__rules__.forEach(function(a){a.enabled=!1}),a.forEach(function(a){var b=this.__find__(a);if(b<0)throw new Error("Rules manager: invalid rule name "+a);this.__rules__[b].enabled=!0},this),this.__cache__=null},d.prototype.disable=function(a){a=Array.isArray(a)?a:[a],a.forEach(function(a){var b=this.__find__(a);if(b<0)throw new Error("Rules manager: invalid rule name "+a);this.__rules__[b].enabled=!1},this),this.__cache__=null},d.prototype.getRules=function(a){return null===this.__cache__&&this.__compile__(),this.__cache__[a]||[]},b.exports=d},{}],20:[function(a,b,c){"use strict";function d(a,b){return++b>=a.length-2?b:"paragraph_open"===a[b].type&&a[b].tight&&"inline"===a[b+1].type&&0===a[b+1].content.length&&"paragraph_close"===a[b+2].type&&a[b+2].tight?d(a,b+2):b}var e=a("./common/utils").has,f=a("./common/utils").unescapeMd,g=a("./common/utils").replaceEntities,h=a("./common/utils").escapeHtml,i={};i.blockquote_open=function(){return"<blockquote>\n"},i.blockquote_close=function(a,b){return"</blockquote>"+j(a,b)},i.code=function(a,b){return a[b].block?"<pre><code>"+h(a[b].content)+"</code></pre>"+j(a,b):"<code>"+h(a[b].content)+"</code>"},i.fence=function(a,b,c,d,i){var k,l,m,n=a[b],o="",p=c.langPrefix,q="";if(n.params){if(k=n.params.split(/\s+/g),l=k.join(" "),e(i.rules.fence_custom,k[0]))return i.rules.fence_custom[k[0]](a,b,c,d,i);q=h(g(f(l))),o=' class="'+p+q+'"'}return m=c.highlight?c.highlight.apply(c.highlight,[n.content].concat(k))||h(n.content):h(n.content),"<pre><code"+o+">"+m+"</code></pre>"+j(a,b)},i.fence_custom={},i.heading_open=function(a,b){return"<h"+a[b].hLevel+">"},i.heading_close=function(a,b){return"</h"+a[b].hLevel+">\n"},i.hr=function(a,b,c){return(c.xhtmlOut?"<hr />":"<hr>")+j(a,b)},i.bullet_list_open=function(){return"<ul>\n"},i.bullet_list_close=function(a,b){return"</ul>"+j(a,b)},i.list_item_open=function(){return"<li>"},i.list_item_close=function(){return"</li>\n"},i.ordered_list_open=function(a,b){var c=a[b],d=c.order>1?' start="'+c.order+'"':"";return"<ol"+d+">\n"},i.ordered_list_close=function(a,b){return"</ol>"+j(a,b)},i.paragraph_open=function(a,b){return a[b].tight?"":"<p>"},i.paragraph_close=function(a,b){var c=!(a[b].tight&&b&&"inline"===a[b-1].type&&!a[b-1].content);return(a[b].tight?"":"</p>")+(c?j(a,b):"")},i.link_open=function(a,b,c){var d=a[b].title?' title="'+h(g(a[b].title))+'"':"",e=c.linkTarget?' target="'+c.linkTarget+'"':"";return'<a href="'+h(a[b].href)+'"'+d+e+">"},i.link_close=function(){return"</a>"},i.image=function(a,b,c){var d=' src="'+h(a[b].src)+'"',e=a[b].title?' title="'+h(g(a[b].title))+'"':"",i=' alt="'+(a[b].alt?h(g(f(a[b].alt))):"")+'"',j=c.xhtmlOut?" /":"";return"<img"+d+i+e+j+">"},i.table_open=function(){return"<table>\n"},i.table_close=function(){return"</table>\n"},i.thead_open=function(){return"<thead>\n"},i.thead_close=function(){return"</thead>\n"},i.tbody_open=function(){return"<tbody>\n"},i.tbody_close=function(){return"</tbody>\n"},i.tr_open=function(){return"<tr>"},i.tr_close=function(){return"</tr>\n"},i.th_open=function(a,b){var c=a[b];return"<th"+(c.align?' style="text-align:'+c.align+'"':"")+">"},i.th_close=function(){return"</th>"},i.td_open=function(a,b){var c=a[b];return"<td"+(c.align?' style="text-align:'+c.align+'"':"")+">"},i.td_close=function(){return"</td>"},i.strong_open=function(){return"<strong>"},i.strong_close=function(){return"</strong>"},i.em_open=function(){return"<em>"},i.em_close=function(){return"</em>"},i.del_open=function(){return"<del>"},i.del_close=function(){return"</del>"},i.ins_open=function(){return"<ins>"},i.ins_close=function(){return"</ins>"},i.mark_open=function(){return"<mark>"},i.mark_close=function(){return"</mark>"},i.sub=function(a,b){return"<sub>"+h(a[b].content)+"</sub>"},i.sup=function(a,b){return"<sup>"+h(a[b].content)+"</sup>"},i.hardbreak=function(a,b,c){return c.xhtmlOut?"<br />\n":"<br>\n"},i.softbreak=function(a,b,c){return c.breaks?c.xhtmlOut?"<br />\n":"<br>\n":"\n"},i.text=function(a,b){return h(a[b].content)},i.htmlblock=function(a,b){return a[b].content},i.htmltag=function(a,b){return a[b].content},i.abbr_open=function(a,b){return'<abbr title="'+h(g(a[b].title))+'">'},i.abbr_close=function(){return"</abbr>"},i.footnote_ref=function(a,b){var c=Number(a[b].id+1).toString(),d="fnref"+c;return a[b].subId>0&&(d+=":"+a[b].subId),'<sup class="footnote-ref"><a href="#fn'+c+'" id="'+d+'">['+c+"]</a></sup>"},i.footnote_block_open=function(a,b,c){var d=c.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n';return d+'<section class="footnotes">\n<ol class="footnotes-list">\n'},i.footnote_block_close=function(){return"</ol>\n</section>\n"},i.footnote_open=function(a,b){var c=Number(a[b].id+1).toString();return'<li id="fn'+c+'"  class="footnote-item">'},i.footnote_close=function(){return"</li>\n"},i.footnote_anchor=function(a,b){var c=Number(a[b].id+1).toString(),d="fnref"+c;return a[b].subId>0&&(d+=":"+a[b].subId),' <a href="#'+d+'" class="footnote-backref">↩</a>'},i.dl_open=function(){return"<dl>\n"},i.dt_open=function(){return"<dt>"},i.dd_open=function(){return"<dd>"},i.dl_close=function(){return"</dl>\n"},i.dt_close=function(){return"</dt>\n"},i.dd_close=function(){return"</dd>\n"};var j=i.getBreak=function(a,b){return b=d(a,b),b<a.length&&"list_item_close"===a[b].type?"":"\n"};b.exports=i},{"./common/utils":5}],21:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p=a.bMarks[b]+a.tShift[b],q=a.eMarks[b];if(p>q)return!1;if(62!==a.src.charCodeAt(p++))return!1;if(a.level>=a.options.maxNesting)return!1;if(d)return!0;for(32===a.src.charCodeAt(p)&&p++,i=a.blkIndent,a.blkIndent=0,h=[a.bMarks[b]],a.bMarks[b]=p,p=p<q?a.skipSpaces(p):p,f=p>=q,g=[a.tShift[b]],a.tShift[b]=p-a.bMarks[b],l=a.parser.ruler.getRules("blockquote"),e=b+1;e<c&&(p=a.bMarks[e]+a.tShift[e],q=a.eMarks[e],!(p>=q));e++)if(62!==a.src.charCodeAt(p++)){if(f)break;for(o=!1,m=0,n=l.length;m<n;m++)if(l[m](a,e,c,!0)){o=!0;break}if(o)break;h.push(a.bMarks[e]),g.push(a.tShift[e]),a.tShift[e]=-1337}else 32===a.src.charCodeAt(p)&&p++,h.push(a.bMarks[e]),a.bMarks[e]=p,p=p<q?a.skipSpaces(p):p,f=p>=q,g.push(a.tShift[e]),a.tShift[e]=p-a.bMarks[e];for(j=a.parentType,a.parentType="blockquote",a.tokens.push({type:"blockquote_open",lines:k=[b,0],level:a.level++}),a.parser.tokenize(a,b,e),a.tokens.push({type:"blockquote_close",level:--a.level}),a.parentType=j,k[1]=a.line,m=0;m<g.length;m++)a.bMarks[m+b]=h[m],a.tShift[m+b]=g[m];return a.blkIndent=i,!0}},{}],22:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e;if(a.tShift[b]-a.blkIndent<4)return!1;for(e=d=b+1;d<c;)if(a.isEmpty(d))d++;else{if(!(a.tShift[d]-a.blkIndent>=4))break;d++,e=d}return a.line=d,a.tokens.push({type:"code",content:a.getLines(b,e,4+a.blkIndent,!0),block:!0,lines:[b,a.line],level:a.level}),!0}},{}],23:[function(a,b,c){"use strict";function d(a,b){var c,d,e=a.bMarks[b]+a.tShift[b],f=a.eMarks[b];return e>=f?-1:(d=a.src.charCodeAt(e++),126!==d&&58!==d?-1:(c=a.skipSpaces(e),e===c?-1:c>=f?-1:c))}function e(a,b){var c,d,e=a.level+2;for(c=b+2,d=a.tokens.length-2;c<d;c++)a.tokens[c].level===e&&"paragraph_open"===a.tokens[c].type&&(a.tokens[c+2].tight=!0,a.tokens[c].tight=!0,c+=2)}b.exports=function(a,b,c,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(f)return!(a.ddIndent<0)&&d(a,b)>=0;if(m=b+1,a.isEmpty(m)&&++m>c)return!1;if(a.tShift[m]<a.blkIndent)return!1;if(g=d(a,m),g<0)return!1;if(a.level>=a.options.maxNesting)return!1;l=a.tokens.length,a.tokens.push({type:"dl_open",lines:k=[b,0],level:a.level++}),i=b,h=m;a:for(;;){for(t=!0,s=!1,a.tokens.push({type:"dt_open",lines:[i,i],level:a.level++}),a.tokens.push({type:"inline",content:a.getLines(i,i+1,a.blkIndent,!1).trim(),level:a.level+1,lines:[i,i],children:[]}),a.tokens.push({type:"dt_close",level:--a.level});;){if(a.tokens.push({type:"dd_open",lines:j=[m,0],level:a.level++}),r=a.tight,o=a.ddIndent,n=a.blkIndent,q=a.tShift[h],p=a.parentType,a.blkIndent=a.ddIndent=a.tShift[h]+2,a.tShift[h]=g-a.bMarks[h],a.tight=!0,a.parentType="deflist",a.parser.tokenize(a,h,c,!0),a.tight&&!s||(t=!1),s=a.line-h>1&&a.isEmpty(a.line-1),a.tShift[h]=q,a.tight=r,a.parentType=p,a.blkIndent=n,a.ddIndent=o,a.tokens.push({type:"dd_close",level:--a.level}),j[1]=m=a.line,m>=c)break a;if(a.tShift[m]<a.blkIndent)break a;if(g=d(a,m),g<0)break;h=m}if(m>=c)break;if(i=m,a.isEmpty(i))break;if(a.tShift[i]<a.blkIndent)break;if(h=i+1,h>=c)break;if(a.isEmpty(h)&&h++,h>=c)break;if(a.tShift[h]<a.blkIndent)break;if(g=d(a,h),g<0)break}return a.tokens.push({type:"dl_close",level:--a.level}),k[1]=m,a.line=m,t&&e(a,l),!0}},{}],24:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e,f,g,h,i,j=!1,k=a.bMarks[b]+a.tShift[b],l=a.eMarks[b];if(k+3>l)return!1;if(e=a.src.charCodeAt(k),126!==e&&96!==e)return!1;if(i=k,k=a.skipChars(k,e),f=k-i,f<3)return!1;if(g=a.src.slice(k,l).trim(),g.indexOf("`")>=0)return!1;if(d)return!0;for(h=b;(h++,!(h>=c))&&(k=i=a.bMarks[h]+a.tShift[h],l=a.eMarks[h],!(k<l&&a.tShift[h]<a.blkIndent));)if(a.src.charCodeAt(k)===e&&!(a.tShift[h]-a.blkIndent>=4||(k=a.skipChars(k,e),k-i<f||(k=a.skipSpaces(k),k<l)))){j=!0;break}return f=a.tShift[b],a.line=h+(j?1:0),a.tokens.push({type:"fence",params:g,content:a.getLines(b+1,h,f,!0),lines:[b,a.line],level:a.level}),!0}},{}],25:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e,f,g,h,i,j=a.bMarks[b]+a.tShift[b],k=a.eMarks[b];if(j+4>k)return!1;if(91!==a.src.charCodeAt(j))return!1;if(94!==a.src.charCodeAt(j+1))return!1;if(a.level>=a.options.maxNesting)return!1;for(h=j+2;h<k;h++){if(32===a.src.charCodeAt(h))return!1;if(93===a.src.charCodeAt(h))break}return h!==j+2&&(!(h+1>=k||58!==a.src.charCodeAt(++h))&&(!!d||(h++,a.env.footnotes||(a.env.footnotes={}),a.env.footnotes.refs||(a.env.footnotes.refs={}),i=a.src.slice(j+2,h-2),a.env.footnotes.refs[":"+i]=-1,a.tokens.push({type:"footnote_reference_open",label:i,level:a.level++}),e=a.bMarks[b],f=a.tShift[b],g=a.parentType,a.tShift[b]=a.skipSpaces(h)-h,a.bMarks[b]=h,a.blkIndent+=4,a.parentType="footnote",a.tShift[b]<a.blkIndent&&(a.tShift[b]+=a.blkIndent,a.bMarks[b]-=a.blkIndent),a.parser.tokenize(a,b,c,!0),a.parentType=g,a.blkIndent-=4,a.tShift[b]=f,a.bMarks[b]=e,a.tokens.push({type:"footnote_reference_close",level:--a.level}),!0)))}},{}],26:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e,f,g,h=a.bMarks[b]+a.tShift[b],i=a.eMarks[b];if(h>=i)return!1;if(e=a.src.charCodeAt(h),35!==e||h>=i)return!1;for(f=1,e=a.src.charCodeAt(++h);35===e&&h<i&&f<=6;)f++,e=a.src.charCodeAt(++h);return!(f>6||h<i&&32!==e)&&(!!d||(i=a.skipCharsBack(i,32,h),g=a.skipCharsBack(i,35,h),g>h&&32===a.src.charCodeAt(g-1)&&(i=g),a.line=b+1,a.tokens.push({type:"heading_open",hLevel:f,lines:[b,a.line],level:a.level}),h<i&&a.tokens.push({type:"inline",content:a.src.slice(h,i).trim(),level:a.level+1,lines:[b,a.line],children:[]}),a.tokens.push({type:"heading_close",hLevel:f,level:a.level}),!0))}},{}],27:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e,f,g,h=a.bMarks[b],i=a.eMarks[b];if(h+=a.tShift[b],h>i)return!1;if(e=a.src.charCodeAt(h++),42!==e&&45!==e&&95!==e)return!1;for(f=1;h<i;){if(g=a.src.charCodeAt(h++),g!==e&&32!==g)return!1;g===e&&f++}return!(f<3)&&(!!d||(a.line=b+1,a.tokens.push({type:"hr",lines:[b,a.line],level:a.level}),!0))}},{}],28:[function(a,b,c){"use strict";function d(a){var b=32|a;return b>=97&&b<=122}var e=a("../common/html_blocks"),f=/^<([a-zA-Z]{1,15})[\s\/>]/,g=/^<\/([a-zA-Z]{1,15})[\s>]/;b.exports=function(a,b,c,h){var i,j,k,l=a.bMarks[b],m=a.eMarks[b],n=a.tShift[b];if(l+=n,!a.options.html)return!1;if(n>3||l+2>=m)return!1;if(60!==a.src.charCodeAt(l))return!1;if(i=a.src.charCodeAt(l+1),33===i||63===i){if(h)return!0}else{if(47!==i&&!d(i))return!1;if(47===i){if(j=a.src.slice(l,m).match(g),!j)return!1}else if(j=a.src.slice(l,m).match(f),!j)return!1;if(e[j[1].toLowerCase()]!==!0)return!1;if(h)return!0}for(k=b+1;k<a.lineMax&&!a.isEmpty(k);)k++;return a.line=k,a.tokens.push({type:"htmlblock",level:a.level,lines:[b,a.line],content:a.getLines(b,k,0,!0)}),!0}},{"../common/html_blocks":2}],29:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e,f,g=b+1;return!(g>=c)&&(!(a.tShift[g]<a.blkIndent)&&(!(a.tShift[g]-a.blkIndent>3)&&(e=a.bMarks[g]+a.tShift[g],f=a.eMarks[g],!(e>=f)&&(d=a.src.charCodeAt(e),(45===d||61===d)&&(e=a.skipChars(e,d),e=a.skipSpaces(e),!(e<f)&&(e=a.bMarks[b]+a.tShift[b],a.line=g+1,a.tokens.push({type:"heading_open",hLevel:61===d?1:2,lines:[b,a.line],level:a.level}),a.tokens.push({type:"inline",content:a.src.slice(e,a.eMarks[b]).trim(),level:a.level+1,lines:[b,a.line-1],children:[]}),a.tokens.push({type:"heading_close",hLevel:61===d?1:2,level:a.level}),!0))))))}},{}],30:[function(a,b,c){"use strict";function d(a,b){var c,d,e;return d=a.bMarks[b]+a.tShift[b],e=a.eMarks[b],d>=e?-1:(c=a.src.charCodeAt(d++),42!==c&&45!==c&&43!==c?-1:d<e&&32!==a.src.charCodeAt(d)?-1:d)}function e(a,b){var c,d=a.bMarks[b]+a.tShift[b],e=a.eMarks[b];if(d+1>=e)return-1;if(c=a.src.charCodeAt(d++),c<48||c>57)return-1;for(;;){if(d>=e)return-1;if(c=a.src.charCodeAt(d++),!(c>=48&&c<=57)){if(41===c||46===c)break;return-1}}return d<e&&32!==a.src.charCodeAt(d)?-1:d}function f(a,b){var c,d,e=a.level+2;for(c=b+2,d=a.tokens.length-2;c<d;c++)a.tokens[c].level===e&&"paragraph_open"===a.tokens[c].type&&(a.tokens[c+2].tight=!0,a.tokens[c].tight=!0,c+=2)}b.exports=function(a,b,c,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=!0;if((o=e(a,b))>=0)t=!0;else{if(!((o=d(a,b))>=0))return!1;t=!1}if(a.level>=a.options.maxNesting)return!1;if(s=a.src.charCodeAt(o-1),g)return!0;for(v=a.tokens.length,t?(n=a.bMarks[b]+a.tShift[b],r=Number(a.src.substr(n,o-n-1)),a.tokens.push({type:"ordered_list_open",order:r,lines:x=[b,0],level:a.level++})):a.tokens.push({type:"bullet_list_open",lines:x=[b,0],level:a.level++}),h=b,w=!1,z=a.parser.ruler.getRules("list");!(!(h<c)||(u=a.skipSpaces(o),p=a.eMarks[h],q=u>=p?1:u-o,q>4&&(q=1),q<1&&(q=1),i=o-a.bMarks[h]+q,a.tokens.push({type:"list_item_open",lines:y=[b,0],level:a.level++}),k=a.blkIndent,l=a.tight,j=a.tShift[b],m=a.parentType,a.tShift[b]=u-a.bMarks[b],a.blkIndent=i,a.tight=!0,a.parentType="list",a.parser.tokenize(a,b,c,!0),a.tight&&!w||(D=!1),w=a.line-b>1&&a.isEmpty(a.line-1),a.blkIndent=k,a.tShift[b]=j,a.tight=l,a.parentType=m,a.tokens.push({type:"list_item_close",level:--a.level}),h=b=a.line,y[1]=h,u=a.bMarks[b],h>=c)||a.isEmpty(h)||a.tShift[h]<a.blkIndent);){for(C=!1,A=0,B=z.length;A<B;A++)if(z[A](a,h,c,!0)){C=!0;break}if(C)break;if(t){if(o=e(a,h),o<0)break}else if(o=d(a,h),o<0)break;if(s!==a.src.charCodeAt(o-1))break}return a.tokens.push({type:t?"ordered_list_close":"bullet_list_close",level:--a.level}),x[1]=h,a.line=h,D&&f(a,v),!0}},{}],31:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f,g,h,i=b+1;if(c=a.lineMax,i<c&&!a.isEmpty(i))for(h=a.parser.ruler.getRules("paragraph");i<c&&!a.isEmpty(i);i++)if(!(a.tShift[i]-a.blkIndent>3)){for(e=!1,f=0,g=h.length;f<g;f++)if(h[f](a,i,c,!0)){e=!0;break}if(e)break}return d=a.getLines(b,i,a.blkIndent,!1).trim(),a.line=i,d.length&&(a.tokens.push({type:"paragraph_open",tight:!1,lines:[b,a.line],level:a.level}),a.tokens.push({type:"inline",content:d,level:a.level+1,lines:[b,a.line],children:[]}),a.tokens.push({type:"paragraph_close",tight:!1,level:a.level})),!0}},{}],32:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f,g,h,i,j,k,l;for(this.src=a,this.parser=b,this.options=c,this.env=d,this.tokens=e,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",g=this.src,k=0,l=!1,h=i=k=0,j=g.length;i<j;i++){if(f=g.charCodeAt(i),!l){if(32===f){k++;continue}l=!0}10!==f&&i!==j-1||(10!==f&&i++,this.bMarks.push(h),this.eMarks.push(i),this.tShift.push(k),l=!1,k=0,h=i+1)}this.bMarks.push(g.length),this.eMarks.push(g.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}d.prototype.isEmpty=function(a){return this.bMarks[a]+this.tShift[a]>=this.eMarks[a]},d.prototype.skipEmptyLines=function(a){for(var b=this.lineMax;a<b&&!(this.bMarks[a]+this.tShift[a]<this.eMarks[a]);a++);return a},d.prototype.skipSpaces=function(a){for(var b=this.src.length;a<b&&32===this.src.charCodeAt(a);a++);return a},d.prototype.skipChars=function(a,b){for(var c=this.src.length;a<c&&this.src.charCodeAt(a)===b;a++);return a},d.prototype.skipCharsBack=function(a,b,c){if(a<=c)return a;for(;a>c;)if(b!==this.src.charCodeAt(--a))return a+1;return a},d.prototype.getLines=function(a,b,c,d){var e,f,g,h,i,j=a;if(a>=b)return"";if(j+1===b)return f=this.bMarks[j]+Math.min(this.tShift[j],c),g=d?this.eMarks[j]+1:this.eMarks[j],this.src.slice(f,g);for(h=new Array(b-a),e=0;j<b;j++,e++)i=this.tShift[j],i>c&&(i=c),i<0&&(i=0),f=this.bMarks[j]+i,g=j+1<b||d?this.eMarks[j]+1:this.eMarks[j],h[e]=this.src.slice(f,g);return h.join("")},b.exports=d},{}],33:[function(a,b,c){"use strict";function d(a,b){var c=a.bMarks[b]+a.blkIndent,d=a.eMarks[b];return a.src.substr(c,d-c)}b.exports=function(a,b,c,e){var f,g,h,i,j,k,l,m,n,o,p;if(b+2>c)return!1;if(j=b+1,a.tShift[j]<a.blkIndent)return!1;if(h=a.bMarks[j]+a.tShift[j],h>=a.eMarks[j])return!1;if(f=a.src.charCodeAt(h),124!==f&&45!==f&&58!==f)return!1;if(g=d(a,b+1),!/^[-:| ]+$/.test(g))return!1;if(k=g.split("|"),k<=2)return!1;for(m=[],i=0;i<k.length;i++){if(n=k[i].trim(),!n){if(0===i||i===k.length-1)continue;return!1}if(!/^:?-+:?$/.test(n))return!1;58===n.charCodeAt(n.length-1)?m.push(58===n.charCodeAt(0)?"center":"right"):58===n.charCodeAt(0)?m.push("left"):m.push("")}if(g=d(a,b).trim(),g.indexOf("|")===-1)return!1;if(k=g.replace(/^\||\|$/g,"").split("|"),m.length!==k.length)return!1;if(e)return!0;for(a.tokens.push({type:"table_open",lines:o=[b,0],level:a.level++}),a.tokens.push({type:"thead_open",lines:[b,b+1],level:a.level++}),a.tokens.push({type:"tr_open",lines:[b,b+1],level:a.level++}),i=0;i<k.length;i++)a.tokens.push({type:"th_open",align:m[i],lines:[b,b+1],level:a.level++}),a.tokens.push({type:"inline",content:k[i].trim(),lines:[b,b+1],level:a.level,children:[]}),a.tokens.push({type:"th_close",level:--a.level});for(a.tokens.push({type:"tr_close",level:--a.level}),a.tokens.push({type:"thead_close",level:--a.level}),a.tokens.push({type:"tbody_open",lines:p=[b+2,0],level:a.level++}),j=b+2;j<c&&!(a.tShift[j]<a.blkIndent)&&(g=d(a,j).trim(),g.indexOf("|")!==-1);j++){for(k=g.replace(/^\||\|$/g,"").split("|"),a.tokens.push({type:"tr_open",level:a.level++}),i=0;i<k.length;i++)a.tokens.push({type:"td_open",align:m[i],level:a.level++}),l=k[i].substring(124===k[i].charCodeAt(0)?1:0,124===k[i].charCodeAt(k[i].length-1)?k[i].length-1:k[i].length).trim(),a.tokens.push({type:"inline",content:l,level:a.level,children:[]}),a.tokens.push({type:"td_close",level:--a.level});a.tokens.push({type:"tr_close",level:--a.level})}return a.tokens.push({type:"tbody_close",level:--a.level}),a.tokens.push({type:"table_close",level:--a.level}),o[1]=p[1]=j,a.line=j,!0}},{}],34:[function(a,b,c){"use strict";function d(a,b,c,d){var g,h,i,j,k,l;if(42!==a.charCodeAt(0))return-1;if(91!==a.charCodeAt(1))return-1;if(a.indexOf("]:")===-1)return-1;if(g=new e(a,b,c,d,[]),h=f(g,1),h<0||58!==a.charCodeAt(h+1))return-1;for(j=g.posMax,i=h+2;i<j&&10!==g.src.charCodeAt(i);i++);return k=a.slice(2,h),l=a.slice(h+2,i).trim(),0===l.length?-1:(d.abbreviations||(d.abbreviations={}),"undefined"==typeof d.abbreviations[":"+k]&&(d.abbreviations[":"+k]=l),i)}var e=a("../rules_inline/state_inline"),f=a("../helpers/parse_link_label");b.exports=function(a){var b,c,e,f,g=a.tokens;if(!a.inlineMode)for(b=1,c=g.length-1;b<c;b++)if("paragraph_open"===g[b-1].type&&"inline"===g[b].type&&"paragraph_close"===g[b+1].type){
for(e=g[b].content;e.length&&(f=d(e,a.inline,a.options,a.env),!(f<0));)e=e.slice(f).trim();g[b].content=e,e.length||(g[b-1].tight=!0,g[b+1].tight=!0)}}},{"../helpers/parse_link_label":12,"../rules_inline/state_inline":56}],35:[function(a,b,c){"use strict";function d(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var e=" \n()[]'\".,!?-";b.exports=function(a){var b,c,f,g,h,i,j,k,l,m,n,o,p=a.tokens;if(a.env.abbreviations)for(a.env.abbrRegExp||(o="(^|["+e.split("").map(d).join("")+"])("+Object.keys(a.env.abbreviations).map(function(a){return a.substr(1)}).sort(function(a,b){return b.length-a.length}).map(d).join("|")+")($|["+e.split("").map(d).join("")+"])",a.env.abbrRegExp=new RegExp(o,"g")),m=a.env.abbrRegExp,c=0,f=p.length;c<f;c++)if("inline"===p[c].type)for(g=p[c].children,b=g.length-1;b>=0;b--)if(h=g[b],"text"===h.type){for(k=0,i=h.content,m.lastIndex=0,l=h.level,j=[];n=m.exec(i);)m.lastIndex>k&&j.push({type:"text",content:i.slice(k,n.index+n[1].length),level:l}),j.push({type:"abbr_open",title:a.env.abbreviations[":"+n[2]],level:l++}),j.push({type:"text",content:n[2],level:l}),j.push({type:"abbr_close",level:--l}),k=m.lastIndex-n[3].length;j.length&&(k<i.length&&j.push({type:"text",content:i.slice(k),level:l}),p[c].children=g=[].concat(g.slice(0,b),j,g.slice(b+1)))}}},{}],36:[function(a,b,c){"use strict";b.exports=function(a){a.inlineMode?a.tokens.push({type:"inline",content:a.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):a.block.parse(a.src,a.options,a.env,a.tokens)}},{}],37:[function(a,b,c){"use strict";b.exports=function(a){var b,c,d,e,f,g,h,i,j,k=0,l=!1,m={};if(a.env.footnotes&&(a.tokens=a.tokens.filter(function(a){return"footnote_reference_open"===a.type?(l=!0,i=[],j=a.label,!1):"footnote_reference_close"===a.type?(l=!1,m[":"+j]=i,!1):(l&&i.push(a),!l)}),a.env.footnotes.list)){for(g=a.env.footnotes.list,a.tokens.push({type:"footnote_block_open",level:k++}),b=0,c=g.length;b<c;b++){for(a.tokens.push({type:"footnote_open",id:b,level:k++}),g[b].tokens?(h=[],h.push({type:"paragraph_open",tight:!1,level:k++}),h.push({type:"inline",content:"",level:k,children:g[b].tokens}),h.push({type:"paragraph_close",tight:!1,level:--k})):g[b].label&&(h=m[":"+g[b].label]),a.tokens=a.tokens.concat(h),f="paragraph_close"===a.tokens[a.tokens.length-1].type?a.tokens.pop():null,e=g[b].count>0?g[b].count:1,d=0;d<e;d++)a.tokens.push({type:"footnote_anchor",id:b,subId:d,level:k});f&&a.tokens.push(f),a.tokens.push({type:"footnote_close",level:--k})}a.tokens.push({type:"footnote_block_close",level:--k})}}},{}],38:[function(a,b,c){"use strict";b.exports=function(a){var b,c,d,e=a.tokens;for(c=0,d=e.length;c<d;c++)b=e[c],"inline"===b.type&&a.inline.parse(b.content,a.options,a.env,b.children)}},{}],39:[function(a,b,c){"use strict";function d(a){return/^<a[>\s]/i.test(a)}function e(a){return/^<\/a\s*>/i.test(a)}function f(){var a=[],b=new g({stripPrefix:!1,url:!0,email:!0,twitter:!1,replaceFn:function(b,c){switch(c.getType()){case"url":a.push({text:c.matchedText,url:c.getUrl()});break;case"email":a.push({text:c.matchedText,url:"mailto:"+c.getEmail().replace(/^mailto:/i,"")})}return!1}});return{links:a,autolinker:b}}var g=a("autolinker"),h=/www|@|\:\/\//;b.exports=function(a){var b,c,g,i,j,k,l,m,n,o,p,q,r,s=a.tokens,t=null;if(a.options.linkify)for(c=0,g=s.length;c<g;c++)if("inline"===s[c].type)for(i=s[c].children,p=0,b=i.length-1;b>=0;b--)if(j=i[b],"link_close"!==j.type){if("htmltag"===j.type&&(d(j.content)&&p>0&&p--,e(j.content)&&p++),!(p>0)&&"text"===j.type&&h.test(j.content)){if(t||(t=f(),q=t.links,r=t.autolinker),k=j.content,q.length=0,r.link(k),!q.length)continue;for(l=[],o=j.level,m=0;m<q.length;m++)a.inline.validateLink(q[m].url)&&(n=k.indexOf(q[m].text),n&&(o=o,l.push({type:"text",content:k.slice(0,n),level:o})),l.push({type:"link_open",href:q[m].url,title:"",level:o++}),l.push({type:"text",content:q[m].text,level:o}),l.push({type:"link_close",level:--o}),k=k.slice(n+q[m].text.length));k.length&&l.push({type:"text",content:k,level:o}),s[c].children=i=[].concat(i.slice(0,b),l,i.slice(b+1))}}else for(b--;i[b].level!==j.level&&"link_open"!==i[b].type;)b--}},{autolinker:60}],40:[function(a,b,c){"use strict";function d(a,b,c,d){var j,k,l,m,n,o,p,q,r;if(91!==a.charCodeAt(0))return-1;if(a.indexOf("]:")===-1)return-1;if(j=new e(a,b,c,d,[]),k=f(j,0),k<0||58!==a.charCodeAt(k+1))return-1;for(m=j.posMax,l=k+2;l<m&&(n=j.src.charCodeAt(l),32===n||10===n);l++);if(!g(j,l))return-1;for(p=j.linkContent,l=j.pos,o=l,l+=1;l<m&&(n=j.src.charCodeAt(l),32===n||10===n);l++);for(l<m&&o!==l&&h(j,l)?(q=j.linkContent,l=j.pos):(q="",l=o);l<m&&32===j.src.charCodeAt(l);)l++;return l<m&&10!==j.src.charCodeAt(l)?-1:(r=i(a.slice(1,k)),"undefined"==typeof d.references[r]&&(d.references[r]={title:q,href:p}),l)}var e=a("../rules_inline/state_inline"),f=a("../helpers/parse_link_label"),g=a("../helpers/parse_link_destination"),h=a("../helpers/parse_link_title"),i=a("../helpers/normalize_reference");b.exports=function(a){var b,c,e,f,g=a.tokens;if(a.env.references=a.env.references||{},!a.inlineMode)for(b=1,c=g.length-1;b<c;b++)if("inline"===g[b].type&&"paragraph_open"===g[b-1].type&&"paragraph_close"===g[b+1].type){for(e=g[b].content;e.length&&(f=d(e,a.inline,a.options,a.env),!(f<0));)e=e.slice(f).trim();g[b].content=e,e.length||(g[b-1].tight=!0,g[b+1].tight=!0)}}},{"../helpers/normalize_reference":10,"../helpers/parse_link_destination":11,"../helpers/parse_link_label":12,"../helpers/parse_link_title":13,"../rules_inline/state_inline":56}],41:[function(a,b,c){"use strict";function d(a){return a.indexOf("(")<0?a:a.replace(f,function(a,b){return g[b.toLowerCase()]})}var e=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,f=/\((c|tm|r|p)\)/gi,g={c:"©",r:"®",p:"§",tm:"™"};b.exports=function(a){var b,c,f,g,h;if(a.options.typographer)for(h=a.tokens.length-1;h>=0;h--)if("inline"===a.tokens[h].type)for(g=a.tokens[h].children,b=g.length-1;b>=0;b--)c=g[b],"text"===c.type&&(f=c.content,f=d(f),e.test(f)&&(f=f.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),c.content=f)}},{}],42:[function(a,b,c){"use strict";function d(a,b){return!(b<0||b>=a.length)&&!h.test(a[b])}function e(a,b,c){return a.substr(0,b)+c+a.substr(b+1)}var f=/['"]/,g=/['"]/g,h=/[-\s()\[\]]/,i="’";b.exports=function(a){var b,c,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(a.options.typographer)for(w=[],u=a.tokens.length-1;u>=0;u--)if("inline"===a.tokens[u].type)for(v=a.tokens[u].children,w.length=0,b=0;b<v.length;b++)if(c=v[b],"text"===c.type&&!f.test(c.text)){for(m=v[b].level,s=w.length-1;s>=0&&!(w[s].level<=m);s--);w.length=s+1,h=c.content,k=0,l=h.length;a:for(;k<l&&(g.lastIndex=k,j=g.exec(h));)if(n=!d(h,j.index-1),k=j.index+1,t="'"===j[0],o=!d(h,k),o||n){if(q=!o,r=!n)for(s=w.length-1;s>=0&&(p=w[s],!(w[s].level<m));s--)if(p.single===t&&w[s].level===m){p=w[s],t?(v[p.token].content=e(v[p.token].content,p.pos,a.options.quotes[2]),c.content=e(c.content,j.index,a.options.quotes[3])):(v[p.token].content=e(v[p.token].content,p.pos,a.options.quotes[0]),c.content=e(c.content,j.index,a.options.quotes[1])),w.length=s;continue a}q?w.push({token:b,pos:j.index,single:t,level:m}):r&&t&&(c.content=e(c.content,j.index,i))}else t&&(c.content=e(c.content,j.index,i))}}},{}],43:[function(a,b,c){"use strict";var d=a("../common/url_schemas"),e=a("../helpers/normalize_link"),f=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,g=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;b.exports=function(a,b){var c,h,i,j,k,l=a.pos;return 60===a.src.charCodeAt(l)&&(c=a.src.slice(l),!(c.indexOf(">")<0)&&((h=c.match(g))?!(d.indexOf(h[1].toLowerCase())<0)&&(j=h[0].slice(1,-1),k=e(j),!!a.parser.validateLink(j)&&(b||(a.push({type:"link_open",href:k,level:a.level}),a.push({type:"text",content:j,level:a.level+1}),a.push({type:"link_close",level:a.level})),a.pos+=h[0].length,!0)):(i=c.match(f),!!i&&(j=i[0].slice(1,-1),k=e("mailto:"+j),!!a.parser.validateLink(k)&&(b||(a.push({type:"link_open",href:k,level:a.level}),a.push({type:"text",content:j,level:a.level+1}),a.push({type:"link_close",level:a.level})),a.pos+=i[0].length,!0)))))}},{"../common/url_schemas":4,"../helpers/normalize_link":9}],44:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f,g,h=a.pos,i=a.src.charCodeAt(h);if(96!==i)return!1;for(c=h,h++,d=a.posMax;h<d&&96===a.src.charCodeAt(h);)h++;for(e=a.src.slice(c,h),f=g=h;(f=a.src.indexOf("`",g))!==-1;){for(g=f+1;g<d&&96===a.src.charCodeAt(g);)g++;if(g-f===e.length)return b||a.push({type:"code",content:a.src.slice(h,f).replace(/[ \n]+/g," ").trim(),block:!1,level:a.level}),a.pos=g,!0}return b||(a.pending+=e),a.pos+=e.length,!0}},{}],45:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f,g,h=a.posMax,i=a.pos;if(126!==a.src.charCodeAt(i))return!1;if(b)return!1;if(i+4>=h)return!1;if(126!==a.src.charCodeAt(i+1))return!1;if(a.level>=a.options.maxNesting)return!1;if(f=i>0?a.src.charCodeAt(i-1):-1,g=a.src.charCodeAt(i+2),126===f)return!1;if(126===g)return!1;if(32===g||10===g)return!1;for(d=i+2;d<h&&126===a.src.charCodeAt(d);)d++;if(d>i+3)return a.pos+=d-i,b||(a.pending+=a.src.slice(i,d)),!0;for(a.pos=i+2,e=1;a.pos+1<h;){if(126===a.src.charCodeAt(a.pos)&&126===a.src.charCodeAt(a.pos+1)&&(f=a.src.charCodeAt(a.pos-1),g=a.pos+2<h?a.src.charCodeAt(a.pos+2):-1,126!==g&&126!==f&&(32!==f&&10!==f?e--:32!==g&&10!==g&&e++,e<=0))){c=!0;break}a.parser.skipToken(a)}return c?(a.posMax=a.pos,a.pos=i+2,b||(a.push({type:"del_open",level:a.level++}),a.parser.tokenize(a),a.push({type:"del_close",level:--a.level})),a.pos=a.posMax+2,a.posMax=h,!0):(a.pos=i,!1)}},{}],46:[function(a,b,c){"use strict";function d(a){return a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122}function e(a,b){var c,e,f,g=b,h=!0,i=!0,j=a.posMax,k=a.src.charCodeAt(b);for(c=b>0?a.src.charCodeAt(b-1):-1;g<j&&a.src.charCodeAt(g)===k;)g++;return g>=j&&(h=!1),f=g-b,f>=4?h=i=!1:(e=g<j?a.src.charCodeAt(g):-1,32!==e&&10!==e||(h=!1),32!==c&&10!==c||(i=!1),95===k&&(d(c)&&(h=!1),d(e)&&(i=!1))),{can_open:h,can_close:i,delims:f}}b.exports=function(a,b){var c,d,f,g,h,i,j,k=a.posMax,l=a.pos,m=a.src.charCodeAt(l);if(95!==m&&42!==m)return!1;if(b)return!1;if(j=e(a,l),c=j.delims,!j.can_open)return a.pos+=c,b||(a.pending+=a.src.slice(l,a.pos)),!0;if(a.level>=a.options.maxNesting)return!1;for(a.pos=l+c,i=[c];a.pos<k;)if(a.src.charCodeAt(a.pos)!==m)a.parser.skipToken(a);else{if(j=e(a,a.pos),d=j.delims,j.can_close){for(g=i.pop(),h=d;g!==h;){if(h<g){i.push(g-h);break}if(h-=g,0===i.length)break;a.pos+=g,g=i.pop()}if(0===i.length){c=g,f=!0;break}a.pos+=d;continue}j.can_open&&i.push(d),a.pos+=d}return f?(a.posMax=a.pos,a.pos=l+c,b||(2!==c&&3!==c||a.push({type:"strong_open",level:a.level++}),1!==c&&3!==c||a.push({type:"em_open",level:a.level++}),a.parser.tokenize(a),1!==c&&3!==c||a.push({type:"em_close",level:--a.level}),2!==c&&3!==c||a.push({type:"strong_close",level:--a.level})),a.pos=a.posMax+c,a.posMax=k,!0):(a.pos=l,!1)}},{}],47:[function(a,b,c){"use strict";var d=a("../common/entities"),e=a("../common/utils").has,f=a("../common/utils").isValidEntityCode,g=a("../common/utils").fromCodePoint,h=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,i=/^&([a-z][a-z0-9]{1,31});/i;b.exports=function(a,b){var c,j,k,l=a.pos,m=a.posMax;if(38!==a.src.charCodeAt(l))return!1;if(l+1<m)if(c=a.src.charCodeAt(l+1),35===c){if(k=a.src.slice(l).match(h))return b||(j="x"===k[1][0].toLowerCase()?parseInt(k[1].slice(1),16):parseInt(k[1],10),a.pending+=g(f(j)?j:65533)),a.pos+=k[0].length,!0}else if(k=a.src.slice(l).match(i),k&&e(d,k[1]))return b||(a.pending+=d[k[1]]),a.pos+=k[0].length,!0;return b||(a.pending+="&"),a.pos++,!0}},{"../common/entities":1,"../common/utils":5}],48:[function(a,b,c){"use strict";for(var d=[],e=0;e<256;e++)d.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(a){d[a.charCodeAt(0)]=1}),b.exports=function(a,b){var c,e=a.pos,f=a.posMax;if(92!==a.src.charCodeAt(e))return!1;if(e++,e<f){if(c=a.src.charCodeAt(e),c<256&&0!==d[c])return b||(a.pending+=a.src[e]),a.pos+=2,!0;if(10===c){for(b||a.push({type:"hardbreak",level:a.level}),e++;e<f&&32===a.src.charCodeAt(e);)e++;return a.pos=e,!0}}return b||(a.pending+="\\"),a.pos++,!0}},{}],49:[function(a,b,c){"use strict";var d=a("../helpers/parse_link_label");b.exports=function(a,b){var c,e,f,g,h=a.posMax,i=a.pos;return!(i+2>=h)&&(94===a.src.charCodeAt(i)&&(91===a.src.charCodeAt(i+1)&&(!(a.level>=a.options.maxNesting)&&(c=i+2,e=d(a,i+1),!(e<0)&&(b||(a.env.footnotes||(a.env.footnotes={}),a.env.footnotes.list||(a.env.footnotes.list=[]),f=a.env.footnotes.list.length,a.pos=c,a.posMax=e,a.push({type:"footnote_ref",id:f,level:a.level}),a.linkLevel++,g=a.tokens.length,a.parser.tokenize(a),a.env.footnotes.list[f]={tokens:a.tokens.splice(g)},a.linkLevel--),a.pos=e+1,a.posMax=h,!0)))))}},{"../helpers/parse_link_label":12}],50:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f,g=a.posMax,h=a.pos;if(h+3>g)return!1;if(!a.env.footnotes||!a.env.footnotes.refs)return!1;if(91!==a.src.charCodeAt(h))return!1;if(94!==a.src.charCodeAt(h+1))return!1;if(a.level>=a.options.maxNesting)return!1;for(d=h+2;d<g;d++){if(32===a.src.charCodeAt(d))return!1;if(10===a.src.charCodeAt(d))return!1;if(93===a.src.charCodeAt(d))break}return d!==h+2&&(!(d>=g)&&(d++,c=a.src.slice(h+2,d-1),"undefined"!=typeof a.env.footnotes.refs[":"+c]&&(b||(a.env.footnotes.list||(a.env.footnotes.list=[]),a.env.footnotes.refs[":"+c]<0?(e=a.env.footnotes.list.length,a.env.footnotes.list[e]={label:c,count:0},a.env.footnotes.refs[":"+c]=e):e=a.env.footnotes.refs[":"+c],f=a.env.footnotes.list[e].count,a.env.footnotes.list[e].count++,a.push({type:"footnote_ref",id:e,subId:f,level:a.level})),a.pos=d,a.posMax=g,!0)))}},{}],51:[function(a,b,c){"use strict";function d(a){var b=32|a;return b>=97&&b<=122}var e=a("../common/html_re").HTML_TAG_RE;b.exports=function(a,b){var c,f,g,h=a.pos;return!!a.options.html&&(g=a.posMax,!(60!==a.src.charCodeAt(h)||h+2>=g)&&(c=a.src.charCodeAt(h+1),!(33!==c&&63!==c&&47!==c&&!d(c))&&(!!(f=a.src.slice(h).match(e))&&(b||a.push({type:"htmltag",content:a.src.slice(h,h+f[0].length),level:a.level}),a.pos+=f[0].length,!0))))}},{"../common/html_re":3}],52:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f,g,h=a.posMax,i=a.pos;if(43!==a.src.charCodeAt(i))return!1;if(b)return!1;if(i+4>=h)return!1;if(43!==a.src.charCodeAt(i+1))return!1;if(a.level>=a.options.maxNesting)return!1;if(f=i>0?a.src.charCodeAt(i-1):-1,g=a.src.charCodeAt(i+2),43===f)return!1;if(43===g)return!1;if(32===g||10===g)return!1;for(d=i+2;d<h&&43===a.src.charCodeAt(d);)d++;if(d!==i+2)return a.pos+=d-i,b||(a.pending+=a.src.slice(i,d)),!0;for(a.pos=i+2,e=1;a.pos+1<h;){if(43===a.src.charCodeAt(a.pos)&&43===a.src.charCodeAt(a.pos+1)&&(f=a.src.charCodeAt(a.pos-1),g=a.pos+2<h?a.src.charCodeAt(a.pos+2):-1,43!==g&&43!==f&&(32!==f&&10!==f?e--:32!==g&&10!==g&&e++,e<=0))){c=!0;break}a.parser.skipToken(a)}return c?(a.posMax=a.pos,a.pos=i+2,b||(a.push({type:"ins_open",level:a.level++}),a.parser.tokenize(a),a.push({type:"ins_close",level:--a.level})),a.pos=a.posMax+2,a.posMax=h,!0):(a.pos=i,!1)}},{}],53:[function(a,b,c){"use strict";var d=a("../helpers/parse_link_label"),e=a("../helpers/parse_link_destination"),f=a("../helpers/parse_link_title"),g=a("../helpers/normalize_reference");b.exports=function(a,b){var c,h,i,j,k,l,m,n,o=!1,p=a.pos,q=a.posMax,r=a.pos,s=a.src.charCodeAt(r);if(33===s&&(o=!0,s=a.src.charCodeAt(++r)),91!==s)return!1;if(a.level>=a.options.maxNesting)return!1;if(c=r+1,h=d(a,r),h<0)return!1;if(l=h+1,l<q&&40===a.src.charCodeAt(l)){for(l++;l<q&&(n=a.src.charCodeAt(l),32===n||10===n);l++);if(l>=q)return!1;for(r=l,e(a,l)?(j=a.linkContent,l=a.pos):j="",r=l;l<q&&(n=a.src.charCodeAt(l),32===n||10===n);l++);if(l<q&&r!==l&&f(a,l))for(k=a.linkContent,l=a.pos;l<q&&(n=a.src.charCodeAt(l),32===n||10===n);l++);else k="";if(l>=q||41!==a.src.charCodeAt(l))return a.pos=p,!1;l++}else{if(a.linkLevel>0)return!1;for(;l<q&&(n=a.src.charCodeAt(l),32===n||10===n);l++);if(l<q&&91===a.src.charCodeAt(l)&&(r=l+1,l=d(a,l),l>=0?i=a.src.slice(r,l++):l=r-1),i||("undefined"==typeof i&&(l=h+1),i=a.src.slice(c,h)),m=a.env.references[g(i)],!m)return a.pos=p,!1;j=m.href,k=m.title}return b||(a.pos=c,a.posMax=h,o?a.push({type:"image",src:j,title:k,alt:a.src.substr(c,h-c),level:a.level}):(a.push({type:"link_open",href:j,title:k,level:a.level++}),a.linkLevel++,a.parser.tokenize(a),a.linkLevel--,a.push({type:"link_close",level:--a.level}))),a.pos=l,a.posMax=q,!0}},{"../helpers/normalize_reference":10,"../helpers/parse_link_destination":11,"../helpers/parse_link_label":12,"../helpers/parse_link_title":13}],54:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f,g,h=a.posMax,i=a.pos;if(61!==a.src.charCodeAt(i))return!1;if(b)return!1;if(i+4>=h)return!1;if(61!==a.src.charCodeAt(i+1))return!1;if(a.level>=a.options.maxNesting)return!1;if(f=i>0?a.src.charCodeAt(i-1):-1,g=a.src.charCodeAt(i+2),61===f)return!1;if(61===g)return!1;if(32===g||10===g)return!1;for(d=i+2;d<h&&61===a.src.charCodeAt(d);)d++;if(d!==i+2)return a.pos+=d-i,b||(a.pending+=a.src.slice(i,d)),!0;for(a.pos=i+2,e=1;a.pos+1<h;){if(61===a.src.charCodeAt(a.pos)&&61===a.src.charCodeAt(a.pos+1)&&(f=a.src.charCodeAt(a.pos-1),g=a.pos+2<h?a.src.charCodeAt(a.pos+2):-1,61!==g&&61!==f&&(32!==f&&10!==f?e--:32!==g&&10!==g&&e++,e<=0))){c=!0;break}a.parser.skipToken(a)}return c?(a.posMax=a.pos,a.pos=i+2,b||(a.push({type:"mark_open",level:a.level++}),a.parser.tokenize(a),a.push({type:"mark_close",level:--a.level})),a.pos=a.posMax+2,a.posMax=h,!0):(a.pos=i,!1)}},{}],55:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e=a.pos;if(10!==a.src.charCodeAt(e))return!1;if(c=a.pending.length-1,d=a.posMax,!b)if(c>=0&&32===a.pending.charCodeAt(c))if(c>=1&&32===a.pending.charCodeAt(c-1)){for(var f=c-2;f>=0;f--)if(32!==a.pending.charCodeAt(f)){a.pending=a.pending.substring(0,f+1);break}a.push({type:"hardbreak",level:a.level})}else a.pending=a.pending.slice(0,-1),a.push({type:"softbreak",level:a.level});else a.push({type:"softbreak",level:a.level});for(e++;e<d&&32===a.src.charCodeAt(e);)e++;return a.pos=e,!0}},{}],56:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.src=a,this.env=d,this.options=c,this.parser=b,this.tokens=e,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}d.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},d.prototype.push=function(a){this.pending&&this.pushPending(),this.tokens.push(a),this.pendingLevel=this.level},d.prototype.cacheSet=function(a,b){for(var c=this.cache.length;c<=a;c++)this.cache.push(0);this.cache[a]=b},d.prototype.cacheGet=function(a){return a<this.cache.length?this.cache[a]:0},b.exports=d},{}],57:[function(a,b,c){"use strict";var d=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;b.exports=function(a,b){var c,e,f=a.posMax,g=a.pos;if(126!==a.src.charCodeAt(g))return!1;if(b)return!1;if(g+2>=f)return!1;if(a.level>=a.options.maxNesting)return!1;for(a.pos=g+1;a.pos<f;){if(126===a.src.charCodeAt(a.pos)){c=!0;break}a.parser.skipToken(a)}return c&&g+1!==a.pos?(e=a.src.slice(g+1,a.pos),e.match(/(^|[^\\])(\\\\)*\s/)?(a.pos=g,!1):(a.posMax=a.pos,a.pos=g+1,b||a.push({type:"sub",level:a.level,content:e.replace(d,"$1")}),a.pos=a.posMax+1,a.posMax=f,!0)):(a.pos=g,!1)}},{}],58:[function(a,b,c){"use strict";var d=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;b.exports=function(a,b){var c,e,f=a.posMax,g=a.pos;if(94!==a.src.charCodeAt(g))return!1;if(b)return!1;if(g+2>=f)return!1;if(a.level>=a.options.maxNesting)return!1;for(a.pos=g+1;a.pos<f;){if(94===a.src.charCodeAt(a.pos)){c=!0;break}a.parser.skipToken(a)}return c&&g+1!==a.pos?(e=a.src.slice(g+1,a.pos),e.match(/(^|[^\\])(\\\\)*\s/)?(a.pos=g,!1):(a.posMax=a.pos,a.pos=g+1,b||a.push({type:"sup",level:a.level,content:e.replace(d,"$1")}),a.pos=a.posMax+1,a.posMax=f,!0)):(a.pos=g,!1)}},{}],59:[function(a,b,c){"use strict";function d(a){switch(a){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}b.exports=function(a,b){for(var c=a.pos;c<a.posMax&&!d(a.src.charCodeAt(c));)c++;return c!==a.pos&&(b||(a.pending+=a.src.slice(a.pos,c)),a.pos=c,!0)}},{}],60:[function(b,c,d){!function(b,e){"function"==typeof a&&a.amd?a([],function(){return b.Autolinker=e()}):"object"==typeof d?c.exports=e():b.Autolinker=e()}(this,function(){var a=function(b){a.Util.assign(this,b)};return a.prototype={constructor:a,urls:!0,email:!0,twitter:!0,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(a){for(var b=this.getHtmlParser(),c=b.parse(a),d=0,e=[],f=0,g=c.length;f<g;f++){var h=c[f],i=h.getType(),j=h.getText();if("element"===i)"a"===h.getTagName()&&(h.isClosing()?d=Math.max(d-1,0):d++),e.push(j);else if("entity"===i)e.push(j);else if(0===d){var k=this.linkifyStr(j);e.push(k)}else e.push(j)}return e.join("")},linkifyStr:function(a){return this.getMatchParser().replace(a,this.createMatchReturnVal,this)},createMatchReturnVal:function(b){var c;if(this.replaceFn&&(c=this.replaceFn.call(this,this,b)),"string"==typeof c)return c;if(c===!1)return b.getMatchedText();if(c instanceof a.HtmlTag)return c.toString();var d=this.getTagBuilder(),e=d.build(b);return e.toString()},getHtmlParser:function(){var b=this.htmlParser;return b||(b=this.htmlParser=new a.htmlParser.HtmlParser),b},getMatchParser:function(){var b=this.matchParser;return b||(b=this.matchParser=new a.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,stripPrefix:this.stripPrefix})),b},getTagBuilder:function(){var b=this.tagBuilder;return b||(b=this.tagBuilder=new a.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),b}},a.link=function(b,c){var d=new a(c);return d.link(b)},a.match={},a.htmlParser={},a.matchParser={},a.Util={abstractMethod:function(){throw"abstract"},assign:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},extend:function(b,c){var d=b.prototype,e=function(){};e.prototype=d;var f;f=c.hasOwnProperty("constructor")?c.constructor:function(){d.constructor.apply(this,arguments)};var g=f.prototype=new e;return g.constructor=f,g.superclass=d,delete c.constructor,a.Util.assign(g,c),f},ellipsis:function(a,b,c){return a.length>b&&(c=null==c?"..":c,a=a.substring(0,b-c.length)+c),a},indexOf:function(a,b){if(Array.prototype.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},splitAndCapture:function(a,b){if(!b.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var c,d=[],e=0;c=b.exec(a);)d.push(a.substring(e,c.index)),d.push(c[0]),e=c.index+c[0].length;return d.push(a.substring(e)),d}},a.HtmlTag=a.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(b){a.Util.assign(this,b),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(a){return this.tagName=a,this},getTagName:function(){return this.tagName||""},setAttr:function(a,b){var c=this.getAttrs();return c[a]=b,this},getAttr:function(a){return this.getAttrs()[a]},setAttrs:function(b){var c=this.getAttrs();return a.Util.assign(c,b),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(a){return this.setAttr("class",a)},addClass:function(b){for(var c,d=this.getClass(),e=this.whitespaceRegex,f=a.Util.indexOf,g=d?d.split(e):[],h=b.split(e);c=h.shift();)f(g,c)===-1&&g.push(c);return this.getAttrs().class=g.join(" "),this},removeClass:function(b){for(var c,d=this.getClass(),e=this.whitespaceRegex,f=a.Util.indexOf,g=d?d.split(e):[],h=b.split(e);g.length&&(c=h.shift());){var i=f(g,c);i!==-1&&g.splice(i,1)}return this.getAttrs().class=g.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(a){return(" "+this.getClass()+" ").indexOf(" "+a+" ")!==-1},setInnerHtml:function(a){return this.innerHtml=a,this},getInnerHtml:function(){return this.innerHtml||""},toString:function(){var a=this.getTagName(),b=this.buildAttrsStr();return b=b?" "+b:"",["<",a,b,">",this.getInnerHtml(),"</",a,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var a=this.getAttrs(),b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}}),a.AnchorTagBuilder=a.Util.extend(Object,{constructor:function(b){a.Util.assign(this,b)},build:function(b){var c=new a.HtmlTag({tagName:"a",attrs:this.createAttrs(b.getType(),b.getAnchorHref()),innerHtml:this.processAnchorText(b.getAnchorText())});return c},createAttrs:function(a,b){var c={href:b},d=this.createCssClass(a);return d&&(c.class=d),this.newWindow&&(c.target="_blank"),c},createCssClass:function(a){var b=this.className;return b?b+" "+b+"-"+a:""},processAnchorText:function(a){return a=this.doTruncate(a)},doTruncate:function(b){return a.Util.ellipsis(b,this.truncate||Number.POSITIVE_INFINITY)}}),a.htmlParser.HtmlParser=a.Util.extend(Object,{htmlRegex:function(){var a=/[0-9a-zA-Z][0-9a-zA-Z:]*/,b=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,c=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,d=b.source+"(?:\\s*=\\s*"+c.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",d,"|",c.source+")",")*",">",")","|","(?:","<(/)?","("+a.source+")","(?:","\\s+",d,")*","\\s*/?",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(a){for(var b,c,d=this.htmlRegex,e=0,f=[];null!==(b=d.exec(a));){var g=b[0],h=b[1]||b[3],i=!!b[2],j=a.substring(e,b.index);j&&(c=this.parseTextAndEntityNodes(j),f.push.apply(f,c)),f.push(this.createElementNode(g,h,i)),e=b.index+g.length}if(e<a.length){var k=a.substring(e);k&&(c=this.parseTextAndEntityNodes(k),f.push.apply(f,c))}return f},parseTextAndEntityNodes:function(b){for(var c=[],d=a.Util.splitAndCapture(b,this.htmlCharacterEntitiesRegex),e=0,f=d.length;e<f;e+=2){var g=d[e],h=d[e+1];g&&c.push(this.createTextNode(g)),h&&c.push(this.createEntityNode(h))}return c},createElementNode:function(b,c,d){return new a.htmlParser.ElementNode({text:b,tagName:c.toLowerCase(),closing:d})},createEntityNode:function(b){return new a.htmlParser.EntityNode({text:b})},createTextNode:function(b){return new a.htmlParser.TextNode({text:b})}}),a.htmlParser.HtmlNode=a.Util.extend(Object,{text:"",constructor:function(b){a.Util.assign(this,b)},getType:a.Util.abstractMethod,getText:function(){return this.text}}),a.htmlParser.ElementNode=a.Util.extend(a.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),a.htmlParser.EntityNode=a.Util.extend(a.htmlParser.HtmlNode,{getType:function(){return"entity"}}),a.htmlParser.TextNode=a.Util.extend(a.htmlParser.HtmlNode,{getType:function(){return"text"}}),a.matchParser.MatchParser=a.Util.extend(Object,{urls:!0,email:!0,twitter:!0,stripPrefix:!0,matcherRegex:function(){var a=/(^|[^\w])@(\w{1,15})/,b=/(?:[\-;:&=\+\$,\w\.]+@)/,c=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,d=/(?:www\.)/,e=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,f=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,g=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;return new RegExp(["(",a.source,")","|","(",b.source,e.source,f.source,")","|","(","(?:","(",c.source,e.source,")","|","(?:","(.?//)?",d.source,e.source,")","|","(?:","(.?//)?",e.source,f.source,")",")","(?:"+g.source+")?",")"].join(""),"gi")}(),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(b){a.Util.assign(this,b),this.matchValidator=new a.MatchValidator},replace:function(a,b,c){var d=this;return a.replace(this.matcherRegex,function(a,e,f,g,h,i,j,k,l){var m=d.processCandidateMatch(a,e,f,g,h,i,j,k,l);if(m){var n=b.call(c,m.match);return m.prefixStr+n+m.suffixStr}return a})},processCandidateMatch:function(b,c,d,e,f,g,h,i,j){var k,l=i||j,m="",n="";if(c&&!this.twitter||f&&!this.email||g&&!this.urls||!this.matchValidator.isValidMatch(g,h,l))return null;if(this.matchHasUnbalancedClosingParen(b)&&(b=b.substr(0,b.length-1),n=")"),f)k=new a.match.Email({matchedText:b,email:f});else if(c)d&&(m=d,b=b.slice(1)),k=new a.match.Twitter({matchedText:b,twitterHandle:e});else{if(l){var o=l.match(this.charBeforeProtocolRelMatchRegex)[1]||"";o&&(m=o,b=b.slice(1))}k=new a.match.Url({matchedText:b,url:b,protocolUrlMatch:!!h,protocolRelativeMatch:!!l,stripPrefix:this.stripPrefix})}return{prefixStr:m,suffixStr:n,match:k}},matchHasUnbalancedClosingParen:function(a){var b=a.charAt(a.length-1);if(")"===b){var c=a.match(/\(/g),d=a.match(/\)/g),e=c&&c.length||0,f=d&&d.length||0;if(e<f)return!0}return!1}}),a.MatchValidator=a.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(a,b,c){return!(b&&!this.isValidUriScheme(b)||this.urlMatchDoesNotHaveProtocolOrDot(a,b)||this.urlMatchDoesNotHaveAtLeastOneWordChar(a,b)||this.isInvalidProtocolRelativeMatch(c))},isValidUriScheme:function(a){var b=a.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==b&&"vbscript:"!==b},urlMatchDoesNotHaveProtocolOrDot:function(a,b){return!(!a||b&&this.hasFullProtocolRegex.test(b)||a.indexOf(".")!==-1)},urlMatchDoesNotHaveAtLeastOneWordChar:function(a,b){return!(!a||!b)&&!this.hasWordCharAfterProtocolRegex.test(a)},isInvalidProtocolRelativeMatch:function(a){return!!a&&this.invalidProtocolRelMatchRegex.test(a)}}),a.match.Match=a.Util.extend(Object,{constructor:function(b){a.Util.assign(this,b)},getType:a.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:a.Util.abstractMethod,getAnchorText:a.Util.abstractMethod}),a.match.Email=a.Util.extend(a.match.Match,{getType:function(){
return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),a.match.Twitter=a.Util.extend(a.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),a.match.Url=a.Util.extend(a.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var a=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(a=this.url="http://"+a,this.protocolPrepended=!0),a},getAnchorHref:function(){var a=this.getUrl();return a.replace(/&amp;/g,"&")},getAnchorText:function(){var a=this.getUrl();return this.protocolRelativeMatch&&(a=this.stripProtocolRelativePrefix(a)),this.stripPrefix&&(a=this.stripUrlPrefix(a)),a=this.removeTrailingSlash(a)},stripUrlPrefix:function(a){return a.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(a){return a.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(a){return"/"===a.charAt(a.length-1)&&(a=a.slice(0,-1)),a}}),a})},{}],"/":[function(a,b,c){"use strict";b.exports=a("./lib/")},{"./lib/":14}]},{},[])("/")})}(),function(){var a=System.amdDefine;a("app/core/directives/dash_class.js",["lodash","jquery","../core_module"],function(a,b,c){"use strict";c.default.directive("dashClass",function(){return{link:function(b,c){b.onAppEvent("panel-fullscreen-enter",function(){c.toggleClass("panel-in-fullscreen",!0)}),b.onAppEvent("panel-fullscreen-exit",function(){c.toggleClass("panel-in-fullscreen",!1)});var d;b.$watch("dashboard.hideControls",function(){if(b.dashboard){var a=b.dashboard.hideControls;d!==a&&(c.toggleClass("hide-controls",a),d=a)}}),b.$watch("playlistSrv",function(b){c.toggleClass("playlist-active",a.isObject(b))})}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/confirm_click.js",["../core_module"],function(a){"use strict";a.default.directive("confirmClick",function(){return{restrict:"A",link:function(a,b,c){b.bind("click",function(){var b=c.confirmation||"Are you sure you want to do that?";if(window.confirm(b)){var d=c.confirmClick;d&&a.$apply(a.$eval(d))}})}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/dash_edit_link.js",["jquery","../core_module"],function(a,b){"use strict";var c={settings:{src:"public/app/features/dashboard/partials/settings.html"},annotations:{src:"public/app/features/annotations/partials/editor.html"},templating:{src:"public/app/features/templating/partials/editor.html"},import:{src:"<dash-import></dash-import>"}};b.default.directive("dashEditorView",["$compile","$location","$rootScope",function(b,d,e){return{restrict:"A",link:function(f,g){function h(){j&&(f.appEvent("dash-editor-hidden",k),j.dismiss())}function i(i,l,m){if(m&&(f.contextSrv.editview=c[m],l.src=f.contextSrv.editview.src),k===l.src)return void h();if(h(),k=l.src,j=l.scope?l.scope.$new():f.$new(),j.dismiss=function(){if(j.$destroy(),g.empty(),k=null,j=null,m){var a=d.search();m===a.editview&&(delete a.editview,d.search(a))}},"import"===m){var n=e.$new();return n.$on("$destroy",function(){j.dismiss()}),void e.appEvent("show-modal",{templateHtml:"<dash-import></dash-import>",scope:n,backdrop:"static"})}var o=l.src;o.indexOf(".html")>0&&(o=a('<div class="tabbed-view" ng-include="\''+o+"'\"></div>")),g.append(o),b(g.contents())(j)}var j,k;f.$watch("dashboardViewState.state.editview",function(a,b){a?i(null,{},a):b&&(f.contextSrv.editview=null,k===c[b]&&h())}),f.contextSrv.editview=null,f.$on("$destroy",h),f.onAppEvent("hide-dash-editor",h),f.onAppEvent("show-dash-editor",i)}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/dropdown_typeahead.js",["lodash","jquery","../core_module"],function(a,b,c){"use strict";c.default.directive("dropdownTypeahead",["$compile",function(c){var d='<input type="text" class="gf-form-input input-medium tight-form-input" spellcheck="false" style="display:none"></input>',e='<a  class="gf-form-label tight-form-func dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" data-placement="top"><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel"},link:function(f,g,h){var i=b(d),j=b(e);i.appendTo(g),j.appendTo(g),h.linkText&&j.html(h.linkText),h.ngModel&&f.$watch("model",function(b){a.each(f.menuItems,function(c){a.each(c.submenu,function(a){a.value===b&&j.html(a.text)})})});var k=a.reduce(f.menuItems,function(b,c,d){return c.submenu?a.each(c.submenu,function(a,e){a.click="menuItemSelected("+d+","+e+")",b.push(c.text+" "+a.text)}):(c.click="menuItemSelected("+d+")",b.push(c.text)),b},[]);f.menuItemSelected=function(a,b){var c=f.menuItems[a],d={$item:c};c.submenu&&void 0!==b&&(d.$subItem=c.submenu[b]),f.dropdownTypeaheadOnSelect(d)},i.attr("data-provide","typeahead"),i.typeahead({source:k,minLength:1,items:10,updater:function(b){var c={};return a.each(f.menuItems,function(d){a.each(d.submenu,function(a){b===d.text+" "+a.text&&(c.$subItem=a,c.$item=d)})}),c.$item&&f.$apply(function(){f.dropdownTypeaheadOnSelect(c)}),i.trigger("blur"),""}}),j.click(function(){j.hide(),i.show(),i.focus()}),i.keyup(function(){g.toggleClass("open",""===i.val())}),i.blur(function(){i.hide(),i.val(""),j.show(),j.focus(),setTimeout(function(){g.removeClass("open")},200)}),c(g.contents())(f)}}}]),c.default.directive("dropdownTypeahead2",["$compile",function(c){var d='<input type="text" class="gf-form-input" spellcheck="false" style="display:none"></input>',e='<a class="gf-form-input dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" data-placement="top"><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead2",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel"},link:function(f,g,h){var i=b(d),j=b(e);i.appendTo(g),j.appendTo(g),h.linkText&&j.html(h.linkText),h.ngModel&&f.$watch("model",function(b){a.each(f.menuItems,function(c){a.each(c.submenu,function(a){a.value===b&&j.html(a.text)})})});var k=a.reduce(f.menuItems,function(b,c,d){return c.submenu?a.each(c.submenu,function(a,e){a.click="menuItemSelected("+d+","+e+")",b.push(c.text+" "+a.text)}):(c.click="menuItemSelected("+d+")",b.push(c.text)),b},[]);f.menuItemSelected=function(a,b){var c=f.menuItems[a],d={$item:c};c.submenu&&void 0!==b&&(d.$subItem=c.submenu[b]),f.dropdownTypeaheadOnSelect(d)},i.attr("data-provide","typeahead"),i.typeahead({source:k,minLength:1,items:10,updater:function(b){var c={};return a.each(f.menuItems,function(d){a.each(d.submenu,function(a){b===d.text+" "+a.text&&(c.$subItem=a,c.$item=d)})}),c.$item&&f.$apply(function(){f.dropdownTypeaheadOnSelect(c)}),i.trigger("blur"),""}}),j.click(function(){j.hide(),i.show(),i.focus()}),i.keyup(function(){g.toggleClass("open",""===i.val())}),i.blur(function(){i.hide(),i.val(""),j.show(),j.focus(),setTimeout(function(){g.removeClass("open")},200)}),c(g.contents())(f)}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/metric_segment.js",["lodash","jquery","../core_module"],function(a,b,c){"use strict";c.default.directive("metricSegment",["$compile","$sce",function(c,d){var e='<input type="text" data-provide="typeahead"  class="gf-form-input input-medium" spellcheck="false" style="display:none"></input>',f='<a class="gf-form-label" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>',g='<a class="gf-form-input gf-form-input--dropdown" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>';return{scope:{segment:"=",getOptions:"&",onChange:"&"},link:function(h,i){var j=b(e),k=h.segment,l=b(k.selectMode?g:f),m=null,n=null,o=!0;j.appendTo(i),l.appendTo(i),h.updateVariableValue=function(b){""!==b&&k.value!==b&&h.$apply(function(){var c=a.find(h.altSegments,{value:b});c?(k.value=c.value,k.html=c.html||c.value,k.fake=!1,k.expandable=c.expandable):"false"!==k.custom&&(k.value=b,k.html=d.trustAsHtml(b),k.expandable=!0,k.fake=!1),h.onChange()})},h.switchToLink=function(a){o&&!a||(clearTimeout(n),n=null,o=!0,j.hide(),l.show(),h.updateVariableValue(j.val()))},h.inputBlur=function(){n=setTimeout(h.switchToLink,200)},h.source=function(b,c){h.$apply(function(){h.getOptions({$query:b}).then(function(b){h.altSegments=b,m=a.map(h.altSegments,function(a){return a.value}),"false"!==k.custom&&(k.fake||a.indexOf(m,k.value)!==-1||m.unshift(k.value)),c(m)})})},h.updater=function(a){return a===k.value?(clearTimeout(n),j.focus(),a):(j.val(a),h.switchToLink(!0),a)},h.matcher=function(a){var b=this.query;"/"===b[0]&&(b=b.substring(1)),"/"===b[b.length-1]&&(b=b.substring(0,b.length-1));try{return a.toLowerCase().match(b.toLowerCase())}catch(a){return!1}},j.attr("data-provide","typeahead"),j.typeahead({source:h.source,minLength:0,items:1e4,updater:h.updater,matcher:h.matcher});var p=j.data("typeahead");p.lookup=function(){this.query=this.$element.val()||"";var a=this.source(this.query,b.proxy(this.process,this));return a?this.process(a):a},l.keydown(function(a){40!==a.keyCode&&13!==a.keyCode||l.click()}),l.click(function(){m=null,j.css("width",Math.max(l.width(),80)+16+"px"),l.hide(),j.show(),j.focus(),o=!1;var a=j.data("typeahead");a&&(j.val(""),a.lookup())}),j.blur(h.inputBlur),c(i.contents())(h)}}}]),c.default.directive("metricSegmentModel",["uiSegmentSrv","$q",function(b,c){return{template:'<metric-segment segment="segment" get-options="getOptionsInternal()" on-change="onSegmentChange()"></metric-segment>',restrict:"E",scope:{property:"=",options:"=",getOptions:"&",onChange:"&"},link:{pre:function(d,e,f){var g;d.valueToSegment=function(c){var e=a.find(d.options,{value:c}),g={cssClass:f.cssClass,custom:f.custom,value:e?e.text:c,selectMode:f.selectMode};return b.newSegment(g)},d.getOptionsInternal=function(){return d.options?(g=d.options,c.when(a.map(d.options,function(a){return{value:a.text}}))):d.getOptions().then(function(b){return g=b,a.map(b,function(a){return a.html?a:{value:a.text}})})},d.onSegmentChange=function(){if(g){var b=a.find(g,{text:d.segment.value});b&&b.value!==d.property?d.property=b.value:"false"!==f.custom&&(d.property=d.segment.value)}else d.property=d.segment.value;d.$$postDigest(function(){d.$apply(function(){d.onChange()})})},d.segment=d.valueToSegment(d.property)}}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/misc.js",["angular","../core_module","app/core/utils/kbn"],function(a,b,c){"use strict";b.default.directive("tip",["$compile",function(b){return{restrict:"E",link:function(d,e,f){var g='<i class="grafana-tip fa fa-'+(f.icon||"question-circle")+'" bs-tooltip="\''+c.addslashes(e.text())+"'\"></i>";g=g.replace(/{/g,"\\{").replace(/}/g,"\\}"),e.replaceWith(b(a.element(g))(d))}}}]),b.default.directive("watchChange",function(){return{scope:{onchange:"&watchChange"},link:function(a,b){b.on("input",function(){a.$apply(function(){a.onchange({inputValue:b.val()})})})}}}),b.default.directive("editorOptBool",["$compile",function(b){return{restrict:"E",link:function(c,d,e){var f=e.change?' ng-change="'+e.change+'"':"",g=e.tip?" <tip>"+e.tip+"</tip>":"",h=e.showIf?' ng-show="'+e.showIf+'" ':"",i='<div class="editor-option gf-form-checkbox text-center"'+h+'> <label for="'+e.model+'" class="small">'+e.text+g+'</label><input class="cr1" id="'+e.model+'" type="checkbox"        ng-model="'+e.model+'"'+f+'       ng-checked="'+e.model+'"></input> <label for="'+e.model+'" class="cr1"></label>';d.replaceWith(b(a.element(i))(c))}}}]),b.default.directive("editorCheckbox",["$compile","$interpolate",function(b,c){return{restrict:"E",link:function(d,e,f){var g=c(f.text)(d),h=c(f.model)(d),i=f.change?' ng-change="'+f.change+'"':"",j=f.tip?" <tip>"+f.tip+"</tip>":"",k='<label for="'+d.$id+h+'" class="checkbox-label">'+g+j+"</label>",l='<input class="cr1" id="'+d.$id+h+'" type="checkbox"        ng-model="'+h+'"'+i+'       ng-checked="'+h+'"></input> <label for="'+d.$id+h+'" class="cr1"></label>';l+=k,e.addClass("gf-form-checkbox"),e.html(b(a.element(l))(d))}}}]),b.default.directive("gfDropdown",["$parse","$compile","$timeout",function(b,c,d){function e(b,c){var d="top"===c?"dropup":"",f=['<ul class="dropdown-menu '+d+'" role="menu" aria-labelledby="drop1">',"</ul>"];return a.forEach(b,function(a,b){if(a.divider)return f.splice(b+1,0,'<li class="divider"></li>');var c="<li"+(a.submenu&&a.submenu.length?' class="dropdown-submenu"':"")+'><a tabindex="-1" ng-href="'+(a.href||"")+'"'+(a.click?' ng-click="'+a.click+'"':"")+(a.target?' target="'+a.target+'"':"")+(a.method?' data-method="'+a.method+'"':"")+">"+(a.text||"")+"</a>";a.submenu&&a.submenu.length&&(c+=e(a.submenu).join("\n")),c+="</li>",f.splice(b+1,0,c)}),f}return{restrict:"EA",scope:!0,link:function(f,g,h){var i=b(h.gfDropdown),j=i(f);d(function(){var b=g.data("placement"),d=a.element(e(j,b).join(""));d.insertAfter(g),c(g.next("ul.dropdown-menu"))(f)}),g.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}])})}(),function(){var a=System.amdDefine;a("app/core/utils/kbn.js",["jquery","lodash"],function(a,b){"use strict";var c={};return c.valueFormats={},c.regexEscape=function(a){return a.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&")},c.round_interval=function(a){switch(!0){case a<=15:return 10;case a<=35:return 20;case a<=75:return 50;case a<=150:return 100;case a<=350:return 200;case a<=750:return 500;case a<=1500:return 1e3;case a<=3500:return 2e3;case a<=7500:return 5e3;case a<=12500:return 1e4;case a<=17500:return 15e3;case a<=25e3:return 2e4;case a<=45e3:return 3e4;case a<=9e4:return 6e4;case a<=21e4:return 12e4;case a<=45e4:return 3e5;case a<=75e4:return 6e5;case a<=105e4:return 9e5;case a<=15e5:return 12e5;case a<=27e5:return 18e5;case a<=54e5:return 36e5;case a<=9e6:return 72e5;case a<=162e5:return 108e5;case a<=324e5:return 216e5;case a<=864e5:return 432e5;case a<=1728e5:return 864e5;case a<=6048e5:return 864e5;case a<=18144e5:return 6048e5;case a<36288e5:return 2592e6;default:return 31536e6}},c.secondsToHms=function(a){var b=Math.floor(a/31536e3);if(b)return b+"y";var c=Math.floor(a%31536e3/86400);if(c)return c+"d";var d=Math.floor(a%31536e3%86400/3600);if(d)return d+"h";var e=Math.floor(a%31536e3%86400%3600/60);if(e)return e+"m";var f=Math.floor(a%31536e3%86400%3600%60);if(f)return f+"s";var g=Math.floor(1e3*a);return g?g+"ms":"less then a millisecond"},c.to_percent=function(a,b){return Math.floor(a/b*1e4)/100+"%"},c.addslashes=function(a){return a=a.replace(/\\/g,"\\\\"),a=a.replace(/\'/g,"\\'"),a=a.replace(/\"/g,'\\"'),a=a.replace(/\0/g,"\\0")},c.interval_regex=/(\d+(?:\.\d+)?)(ms|[Mwdhmsy])/,c.intervals_in_seconds={y:31536e3,M:2592e3,w:604800,d:86400,h:3600,m:60,s:1,ms:.001},c.calculateInterval=function(a,b,d){var e,f,g=1;if(d){if(">"!==d[0])return{intervalMs:c.interval_to_ms(d),interval:d};f=d.slice(1),g=c.interval_to_ms(f)}return e=c.round_interval((a.to.valueOf()-a.from.valueOf())/b),g>e&&(e=g),{intervalMs:e,interval:c.secondsToHms(e/1e3)}},c.describe_interval=function(a){var d=a.match(c.interval_regex);if(d&&b.has(c.intervals_in_seconds,d[2]))return{sec:c.intervals_in_seconds[d[2]],type:d[2],count:parseInt(d[1],10)};throw new Error('Invalid interval string, expecting a number followed by one of "Mwdhmsy"')},c.interval_to_ms=function(a){var b=c.describe_interval(a);return 1e3*b.sec*b.count},c.interval_to_seconds=function(a){var b=c.describe_interval(a);return b.sec*b.count},c.query_color_dot=function(a,b){return'<div class="icon-circle" style="'+["display:inline-block","color:"+a,"font-size:"+b+"px"].join(";")+'"></div>'},c.slugifyForUrl=function(a){return a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},c.stringToJsRegex=function(a){if("/"!==a[0])return new RegExp("^"+a+"$");var b=a.match(new RegExp("^/(.*?)/(g?i?m?y?)$"));return new RegExp(b[1],b[2])},c.toFixed=function(a,b){if(null===a)return"";var c=b?Math.pow(10,Math.max(0,b)):1,d=String(Math.round(a*c)/c);if(d.indexOf("e")!==-1||0===a)return d;if(null!=b){var e=d.indexOf("."),f=e===-1?0:d.length-e-1;if(f<b)return(f?d:d+".")+String(c).substr(1,b-f)}return d},c.toFixedScaled=function(a,b,d,e,f){return null===d?c.toFixed(a,b)+f:c.toFixed(a,d+e)+f},c.roundValue=function(a,b){if(null===a)return null;var c=Math.pow(10,b);return Math.round((c*a).toFixed(b))/c},c.formatBuilders={},c.formatBuilders.fixedUnit=function(a){return function(b,d){return null===b?"":c.toFixed(b,d)+" "+a}},c.formatBuilders.scaledUnits=function(a,b){return function(d,e,f){if(null===d)return"";for(var g=0,h=b.length;Math.abs(d)>=a;)if(g++,d/=a,g>=h)return"NA";return g>0&&null!==f&&(e=f+3*g),c.toFixed(d,e)+b[g]}},c.formatBuilders.decimalSIPrefix=function(a,b){var d=["n","µ","m","","k","M","G","T","P","E","Z","Y"];d=d.slice(3+(b||0));var e=d.map(function(b){return" "+b+a});return c.formatBuilders.scaledUnits(1e3,e)},c.formatBuilders.binarySIPrefix=function(a,b){var d=["","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"].slice(b),e=d.map(function(b){return" "+b+a});return c.formatBuilders.scaledUnits(1024,e)},c.formatBuilders.currency=function(a){var b=["","K","M","B","T"],d=c.formatBuilders.scaledUnits(1e3,b);return function(b,c,e){if(null===b)return"";var f=d(b,c,e);return a+f}},c.formatBuilders.simpleCountUnit=function(a){var b=["","K","M","B","T"],d=c.formatBuilders.scaledUnits(1e3,b);return function(b,c,e){if(null===b)return"";var f=d(b,c,e);return f+" "+a}},c.valueFormats.none=c.toFixed,c.valueFormats.short=c.formatBuilders.scaledUnits(1e3,[""," K"," Mil"," Bil"," Tri"," Quadr"," Quint"," Sext"," Sept"]),c.valueFormats.dB=c.formatBuilders.fixedUnit("dB"),c.valueFormats.ppm=c.formatBuilders.fixedUnit("ppm"),c.valueFormats.percent=function(a,b){return null===a?"":c.toFixed(a,b)+"%"},c.valueFormats.percentunit=function(a,b){return null===a?"":c.toFixed(100*a,b)+"%"},c.valueFormats.hex=function(a,b){return null==a?"":parseFloat(c.toFixed(a,b)).toString(16).toUpperCase()},c.valueFormats.hex0x=function(a,b){if(null==a)return"";var d=c.valueFormats.hex(a,b);return"-"===d.substring(0,1)?"-0x"+d.substring(1):"0x"+d},c.valueFormats.sci=function(a,b){return a.toExponential(b)},c.valueFormats.currencyUSD=c.formatBuilders.currency("$"),c.valueFormats.currencyGBP=c.formatBuilders.currency("£"),c.valueFormats.currencyEUR=c.formatBuilders.currency("€"),c.valueFormats.currencyJPY=c.formatBuilders.currency("¥"),c.valueFormats.currencyRUB=c.formatBuilders.currency("₽"),c.valueFormats.bits=c.formatBuilders.binarySIPrefix("b"),c.valueFormats.bytes=c.formatBuilders.binarySIPrefix("B"),c.valueFormats.kbytes=c.formatBuilders.binarySIPrefix("B",1),c.valueFormats.mbytes=c.formatBuilders.binarySIPrefix("B",2),c.valueFormats.gbytes=c.formatBuilders.binarySIPrefix("B",3),c.valueFormats.decbits=c.formatBuilders.decimalSIPrefix("b"),c.valueFormats.decbytes=c.formatBuilders.decimalSIPrefix("B"),c.valueFormats.deckbytes=c.formatBuilders.decimalSIPrefix("B",1),c.valueFormats.decmbytes=c.formatBuilders.decimalSIPrefix("B",2),c.valueFormats.decgbytes=c.formatBuilders.decimalSIPrefix("B",3),c.valueFormats.pps=c.formatBuilders.decimalSIPrefix("pps"),c.valueFormats.bps=c.formatBuilders.decimalSIPrefix("bps"),c.valueFormats.Bps=c.formatBuilders.decimalSIPrefix("Bps"),c.valueFormats.KBs=c.formatBuilders.decimalSIPrefix("Bs",1),c.valueFormats.Kbits=c.formatBuilders.decimalSIPrefix("bps",1),c.valueFormats.MBs=c.formatBuilders.decimalSIPrefix("Bs",2),c.valueFormats.Mbits=c.formatBuilders.decimalSIPrefix("bps",2),c.valueFormats.GBs=c.formatBuilders.decimalSIPrefix("Bs",3),c.valueFormats.Gbits=c.formatBuilders.decimalSIPrefix("bps",3),c.valueFormats.ops=c.formatBuilders.simpleCountUnit("ops"),c.valueFormats.rps=c.formatBuilders.simpleCountUnit("rps"),c.valueFormats.wps=c.formatBuilders.simpleCountUnit("wps"),c.valueFormats.iops=c.formatBuilders.simpleCountUnit("iops"),c.valueFormats.opm=c.formatBuilders.simpleCountUnit("opm"),c.valueFormats.rpm=c.formatBuilders.simpleCountUnit("rpm"),c.valueFormats.wpm=c.formatBuilders.simpleCountUnit("wpm"),c.valueFormats.watt=c.formatBuilders.decimalSIPrefix("W"),c.valueFormats.kwatt=c.formatBuilders.decimalSIPrefix("W",1),c.valueFormats.voltamp=c.formatBuilders.decimalSIPrefix("VA"),c.valueFormats.kvoltamp=c.formatBuilders.decimalSIPrefix("VA",1),c.valueFormats.voltampreact=c.formatBuilders.decimalSIPrefix("var"),c.valueFormats.kvoltampreact=c.formatBuilders.decimalSIPrefix("var",1),c.valueFormats.watth=c.formatBuilders.decimalSIPrefix("Wh"),c.valueFormats.kwatth=c.formatBuilders.decimalSIPrefix("Wh",1),c.valueFormats.joule=c.formatBuilders.decimalSIPrefix("J"),c.valueFormats.ev=c.formatBuilders.decimalSIPrefix("eV"),c.valueFormats.amp=c.formatBuilders.decimalSIPrefix("A"),c.valueFormats.kamp=c.formatBuilders.decimalSIPrefix("A",1),c.valueFormats.volt=c.formatBuilders.decimalSIPrefix("V"),c.valueFormats.kvolt=c.formatBuilders.decimalSIPrefix("V",1),c.valueFormats.dBm=c.formatBuilders.decimalSIPrefix("dBm"),c.valueFormats.celsius=c.formatBuilders.fixedUnit("°C"),c.valueFormats.farenheit=c.formatBuilders.fixedUnit("°F"),c.valueFormats.kelvin=c.formatBuilders.fixedUnit("K"),c.valueFormats.humidity=c.formatBuilders.fixedUnit("%H"),c.valueFormats.pressurebar=c.formatBuilders.decimalSIPrefix("bar"),c.valueFormats.pressurembar=c.formatBuilders.decimalSIPrefix("bar",-1),c.valueFormats.pressurekbar=c.formatBuilders.decimalSIPrefix("bar",1),c.valueFormats.pressurehpa=c.formatBuilders.fixedUnit("hPa"),c.valueFormats.pressurehg=c.formatBuilders.fixedUnit('"Hg'),c.valueFormats.pressurepsi=c.formatBuilders.scaledUnits(1e3,[" psi"," ksi"," Mpsi"]),c.valueFormats.forceNm=c.formatBuilders.decimalSIPrefix("Nm"),c.valueFormats.forcekNm=c.formatBuilders.decimalSIPrefix("Nm",1),c.valueFormats.forceN=c.formatBuilders.decimalSIPrefix("N"),c.valueFormats.forcekN=c.formatBuilders.decimalSIPrefix("N",1),c.valueFormats.lengthm=c.formatBuilders.decimalSIPrefix("m"),c.valueFormats.lengthmm=c.formatBuilders.decimalSIPrefix("m",-1),c.valueFormats.lengthkm=c.formatBuilders.decimalSIPrefix("m",1),c.valueFormats.lengthmi=c.formatBuilders.fixedUnit("mi"),c.valueFormats.velocityms=c.formatBuilders.fixedUnit("m/s"),c.valueFormats.velocitykmh=c.formatBuilders.fixedUnit("km/h"),c.valueFormats.velocitymph=c.formatBuilders.fixedUnit("mph"),c.valueFormats.velocityknot=c.formatBuilders.fixedUnit("kn"),c.valueFormats.litre=c.formatBuilders.decimalSIPrefix("L"),c.valueFormats.mlitre=c.formatBuilders.decimalSIPrefix("L",-1),c.valueFormats.m3=c.formatBuilders.decimalSIPrefix("m3"),c.valueFormats.dm3=c.formatBuilders.decimalSIPrefix("dm3"),c.valueFormats.gallons=c.formatBuilders.fixedUnit("gal"),c.valueFormats.flowgpm=c.formatBuilders.fixedUnit("gpm"),c.valueFormats.flowcms=c.formatBuilders.fixedUnit("cms"),c.valueFormats.flowcfs=c.formatBuilders.fixedUnit("cfs"),c.valueFormats.flowcfm=c.formatBuilders.fixedUnit("cfm"),c.valueFormats.hertz=c.formatBuilders.decimalSIPrefix("Hz"),c.valueFormats.ms=function(a,b,d){return null===a?"":Math.abs(a)<1e3?c.toFixed(a,b)+" ms":Math.abs(a)<6e4?c.toFixedScaled(a/1e3,b,d,3," s"):Math.abs(a)<36e5?c.toFixedScaled(a/6e4,b,d,5," min"):Math.abs(a)<864e5?c.toFixedScaled(a/36e5,b,d,7," hour"):Math.abs(a)<31536e6?c.toFixedScaled(a/864e5,b,d,8," day"):c.toFixedScaled(a/31536e6,b,d,10," year")},c.valueFormats.s=function(a,b,d){return null===a?"":Math.abs(a)<1e-6?c.toFixedScaled(1e9*a,b,d-b,-9," ns"):Math.abs(a)<.001?c.toFixedScaled(1e6*a,b,d-b,-6," µs"):Math.abs(a)<1?c.toFixedScaled(1e3*a,b,d-b,-3," ms"):Math.abs(a)<60?c.toFixed(a,b)+" s":Math.abs(a)<3600?c.toFixedScaled(a/60,b,d,1," min"):Math.abs(a)<86400?c.toFixedScaled(a/3600,b,d,4," hour"):Math.abs(a)<604800?c.toFixedScaled(a/86400,b,d,5," day"):Math.abs(a)<31536e3?c.toFixedScaled(a/604800,b,d,6," week"):c.toFixedScaled(a/31556900,b,d,7," year")},c.valueFormats["µs"]=function(a,b,d){return null===a?"":Math.abs(a)<1e3?c.toFixed(a,b)+" µs":Math.abs(a)<1e6?c.toFixedScaled(a/1e3,b,d,3," ms"):c.toFixedScaled(a/1e6,b,d,6," s")},c.valueFormats.ns=function(a,b,d){return null===a?"":Math.abs(a)<1e3?c.toFixed(a,b)+" ns":Math.abs(a)<1e6?c.toFixedScaled(a/1e3,b,d,3," µs"):Math.abs(a)<1e9?c.toFixedScaled(a/1e6,b,d,6," ms"):Math.abs(a)<6e10?c.toFixedScaled(a/1e9,b,d,9," s"):c.toFixedScaled(a/6e10,b,d,12," min")},c.valueFormats.m=function(a,b,d){return null===a?"":Math.abs(a)<60?c.toFixed(a,b)+" min":Math.abs(a)<1440?c.toFixedScaled(a/60,b,d,2," hour"):Math.abs(a)<10080?c.toFixedScaled(a/1440,b,d,3," day"):Math.abs(a)<604800?c.toFixedScaled(a/10080,b,d,4," week"):c.toFixedScaled(a/525948,b,d,5," year")},c.valueFormats.h=function(a,b,d){return null===a?"":Math.abs(a)<24?c.toFixed(a,b)+" hour":Math.abs(a)<168?c.toFixedScaled(a/24,b,d,2," day"):Math.abs(a)<8760?c.toFixedScaled(a/168,b,d,3," week"):c.toFixedScaled(a/8760,b,d,4," year")},c.valueFormats.d=function(a,b,d){return null===a?"":Math.abs(a)<7?c.toFixed(a,b)+" day":Math.abs(a)<365?c.toFixedScaled(a/7,b,d,2," week"):c.toFixedScaled(a/365,b,d,3," year")},c.toDuration=function(a,b,d){if(null===a)return"";if(0===a)return"0 "+d+"s";if(a<0)return c.toDuration(-a,b,d)+" ago";var e=[{short:"y",long:"year"},{short:"M",long:"month"},{short:"w",long:"week"},{short:"d",long:"day"},{short:"h",long:"hour"},{short:"m",long:"minute"},{short:"s",long:"second"},{short:"ms",long:"millisecond"}];a*=1e3*c.intervals_in_seconds[e.find(function(a){return a.long===d}).short];for(var f=[],g=!1,h=0;h<e.length&&b>=0;h++){var i=1e3*c.intervals_in_seconds[e[h].short],j=a/i;if(j>=1||g){g=!0;var k=Math.floor(j),l=e[h].long+(1!==k?"s":"");f.push(k+" "+l),a%=i,b--}}return f.join(", ")},c.valueFormats.dtdurationms=function(a,b){return c.toDuration(a,b,"millisecond")},c.valueFormats.dtdurations=function(a,b){return c.toDuration(a,b,"second")},c.getUnitFormats=function(){return[{text:"none",submenu:[{text:"none",value:"none"},{text:"short",value:"short"},{text:"percent (0-100)",value:"percent"},{text:"percent (0.0-1.0)",value:"percentunit"},{text:"Humidity (%H)",value:"humidity"},{text:"ppm",value:"ppm"},{text:"decibel",value:"dB"},{text:"hexadecimal (0x)",value:"hex0x"},{text:"hexadecimal",value:"hex"},{text:"scientific notation",value:"sci"}]},{text:"currency",submenu:[{text:"Dollars ($)",value:"currencyUSD"},{text:"Pounds (£)",value:"currencyGBP"},{text:"Euro (€)",value:"currencyEUR"},{text:"Yen (¥)",value:"currencyJPY"},{text:"Rubles (₽)",value:"currencyRUB"}]},{text:"time",submenu:[{text:"Hertz (1/s)",value:"hertz"},{text:"nanoseconds (ns)",value:"ns"},{text:"microseconds (µs)",value:"µs"},{text:"milliseconds (ms)",value:"ms"},{text:"seconds (s)",value:"s"},{text:"minutes (m)",value:"m"},{text:"hours (h)",value:"h"},{text:"days (d)",value:"d"},{text:"duration (ms)",value:"dtdurationms"},{text:"duration (s)",value:"dtdurations"}]},{text:"data (IEC)",submenu:[{text:"bits",value:"bits"},{text:"bytes",value:"bytes"},{text:"kibibytes",value:"kbytes"},{text:"mebibytes",value:"mbytes"},{text:"gibibytes",value:"gbytes"}]},{text:"data (Metric)",submenu:[{text:"bits",value:"decbits"},{text:"bytes",value:"decbytes"},{text:"kilobytes",value:"deckbytes"},{text:"megabytes",value:"decmbytes"},{text:"gigabytes",value:"decgbytes"}]},{text:"data rate",submenu:[{text:"packets/sec",value:"pps"},{text:"bits/sec",value:"bps"},{text:"bytes/sec",value:"Bps"},{text:"kilobits/sec",value:"Kbits"},{text:"kilobytes/sec",value:"KBs"},{text:"megabits/sec",value:"Mbits"},{text:"megabytes/sec",value:"MBs"},{text:"gigabytes/sec",value:"GBs"},{text:"gigabits/sec",value:"Gbits"}]},{text:"throughput",submenu:[{text:"ops/sec (ops)",value:"ops"},{text:"reads/sec (rps)",value:"rps"},{text:"writes/sec (wps)",value:"wps"},{text:"I/O ops/sec (iops)",value:"iops"},{text:"ops/min (opm)",value:"opm"},{text:"reads/min (rpm)",value:"rpm"},{text:"writes/min (wpm)",value:"wpm"}]},{text:"length",submenu:[{text:"millimetre (mm)",value:"lengthmm"},{text:"meter (m)",value:"lengthm"},{text:"kilometer (km)",value:"lengthkm"},{text:"mile (mi)",value:"lengthmi"}]},{text:"velocity",submenu:[{text:"m/s",value:"velocityms"},{text:"km/h",value:"velocitykmh"},{text:"mph",value:"velocitymph"},{text:"knot (kn)",value:"velocityknot"}]},{text:"volume",submenu:[{text:"millilitre",value:"mlitre"},{text:"litre",value:"litre"},{text:"cubic metre",value:"m3"},{text:"cubic decimetre",value:"dm3"},{text:"gallons",value:"gallons"}]},{text:"energy",submenu:[{text:"watt (W)",value:"watt"},{text:"kilowatt (kW)",value:"kwatt"},{text:"volt-ampere (VA)",value:"voltamp"},{text:"kilovolt-ampere (kVA)",value:"kvoltamp"},{text:"volt-ampere reactive (var)",value:"voltampreact"},{text:"kilovolt-ampere reactive (kvar)",value:"kvoltampreact"},{text:"watt-hour (Wh)",value:"watth"},{text:"kilowatt-hour (kWh)",value:"kwatth"},{text:"joule (J)",value:"joule"},{text:"electron volt (eV)",value:"ev"},{text:"Ampere (A)",value:"amp"},{text:"Kiloampere (kA)",value:"kamp"},{text:"Volt (V)",value:"volt"},{text:"Kilovolt (kV)",value:"kvolt"},{text:"Decibel-milliwatt (dBm)",value:"dBm"}]},{text:"temperature",submenu:[{text:"Celcius (°C)",value:"celsius"},{text:"Farenheit (°F)",value:"farenheit"},{text:"Kelvin (K)",value:"kelvin"}]},{text:"pressure",submenu:[{text:"Millibars",value:"pressurembar"},{text:"Bars",value:"pressurebar"},{text:"Kilobars",value:"pressurekbar"},{text:"Hectopascals",value:"pressurehpa"},{text:"Inches of mercury",value:"pressurehg"},{text:"PSI",value:"pressurepsi"}]},{text:"force",submenu:[{text:"Newton-meters (Nm)",value:"forceNm"},{text:"Kilonewton-meters (kNm)",value:"forcekNm"},{text:"Newtons (N)",value:"forceN"},{text:"Kilonewtons (kN)",value:"forcekN"}]},{text:"flow",submenu:[{text:"Gallons/min (gpm)",value:"flowgpm"},{text:"Cubic meters/sec (cms)",value:"flowcms"},{text:"Cubic feet/sec (cfs)",value:"flowcfs"},{text:"Cubic feet/min (cfm)",value:"flowcfm"}]}]},c})}(),function(){var a=System.amdDefine;a("app/core/directives/ng_model_on_blur.js",["../core_module","app/core/utils/kbn","app/core/utils/rangeutil"],function(a,b,c){"use strict";a.default.directive("ngModelOnblur",function(){return{restrict:"A",priority:1,require:"ngModel",link:function(a,b,c,d){"radio"!==c.type&&"checkbox"!==c.type&&(b.off("input keydown change"),b.bind("blur",function(){a.$apply(function(){d.$setViewValue(b.val())})}))}}}),a.default.directive("emptyToNull",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return""===a?null:a})}}}),a.default.directive("validTimeSpan",function(){return{require:"ngModel",link:function(a,b,d,e){e.$validators.integer=function(a,b){if(e.$isEmpty(a))return!0;if(0===b.indexOf("$")||0===b.indexOf("+$"))return!0;var d=c.describeTextRange(b);return d.invalid!==!0}}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/password_strength.js",["../core_module"],function(a){"use strict";a.default.directive("passwordStrength",function(){var a='<div class="password-strength small" ng-if="!loginMode" ng-class="strengthClass"><em>{{strengthText}}</em></div>';return{template:a,scope:{password:"="},link:function(a){function b(b){return b?b.length<4?(a.strengthText="strength: weak sauce.",void(a.strengthClass="password-strength-bad")):b.length<=8?(a.strengthText="strength: you can do better.",void(a.strengthClass="password-strength-ok")):(a.strengthText="strength: strong like a bull.",void(a.strengthClass="password-strength-good")):(a.strengthText="",void(a.strengthClass="hidden"))}a.strengthClass="",a.$watch("password",b)}}})})}(),function(){var a=System.amdDefine;!function(b){"use strict";"function"==typeof a&&a.amd?a("spectrum",["jquery"],b):"object"==typeof exports&&"object"==typeof module?module.exports=b:b(jQuery)}(function(a,b){"use strict";function c(b,c,d,e){for(var f=[],g=0;g<b.length;g++){var h=b[g];if(h){var i=tinycolor(h),j=i.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";j+=tinycolor.equals(c,h)?" sp-thumb-active":"";var k=i.toString(e.preferredFormat||"rgb"),l=q?"background-color:"+i.toRgbString():"filter:"+i.toFilter();
f.push('<span title="'+k+'" data-color="'+i.toRgbString()+'" class="'+j+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}else{var m="sp-clear-display";f.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="'+m+'"></span>').attr("title",e.noColorSelectedText)).html())}}return"<div class='sp-cf "+d+"'>"+f.join("")+"</div>"}function d(){for(var a=0;a<o.length;a++)o[a]&&o[a].hide()}function e(b,c){var d=a.extend({},n,b);return d.callbacks={move:j(d.move,c),change:j(d.change,c),show:j(d.show,c),hide:j(d.hide,c),beforeShow:j(d.beforeShow,c)},d}function f(f,h){function j(){if(U.showPaletteOnly&&(U.showPalette=!0),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),U.palette){na=U.palette.slice(0),oa=a.isArray(na[0])?na:[na],pa={};for(var b=0;b<oa.length;b++)for(var c=0;c<oa[b].length;c++){var d=tinycolor(oa[b][c]).toRgbString();pa[d]=!0}}xa.toggleClass("sp-flat",V),xa.toggleClass("sp-input-disabled",!U.showInput),xa.toggleClass("sp-alpha-enabled",U.showAlpha),xa.toggleClass("sp-clear-enabled",Za),xa.toggleClass("sp-buttons-disabled",!U.showButtons),xa.toggleClass("sp-palette-buttons-disabled",!U.togglePaletteOnly),xa.toggleClass("sp-palette-disabled",!U.showPalette),xa.toggleClass("sp-palette-only",U.showPaletteOnly),xa.toggleClass("sp-initial-disabled",!U.showInitial),xa.addClass(U.className).addClass(U.containerClassName),O()}function n(){function b(b){return b.data&&b.data.ignore?(H(a(b.target).closest(".sp-thumb-el").data("color")),K()):(H(a(b.target).closest(".sp-thumb-el").data("color")),K(),N(!0),U.hideAfterPaletteSelect&&F()),!1}if(p&&xa.find("*:not(input)").attr("unselectable","on"),j(),Pa&&va.after(Qa).hide(),Za||Ka.hide(),V)va.after(xa).hide();else{var c="parent"===U.appendTo?va.parent():a(U.appendTo);1!==c.length&&(c=a("body")),c.append(xa)}t(),Ra.bind("click.spectrum touchstart.spectrum",function(b){wa||B(),b.stopPropagation(),a(b.target).is("input")||b.preventDefault()}),(va.is(":disabled")||U.disabled===!0)&&S(),xa.click(i),Ga.change(A),Ga.bind("paste",function(){setTimeout(A,1)}),Ga.keydown(function(a){13==a.keyCode&&A()}),Ja.text(U.cancelText),Ja.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),G(),F()}),Ka.attr("title",U.clearText),Ka.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),Ya=!0,K(),V&&N(!0)}),La.text(U.chooseText),La.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),p&&Ga.is(":focus")&&Ga.trigger("change"),J()&&(N(!0),F())}),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),Ma.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),U.showPaletteOnly=!U.showPaletteOnly,U.showPaletteOnly||V||xa.css("left","-="+(ya.outerWidth(!0)+5)),j()}),k(Ea,function(a,b,c){ma=a/ga,Ya=!1,c.shiftKey&&(ma=Math.round(10*ma)/10),K()},y,z),k(Ba,function(a,b){ja=parseFloat(b/ea),Ya=!1,U.showAlpha||(ma=1),K()},y,z),k(za,function(a,b,c){if(c.shiftKey){if(!ta){var d=ka*ba,e=ca-la*ca,f=Math.abs(a-d)>Math.abs(b-e);ta=f?"x":"y"}}else ta=null;var g=!ta||"x"===ta,h=!ta||"y"===ta;g&&(ka=parseFloat(a/ba)),h&&(la=parseFloat((ca-b)/ca)),Ya=!1,U.showAlpha||(ma=1),K()},y,z),Ta?(H(Ta),L(),Wa=Va||tinycolor(Ta).format,u(Ta)):L(),V&&C();var d=p?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ha.delegate(".sp-thumb-el",d,b),Ia.delegate(".sp-thumb-el:nth-child(1)",d,{ignore:!0},b)}function t(){if(X&&window.localStorage){try{var b=window.localStorage[X].split(",#");b.length>1&&(delete window.localStorage[X],a.each(b,function(a,b){u(b)}))}catch(a){}try{qa=window.localStorage[X].split(";")}catch(a){}}}function u(b){if(W){var c=tinycolor(b).toRgbString();if(!pa[c]&&a.inArray(c,qa)===-1)for(qa.push(c);qa.length>ra;)qa.shift();if(X&&window.localStorage)try{window.localStorage[X]=qa.join(";")}catch(a){}}}function v(){var a=[];if(U.showPalette)for(var b=0;b<qa.length;b++){var c=tinycolor(qa[b]).toRgbString();pa[c]||a.push(qa[b])}return a.reverse().slice(0,U.maxSelectionSize)}function w(){var b=I(),d=a.map(oa,function(a,d){return c(a,b,"sp-palette-row sp-palette-row-"+d,U)});t(),qa&&d.push(c(v(),b,"sp-palette-row sp-palette-row-selection",U)),Ha.html(d.join(""))}function x(){if(U.showInitial){var a=Ua,b=I();Ia.html(c([a,b],b,"sp-palette-row-initial",U))}}function y(){(ca<=0||ba<=0||ea<=0)&&O(),aa=!0,xa.addClass(sa),ta=null,va.trigger("dragstart.spectrum",[I()])}function z(){aa=!1,xa.removeClass(sa),va.trigger("dragstop.spectrum",[I()])}function A(){var a=Ga.val();if(null!==a&&""!==a||!Za){var b=tinycolor(a);b.isValid()?(H(b),N(!0)):Ga.addClass("sp-validation-error")}else H(null),N(!0)}function B(){_?F():C()}function C(){var b=a.Event("beforeShow.spectrum");return _?void O():(va.trigger(b,[I()]),void(Z.beforeShow(I())===!1||b.isDefaultPrevented()||(d(),_=!0,a(ua).bind("keydown.spectrum",D),a(ua).bind("click.spectrum",E),a(window).bind("resize.spectrum",$),Qa.addClass("sp-active"),xa.removeClass("sp-hidden"),O(),L(),Ua=I(),x(),Z.show(Ua),va.trigger("show.spectrum",[Ua]))))}function D(a){27===a.keyCode&&F()}function E(a){2!=a.button&&(aa||(Xa?N(!0):G(),F()))}function F(){_&&!V&&(_=!1,a(ua).unbind("keydown.spectrum",D),a(ua).unbind("click.spectrum",E),a(window).unbind("resize.spectrum",$),Qa.removeClass("sp-active"),xa.addClass("sp-hidden"),Z.hide(I()),va.trigger("hide.spectrum",[I()]))}function G(){H(Ua,!0)}function H(a,b){if(tinycolor.equals(a,I()))return void L();var c,d;!a&&Za?Ya=!0:(Ya=!1,c=tinycolor(a),d=c.toHsv(),ja=d.h%360/360,ka=d.s,la=d.v,ma=d.a),L(),c&&c.isValid()&&!b&&(Wa=Va||c.getFormat())}function I(a){return a=a||{},Za&&Ya?null:tinycolor.fromRatio({h:ja,s:ka,v:la,a:Math.round(100*ma)/100},{format:a.format||Wa})}function J(){return!Ga.hasClass("sp-validation-error")}function K(){L(),Z.move(I()),va.trigger("move.spectrum",[I()])}function L(){Ga.removeClass("sp-validation-error"),M();var a=tinycolor.fromRatio({h:ja,s:1,v:1});za.css("background-color",a.toHexString());var b=Wa;ma<1&&(0!==ma||"name"!==b)&&("hex"!==b&&"hex3"!==b&&"hex6"!==b&&"name"!==b||(b="rgb"));var c=I({format:b}),d="";if(Sa.removeClass("sp-clear-display"),Sa.css("background-color","transparent"),!c&&Za)Sa.addClass("sp-clear-display");else{var e=c.toHexString(),f=c.toRgbString();if(q||1===c.alpha?Sa.css("background-color",f):(Sa.css("background-color","transparent"),Sa.css("filter",c.toFilter())),U.showAlpha){var g=c.toRgb();g.a=0;var h=tinycolor(g).toRgbString(),i="linear-gradient(left, "+h+", "+e+")";p?Da.css("filter",tinycolor(h).toFilter({gradientType:1},e)):(Da.css("background","-webkit-"+i),Da.css("background","-moz-"+i),Da.css("background","-ms-"+i),Da.css("background","linear-gradient(to right, "+h+", "+e+")"))}d=c.toString(b)}U.showInput&&Ga.val(d),U.showPalette&&w(),x()}function M(){var a=ka,b=la;if(Za&&Ya)Fa.hide(),Ca.hide(),Aa.hide();else{Fa.show(),Ca.show(),Aa.show();var c=a*ba,d=ca-b*ca;c=Math.max(-da,Math.min(ba-da,c-da)),d=Math.max(-da,Math.min(ca-da,d-da)),Aa.css({top:d+"px",left:c+"px"});var e=ma*ga;Fa.css({left:e-ha/2+"px"});var f=ja*ea;Ca.css({top:f-ia+"px"})}}function N(a){var b=I(),c="",d=!tinycolor.equals(b,Ua);b&&(c=b.toString(Wa),u(b)),Na&&va.val(c),a&&d&&(Z.change(b),va.trigger("change",[b]))}function O(){ba=za.width(),ca=za.height(),da=Aa.height(),fa=Ba.width(),ea=Ba.height(),ia=Ca.height(),ga=Ea.width(),ha=Fa.width(),V||(xa.css("position","absolute"),U.offset?xa.offset(U.offset):xa.offset(g(xa,Ra))),M(),U.showPalette&&w(),va.trigger("reflow.spectrum")}function P(){va.show(),Ra.unbind("click.spectrum touchstart.spectrum"),xa.remove(),Qa.remove(),o[$a.id]=null}function Q(c,d){return c===b?a.extend({},U):d===b?U[c]:(U[c]=d,void j())}function R(){wa=!1,va.attr("disabled",!1),Ra.removeClass("sp-disabled")}function S(){F(),wa=!0,va.attr("disabled",!0),Ra.addClass("sp-disabled")}function T(a){U.offset=a,O()}var U=e(h,f),V=U.flat,W=U.showSelectionPalette,X=U.localStorageKey,Y=U.theme,Z=U.callbacks,$=l(O,10),_=!1,aa=!1,ba=0,ca=0,da=0,ea=0,fa=0,ga=0,ha=0,ia=0,ja=0,ka=0,la=0,ma=1,na=[],oa=[],pa={},qa=U.selectionPalette.slice(0),ra=U.maxSelectionSize,sa="sp-dragging",ta=null,ua=f.ownerDocument,va=(ua.body,a(f)),wa=!1,xa=a(s,ua).addClass(Y),ya=xa.find(".sp-picker-container"),za=xa.find(".sp-color"),Aa=xa.find(".sp-dragger"),Ba=xa.find(".sp-hue"),Ca=xa.find(".sp-slider"),Da=xa.find(".sp-alpha-inner"),Ea=xa.find(".sp-alpha"),Fa=xa.find(".sp-alpha-handle"),Ga=xa.find(".sp-input"),Ha=xa.find(".sp-palette"),Ia=xa.find(".sp-initial"),Ja=xa.find(".sp-cancel"),Ka=xa.find(".sp-clear"),La=xa.find(".sp-choose"),Ma=xa.find(".sp-palette-toggle"),Na=va.is("input"),Oa=Na&&"color"===va.attr("type")&&m(),Pa=Na&&!V,Qa=Pa?a(r).addClass(Y).addClass(U.className).addClass(U.replacerClassName):a([]),Ra=Pa?Qa:va,Sa=Qa.find(".sp-preview-inner"),Ta=U.color||Na&&va.val(),Ua=!1,Va=U.preferredFormat,Wa=Va,Xa=!U.showButtons||U.clickoutFiresChange,Ya=!Ta,Za=U.allowEmpty&&!Oa;n();var $a={show:C,hide:F,toggle:B,reflow:O,option:Q,enable:R,disable:S,offset:T,set:function(a){H(a),N()},get:I,destroy:P,container:xa};return $a.id=o.push($a)-1,$a}function g(b,c){var d=0,e=b.outerWidth(),f=b.outerHeight(),g=c.outerHeight(),h=b[0].ownerDocument,i=h.documentElement,j=i.clientWidth+a(h).scrollLeft(),k=i.clientHeight+a(h).scrollTop(),l=c.offset();return l.top+=g,l.left-=Math.min(l.left,l.left+e>j&&j>e?Math.abs(l.left+e-j):0),l.top-=Math.min(l.top,l.top+f>k&&k>f?Math.abs(f+g-d):d),l}function h(){}function i(a){a.stopPropagation()}function j(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function k(b,c,d,e){function f(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function g(a){if(k){if(p&&j.documentMode<9&&!a.button)return i();var d=a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches[0],e=d&&d.pageX||a.pageX,g=d&&d.pageY||a.pageY,h=Math.max(0,Math.min(e-l.left,n)),q=Math.max(0,Math.min(g-l.top,m));o&&f(a),c.apply(b,[h,q,a])}}function h(c){var e=c.which?3==c.which:2==c.button;e||k||d.apply(b,arguments)!==!1&&(k=!0,m=a(b).height(),n=a(b).width(),l=a(b).offset(),a(j).bind(q),a(j.body).addClass("sp-dragging"),g(c),f(c))}function i(){k&&(a(j).unbind(q),a(j.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(b,arguments)},0)),k=!1}c=c||function(){},d=d||function(){},e=e||function(){};var j=document,k=!1,l={},m=0,n=0,o="ontouchstart"in window,q={};q.selectstart=f,q.dragstart=f,q["touchmove mousemove"]=g,q["touchend mouseup"]=i,a(b).bind("touchstart mousedown",h)}function l(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,a.apply(e,f)};c&&clearTimeout(d),!c&&d||(d=setTimeout(g,b))}}function m(){return a.fn.spectrum.inputTypeColorSupport()}var n={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},o=[],p=!!/msie/i.exec(window.navigator.userAgent),q=function(){function a(a,b){return!!~(""+a).indexOf(b)}var b=document.createElement("div"),c=b.style;return c.cssText="background-color:rgba(0,0,0,.5)",a(c.backgroundColor,"rgba")||a(c.backgroundColor,"hsla")}(),r=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var a="";if(p)for(var b=1;b<=6;b++)a+="<div class='sp-"+b+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",a,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),t="spectrum.id";a.fn.spectrum=function(b,c){if("string"==typeof b){var d=this,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=o[a(this).data(t)];if(c){var f=c[b];if(!f)throw new Error("Spectrum: no such method: '"+b+"'");"get"==b?d=c.get():"container"==b?d=c.container:"option"==b?d=c.option.apply(c,e):"destroy"==b?(c.destroy(),a(this).removeData(t)):f.apply(c,e)}}),d}return this.spectrum("destroy").each(function(){var c=a.extend({},b,a(this).data()),d=f(this,c);a(this).data(t,d.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=k,a.fn.spectrum.defaults=n,a.fn.spectrum.inputTypeColorSupport=function b(){if("undefined"==typeof b._cachedResult){var c=a("<input type='color' value='!' />")[0];b._cachedResult="color"===c.type&&"!"!==c.value}return b._cachedResult},a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={},a.fn.spectrum.processNativeColorInputs=function(){var b=a("input[type=color]");b.length&&!m()&&b.spectrum({preferredFormat:"hex6"})},function(){function a(a){var c={r:0,g:0,b:0},e=1,g=!1,h=!1;return"string"==typeof a&&(a=G(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(c=b(a.r,a.g,a.b),g=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=D(a.s),a.v=D(a.v),c=f(a.h,a.s,a.v),g=!0,h="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=D(a.s),a.l=D(a.l),c=d(a.h,a.s,a.l),g=!0,h="hsl"),a.hasOwnProperty("a")&&(e=a.a)),e=w(e),{ok:g,format:a.format||h,r:M(255,N(c.r,0)),g:M(255,N(c.g,0)),b:M(255,N(c.b,0)),a:e}}function b(a,b,c){return{r:255*x(a,255),g:255*x(b,255),b:255*x(c,255)}}function c(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function d(a,b,c){function d(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=x(a,360),b=x(b,100),c=x(c,100),0===b)e=f=g=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function e(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function f(a,b,c){a=6*x(a,360),b=x(b,100),c=x(c,100);var d=K.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*l}}function g(a,b,c,d){var e=[C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function h(a,b,c,d){var e=[C(E(d)),C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return e.join("")}function i(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s-=b/100,c.s=y(c.s),P(c)}function j(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s+=b/100,c.s=y(c.s),P(c)}function k(a){return P(a).desaturate(100)}function l(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l+=b/100,c.l=y(c.l),P(c)}function m(a,b){b=0===b?0:b||10;var c=P(a).toRgb();return c.r=N(0,M(255,c.r-L(255*-(b/100)))),c.g=N(0,M(255,c.g-L(255*-(b/100)))),c.b=N(0,M(255,c.b-L(255*-(b/100)))),P(c)}function n(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l-=b/100,c.l=y(c.l),P(c)}function o(a,b){var c=P(a).toHsl(),d=(L(c.h)+b)%360;return c.h=d<0?360+d:d,P(c)}function p(a){var b=P(a).toHsl();return b.h=(b.h+180)%360,P(b)}function q(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+120)%360,s:b.s,l:b.l}),P({h:(c+240)%360,s:b.s,l:b.l})]}function r(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+90)%360,s:b.s,l:b.l}),P({h:(c+180)%360,s:b.s,l:b.l}),P({h:(c+270)%360,s:b.s,l:b.l})]}function s(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+72)%360,s:b.s,l:b.l}),P({h:(c+216)%360,s:b.s,l:b.l})]}function t(a,b,c){b=b||6,c=c||30;var d=P(a).toHsl(),e=360/c,f=[P(a)];for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(P(d));return f}function u(a,b){b=b||6;for(var c=P(a).toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;b--;)g.push(P({h:d,s:e,v:f})),f=(f+h)%1;return g}function v(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function w(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function x(a,b){A(a)&&(a="100%");var c=B(a);return a=M(b,N(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),K.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function y(a){return M(1,N(0,a))}function z(a){return parseInt(a,16)}function A(a){return"string"==typeof a&&a.indexOf(".")!=-1&&1===parseFloat(a)}function B(a){return"string"==typeof a&&a.indexOf("%")!=-1}function C(a){return 1==a.length?"0"+a:""+a}function D(a){return a<=1&&(a=100*a+"%"),a}function E(a){return Math.round(255*parseFloat(a)).toString(16)}function F(a){return z(a)/255}function G(a){a=a.replace(H,"").replace(I,"").toLowerCase();var b=!1;if(Q[a])a=Q[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=S.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=S.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=S.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=S.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=S.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=S.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=S.hex8.exec(a))?{a:F(c[1]),r:z(c[2]),g:z(c[3]),b:z(c[4]),format:b?"name":"hex8"}:(c=S.hex6.exec(a))?{r:z(c[1]),g:z(c[2]),b:z(c[3]),format:b?"name":"hex"}:!!(c=S.hex3.exec(a))&&{r:z(c[1]+""+c[1]),g:z(c[2]+""+c[2]),b:z(c[3]+""+c[3]),format:b?"name":"hex"}}var H=/^[\s,#]+/,I=/\s+$/,J=0,K=Math,L=K.round,M=K.min,N=K.max,O=K.random,P=function(b,c){if(b=b?b:"",c=c||{},b instanceof P)return b;if(!(this instanceof P))return new P(b,c);var d=a(b);this._originalInput=b,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=L(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=d.ok,this._tc_id=J++};P.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},setAlpha:function(a){return this._a=w(a),this._roundA=L(100*this._a)/100,this},toHsv:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=e(this._r,this._g,this._b),b=L(360*a.h),c=L(100*a.s),d=L(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=c(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=c(this._r,this._g,this._b),b=L(360*a.h),d=L(100*a.s),e=L(100*a.l);return 1==this._a?"hsl("+b+", "+d+"%, "+e+"%)":"hsla("+b+", "+d+"%, "+e+"%, "+this._roundA+")"},toHex:function(a){return g(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*x(this._r,255))+"%",g:L(100*x(this._g,255))+"%",b:L(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%)":"rgba("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(a){var b="#"+h(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";if(a){var e=P(a);c=e.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),"hex"!==a&&"hex6"!==a||(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(l,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(n,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(j,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(o,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(t,arguments)},complement:function(){return this._applyCombination(p,arguments)},monochromatic:function(){return this._applyCombination(u,arguments)},splitcomplement:function(){return this._applyCombination(s,arguments)},triad:function(){return this._applyCombination(q,arguments)},tetrad:function(){return this._applyCombination(r,arguments)}},P.fromRatio=function(a,b){if("object"==typeof a){var c={};for(var d in a)a.hasOwnProperty(d)&&("a"===d?c[d]=a[d]:c[d]=D(a[d]));a=c}return P(a,b)},P.equals=function(a,b){return!(!a||!b)&&P(a).toRgbString()==P(b).toRgbString()},P.random=function(){return P.fromRatio({r:O(),g:O(),b:O()})},P.mix=function(a,b,c){c=0===c?0:c||50;var d,e=P(a).toRgb(),f=P(b).toRgb(),g=c/100,h=2*g-1,i=f.a-e.a;d=h*i==-1?h:(h+i)/(1+h*i),d=(d+1)/2;var j=1-d,k={r:f.r*d+e.r*j,g:f.g*d+e.g*j,b:f.b*d+e.b*j,a:f.a*g+e.a*(1-g)};return P(k)},P.readability=function(a,b){var c=P(a),d=P(b),e=c.toRgb(),f=d.toRgb(),g=c.getBrightness(),h=d.getBrightness(),i=Math.max(e.r,f.r)-Math.min(e.r,f.r)+Math.max(e.g,f.g)-Math.min(e.g,f.g)+Math.max(e.b,f.b)-Math.min(e.b,f.b);return{brightness:Math.abs(g-h),color:i}},P.isReadable=function(a,b){var c=P.readability(a,b);return c.brightness>125&&c.color>500},P.mostReadable=function(a,b){for(var c=null,d=0,e=!1,f=0;f<b.length;f++){var g=P.readability(a,b[f]),h=g.brightness>125&&g.color>500,i=3*(g.brightness/125)+g.color/500;(h&&!e||h&&e&&i>d||!h&&!e&&i>d)&&(e=h,d=i,c=P(b[f]))}return c};var Q=P.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=P.hexNames=v(Q),S=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=P}(),a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})})}(),function(){var a=System.amdDefine;a("app/core/directives/spectrum_picker.js",["angular","../core_module","spectrum"],function(a,b){"use strict";b.default.directive("spectrumPicker",function(){return{restrict:"E",require:"ngModel",scope:!1,replace:!0,template:"<span><input class='input-small' /></span>",link:function(b,c,d,e){var f=c.find("input"),g=a.extend({showAlpha:!0,showButtons:!1,color:e.$viewValue,change:function(a){b.$apply(function(){e.$setViewValue(a.toRgbString())})}},b.$eval(d.options));e.$render=function(){f.spectrum("set",e.$viewValue||"")},f.spectrum(g),b.$on("$destroy",function(){f.spectrum("destroy")})}}})})}(),System.registerDynamic("bootstrap-tagsinput",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";function b(b,c){this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input class="gf-form-input" size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(c)}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?h.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}var g={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(a,b){b.hide().fadeIn()}};b.prototype={constructor:b,add:function(b,c){var d=this;if(!(d.options.maxTags&&d.itemsArray.length>=d.options.maxTags)&&(b===!1||b)){if("object"==typeof b&&!d.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(d.isSelect&&!d.multiple&&d.itemsArray.length>0&&d.remove(d.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var f=b.split(",");if(f.length>1){for(var g=0;g<f.length;g++)this.add(f[g],!0);return void(c||d.pushVal())}}var h=d.options.itemValue(b),i=d.options.itemText(b),j=d.options.tagClass(b),k=a.grep(d.itemsArray,function(a){return d.options.itemValue(a)===h})[0];if(k){if(d.options.onTagExists){var l=a(".tag",d.$container).filter(function(){return a(this).data("item")===k});d.options.onTagExists(b,l)}}else{d.itemsArray.push(b);var m=a('<span class="tag '+e(j)+'">'+e(i)+'<span data-role="remove"></span></span>');if(m.data("item",b),d.findInputWrapper().before(m),m.after(" "),d.isSelect&&!a('option[value="'+escape(h)+'"]',d.$element)[0]){var n=a("<option selected>"+e(i)+"</option>");n.data("item",b),n.attr("value",h),d.$element.append(n)}c||d.pushVal(),d.options.maxTags===d.itemsArray.length&&d.$container.addClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemAdded",{item:b}))}}}},remove:function(b,c){var d=this;d.objectItems&&(b="object"==typeof b?a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==d.options.itemValue(b)})[0]:a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==b})[0]),b&&(a(".tag",d.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",d.$element).filter(function(){return a(this).data("item")===b}).remove(),d.itemsArray.splice(a.inArray(b,d.itemsArray),1)),c||d.pushVal(),d.options.maxTags>d.itemsArray.length&&d.$container.removeClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemRemoved",{item:b}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal(),b.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);
if(c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a("option",b.$element).filter(function(){return a(this).data("item")===d});i.attr("value",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;e.options=a.extend({},g,b);var h=e.options.typeahead||{};e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),c(e.options,"tagClass"),e.options.source&&(h.source=e.options.source),h.source&&a.fn.typeahead&&(d(h,"source"),e.$input.typeahead({source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=h.source(b);a.isFunction(g.success)?g.success(d):a.when(g).then(d)},updater:function(a){e.add(this.map[a])},matcher:function(a){return a.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}})),e.$container.on("click",a.proxy(function(a){e.$input.focus()},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus());break;default:e.options.freeInput&&a.inArray(b.which,e.options.confirmKeys)>=0&&(e.add(c.val()),c.val(""),b.preventDefault())}c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===g.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d){var e=[];return this.each(function(){var f=a(this).data("tagsinput");if(f){var g=f[c](d);void 0!==g&&e.push(g)}else f=new b(this,c),a(this).data("tagsinput",f),e.push(f),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?e.length>1?e:e[0]:e},a.fn.tagsinput.Constructor=b;var h=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery)}(this),d()}),function(){var a=System.amdDefine;a("app/core/directives/tags.js",["angular","jquery","../core_module","bootstrap-tagsinput"],function(a,b,c){"use strict";function d(a){for(var b=5381,c=0;c<a.length;c++)b=(b<<5)+b+a.charCodeAt(c);return b}function e(a,b){var c=d(a.toLowerCase()),e=["#E24D42","#1F78C1","#BA43A9","#705DA0","#466803","#508642","#447EBC","#C15C17","#890F02","#757575","#0A437C","#6D1F62","#584477","#629E51","#2F4F4F","#BF1B00","#806EB7","#8a2eb8","#699e00","#000000","#3F6833","#2F575E","#99440A","#E0752D","#0E4AB4","#58140C","#052B51","#511749","#3F2B5B"],f=["#FF7368","#459EE7","#E069CF","#9683C6","#6C8E29","#76AC68","#6AA4E2","#E7823D","#AF3528","#9B9B9B","#3069A2","#934588","#7E6A9D","#88C477","#557575","#E54126","#A694DD","#B054DE","#8FC426","#262626","#658E59","#557D84","#BF6A30","#FF9B53","#3470DA","#7E3A32","#2B5177","#773D6F","#655181"],g=e[Math.abs(c%e.length)],h=f[Math.abs(c%f.length)];b.css("background-color",g),b.css("border-color",h)}c.default.directive("tagColorFromName",function(){return{scope:{tagColorFromName:"="},link:function(a,b){e(a.tagColorFromName,b)}}}),c.default.directive("bootstrapTagsinput",function(){function c(b,c){if(c)return a.isFunction(b.$parent[c])?b.$parent[c]:function(a){return a[c]}}return{restrict:"EA",scope:{model:"=ngModel",onTagsUpdated:"&"},template:"<select multiple></select>",replace:!1,link:function(d,f,g){a.isArray(d.model)||(d.model=[]);var h=b("select",f);g.placeholder&&h.attr("placeholder",g.placeholder),h.tagsinput({typeahead:{source:a.isFunction(d.$parent[g.typeaheadSource])?d.$parent[g.typeaheadSource]:null},itemValue:c(d,g.itemvalue),itemText:c(d,g.itemtext),tagClass:a.isFunction(d.$parent[g.tagclass])?d.$parent[g.tagclass]:function(){return g.tagclass}}),h.on("itemAdded",function(a){d.model.indexOf(a.item)===-1&&(d.model.push(a.item),d.onTagsUpdated&&d.onTagsUpdated());var c=h.next().children("span").filter(function(){return b(this).text()===a.item});e(a.item,c)}),h.on("itemRemoved",function(a){var b=d.model.indexOf(a.item);b!==-1&&(d.model.splice(b,1),d.onTagsUpdated&&d.onTagsUpdated())}),d.$watch("model",function(){a.isArray(d.model)||(d.model=[]),h.tagsinput("removeAll");for(var b=0;b<d.model.length;b++)h.tagsinput("add",d.model[b])},!0)}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/value_select_dropdown.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c.default.controller("ValueSelectDropdownCtrl",["$q",function(a){var c=this;c.show=function(){c.oldVariableText=c.variable.current.text,c.highlightIndex=-1,c.options=c.variable.options,c.selectedValues=b.filter(c.options,{selected:!0}),c.tags=b.map(c.variable.tags,function(a){var d={text:a,selected:!1};return b.each(c.variable.current.tags,function(b){b.text===a&&(d=b)}),d}),c.search={query:"",options:c.options.slice(0,Math.min(c.options.length,1e3))},c.dropdownVisible=!0},c.updateLinkText=function(){var a=c.variable.current;if(a.tags&&a.tags.length){var d=b.filter(c.variable.options,function(c){if(!c.selected)return!1;for(var d=0;d<a.tags.length;d++){var e=a.tags[d];if(b.indexOf(e.values,c.value)!==-1)return!1}return!0}),e=b.map(d,"text");c.linkText=e.join(" + "),c.linkText.length>0&&(c.linkText+=" + ")}else c.linkText=c.variable.current.text},c.clearSelections=function(){b.each(c.options,function(a){a.selected=!1}),c.selectionsChanged(!1)},c.selectTag=function(d){d.selected=!d.selected;var e;e=d.values?a.when(d.values):c.variable.getValuesForTag(d.text),e.then(function(a){d.values=a,d.valuesText=a.join(" + "),b.each(c.options,function(a){b.indexOf(d.values,a.value)!==-1&&(a.selected=d.selected)}),c.selectionsChanged(!1)})},c.keyDown=function(a){27===a.keyCode&&c.hide(),40===a.keyCode&&c.moveHighlight(1),38===a.keyCode&&c.moveHighlight(-1),13===a.keyCode&&(0===c.search.options.length?c.commitChanges():c.selectValue(c.search.options[c.highlightIndex],{},!0,!1)),32===a.keyCode&&c.selectValue(c.search.options[c.highlightIndex],{},!1,!1)},c.moveHighlight=function(a){c.highlightIndex=(c.highlightIndex+a)%c.search.options.length},c.selectValue=function(a,d,e,f){if(a){a.selected=!a.selected,e=e||!1,f=f||!1;var g=function(d){b.each(c.options,function(b){a!==b&&(b.selected=d)})};e&&(a.selected=!0),"All"===a.text||f?(g(!1),e=!0):c.variable.multi?(d.ctrlKey||d.metaKey||d.shiftKey)&&(e=!0,g(!1)):(g(!1),e=!0),c.selectionsChanged(e)}},c.selectionsChanged=function(a){c.selectedValues=b.filter(c.options,{selected:!0}),c.selectedValues.length>1&&"All"===c.selectedValues[0].text&&(c.selectedValues[0].selected=!1,c.selectedValues=c.selectedValues.slice(1,c.selectedValues.length)),b.each(c.tags,function(a){a.selected&&b.each(a.values,function(d){b.find(c.selectedValues,{value:d})||(a.selected=!1)})}),c.selectedTags=b.filter(c.tags,{selected:!0}),c.variable.current.value=b.map(c.selectedValues,"value"),c.variable.current.text=b.map(c.selectedValues,"text").join(" + "),c.variable.current.tags=c.selectedTags,c.variable.multi||(c.variable.current.value=c.selectedValues[0].value),a&&c.commitChanges()},c.commitChanges=function(){0===c.search.options.length&&c.search.query.length>0?c.variable.current={text:c.search.query,value:c.search.query}:0===c.selectedValues.length&&(c.options[0].selected=!0,c.selectionsChanged(!1)),c.dropdownVisible=!1,c.updateLinkText(),c.variable.current.text!==c.oldVariableText&&c.onUpdated()},c.queryChanged=function(){c.highlightIndex=-1,c.search.options=b.filter(c.options,function(a){return a.text.toLowerCase().indexOf(c.search.query.toLowerCase())!==-1}),c.search.options=c.search.options.slice(0,Math.min(c.search.options.length,1e3))},c.init=function(){c.selectedTags=c.variable.current.tags||[],c.updateLinkText()}}]),c.default.directive("valueSelectDropdown",["$compile","$window","$timeout","$rootScope",function(b,c,d,e){return{scope:{variable:"=",onUpdated:"&"},templateUrl:"public/app/partials/valueSelectDropdown.html",controller:"ValueSelectDropdownCtrl",controllerAs:"vm",bindToController:!0,link:function(b,f){function g(){l.css("width",Math.max(k.width(),80)+"px"),l.show(),k.hide(),l.focus(),d(function(){j.on("click",i)},0,!1)}function h(){l.hide(),k.show(),j.off("click",i)}function i(a){0===f.has(a.target).length&&b.$apply(function(){b.vm.commitChanges()})}var j=a.element(c.document.body),k=f.find(".variable-value-link"),l=f.find("input");b.$watch("vm.dropdownVisible",function(a){a?g():h()});var m=e.$on("template-variable-value-updated",function(){b.vm.updateLinkText()});b.$on("$destroy",function(){m()}),b.vm.init()}}}])})}(),System.register("app/plugins/panel/unknown/module.js",["app/plugins/sdk"],function(a,b){"use strict";var c,d,e=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=function(a){function b(b,c){return a.call(this,b,c)||this}return e(b,a),b.$inject=["$scope","$injector"],b}(c.PanelCtrl),d.templateUrl="public/app/plugins/panel/unknown/module.html",a("UnknownPanelCtrl",d)}}}),System.register("app/core/directives/plugin_component.js",["angular","lodash","app/core/config","app/core/core_module","app/plugins/panel/unknown/module"],function(a,b){"use strict";function c(a,b,c,i,j,k){function l(a){if(a.template)return i.when(a.template);var b=k.get(a.templateUrl);return b?i.when(b):j.get(a.templateUrl).then(function(a){return a.data})}function m(a,b){if(a)return 0===a.indexOf("public")?a:b+"/"+a}function n(a){return a.Component.templateUrl=m(a.Component.templateUrl,a.baseUrl),function(){return{templateUrl:a.Component.templateUrl,template:a.Component.template,restrict:"E",controller:a.Component,controllerAs:"ctrl",bindToController:!0,scope:a.bindings,link:function(a,b,c,d){d.link&&d.link(a,b,c,d),d.init&&d.init()}}}}function o(a,b){var c={name:"panel-plugin-"+a.panel.type,bindings:{dashboard:"=",panel:"=",row:"="},attrs:{dashboard:"ctrl.dashboard",panel:"panel",row:"ctrl.row"}},d=f.default.panels[a.panel.type],e=Promise.resolve(h.UnknownPanelCtrl);return d&&(e=System.import(d.module).then(function(a){return a.PanelCtrl})),e.then(function(a){return c.Component=a,!a||a.registered?c:a.templatePromise?a.templatePromise.then(function(a){return c}):(d&&(a.templateUrl=m(a.templateUrl,d.baseUrl)),a.templatePromise=l(a).then(function(b){return a.templateUrl=null,a.template='<grafana-panel ctrl="ctrl">'+b+"</grafana-panel>",c}),a.templatePromise)})}function p(a,c){switch(c.type){case"query-ctrl":var d=a.target.datasource||a.ctrl.panel.datasource;return b.get(d).then(function(b){return a.datasource=b,System.import(b.meta.module).then(function(a){return{baseUrl:b.meta.baseUrl,name:"query-ctrl-"+b.meta.id,bindings:{target:"=",panelCtrl:"=",datasource:"="},attrs:{target:"target","panel-ctrl":"ctrl",datasource:"datasource"},Component:a.QueryCtrl}})});case"query-options-ctrl":return b.get(a.ctrl.panel.datasource).then(function(a){return System.import(a.meta.module).then(function(b){return b.QueryOptionsCtrl?{baseUrl:a.meta.baseUrl,name:"query-options-ctrl-"+a.meta.id,bindings:{panelCtrl:"="},attrs:{"panel-ctrl":"ctrl"},Component:b.QueryOptionsCtrl}:{notFound:!0}})});case"annotations-query-ctrl":return System.import(a.ctrl.currentDatasource.meta.module).then(function(b){return{baseUrl:a.ctrl.currentDatasource.meta.baseUrl,name:"annotations-query-ctrl-"+a.ctrl.currentDatasource.meta.id,bindings:{annotation:"=",datasource:"="},attrs:{annotation:"ctrl.currentAnnotation",datasource:"ctrl.currentDatasource"},Component:b.AnnotationsQueryCtrl}});case"datasource-config-ctrl":var e=a.ctrl.datasourceMeta;return System.import(e.module).then(function(a){return a.ConfigCtrl?{baseUrl:e.baseUrl,name:"ds-config-"+e.id,bindings:{meta:"=",current:"="},attrs:{meta:"ctrl.datasourceMeta",current:"ctrl.current"},Component:a.ConfigCtrl}:{notFound:!0}});case"app-config-ctrl":var f=a.ctrl.model;return System.import(f.module).then(function(a){return{baseUrl:f.baseUrl,name:"app-config-"+f.id,bindings:{appModel:"=",appEditCtrl:"="},attrs:{"app-model":"ctrl.model","app-edit-ctrl":"ctrl"},Component:a.ConfigCtrl}});case"app-page":var g=a.ctrl.appModel;return System.import(g.module).then(function(b){return{baseUrl:g.baseUrl,name:"app-page-"+g.appId+"-"+a.ctrl.page.slug,bindings:{appModel:"="},attrs:{"app-model":"ctrl.appModel"},Component:b[a.ctrl.page.component]}});case"panel":return o(a,c);default:return i.reject({message:"Could not find component type: "+c.type})}}function q(b,c,f){var g=d.default.element(document.createElement(f.name));e.default.each(f.attrs,function(a,b){g.attr(b,a)}),a(g)(b),c.empty(),setTimeout(function(){c.append(g),b.$applyAsync(function(){b.$broadcast("refresh")})})}function r(a,b,c,d){if(d.notFound)return void b.empty();if(!d.Component)throw{message:"Failed to find exported plugin component for "+d.name};if(!d.Component.registered){var e=c.$normalize(d.name),f=n(d);g.default.directive(e,f),d.Component.registered=!0}q(a,b,d)}return{restrict:"E",link:function(a,b,d){p(a,d).then(function(c){r(a,b,d,c)}).catch(function(a){c.appEvent("alert-error",["Plugin Error",a.message||a]),console.log("Plugin component error",a)})}}}c.$inject=["$compile","datasourceSrv","$rootScope","$q","$http","$templateCache"];var d,e,f,g,h;b&&b.id;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){g.default.directive("pluginComponent",c)}}}),System.register("app/core/directives/rebuild_on_change.js",["jquery","../core_module"],function(a,b){"use strict";function c(a){for(var b,c=a[0],d=a[a.length-1],f=1;c!==d&&(c=c.nextSibling);f++)(b||a[f]!==c)&&(b||(b=e.default([].slice.call(a,0,f))),b.push(c));return b||a}function d(a){return{multiElement:!0,terminal:!0,transclude:!0,priority:600,restrict:"E",link:function(b,d,e,f,g){function h(){k&&(k.remove(),k=null),j&&(j.$destroy(),j=null),i&&(k=c(i.clone),a.leave(k).then(function(){k=null}),i=null)}var i,j,k;b.$watch(e.property,function(b,c){j&&b!==c&&h(),j||!b&&!e.showNull?h():g(function(b,c){j=c,b[b.length++]=document.createComment(" end rebuild on change "),i={clone:b},a.enter(b,d.parent(),d)})})}}}d.$inject=["$animate"];var e,f;b&&b.id;return{setters:[function(a){e=a},function(a){f=a}],execute:function(){f.default.directive("rebuildOnChange",d)}}}),System.register("app/core/directives/give_focus.js",["../core_module"],function(a,b){"use strict";var c;b&&b.id;return{setters:[function(a){c=a}],execute:function(){c.default.directive("giveFocus",function(){return function(a,b,c){b.click(function(a){a.stopPropagation()}),a.$watch(c.giveFocus,function(a){a&&setTimeout(function(){b.focus();var a=b[0];if(a.setSelectionRange){var c=2*b.val().length;a.setSelectionRange(c,c)}},200)},!0)}}),a("default",{})}}}),function(){var a=System.amdDefine;a("app/core/jquery_extended.js",["jquery","angular","lodash"],function(a,b,c){"use strict";var d=a(window);return a.fn.place_tt=function(){var e={offset:5};return function(f,g,h){return h=a.extend(!0,{},e,h),this.each(function(){var e,i,j=a(this);j.addClass("grafana-tooltip"),a("#tooltip").remove(),j.appendTo(document.body),h.compile&&b.element(document).injector().invoke(["$compile","$rootScope",function(a,b){var d=b.$new(!0);c.extend(d,h.scopeData),a(j)(d),d.$digest(),d.$destroy()}]),e=j.outerWidth(!0),i=j.outerHeight(!0),j.css("left",f+h.offset+e>d.width()?f-h.offset-e:f+h.offset),j.css("top",g+h.offset+i>d.height()?g-h.offset-i:g+h.offset)})}}(),a})}(),function(){var a=System.amdDefine;a("app/core/partials.js",["app/core/core_module"],function(a){a.default.run(["$templateCache",function(a){"use strict";a.put("public/app/core/components/help/help.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-keyboard"></i> <span class="p-l-1">Shortcuts</span></h2><a class="modal-header-close" ng-click="ctrl.dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content help-modal"><p class="small" style="position: absolute; top: 48px; right: 10px"><span class="shortcut-table-key">mod</span> = <span class="muted">CTRL on windows or linux and CMD key on Mac</span></p><div ng-repeat="(category, shortcuts) in ctrl.shortcuts" class="shortcut-category"><table class="shortcut-table"><tbody><tr><th class="shortcut-table-category-header" colspan="2">{{category}}</th></tr><tr ng-repeat="shortcut in shortcuts"><td class="shortcut-table-keys"><span class="shortcut-table-key" ng-repeat="key in shortcut.keys track by $index" ng-bind-html="key"></span></td><td class="shortcut-table-description">{{shortcut.description}}</td></tr><tbody></tbody></tbody></table></div><div class="clearfix"></div></div></div>'),a.put("public/app/core/components/navbar/navbar.html",'<div class="navbar-inner"><a class="navbar-brand-btn pointer" ng-click="ctrl.contextSrv.toggleSideMenu()"><span class="navbar-brand-btn-background"><img src="public/img/grafana_icon.svg"></span><i class="icon-gf icon-gf-grafana_wordmark"></i> <i class="fa fa-caret-down"></i> <i class="fa fa-chevron-left"></i> </a><a href="{{ctrl.titleUrl}}" class="navbar-page-btn" ng-show="ctrl.title"><i class="{{ctrl.icon}}" ng-show="ctrl.icon"></i> <img ng-src="{{ctrl.iconUrl}}" ng-show="ctrl.iconUrl">{{ctrl.title}}</a><div ng-transclude></div></div>'),a.put("public/app/core/components/search/search.html",'<div class="search-container" ng-if="ctrl.isOpen"><div class="search-field-wrapper"><span style="position: relative"><input type="text" placeholder="Find dashboards by name" give-focus="ctrl.giveSearchFocus" tabindex="1" ng-keydown="ctrl.keyDown($event)" ng-model="ctrl.query.query" ng-model-options="{ debounce: 500 }" spellcheck="false" ng-change="ctrl.search()"></span><div class="search-switches"><i class="fa fa-filter"></i> <a class="pointer" href="javascript:void 0;" ng-click="ctrl.showStarred()" tabindex="2"><i class="fa fa-remove" ng-show="ctrl.query.starred"></i> starred </a>| <a class="pointer" href="javascript:void 0;" ng-click="ctrl.getTags()" tabindex="3"><i class="fa fa-remove" ng-show="ctrl.tagsMode"></i> tags </a><span ng-if="ctrl.query.tag.length">| <span ng-repeat="tagName in ctrl.query.tag"><a ng-click="ctrl.removeTag(tagName, $event)" tag-color-from-name="tagName" class="label label-tag"><i class="fa fa-remove"></i> {{tagName}}</a></span></span></div></div><div class="search-results-container" ng-if="ctrl.tagsMode"><div ng-repeat="tag in ctrl.results" class="pointer" style="width: 180px; float: left" ng-class="{\'selected\': $index === ctrl.selectedIndex }" ng-click="ctrl.filterByTag(tag.term, $event)"><a class="search-result-tag label label-tag" tag-color-from-name="tag.term"><i class="fa fa-tag"></i> <span>{{tag.term}} &nbsp;({{tag.count}})</span></a></div></div><div class="search-results-container" ng-if="!ctrl.tagsMode"><h6 ng-hide="ctrl.results.length">No dashboards matching your query were found.</h6><a class="search-item pointer search-item-{{row.type}}" bindonce ng-repeat="row in ctrl.results" ng-class="{\'selected\': $index == ctrl.selectedIndex}" ng-href="{{row.url}}"><span class="search-result-tags"><span ng-click="ctrl.filterByTag(tag, $event)" ng-repeat="tag in row.tags" tag-color-from-name="tag" class="label label-tag">{{tag}} </span><i class="fa" ng-class="{\'fa-star\': row.isStarred, \'fa-star-o\': !row.isStarred}"></i> </span><span class="search-result-link"><i class="fa search-result-icon"></i> <span bo-text="row.title"></span></span></a></div><div class="search-button-row"><a class="btn btn-inverse pull-left" href="dashboard/new" ng-show="ctrl.contextSrv.isEditor" ng-click="ctrl.isOpen = false;"><i class="fa fa-plus"></i> Create New </a><a class="btn btn-inverse pull-left" href="dashboard/new/?editview=import" ng-show="ctrl.contextSrv.isEditor" ng-click="ctrl.isOpen = false;"><i class="fa fa-upload"></i> Import </a><a class="pull-right search-button-row-explore-link" target="_blank" href="https://grafana.com/dashboards?utm_source=grafana_search">Find <img src="public/img/icn-dashboard-tiny.svg" width="14"> dashboards on Grafana.com</a><div class="clearfix"></div></div></div>'),a.put("public/app/core/components/sidemenu/sidemenu.html",'<ul class="sidemenu"><li class="sidemenu-org-section" ng-if="::ctrl.isSignedIn" class="dropdown"><a class="sidemenu-org" href="profile"><div class="sidemenu-org-avatar"><img ng-src="{{::ctrl.user.gravatarUrl}}"> <span class="sidemenu-org-avatar--missing"><i class="fa fa-fw fa-user"></i></span></div><div class="sidemenu-org-details"><span class="sidemenu-org-user sidemenu-item-text">{{::ctrl.user.name}}</span> <span class="sidemenu-org-name sidemenu-item-text">{{::ctrl.user.orgName}}</span></div></a><i class="fa fa-caret-right"></i><ul class="dropdown-menu" role="menu"><li ng-repeat="menuItem in ctrl.orgMenu" ng-class="::menuItem.cssClass"><span ng-show="::menuItem.section">{{::menuItem.section}}</span> <a href="{{::menuItem.url}}" ng-show="::menuItem.url" target="{{::menuItem.target}}"><i class="{{::menuItem.icon}}" ng-show="::menuItem.icon"></i> {{::menuItem.text}}</a></li><li ng-show="ctrl.orgs.length > ctrl.maxShownOrgs" style="margin-left: 10px;width: 90%"><span class="sidemenu-item-text">Max shown : {{::ctrl.maxShownOrgs}}</span> <input ng-model="::ctrl.orgFilter" style="padding-left: 5px" type="text" ng-change="::ctrl.loadOrgsItems();" class="gf-input-small width-12" placeholder="Filter"></li><li ng-repeat="orgItem in ctrl.orgItems" ng-class="::orgItem.cssClass"><a href="{{::orgItem.url}}" ng-show="::orgItem.url" target="{{::orgItem.target}}"><i class="{{::orgItem.icon}}" ng-show="::orgItem.icon"></i> {{::orgItem.text}}</a></li></ul></li><li ng-repeat="item in ::ctrl.mainLinks" class="dropdown"><a href="{{::item.url}}" class="sidemenu-item sidemenu-main-link" target="{{::item.target}}"><span class="icon-circle sidemenu-icon"><i class="{{::item.icon}}" ng-show="::item.icon"></i> <img ng-src="{{::item.img}}" ng-show="::item.img"> </span><span class="sidemenu-item-text">{{::item.text}}</span> <span class="fa fa-caret-right" ng-if="::item.children"></span></a><ul class="dropdown-menu" role="menu" ng-if="::item.children"><li ng-repeat="child in ::item.children" ng-class="{divider: child.divider}"><a href="{{::child.url}}"><i class="{{::child.icon}}" ng-show="::child.icon"></i> {{::child.text}}</a></li></ul></li><li ng-show="::!ctrl.isSignedIn"><a href="{{ctrl.loginUrl}}" class="sidemenu-item" target="_self"><span class="icon-circle sidemenu-icon"><i class="fa fa-fw fa-sign-in"></i></span> <span class="sidemenu-item-text">Sign in</span></a></li><li><a class="sidemenu-item" target="_self" ng-hide="ctrl.contextSrv.pinned" ng-click="ctrl.contextSrv.setPinnedState(true)"><span class="icon-circle sidemenu-icon"><i class="fa fa-fw fa-thumb-tack"></i></span> <span class="sidemenu-item-text">Pin</span></a></li></ul>'),a.put("public/app/core/components/wizard/wizard.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-cog fa-spin"></i> <span class="p-l-1">{{model.name}}</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div ng-if="activeStep"></div></div></div>'),a.put("public/app/features/admin/partials/admin_home.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"></navbar><div class="page-container"><div class="page-header"><h1>Server Administration</h1></div><a class="btn btn-inverse" href="admin/users">Manage Users </a><a class="btn btn-inverse" href="admin/orgs">Manage Organizations </a><a class="btn btn-inverse" href="admin/settings">View Server Settings </a><a class="btn btn-inverse" href="admin/stats">View Server Stats </a><a class="btn btn-inverse" href="styleguide">Style guide</a></div>'),a.put("public/app/features/admin/partials/edit_org.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/orgs" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Orgs</a></navbar><div class="page-container"><div class="page-header"><h1>Edit Organization</h1></div><form name="orgDetailsForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Name</span> <input type="text" required ng-model="org.name" class="gf-form-input max-width-14"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="update()" ng-show="!createMode">Update</button></div></form><h3 class="page-heading">Organization Users</h3><table class="grafana-options-table"><tr><th>Username</th><th>Email</th><th>Role</th><th></th></tr><tr ng-repeat="orgUser in orgUsers"><td>{{orgUser.login}}</td><td>{{orgUser.email}}</td><td><select type="text" ng-model="orgUser.role" class="gf-form-input max-width-8" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']" ng-change="updateOrgUser(orgUser)"></select></td><td style="width: 1%"><a ng-click="removeOrgUser(orgUser)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/admin/partials/edit_user.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/users" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Users</a></navbar><div class="page-container"><div class="page-header"><h1>Edit User</h1></div><form name="userForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Name</span> <input type="text" required ng-model="user.name" class="gf-form-input max-width-25"></div><div class="gf-form"><span class="gf-form-label width-10">Email</span> <input type="email" ng-model="user.email" class="gf-form-input max-width-25"></div><div class="gf-form"><span class="gf-form-label width-10">Username</span> <input type="text" ng-model="user.login" class="gf-form-input max-width-25"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="update()" ng-show="!createMode">Update</button></div></form><h3 class="page-heading">Change password</h3><form name="passwordForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">New password</span> <input type="password" required ng-minlength="4" ng-model="password" class="gf-form-input max-width-25"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="setPassword()">Update</button></div></form><h3 class="page-heading">Permissions</h3><form name="passwordForm" class="gf-form-group"><div class="gf-form"><editor-checkbox text="Grafana Admin" model="permissions.isGrafanaAdmin" style="line-height: 1.5rem"></editor-checkbox></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="updatePermissions()">Update</button></div></form><h3 class="page-heading">Organizations</h3><form name="addOrgForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-12">Add organization</span> <input type="text" ng-model="newOrg.name" bs-typeahead="searchOrgs" required class="gf-form-input max-width-20" placeholder="organization name"></div><div class="gf-form"><span class="gf-form-label">Role</span><select type="text" ng-model="newOrg.role" class="gf-form-input width-10" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']"></select></div><div class="gf-form"><button class="btn btn-success gf-form-btn" ng-click="addOrgUser()">Add</button></div></div></form><table class="grafana-options-table"><tr><th>Name</th><th>Role</th><th></th></tr><tr ng-repeat="org in orgs"><td>{{org.name}} <span class="label label-info" ng-show="org.orgId === user.orgId">Current</span></td><td><select type="text" ng-model="org.role" class="gf-form-input max-width-12" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']" ng-change="updateOrgUser(org)"></select></td><td style="width: 1%"><a ng-click="removeOrgUser(org)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/admin/partials/new_user.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/users" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Users</a></navbar><div class="page-container"><div class="page-header"><h1>Add new user</h1></div><form name="userForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Name</span> <input type="text" required ng-model="user.name" class="gf-form-input max-width-20"></div><div class="gf-form"><span class="gf-form-label width-10">Email</span> <input type="email" ng-model="user.email" class="gf-form-input max-width-20"></div><div class="gf-form"><span class="gf-form-label width-10">Username</span> <input type="text" ng-model="user.login" class="gf-form-input max-width-20"></div><div class="gf-form"><span class="gf-form-label width-10">Password</span> <input type="password" required ng-model="user.password" class="gf-form-input max-width-20"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="create()">Create</button></div></form></div>'),a.put("public/app/features/admin/partials/orgs.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/orgs" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Orgs</a></navbar><div class="page-container"><div class="page-header"><h1>Organizations</h1></div><table class="filter-table form-inline"><thead><tr><th>Id</th><th>Name</th><th></th></tr></thead><tbody><tr ng-repeat="org in orgs"><td>{{org.id}}</td><td>{{org.name}}</td><td class="text-right"><a href="admin/orgs/edit/{{org.id}}" class="btn btn-inverse btn-small"><i class="fa fa-edit"></i> Edit </a>&nbsp;&nbsp; <a ng-click="deleteOrg(org)" class="btn btn-danger btn-small"><i class="fa fa-remove"></i></a></td></tr></tbody></table></div>'),a.put("public/app/features/admin/partials/settings.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"></navbar><div class="page-container"><div class="page-header"><h1>Server settings</h1></div><div class="grafana-info-box span8" style="margin: 20px 0 25px 0">These system settings are defined in grafana.ini or custom.ini (or overriden in ENV variables). To change these you currently need to restart grafana.</div><table class="grafana-options-table"><tr ng-repeat-start="(secName, secValue) in settings"><td class="admin-settings-section">{{secName}}</td><td></td></tr><tr ng-repeat="(keyName, keyValue) in secValue" ng-repeat-end><td style="padding-left: 25px">{{keyName}}</td><td>{{keyValue}}</td></tr></table></div>'),a.put("public/app/features/admin/partials/stats.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"></navbar><div class="page-container"><div class="page-header"><h1>Stats</h1></div><table class="filter-table form-inline"><thead><tr><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>Total dashboards</td><td>{{ctrl.stats.dashboard_count}}</td></tr><tr><td>Total users</td><td>{{ctrl.stats.user_count}}</td></tr><tr><td>Total organizations</td><td>{{ctrl.stats.org_count}}</td></tr><tr><td>Total datasources</td><td>{{ctrl.stats.data_source_count}}</td></tr><tr><td>Total playlists</td><td>{{ctrl.stats.playlist_count}}</td></tr><tr><td>Total snapshots</td><td>{{ctrl.stats.db_snapshot_count}}</td></tr><tr><td>Total dashboard tags</td><td>{{ctrl.stats.db_tag_count}}</td></tr><tr><td>Total starred dashboards</td><td>{{ctrl.stats.starred_db_count}}</td></tr><tr><td>Total alerts</td><td>{{ctrl.stats.alert_count}}</td></tr></tbody></table></div>'),
a.put("public/app/features/admin/partials/users.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/users" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Users</a></navbar><div class="page-container"><div class="page-header"><h1>Users</h1><a class="btn btn-success" href="admin/users/create"><i class="fa fa-plus"></i> Add new user</a></div><div class="search-field-wrapper pull-right width-18"><span style="position: relative"><input type="text" placeholder="Find user by name/login/email" tabindex="1" give-focus="true" ng-model="ctrl.query" ng-model-options="{ debounce: 500 }" spellcheck="false" ng-change="ctrl.getUsers()"></span></div><div class="admin-list-table"><table class="filter-table form-inline"><thead><tr><th>Id</th><th>Name</th><th>Login</th><th>Email</th><th style="white-space: nowrap">Grafana Admin</th><th></th></tr></thead><tbody><tr ng-repeat="user in ctrl.users"><td>{{user.id}}</td><td>{{user.name}}</td><td>{{user.login}}</td><td>{{user.email}}</td><td>{{user.isAdmin}}</td><td class="text-right"><a href="admin/users/edit/{{user.id}}" class="btn btn-inverse btn-small"><i class="fa fa-edit"></i> Edit </a>&nbsp;&nbsp; <a ng-click="ctrl.deleteUser(user)" class="btn btn-danger btn-small"><i class="fa fa-remove"></i></a></td></tr></tbody></table></div><div class="admin-list-paging" ng-if="ctrl.showPaging"><ol><li ng-repeat="page in ctrl.pages"><button class="btn btn-small" ng-class="{\'btn-secondary\': page.current, \'btn-inverse\': !page.current}" ng-click="ctrl.navigateToPage(page)">{{page.page}}</button></li></ol></div></div>'),a.put("public/app/features/alerting/partials/alert_howto.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-info-circle"></i> <span class="p-l-1">Adding an Alert</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="text-center"><img src="public/img/alert_howto_new.png"></div><p class="p-a-2 text-center offset-lg-1 col-lg-10">Alerts are added and configured in the <strong>Alert Tab</strong> of any dashboard graph panel, letting you build and visualize an alert using existing queries.<br><br>To persist you alert rule changes remember to save the dashboard.<br><br><a href="{{appSubUrl}}" class="external-link" ng-click="dismiss()">Go to Home Dashboard</a></p></div></div>'),a.put("public/app/features/alerting/partials/alert_list.html",'<navbar icon="icon-gf icon-gf-alert" title="Alerting" title-url="alerting"></navbar><div class="page-container"><div class="page-header"><h1>Alert List</h1><a class="btn btn-inverse" ng-click="ctrl.openHowTo()"><i class="fa fa-info-circle"></i> How to add an alert </a><a class="btn btn-inverse" href="alerting/notifications"><i class="fa fa-cog"></i> Configure notifications</a></div><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label">Filter by state</label><div class="gf-form-select-wrapper width-13"><select class="gf-form-input" ng-model="ctrl.filters.state" ng-options="f.value as f.text for f in ctrl.stateFilters" ng-change="ctrl.filtersChanged()"></select></div></div></div></div><section class="card-section card-list-layout-list"><ol class="card-list"><li class="card-item-wrapper" ng-repeat="alert in ctrl.alerts"><div class="card-item card-item--alert"><div class="card-item-header"><div class="card-item-type"><a class="card-item-cog" bs-tooltip="\'Pausing an alert rule prevents it from executing\'" ng-click="ctrl.pauseAlertRule(alert.id)"><i class="fa fa-pause"></i> </a><a class="card-item-cog" href="dashboard/{{alert.dashboardUri}}?panelId={{alert.panelId}}&fullscreen&edit&tab=alert" bs-tooltip="\'Edit alert rule\'"><i class="icon-gf icon-gf-settings"></i></a></div></div><div class="card-item-body"><div class="card-item-details"><div class="card-item-name"><a href="dashboard/{{alert.dashboardUri}}?panelId={{alert.panelId}}&fullscreen&edit&tab=alert">{{alert.name}}</a></div><div class="card-item-sub-name"><span class="alert-list-item-state {{alert.stateModel.stateClass}}"><i class="{{alert.stateModel.iconClass}}"></i> {{alert.stateModel.text}} <span class="small muted" ng-show="alert.no_data">(due to no data)</span> </span>for {{alert.newStateDateAgo}}</div><div class="small muted" ng-show="alert.executionError !== \'\'">Error: "{{alert.executionError}}"</div></div></div></div></li></ol></section></div>'),a.put("public/app/features/alerting/partials/alert_tab.html",'<div class="edit-tab-with-sidemenu" ng-if="ctrl.alert"><aside class="edit-sidemenu-aside"><ul class="edit-sidemenu"><li ng-class="{active: ctrl.subTabIndex === 0}"><a ng-click="ctrl.changeTabIndex(0)">Alert Config</a></li><li ng-class="{active: ctrl.subTabIndex === 1}"><a ng-click="ctrl.changeTabIndex(1)">Notifications <span class="muted">({{ctrl.alertNotifications.length}})</span></a></li><li ng-class="{active: ctrl.subTabIndex === 2}"><a ng-click="ctrl.changeTabIndex(2)">State history</a></li><li><a ng-click="ctrl.delete()">Delete</a></li></ul></aside><div class="edit-tab-content"><div ng-if="ctrl.subTabIndex === 0"><div class="alert alert-error m-b-2" ng-show="ctrl.error"><i class="fa fa-warning"></i> {{ctrl.error}}</div><div class="gf-form-group"><h5 class="section-heading">Alert Config</h5><div class="gf-form"><span class="gf-form-label width-6">Name</span> <input type="text" class="gf-form-input width-20" ng-model="ctrl.alert.name"> <span class="gf-form-label">Evaluate every</span> <input class="gf-form-input max-width-5" type="text" ng-model="ctrl.alert.frequency"></div></div><div class="gf-form-group"><h5 class="section-heading">Conditions</h5><div class="gf-form-inline" ng-repeat="conditionModel in ctrl.conditionModels"><div class="gf-form"><metric-segment-model css-class="query-keyword width-5" ng-if="$index" property="conditionModel.operator.type" options="ctrl.evalOperators" custom="false"></metric-segment-model><span class="gf-form-label query-keyword width-5" ng-if="$index===0">WHEN</span></div><div class="gf-form"><query-part-editor class="gf-form-label query-part width-6" part="conditionModel.reducerPart" handle-event="ctrl.handleReducerPartEvent(conditionModel, $event)"></query-part-editor><span class="gf-form-label query-keyword">OF</span></div><div class="gf-form"><query-part-editor class="gf-form-label query-part" part="conditionModel.queryPart" handle-event="ctrl.handleQueryPartEvent(conditionModel, $event)"></query-part-editor></div><div class="gf-form"><metric-segment-model property="conditionModel.evaluator.type" options="ctrl.evalFunctions" custom="false" css-class="query-keyword" on-change="ctrl.evaluatorTypeChanged(conditionModel.evaluator)"></metric-segment-model><input class="gf-form-input max-width-9" type="number" step="any" ng-hide="conditionModel.evaluator.params.length === 0" ng-model="conditionModel.evaluator.params[0]" ng-change="ctrl.evaluatorParamsChanged()"><label class="gf-form-label query-keyword" ng-show="conditionModel.evaluator.params.length === 2">TO</label><input class="gf-form-input max-width-9" type="number" step="any" ng-if="conditionModel.evaluator.params.length === 2" ng-model="conditionModel.evaluator.params[1]" ng-change="ctrl.evaluatorParamsChanged()"></div><div class="gf-form"><label class="gf-form-label"><a class="pointer" tabindex="1" ng-click="ctrl.removeCondition($index)"><i class="fa fa-trash"></i></a></label></div></div><div class="gf-form"><label class="gf-form-label dropdown"><a class="pointer dropdown-toggle" data-toggle="dropdown"><i class="fa fa-plus"></i></a><ul class="dropdown-menu" role="menu"><li ng-repeat="ct in ctrl.conditionTypes" role="menuitem"><a ng-click="ctrl.addCondition(ct.value);">{{ct.text}}</a></li></ul></label></div></div><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-18">If no data or all values are null</span> <span class="gf-form-label query-keyword">SET STATE TO</span><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.alert.noDataState" ng-options="f.value as f.text for f in ctrl.noDataModes"></select></div></div><div class="gf-form"><span class="gf-form-label width-18">If execution error or timeout</span> <span class="gf-form-label query-keyword">SET STATE TO</span><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.alert.executionErrorState" ng-options="f.value as f.text for f in ctrl.executionErrorModes"></select></div></div><div class="gf-form-button-row"><button class="btn btn-inverse" ng-click="ctrl.test()">Test Rule</button></div></div><div class="gf-form-group" ng-if="ctrl.testing">Evaluating rule <i class="fa fa-spinner fa-spin"></i></div><div class="gf-form-group" ng-if="ctrl.testResult"><json-tree root-name="result" object="ctrl.testResult" start-expanded="true"></json-tree></div></div><div class="gf-form-group" ng-if="ctrl.subTabIndex === 1"><h5 class="section-heading">Notifications</h5><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-8">Send to</span> <span class="gf-form-label" ng-repeat="nc in ctrl.alertNotifications" ng-style="{\'background-color\': nc.bgColor }"><i class="{{nc.iconClass}}"></i>&nbsp;{{nc.name}}&nbsp; <i class="fa fa-remove pointer muted" ng-click="ctrl.removeNotification($index)" ng-if="nc.isDefault === false"></i></span><metric-segment segment="ctrl.addNotificationSegment" get-options="ctrl.getNotifications()" on-change="ctrl.notificationAdded()"></metric-segment></div></div><div class="gf-form gf-form--v-stretch"><span class="gf-form-label width-8">Message</span><textarea class="gf-form-input" rows="10" ng-model="ctrl.alert.message" placeholder="Notification message details..."></textarea></div></div><div class="gf-form-group" style="max-width: 720px" ng-if="ctrl.subTabIndex === 2"><button class="btn btn-mini btn-danger pull-right" ng-click="ctrl.clearHistory()"><i class="fa fa-trash"></i>&nbsp;Clear history</button><h5 class="section-heading" style="whitespace: nowrap">State history <span class="muted small">(last 50 state changes)</span></h5><div ng-show="ctrl.alertHistory.length === 0"><br><i>No state changes recorded</i></div><section class="card-section card-list-layout-list"><ol class="card-list"><li class="card-item-wrapper" ng-repeat="ah in ctrl.alertHistory"><div class="card-item card-item--alert"><div class="card-item-header"><div class="card-item-type"></div></div><div class="card-item-body"><div class="card-item-details"><div class="card-item-sub-name"><span class="alert-list-item-state {{ah.stateModel.stateClass}}"><i class="{{ah.stateModel.iconClass}}"></i> {{ah.stateModel.text}} </span>{{ah.time}}</div><div class="card-item-sub-name">{{ah.info}}</div></div></div></div></li></ol></section></div></div></div><div class="gf-form-group" ng-if="!ctrl.alert"><div class="gf-form-button-row"><button class="btn btn-inverse" ng-click="ctrl.enable()"><i class="icon-gf icon-gf-alert"></i> Create Alert</button></div></div>'),a.put("public/app/features/alerting/partials/notification_edit.html",'<navbar icon="icon-gf icon-gf-alert" title="Alerting" title-url="alerting"><a href="alerting/notifications" class="navbar-page-btn"><i class="fa fa-fw fa-rss"></i> Notification channels</a></navbar><div class="page-container"><div class="page-header"><h1 ng-show="ctrl.model.id">Edit Channel</h1><h1 ng-show="!ctrl.model.id">New Channel</h1></div><form name="ctrl.theForm" ng-if="ctrl.notifiers"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-12">Name</span> <input type="text" required class="gf-form-input max-width-15" ng-model="ctrl.model.name" required></div><div class="gf-form"><span class="gf-form-label width-12">Type</span><div class="gf-form-select-wrapper width-15"><select class="gf-form-input" ng-model="ctrl.model.type" ng-options="t.type as t.name for t in ctrl.notifiers" ng-change="ctrl.typeChanged(notification, $index)"></select></div></div><gf-form-switch class="gf-form" label="Send on all alerts" label-class="width-12" checked="ctrl.model.isDefault" tooltip="Use this notification for all alerts"></gf-form-switch><gf-form-switch class="gf-form" label="Include image" label-class="width-12" checked="ctrl.model.settings.uploadImage" tooltip="Captures an image and include it in the notification"></gf-form-switch></div><div class="gf-form-group" ng-include src="ctrl.notifierTemplateId"></div><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form width-6"><button type="submit" ng-click="ctrl.save()" class="btn btn-success">Save</button></div><div class="gf-form width-20"><div class="gf-form"><button type="submit" ng-click="ctrl.testNotification()" class="btn btn-secondary">Send Test</button></div></div></div></div></form></div>'),a.put("public/app/features/alerting/partials/notifications_list.html",'<navbar icon="icon-gf icon-gf-alert" title="Alerting" title-url="alerting"></navbar><div class="page-container"><div class="page-header"><h1>Notification channels</h1><a href="alerting/notification/new" class="btn btn-success pull-right"><i class="fa fa-plus"></i> New Channel</a></div><table class="grafana-options-table"><thead><th style="min-width: 200px"><strong>Name</strong></th><th style="min-width: 100px">Type</th><th style="width: 1%"></th></thead><tr ng-repeat="notification in ctrl.notifications"><td><a href="alerting/notification/{{notification.id}}/edit">{{notification.name}}</a></td><td>{{notification.type}}</td><td class="text-right"><span class="btn btn-secondary btn-small" ng-show="notification.isDefault == true">default </span><a href="alerting/notification/{{notification.id}}/edit" class="btn btn-inverse btn-small"><i class="fa fa-edit"></i> edit </a><a ng-click="ctrl.deleteNotification(notification.id)" class="btn btn-danger btn-small"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/annotations/partials/editor.html",'<div ng-controller="AnnotationsEditorCtrl"><div class="tabbed-view-header"><h2 class="tabbed-view-title">Annotations</h2><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.mode = \'list\';" ng-class="{active: ctrl.mode === \'list\'}">Queries</a></li><li class="gf-tabs-item" ng-show="ctrl.mode === \'edit\'"><a class="gf-tabs-link" ng-class="{active: ctrl.mode === \'edit\'}">Edit Query</a></li><li class="gf-tabs-item" ng-show="ctrl.mode === \'new\'"><span class="active gf-tabs-link">New Query</span></li><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.mode = \'help\';" ng-class="{active: ctrl.mode === \'help\'}">Help</a></li></ul><button class="tabbed-view-close-btn" ng-click="dismiss();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div ng-show="ctrl.mode === \'help\'"><div class="grafana-info-box col-lg-8"><h5>What are Annotations?</h5><p>Annotations provide a way to integrate event data into your graphs. They are visualized as vertical lines and icons on all graph panels. When you hover over an annotation icon you can get title, tags, and text information for the event. In the <i>Queries</i> tab you can add queries that return annotation events.<br><br>Checkout the <a class="external-link" target="_blank" href="http://docs.grafana.org/reference/annotations/">Annotations documentation</a> for more information.</p></div></div><div class="editor-row row" ng-if="ctrl.mode === \'list\'"><div ng-if="ctrl.annotations.length === 0"><em>No annotation queries defined</em></div><table class="grafana-options-table"><tr ng-repeat="annotation in ctrl.annotations"><td style="width:90%"><i class="fa fa-bolt" style="color:{{annotation.iconColor}}"></i> &nbsp; {{annotation.name}}</td><td style="width: 1%"><i ng-click="_.move(ctrl.annotations,$index,$index-1)" ng-hide="$first" class="pointer fa fa-arrow-up"></i></td><td style="width: 1%"><i ng-click="_.move(ctrl.annotations,$index,$index+1)" ng-hide="$last" class="pointer fa fa-arrow-down"></i></td><td style="width: 1%"><a ng-click="ctrl.edit(annotation)" class="btn btn-inverse btn-mini"><i class="fa fa-edit"></i> Edit</a></td><td style="width: 1%"><a ng-click="ctrl.removeAnnotation(annotation)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div><div class="gf-form" ng-show="ctrl.mode === \'list\'"><div class="gf-form-button-row"><a type="button" class="btn gf-form-button btn-success" ng-click="ctrl.mode = \'new\';"><i class="fa fa-plus"></i>&nbsp;&nbsp;New</a></div></div><div class="annotations-basic-settings" ng-if="ctrl.mode === \'edit\' || ctrl.mode === \'new\'"><div class="gf-form-group"><h5 class="section-heading">Options</h5><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-9">Name</span> <input type="text" class="gf-form-input width-12" ng-model="ctrl.currentAnnotation.name" placeholder="name"></div><div class="gf-form"><span class="gf-form-label width-9">Data source</span><div class="gf-form-select-wrapper width-12"><select class="gf-form-input" ng-model="ctrl.currentAnnotation.datasource" ng-options="f.name as f.name for f in ctrl.datasources" ng-change="ctrl.datasourceChanged()"></select></div></div></div><div class="gf-form-group"><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Hide toggle" tooltip="Hides the annotation query toggle from showing at the top of the dashboard" checked="ctrl.currentAnnotation.hide" label-class="width-9"></gf-form-switch></div><div class="gf-form"><label class="gf-form-label width-9">Color</label><spectrum-picker class="gf-form-input width-3" ng-model="ctrl.currentAnnotation.iconColor"></spectrum-picker></div></div></div><h5 class="section-heading">Query</h5><rebuild-on-change property="ctrl.currentDatasource"><plugin-component type="annotations-query-ctrl"></plugin-component></rebuild-on-change><div class="gf-form"><div class="gf-form-button-row p-y-0"><button ng-show="ctrl.mode === \'new\'" type="button" class="btn gf-form-button btn-success" ng-click="ctrl.add()">Add</button> <button ng-show="ctrl.mode === \'edit\'" type="button" class="btn btn-success pull-left" ng-click="ctrl.update()">Update</button></div></div></div></div></div>'),a.put("public/app/features/annotations/partials/event_editor.html",'<h5 class="section-heading text-center">Add annotation</h5><form name="ctrl.form" class="text-center"><div style="display: inline-block"><div class="gf-form"><span class="gf-form-label width-7">Title</span> <input type="text" ng-model="ctrl.event.title" class="gf-form-input max-width-20" required></div><div ng-if="!ctrl.event.isRegion"><div class="gf-form"><span class="gf-form-label width-7">Time</span> <input type="text" ng-model="ctrl.event.time" class="gf-form-input max-width-20" input-datetime required ng-change="ctrl.timeChanged()"></div></div><div ng-if="ctrl.event.isRegion"><div class="gf-form"><span class="gf-form-label width-7">Start</span> <input type="text" ng-model="ctrl.event.time" class="gf-form-input max-width-20" input-datetime required ng-change="ctrl.timeChanged()"></div><div class="gf-form"><span class="gf-form-label width-7">End</span> <input type="text" ng-model="ctrl.event.timeEnd" class="gf-form-input max-width-20" input-datetime required ng-change="ctrl.timeChanged()"></div></div><div class="gf-form gf-form--v-stretch"><span class="gf-form-label width-7">Description</span><textarea class="gf-form-input width-20" rows="3" ng-model="ctrl.event.text" placeholder="Event description"></textarea></div><div class="gf-form-button-row"><button type="submit" class="btn gf-form-btn btn-success" ng-click="ctrl.save()">Save</button> <a class="btn-text" ng-click="ctrl.close();">Cancel</a></div></div></form>'),a.put("public/app/features/dashboard/dashnav/dashnav.html",'<navbar><a class="pointer navbar-page-btn" ng-if="::!dashboardMeta.isSnapshot" ng-click="openSearch()"><i class="icon-gf icon-gf-dashboard"></i> <span>{{dashboard.title}}</span> <i class="fa fa-caret-down"></i> </a><a class="pointer navbar-page-btn" ng-if="::dashboardMeta.isSnapshot" bs-tooltip="titleTooltip" data-placement="bottom" ng-click="openSearch()"><i class="icon-gf icon-gf-snapshot"></i> <span>{{dashboard.title}} <em class="small">&nbsp;&nbsp;(snapshot)</em></span></a><ul class="nav dash-playlist-actions" ng-if="playlistSrv"><li><a ng-click="playlistSrv.prev()"><i class="fa fa-step-backward"></i></a></li><li><a ng-click="playlistSrv.stop()"><i class="fa fa-stop"></i></a></li><li><a ng-click="playlistSrv.next()"><i class="fa fa-step-forward"></i></a></li></ul><ul class="nav pull-left dashnav-action-icons"><li ng-show="::dashboardMeta.canStar"><a class="pointer" ng-click="starDashboard()"><i class="fa" ng-class="{\'fa-star-o\': !dashboardMeta.isStarred, \'fa-star\': dashboardMeta.isStarred}" style="color: orange"></i></a></li><li ng-show="::dashboardMeta.canShare" class="dropdown"><a class="pointer" ng-click="hideTooltip($event)" bs-tooltip="\'Share dashboard\'" data-placement="bottom" data-toggle="dropdown"><i class="fa fa-share-square-o"></i></a><ul class="dropdown-menu"><li><a class="pointer" ng-click="shareDashboard(0)"><i class="fa fa-link"></i> Link to Dashboard<div class="dropdown-desc">Share an internal link to the current dashboard. Some configuration options available.</div></a></li><li><a class="pointer" ng-click="shareDashboard(1)"><i class="icon-gf icon-gf-snapshot"></i>Snapshot<div class="dropdown-desc">Interactive, publically accessible dashboard. Sensitive data is stripped out.</div></a></li><li><a class="pointer" ng-click="shareDashboard(2)"><i class="fa fa-cloud-upload"></i>Export<div class="dropdown-desc">Export the dashboard to a JSON file for others and to share on Grafana.com</div></a></li></ul></li><li ng-show="::dashboardMeta.canSave"><a ng-click="saveDashboard()" bs-tooltip="\'Save dashboard <br> CTRL+S\'" data-placement="bottom"><i class="fa fa-save"></i></a></li><li ng-if="dashboard.snapshot.originalUrl"><a ng-href="{{dashboard.snapshot.originalUrl}}" bs-tooltip="\'Open original dashboard\'" data-placement="bottom"><i class="fa fa-link"></i></a></li><li ng-if="::showSettingsMenu" class="dropdown"><a class="pointer" ng-click="hideTooltip($event)" bs-tooltip="\'Manage dashboard\'" data-placement="bottom" data-toggle="dropdown"><i class="fa fa-cog"></i></a><ul class="dropdown-menu"><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="openEditView(\'settings\');">Settings</a></li><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="openEditView(\'annotations\');">Annotations</a></li><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="openEditView(\'templating\');">Templating</a></li><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="viewJson();">View JSON</a></li><li ng-if="contextSrv.isEditor && !dashboard.editable"><a class="pointer" ng-click="makeEditable();">Make Editable</a></li><li ng-if="contextSrv.isEditor"><a class="pointer" ng-click="saveDashboardAs();">Save As...</a></li><li class="dropdown-menu-item-with-shortcut"><a class="pointer" ng-click="showHelpModal();">Shortcuts <span class="dropdown-menu-item-shortcut">?</span></a></li><li ng-if="dashboardMeta.canSave"><a class="pointer" ng-click="deleteDashboard();">Delete dashboard</a></li></ul></li></ul><ul class="nav pull-right"><li ng-show="dashboard.meta.fullscreen" class="dashnav-back-to-dashboard"><a ng-click="exitFullscreen()">Back to dashboard</a></li><li ng-if="dashboard"><gf-time-picker dashboard="dashboard"></gf-time-picker></li></ul></navbar>'),a.put("public/app/features/dashboard/export/export_modal.html",'<div class="share-modal-header"><div class="share-modal-big-icon"><i class="fa fa-cloud-upload"></i></div><div><p class="share-modal-info-text">Export the dashboard to a JSON file. The exporter will templatize the dashboard\'s data sources to make it easy for other\'s to to import and reuse. You can share dashboards on <a class="external-link" href="https://grafana.com">Grafana.com</a></p><div class="gf-form-button-row"><button type="button" class="btn gf-form-btn width-10 btn-success" ng-click="ctrl.save()"><i class="fa fa-save"></i> Save to file</button> <button type="button" class="btn gf-form-btn width-10 btn-secondary" ng-click="ctrl.saveJson()"><i class="fa fa-file-text-o"></i> View JSON</button> <a class="btn btn-link" ng-click="dismiss()">Cancel</a></div></div></div>'),a.put("public/app/features/dashboard/import/dash_import.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-upload"></i> <span class="p-l-1">Import Dashboard</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content" ng-cloak><div ng-if="ctrl.step === 1"><form class="gf-form-group"><dash-upload on-upload="ctrl.onUpload(dash)"></dash-upload></form><h5 class="section-heading">Grafana.com Dashboard</h5><div class="gf-form-group"><div class="gf-form"><input type="text" class="gf-form-input" ng-model="ctrl.gnetUrl" placeholder="Paste Grafana.com dashboard url or id" ng-blur="ctrl.checkGnetDashboard()"></div><div class="gf-form" ng-if="ctrl.gnetError"><label class="gf-form-label text-warning"><i class="fa fa-warning"></i> {{ctrl.gnetError}}</label></div></div><h5 class="section-heading">Or paste JSON</h5><div class="gf-form-group"><div class="gf-form"><textarea rows="7" data-share-panel-url="" class="gf-form-input" ng-model="ctrl.jsonText"></textarea></div><button type="button" class="btn btn-secondary" ng-click="ctrl.loadJsonText()"><i class="fa fa-paste"></i> Load</button> <span ng-if="ctrl.parseError" class="text-error p-l-1"><i class="fa fa-warning"></i> {{ctrl.parseError}}</span></div></div><div ng-if="ctrl.step === 2"><div class="gf-form-group" ng-if="ctrl.dash.gnetId"><h3 class="section-heading">Importing Dashboard from <a href="https://grafana.com/dashboards/{{ctrl.dash.gnetId}}" class="external-link" target="_blank">Grafana.com</a></h3><div class="gf-form"><label class="gf-form-label width-15">Published by</label><label class="gf-form-label width-15">{{ctrl.gnetInfo.orgName}}</label></div><div class="gf-form"><label class="gf-form-label width-15">Updated on</label><label class="gf-form-label width-15">{{ctrl.gnetInfo.updatedAt | date : \'yyyy-MM-dd HH:mm:ss\'}}</label></div></div><h3 class="section-heading">Options</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><label class="gf-form-label width-15">Name</label><input type="text" class="gf-form-input" ng-model="ctrl.dash.title" give-focus="true" ng-change="ctrl.titleChanged()" ng-class="{\'validation-error\': ctrl.nameExists || !ctrl.dash.title}"><label class="gf-form-label text-success" ng-if="!ctrl.nameExists && ctrl.dash.title"><i class="fa fa-check"></i></label></div></div><div class="gf-form-inline" ng-if="ctrl.nameExists"><div class="gf-form offset-width-15 gf-form--grow"><label class="gf-form-label text-warning gf-form-label--grow"><i class="fa fa-warning"></i> A Dashboard with the same name already exists</label></div></div><div class="gf-form-inline" ng-if="!ctrl.dash.title"><div class="gf-form offset-width-15 gf-form--grow"><label class="gf-form-label text-warning gf-form-label--grow"><i class="fa fa-warning"></i> A Dashboard should have a name</label></div></div><div ng-repeat="input in ctrl.inputs"><div class="gf-form"><label class="gf-form-label width-15">{{input.label}}<info-popover mode="right-normal">{{input.info}}</info-popover></label><div class="gf-form-select-wrapper" style="width: 100%" ng-if="input.type === \'datasource\'"><select class="gf-form-input" ng-model="input.value" ng-options="v.value as v.text for v in input.options" ng-change="ctrl.inputValueChanged()"><option value="" ng-hide="input.value">{{input.info}}</option></select></div><input ng-if="input.type === \'constant\'" type="text" class="gf-form-input" ng-model="input.value" placeholder="{{input.default}}" ng-change="ctrl.inputValueChanged()"><label class="gf-form-label text-success" ng-show="input.value"><i class="fa fa-check"></i></label></div></div></div><div class="gf-form-button-row"><button type="button" class="btn gf-form-btn btn-success width-12" ng-click="ctrl.saveDashboard()" ng-hide="ctrl.nameExists" ng-disabled="!ctrl.inputsValid"><i class="fa fa-save"></i> Import</button> <button type="button" class="btn gf-form-btn btn-danger width-12" ng-click="ctrl.saveDashboard()" ng-show="ctrl.nameExists" ng-disabled="!ctrl.inputsValid"><i class="fa fa-save"></i> Import (Overwrite)</button> <a class="btn btn-link" ng-click="dismiss()">Cancel</a> <a class="btn btn-link" ng-click="ctrl.back()">Back</a></div></div></div></div>'),a.put("public/app/features/dashboard/partials/addAnnotationModal.html",'<div class="modal-body" ng-controller="AddAnnotationModalCtrl"><div class="modal-header"><h2 class="modal-header-title">Add Annotation</h2><a class="modal-header-close" ng-click="ctrl.close()"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="share-modal-body"><div class="share-modal-header"><div class="share-modal-big-icon"><i class="fa fa-tag"></i></div><div class="share-modal-content"><div class="gf-form-group share-modal-options"><p class="share-modal-info-text">Add annotation details.</p><div class="gf-form"><span class="gf-form-label width-8">Title</span> <input type="text" ng-model="ctrl.annotation.title" class="gf-form-input max-width-20"></div><div class="gf-form"><span class="gf-form-label width-8" ng-if="!ctrl.annotation.timeTo">Time</span> <span class="gf-form-label width-8" ng-if="ctrl.annotation.timeTo">Time Start</span> <input type="text" ng-model="ctrl.annotation.time" class="gf-form-input max-width-20"></div><div class="gf-form" ng-if="ctrl.annotation.timeTo"><span class="gf-form-label width-8">Time Stop</span> <input type="text" ng-model="ctrl.annotation.timeTo" class="gf-form-input max-width-20"></div></div><div><h6>Description</h6></div><div class="gf-form-group share-modal-options"><div class="gf-form"><textarea rows="3" class="gf-form-input width-27" ng-model="ctrl.annotation.text"></textarea></div></div><div class="gf-form-button-row"><button class="btn gf-form-btn width-10 btn-success" ng-click="ctrl.addAnnotation()"><i class="fa fa-pencil"></i> Add Annotation</button></div></div></div></div></div></div>'),a.put("public/app/features/dashboard/partials/dash_list.html",'<navbar title="Dashboards" title-url="dashboards" icon="icon-gf icon-gf-dashboard"></navbar><div class="page-container"><div class="page-header"><h1>Dashboards</h1></div></div>'),a.put("public/app/features/dashboard/partials/graphiteImport.html",'<div ng-controller="GraphiteImportCtrl" ng-init="init()"><div ng-if="datasources.length > 0"><h2 class="page-heading">Load dashboard from Graphite-Web</h2><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Data source</span></div><div class="gf-form"><div class="gf-form-select-wrapper"><select type="text" ng-model="options.sourceName" class="gf-form-input gf-size-auto" ng-options="f for f in datasources"></select></div></div><div class="gf-form"><button class="btn btn-success pull-right" ng-click="listAll()">List dashboards</button></div></div></div><table class="grafana-options-table" style="margin-top: 20px"><tr ng-repeat="dash in dashboards"><td style="">{{dash.name}}</td><td><button class="btn btn-inverse pull-right" ng-click="import(dash.name)">Load</button></td></tr></table></div></div>'),a.put("public/app/features/dashboard/partials/inspector.html",'<div class="modal-body" ng-controller="InspectCtrl" ng-init="init()"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-info-circle"></i> <span class="p-l-1">Inspector</span></h2><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in [\'Panel Description\', \'Request\', \'Response\', \'JS Error\']"><a class="gf-tabs-link" ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">{{::tab}}</a></li></ul><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div ng-if="editor.index == 0" ng-bind-html="panelInfoHtml"></div><div ng-if="editor.index == 1"><h5 class="section-heading">Request details</h5><table class="filter-table gf-form-group"><tr><td>Url</td><td>{{inspector.error.config.url}}</td></tr><tr><td>Method</td><td>{{inspector.error.config.method}}</td></tr><tr ng-repeat="(key, value) in inspector.error.config.headers"><td>{{key}}</td><td>{{value}}</td></tr></table><h5 class="section-heading">Request parameters</h5><table class="filter-table"><tr ng-repeat="param in request_parameters"><td>{{param.key}}</td><td>{{param.value}}</td></tr></table></div><div ng-if="editor.index == 2"><h5 ng-show="message">{{message}}</h5><pre class="small">\n{{response}}\n\t\t\t</pre></div><div ng-if="editor.index == 3"><label>Message:</label><pre>\n{{message}}\n</pre><label>Stack trace:</label><pre>\n{{stack_trace}}\n</pre></div></div></div>'),
a.put("public/app/features/dashboard/partials/saveDashboardAs.html",'<div class="modal-body" ng-controller="SaveDashboardAsCtrl" ng-init="init();"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-copy"></i> <span class="p-l-1">Save As...</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="p-t-2"><div class="gf-form"><label class="gf-form-label">New name</label><input type="text" class="gf-form-input" ng-model="clone.title" give-focus="true" ng-keydown="keyDown($event)"></div></div><div class="gf-form-button-row text-center"><a class="btn btn-success" ng-click="saveClone();">Save</a> <a class="btn-text" ng-click="dismiss();">Cancel</a></div></div></div>'),a.put("public/app/features/dashboard/partials/settings.html",'<div class="tabbed-view-header"><h2 class="tabbed-view-title">Settings</h2><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in ::[\'General\', \'Rows\', \'Links\', \'Time picker\', \'Metadata\']"><a class="gf-tabs-link" ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">{{::tab}}</a></li></ul><button class="tabbed-view-close-btn" ng-click="dismiss();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div ng-if="editor.index == 0"><div class="gf-form-group section"><h5 class="section-heading">Details</h5><div class="gf-form"><label class="gf-form-label width-7">Name</label><input type="text" class="gf-form-input width-30" ng-model="dashboard.title"></div><div class="gf-form"><label class="gf-form-label width-7">Description</label><input type="text" class="gf-form-input width-30" ng-model="dashboard.description"></div><div class="gf-form"><label class="gf-form-label width-7">Tags<info-popover mode="right-normal">Press enter to add a tag</info-popover></label><bootstrap-tagsinput ng-model="dashboard.tags" tagclass="label label-tag" placeholder="add tags"></bootstrap-tagsinput></div><div class="gf-form"><label class="gf-form-label width-7">Timezone</label><div class="gf-form-select-wrapper"><select ng-model="dashboard.timezone" class="gf-form-input" ng-options="f.value as f.text for f in [{value: \'\', text: \'Default\'}, {value: \'browser\', text: \'Local browser time\'},{value: \'utc\', text: \'UTC\'}]" ng-change="timezoneChanged()"></select></div></div></div><div class="section"><h5 class="section-heading">Toggles</h5><div class="gf-form-group"><gf-form-switch class="gf-form" label="Editable" tooltip="Uncheck, then save and reload to disable all dashboard editing" checked="dashboard.editable" label-class="width-11"></gf-form-switch><gf-form-switch class="gf-form" label="Hide Controls" tooltip="Hide row controls. Shortcut: CTRL+H or CMD+H" checked="dashboard.hideControls" label-class="width-11"></gf-form-switch></div></div><div class="section"><h5 class="section-heading">Panel Options</h5><div class="gf-form"><label class="gf-form-label width-11">Graph Tooltip<info-popover mode="right-normal">Cycle between options using Shortcut: CTRL+O or CMD+O</info-popover></label><div class="gf-form-select-wrapper"><select ng-model="dashboard.graphTooltip" class="gf-form-input" ng-options="f.value as f.text for f in [{value: 0, text: \'Default\'}, {value: 1, text: \'Shared crosshair\'},{value: 2, text: \'Shared Tooltip\'}]"></select></div></div></div></div><div ng-if="editor.index == 1"><h5 class="section-heading">Rows settings</h5><div class="gf-form-group"><div class="gf-form-inline" ng-repeat="row in dashboard.rows"><div class="gf-form"><span class="gf-form-label">Title</span> <input type="text" class="gf-form-input max-width-14" ng-model="row.title"></div><gf-form-switch class="gf-form" label="Show title" checked="row.showTitle" switch-class="max-width-6"></gf-form-switch><div class="gf-form"><button class="btn btn-inverse gf-form-btn" ng-click="_.move(dashboard.rows,$index,$index-1)"><i ng-class="{\'invisible\': $first}" class="fa fa-arrow-up"></i></button> <button class="btn btn-inverse gf-from-btn" ng-click="_.move(dashboard.rows,$index,$index+1)"><i ng-class="{\'invisible\': $last}" class="fa fa-arrow-down"></i></button> <button class="btn btn-inverse gf-form-btn" ng-click="dashboard.rows = _.without(dashboard.rows,row)"><i class="fa fa-trash"></i></button></div></div></div></div><div ng-if="editor.index == 2"><dash-links-editor></dash-links-editor></div><div ng-if="editor.index == 3"><gf-time-picker-settings dashboard="dashboard"></gf-time-picker-settings></div><div ng-if="editor.index == 4"><h5 class="section-heading">Dashboard info</h5><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Last updated at:</span> <span class="gf-form-label width-18">{{dashboard.formatDate(dashboardMeta.updated)}}</span></div><div class="gf-form"><span class="gf-form-label width-10">Last updated by:</span> <span class="gf-form-label width-18">{{dashboardMeta.updatedBy}}&nbsp;</span></div><div class="gf-form"><span class="gf-form-label width-10">Created at:</span> <span class="gf-form-label width-18">{{dashboard.formatDate(dashboardMeta.created)}}&nbsp;</span></div><div class="gf-form"><span class="gf-form-label width-10">Created by:</span> <span class="gf-form-label width-18">{{dashboardMeta.createdBy}}&nbsp;</span></div><div class="gf-form"><span class="gf-form-label width-10">Current version:</span> <span class="gf-form-label width-18">{{dashboardMeta.version}}&nbsp;</span></div></div></div></div>'),a.put("public/app/features/dashboard/partials/shareModal.html",'<div class="modal-body" ng-controller="ShareModalCtrl" ng-init="init()"><div class="modal-header"><h2 class="modal-header-title">{{modalTitle}}</h2><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in tabs"><a class="gf-tabs-link" ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">{{::tab.title}}</a></li></ul><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content" ng-repeat="tab in tabs" ng-if="editor.index == $index"><div ng-include src="tab.src" class="share-modal-body"></div></div></div><script type="text/ng-template" id="shareEmbed.html"><div class="share-modal-header">\n\t\t<div class="share-modal-big-icon">\n\t\t\t<i class="fa fa-code"></i>\n\t\t</div>\n\t\t<div class="share-modal-content">\n\t\t\t<p class="share-modal-info-text">\n\t\t\t\tThe html code below can be pasted and included in another web page. Unless anonymous access\n\t\t\t\tis enabled the user viewing that page need to be signed into grafana for the graph to load.\n\t\t\t</p>\n\n\t\t\t<div ng-include src="\'shareLinkOptions.html\'"></div>\n\n\t\t\t<div class="gf-form-group gf-form--grow">\n\t\t\t\t<div class="gf-form">\n\t\t\t\t\t<textarea rows="5" data-share-panel-url class="gf-form-input" ng-model=\'iframeHtml\'></textarea>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div></script><script type="text/ng-template" id="shareExport.html"><dash-export-modal></dash-export-modal></script><script type="text/ng-template" id="shareLinkOptions.html"><div class="gf-form-group">\n\t\t<gf-form-switch class="gf-form"\n\t\t\tlabel="Current time range" label-class="width-12" switch-class="max-width-6"\n\t\t\tchecked="options.forCurrent" on-change="buildUrl()">\n\t\t</gf-form-switch>\n\t\t<gf-form-switch class="gf-form"\n\t\t\tlabel="Template variables" label-class="width-12" switch-class="max-width-6"\n\t\t\tchecked="options.includeTemplateVars" on-change="buildUrl()">\n\t\t</gf-form-switch>\n\t\t<div class="gf-form">\n\t\t\t<span class="gf-form-label width-12">Theme</span>\n\t\t\t<div class="gf-form-select-wrapper width-6">\n\t\t\t\t<select class="gf-form-input" ng-model="options.theme" ng-options="f as f for f in [\'current\', \'dark\', \'light\']" ng-change="buildUrl()"></select>\n\t\t\t</div>\n\t\t</div>\n\t</div></script><script type="text/ng-template" id="shareLink.html"><div class="share-modal-header">\n\t\t<div class="share-modal-big-icon">\n\t\t\t<i class="fa fa-link"></i>\n\t\t</div>\n\t\t<div class="share-modal-content">\n\t\t\t<p class="share-modal-info-text">\n\t\t\t\tCreate a direct link to this dashboard or panel, customized with the options below.\n\t\t\t</p>\n\t\t\t<div ng-include src="\'shareLinkOptions.html\'"></div>\n\t\t\t<div>\n\t\t\t\t<div class="gf-form-group">\n\t\t\t\t\t<div class="gf-form-inline">\n\t\t\t\t\t\t<div class="gf-form gf-form--grow">\n\t\t\t\t\t\t\t<input type="text" data-share-panel-url class="gf-form-input" ng-model="shareUrl"></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="gf-form">\n\t\t\t\t\t\t\t<button class="btn btn-inverse" data-clipboard-text="{{shareUrl}}" clipboard-button><i class="fa fa-clipboard"></i> Copy</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="gf-form" ng-show="modeSharePanel">\n\t\t\t\t<a href="{{imageUrl}}" target="_blank"><i class="fa fa-camera"></i> Direct link rendered image</a>\n\t\t\t</div>\n\t\t</div></script><script type="text/ng-template" id="shareSnapshot.html"><div class="ng-cloak" ng-cloak ng-controller="ShareSnapshotCtrl" ng-init="init()">\n\t\t<div class="share-modal-header">\n\t\t\t<div class="share-modal-big-icon">\n\t\t\t\t<i ng-if="loading" class="fa fa-spinner fa-spin"></i>\n\t\t\t\t<i ng-if="!loading" class="icon-gf icon-gf-snapshot"></i>\n\t\t\t</div>\n      <div class="share-modal-content">\n        <div ng-if="step === 1">\n          <p class="share-modal-info-text">\n            A snapshot is an instant way to share an interactive dashboard publicly.\n            When created, we <strong>strip sensitive data</strong> like queries (metric, template and annotation) and panel links,\n            leaving only the visible metric data and series names embedded into your dashboard.\n          </p>\n          <p class="share-modal-info-text">\n            Keep in mind, your <strong>snapshot can be viewed by anyone</strong> that has the link and can reach the URL.\n            Share wisely.\n          </p>\n        </div>\n\n\t\t\t\t<div class="share-modal-header" ng-if="step === 3">\n\t\t\t\t\t<p class="share-modal-info-text">\n\t\t\t\t\t\tThe snapshot has now been deleted. If it you have already accessed it once, It might take up to an hour before it is removed from\n\t\t\t\t\t\tbrowser caches or CDN caches.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="gf-form-group share-modal-options">\n\t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n\t\t\t\t\t\t<span class="gf-form-label width-12">Snapshot name</span>\n\t\t\t\t\t\t<input type="text" ng-model="snapshot.name" class="gf-form-input max-width-15" >\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n\t\t\t\t\t\t<span class="gf-form-label width-12">Expire</span>\n\t\t\t\t\t\t<div class="gf-form-select-wrapper max-width-15">\n\t\t\t\t\t\t\t<select class="gf-form-input" ng-model="snapshot.expires" ng-options="f.value as f.text for f in expireOptions"></select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="gf-form" ng-if="step === 2" style="margin-top: 40px">\n\t\t\t\t\t\t<div class="gf-form-row">\n\t\t\t\t\t\t\t<a href="{{snapshotUrl}}" class="large share-modal-link" target="_blank">\n\t\t\t\t\t\t\t\t<i class="fa fa-external-link-square"></i>\n\t\t\t\t\t\t\t\t{{snapshotUrl}}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<button class="btn btn-inverse" data-clipboard-text="{{snapshotUrl}}" clipboard-button><i class="fa fa-clipboard"></i> Copy Link</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ng-if="step === 1">\n\t\t\t\t\t<p class="share-modal-info-text">\n\t\t\t\t\t\tYou may need to configure the timeout value if it takes a long time to collect your dashboard\'s metrics.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="gf-form-group share-modal-options">\n\t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n\t\t\t\t\t\t<span class="gf-form-label width-12">Timeout (seconds)</span>\n\t\t\t\t\t\t<input type="number" ng-model="snapshot.timeoutSeconds" class="gf-form-input max-width-15" >\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ng-if="step === 1" class="gf-form-button-row">\n\t\t\t\t\t<button class="btn gf-form-btn width-10 btn-success" ng-click="createSnapshot()" ng-disabled="loading">\n\t\t\t\t\t\t<i class="fa fa-save"></i>\n\t\t\t\t\t\tLocal Snapshot\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn gf-form-btn width-16 btn-secondary" ng-if="externalEnabled" ng-click="createSnapshot(true)" ng-disabled="loading">\n\t\t\t\t\t\t<i class="fa fa-cloud-upload"></i>\n\t\t\t\t\t\t{{sharingButtonText}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<a class="btn btn-link" ng-click="dismiss()">Cancel</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="pull-right" ng-if="step === 2" style="padding: 5px">\n\t\t\t\t\tDid you make a mistake? <a class="pointer" ng-click="deleteSnapshot()" target="_blank">delete snapshot.</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</div></script>'),a.put("public/app/features/dashboard/row/add_panel.html",'<div class="dash-row-dropview"><a class="dash-row-dropview-close pointer" ng-click="ctrl.rowCtrl.closeDropView();"><i class="fa fa-remove"></i></a><div class="gf-form-inline dash-row-add-panel-form"><div class="gf-form"><input type="text" class="gf-form-input max-width-14" ng-model="ctrl.panelSearch" give-focus="true" ng-keydown="ctrl.keyDown($event)" ng-change="ctrl.panelSearchChanged()" placeholder="panel search filter"></div></div><div class="add-panel-panels-scroll"><div class="add-panel-panels"><div class="add-panel-item" ng-repeat="panel in ctrl.panelHits" ng-class="{active: $index === ctrl.activeIndex}" ng-click="ctrl.addPanel(panel)" ui-draggable="true" drag="panel.id" title="{{panel.name}}"><img class="add-panel-item-img" ng-src="{{panel.info.logos.small}}"><div class="add-panel-item-name">{{panel.name}}</div></div></div></div></div>'),a.put("public/app/features/dashboard/row/options.html",'<div class="dash-row-dropview"><a class="dash-row-dropview-close pointer" ng-click="ctrl.rowCtrl.closeDropView();"><i class="fa fa-remove"></i></a><div><div class="section"><div class="gf-form"><span class="gf-form-label width-6">Title</span> <input type="text" class="gf-form-input max-width-14" ng-model="ctrl.row.title"></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-6">Size</label><div class="gf-form-select-wrapper"><select class="input-small gf-form-input" ng-model="ctrl.row.titleSize" ng-options="f for f in ctrl.fontSizes"></select></div></div><gf-form-switch class="gf-form" label="Show" checked="ctrl.row.showTitle"></gf-form-switch></div></div><div class="section"><div class="gf-form"><span class="gf-form-label width-7">Height</span> <input type="text" class="gf-form-input max-width-14" ng-model="ctrl.row.height"></div><div class="gf-form"><span class="gf-form-label width-7">Repeat for</span><dash-repeat-option model="ctrl.row"></dash-repeat-option></div></div></div></div>'),a.put("public/app/features/dashboard/row/row.html",'<div class="dash-row-header" ng-if="ctrl.row.showTitle || ctrl.row.collapse"><a class="dash-row-header-title" ng-click="ctrl.toggleCollapse()"><span class="dash-row-collapse-toggle pointer"><i class="fa fa-chevron-down" ng-show="!ctrl.row.collapse"></i> <i class="fa fa-chevron-right" ng-show="ctrl.row.collapse"></i> </span><span ng-class="ctrl.row.titleSize">{{ctrl.row.title | interpolateTemplateVars:this}}</span></a></div><div ng-if="ctrl.dropView === 1"><dash-row-add-panel row-ctrl="ctrl"></dash-row-add-panel></div><div ng-if="ctrl.dropView === 2"><dash-row-options row-ctrl="ctrl"></dash-row-options></div><div class="panels-wrapper" ng-if="!ctrl.row.collapse"><div class="dash-row-menu-container" data-click-hide ng-hide="ctrl.dashboard.meta.fullscreen"><ul class="dash-row-menu" role="menu"><li><a ng-click="ctrl.toggleCollapse()"><i class="fa fa-minus"></i> Collapse</a></li><li ng-show="ctrl.dashboard.meta.canEdit"><a ng-click="ctrl.onMenuAddPanel()"><i class="fa fa-plus"></i> Add Panel</a></li><li ng-show="ctrl.dashboard.meta.canEdit"><a ng-click="ctrl.onMenuRowOptions()"><i class="fa fa-cog"></i> Row Options</a></li><li ng-show="ctrl.dashboard.meta.canEdit"><a ng-click="ctrl.moveRow(-1)"><i class="fa fa-arrow-up"></i> Move Up</a></li><li ng-show="ctrl.dashboard.meta.canEdit"><a ng-click="ctrl.moveRow(1)"><i class="fa fa-arrow-down"></i> Move Down</a></li><li ng-show="ctrl.dashboard.meta.canEdit"><a ng-click="ctrl.onMenuDeleteRow()"><i class="fa fa-trash"></i> Remove</a></li></ul><div class="dash-row-menu-grip"><i class="fa fa-ellipsis-v"></i></div></div><div ng-repeat="panel in ctrl.row.panels track by panel.id" class="panel" ui-draggable="!ctrl.dashboard.meta.fullscreen" drag="panel.id" ui-on-drop="ctrl.onDrop($data, panel)" drag-handle-class="drag-handle" panel-width><plugin-component type="panel" class="panel-margin"></plugin-component></div><div panel-drop-zone class="panel panel-drop-zone" ui-on-drop="ctrl.onDrop($data)" data-drop="true"><div class="panel-margin"><div class="panel-container"><div class="panel-drop-zone-text"></div></div></div></div><div class="clearfix"></div></div>'),a.put("public/app/features/dashboard/submenu/submenu.html",'<div class="submenu-controls"><div ng-repeat="variable in ctrl.variables" ng-hide="variable.hide === 2" class="submenu-item gf-form-inline"><div class="gf-form"><label class="gf-form-label template-variable" ng-hide="variable.hide === 1">{{variable.label || variable.name}}</label><value-select-dropdown ng-if="variable.type !== \'adhoc\'" variable="variable" on-updated="ctrl.variableUpdated(variable)"></value-select-dropdown></div><ad-hoc-filters ng-if="variable.type === \'adhoc\'" variable="variable"></ad-hoc-filters></div><div ng-if="ctrl.dashboard.annotations.list.length > 0"><div ng-repeat="annotation in ctrl.dashboard.annotations.list" ng-hide="annotation.hide" class="submenu-item" ng-class="{\'annotation-disabled\': !annotation.enable}"><gf-form-switch class="gf-form" label="{{annotation.name}}" checked="annotation.enable" on-change="ctrl.annotationStateChanged()"></gf-form-switch></div></div><div class="gf-form gf-form--grow"></div><div ng-if="ctrl.dashboard.links.length > 0"><dash-links-container links="ctrl.dashboard.links" class="gf-form-inline"></dash-links-container></div><div class="clearfix"></div></div>'),a.put("public/app/features/dashboard/timepicker/dropdown.html",'<div class="row pull-right"><form name="timeForm" class="gf-timepicker-absolute-section"><h3>Time range</h3><label class="small">From:</label><div class="gf-form-inline"><div class="gf-form max-width-28"><input type="text" class="gf-form-input input-large" ng-model="ctrl.timeRaw.from" input-datetime></div><div class="gf-form"><button class="btn gf-form-btn btn-primary" type="button" ng-click="openFromPicker=!openFromPicker"><i class="fa fa-calendar"></i></button></div></div><div ng-if="openFromPicker"><datepicker ng-model="ctrl.absolute.fromJs" class="gf-timepicker-component" show-weeks="false" starting-day="ctrl.firstDayOfWeek" ng-change="ctrl.absoluteFromChanged()"></datepicker></div><label class="small">To:</label><div class="gf-form-inline"><div class="gf-form max-width-28"><input type="text" class="gf-form-input input-large" ng-model="ctrl.timeRaw.to" input-datetime></div><div class="gf-form"><button class="btn gf-form-btn btn-primary" type="button" ng-click="openToPicker=!openToPicker"><i class="fa fa-calendar"></i></button></div></div><div ng-if="openToPicker"><datepicker ng-model="ctrl.absolute.toJs" class="gf-timepicker-component" show-weeks="false" starting-day="ctrl.firstDayOfWeek" ng-change="ctrl.absoluteToChanged()"></datepicker></div><label class="small">Refreshing every:</label><div class="gf-form-inline"><div class="gf-form max-width-28"><select ng-model="ctrl.refresh.value" class="gf-form-input input-medium" ng-options="f.value as f.text for f in ctrl.refresh.options"></select></div><div class="gf-form"><button type="submit" class="btn gf-form-btn btn-secondary" ng-click="ctrl.applyCustom();" ng-disabled="!timeForm.$valid">Apply</button></div></div></form><div class="gf-timepicker-relative-section"><h3>Quick ranges</h3><ul ng-repeat="group in ctrl.timeOptions"><li bindonce ng-repeat="option in group" ng-class="{active: option.active}"><a ng-click="ctrl.setRelativeFilter(option)" bo-text="option.display"></a></li></ul></div></div><div class="clearfix"></div>'),a.put("public/app/features/dashboard/timepicker/settings.html",'<div class="editor-row"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Auto-refresh</span> <input type="text" class="gf-form-input max-width-25" ng-model="ctrl.panel.refresh_intervals" array-join></div><div class="gf-form"><span class="gf-form-label width-10">Now delay now-</span> <input type="text" class="gf-form-input max-width-25" ng-model="ctrl.panel.nowDelay" placeholder="0m" valid-time-span bs-tooltip="\'Enter 1m to ignore the last minute (because it can contain incomplete metrics)\'" data-placement="right"></div></div></div>'),a.put("public/app/features/dashboard/timepicker/timepicker.html",'<ul class="nav gf-timepicker-nav"><li class="dashnav-move-timeframe gf-timepicker-time-control" bs-tooltip="\'Shift time backward <br> (left arrow key)\'" data-placement="bottom"><a ng-click="ctrl.move(-1)"><i class="fa fa-chevron-left"></i></a></li><li class="dashnav-zoom-out gf-timepicker-time-control" bs-tooltip="\'Time range zoom out <br> CTRL+Z\'" data-placement="bottom"><a ng-click="ctrl.zoom(2)">Zoom Out</a></li><li class="dashnav-move-timeframe gf-timepicker-time-control" bs-tooltip="\'Shift time forward <br> (right arrow key)\'" data-placement="bottom"><a ng-click="ctrl.move(1)"><i class="fa fa-chevron-right"></i></a></li><li><a bs-tooltip="ctrl.tooltip" data-placement="bottom" ng-click="ctrl.openDropdown()" class="gf-timepicker-nav-btn"><i class="fa fa-clock-o"></i> <span ng-bind="ctrl.rangeString"></span> <span ng-show="ctrl.isUtc" class="gf-timepicker-utc">UTC </span><span ng-show="ctrl.dashboard.refresh" class="text-warning">&nbsp; Refresh every {{ctrl.dashboard.refresh}}</span></a></li><li class="dashnav-refresh-action"><a ng-click="ctrl.timeSrv.refreshDashboard()"><i class="fa fa-refresh"></i></a></li></ul>'),a.put("public/app/features/dashlinks/editor.html",'<div class="editor-row"><h5 class="section-heading">Links and Dash Navigation</h5><div ng-repeat="link in dashboard.links"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-6">Type</span><div class="gf-form-select-wrapper width-10"><select class="gf-form-input" ng-model="link.type" ng-options="f for f in [\'dashboards\',\'link\']" ng-change="updated()"></select></div></div><div class="gf-form" ng-show="link.type === \'dashboards\'"><span class="gf-form-label">With tags</span><bootstrap-tagsinput ng-model="link.tags" tagclass="label label-tag" placeholder="add tags"></bootstrap-tagsinput></div><div class="gf-form" ng-show="link.type === \'dashboards\'"><editor-checkbox text="As dropdown" model="link.asDropdown" change="updated()"></editor-checkbox></div><div class="gf-form max-width-30" ng-show="link.type === \'link\'"><li class="gf-form-label width-6">Url</li><input type="text" ng-model="link.url" class="gf-form-input" ng-model-onblur ng-change="updated()"></div><div class="gf-form"><button class="btn btn-inverse btn-mini" ng-click="moveLink($index, -1)" ng-hide="$first"><i class="fa fa-arrow-up"></i></button></div><div class="gf-form"><button class="btn btn-inverse btn-mini" ng-click="moveLink($index, 1)" ng-hide="$last"><i class="fa fa-arrow-down"></i></button></div><div class="gf-form"><button class="btn btn-inverse btn-mini" ng-click="deleteLink($index)"><i class="fa fa-trash"></i></button></div></div><div class="gf-form" ng-show="link.type === \'dashboards\' && link.asDropdown"><span class="gf-form-label width-6">Title</span> <input type="text" ng-model="link.title" class="gf-form-input max-width-25" ng-model-onblur ng-change="updated()"></div><div class="gf-form-inline" ng-show="link.type === \'link\'"><div class="gf-form"><span class="gf-form-label width-6">Title</span> <input type="text" ng-model="link.title" class="gf-form-input max-width-10" ng-model-onblur ng-change="updated()"></div><div class="gf-form"><span class="gf-form-label width-6">Tooltip</span> <input type="text" ng-model="link.tooltip" class="gf-form-input max-width-10" placeholder="Open dashboard" ng-model-onblur ng-change="updated()"></div><div class="gf-form"><span class="gf-form-label width-6">Icon</span><div class="gf-form-select-wrapper max-width-10"><select class="gf-form-input" ng-model="link.icon" ng-options="k as k for (k, v) in iconMap" ng-change="updated()"></select></div></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-6">Include</span><editor-checkbox text="Time range" model="link.keepTime" change="updated()"></editor-checkbox><editor-checkbox text="Variable values" model="link.includeVars" change="updated()"></editor-checkbox><editor-checkbox text="Open in new tab " model="link.targetBlank" change="updated()"></editor-checkbox></div></div></div></div></div><button class="btn btn-inverse" ng-click="addLink()"><i class="fa fa-plus"></i> Add link</button>'),a.put("public/app/features/org/partials/add_user.html",'<div class="modal-body" ng-controller="UserInviteCtrl" ng-init="init()"><div class="modal-header"><h2 class="modal-header-title">Add Users</h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="modal-tagline p-b-2">Add existing Grafana users to the organization <span class="highlight-word">{{contextSrv.user.orgName}}</span></div><form name="inviteForm"><div class="gf-form-group"><div class="gf-form-inline" ng-repeat="invite in invites"><div class="gf-form max-width-21"><span class="gf-form-label">Email or Username</span> <input type="text" ng-model="invite.loginOrEmail" required class="gf-form-input" placeholder="email@test.com"></div><div class="gf-form max-width-10"><span class="gf-form-label">Role</span><select ng-model="invite.role" class="gf-form-input" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']"></select></div><div class="gf-form gf-size-auto"><a class="gf-form-label pointer" tabindex="1" ng-click="removeInvite(invite)"><i class="fa fa-remove"></i></a></div></div></div><div class="gf-form-inline gf-form-group"><div class="gf-form"><a class="btn btn-inverse btn-small" ng-click="addInvite()"><i class="fa fa-plus"></i> Add another</a></div></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="sendInvites();">Add Users</button> <a class="btn-text" ng-click="dismiss()">Cancel</a></div><div class="clearfix"></div></form></div></div>'),a.put("public/app/features/org/partials/apikeyModal.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-key"></i> <span class="p-l-1">API Key Created</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Key</span> <span class="gf-form-label">{{key}}</span></div></div><div class="grafana-info-box" style="border: 0">You will only be able to view this key here once! It is not stored in this form. So be sure to copy it now.<br><br>You can authenticate request using the Authorization HTTP header, example:<br><br><pre class="small">\ncurl -H "Authorization: Bearer {{key}}" {{rootPath}}/api/dashboards/home\n\t\t\t</pre></div></div></div>'),a.put("public/app/features/org/partials/change_password.html",'<navbar icon="icon-gf icon-gf-users" title="Profile" title-url="profile"></navbar><div class="page-container"><div class="page-header"><h1>Change password</h1></div><div ng-if="ldapEnabled || authProxyEnabled">You cannot change password when ldap or auth proxy authentication is enabled.<br><br><a class="btn-text" href="profile">Back to profile</a></div><form name="userForm" class="gf-form-group" ng-hide="ldapEnabled || authProxyEnabled"><div class="gf-form"><span class="gf-form-label width-10">Old Password</span> <input class="gf-form-input max-width-21" type="password" required ng-model="command.oldPassword"></div><div class="gf-form"><span class="gf-form-label width-10">New Password</span> <input class="gf-form-input max-width-21" type="password" required ng-minlength="4" ng-model="command.newPassword"></div><div class="gf-form"><span class="gf-form-label width-10">Confirm Password</span> <input class="gf-form-input max-width-21" type="password" required ng-minlength="4" ng-model="command.confirmNew"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="changePassword()">Change Password</button> <a class="btn-text" href="profile">Cancel</a></div></form></div>'),a.put("public/app/features/org/partials/invite.html",'<div class="modal-body" ng-controller="UserInviteCtrl" ng-init="init()"><div class="modal-header"><h2 class="modal-header-title">Invite Users</h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="modal-tagline p-b-2">Send invite or add existing Grafana users to the organization <span class="highlight-word">{{contextSrv.user.orgName}}</span></div><form name="inviteForm"><div class="gf-form-group"><div class="gf-form-inline" ng-repeat="invite in invites"><div class="gf-form max-width-21"><span class="gf-form-label">Email or Username</span> <input type="text" ng-model="invite.loginOrEmail" required class="gf-form-input" placeholder="email@test.com"></div><div class="gf-form max-width-14"><span class="gf-form-label">Name</span> <input type="text" ng-model="invite.name" class="gf-form-input" placeholder="name (optional)"></div><div class="gf-form max-width-10"><span class="gf-form-label">Role</span><select ng-model="invite.role" class="gf-form-input" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']"></select></div><div class="gf-form gf-size-auto"><a class="gf-form-label pointer" tabindex="1" ng-click="removeInvite(invite)"><i class="fa fa-remove"></i></a></div></div></div><div class="gf-form-inline gf-form-group"><div class="gf-form"><a class="btn btn-inverse btn-small" ng-click="addInvite()"><i class="fa fa-plus"></i> Invite another</a></div><div class="gf-form"><editor-checkbox text="Skip sending invite email" model="options.skipEmails" change="targetBlur()"></editor-checkbox></div></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="sendInvites();">Invite Users</button> <a class="btn-text" ng-click="dismiss()">Cancel</a></div><div class="clearfix"></div></form></div></div>'),a.put("public/app/features/org/partials/newOrg.html",'<navbar title="Organization" icon="icon-gf icon-gf-users"></navbar><div class="page-container" ng-form="playlistEditForm"><div class="page-header"><h1>New Organization</h1></div><p class="playlist-description">Each organization contains their own dashboards, data sources and configuration, and cannot be shared between orgs. While users may belong to more than one, mutiple organization are most frequently used in multi-tenant deployments.</p><form><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Org. name</span> <input type="text" ng-model="newOrg.name" required class="gf-form-input max-width-21" placeholder="organization name"></div><br><div class="gf-form-buttons-row"><button type="submit" class="btn btn-success" ng-click="createOrg()">Create</button></div></div></form></div>'),a.put("public/app/features/org/partials/orgApiKeys.html",'<navbar icon="icon-gf icon-gf-users" title="Organization" title-url="org"></navbar><div class="page-container"><div class="page-header"><h1>API Keys</h1></div><h3 class="page-heading">Add new</h3><form name="addTokenForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-21"><span class="gf-form-label">Add a key</span> <input type="text" class="gf-form-input" ng-model="token.name" placeholder="Name"></div><div class="gf-form"><span class="gf-form-label">Role</span><select class="gf-form-input gf-size-auto" ng-model="token.role" ng-options="r for r in roleTypes"></select></div><div class="gf-form"><button class="btn gf-form-btn btn-success" ng-click="addToken()">Add</button></div></div></form><h3 class="page-heading">Existing Keys</h3><table class="filter-table"><thead><tr><th>Name</th><th>Role</th><th style="width: 34px"></th></tr></thead><tbody><tr ng-repeat="t in tokens"><td>{{t.name}}</td><td>{{t.role}}</td><td><a ng-click="removeToken(t.id)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></tbody></table></div>'),
a.put("public/app/features/org/partials/orgDetails.html",'<navbar icon="icon-gf icon-gf-users" title="Organization" title-url="org"></navbar><div class="page-container"><div class="page-header"><h1>Org Preferences</h1></div><h3 class="page-heading">General</h3><form name="orgForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-6">Name</span> <input class="gf-form-input" type="text" required ng-model="org.name"></div><div class="gf-form"><button type="submit" class="btn gf-form-btn btn-success" ng-click="update()">Update</button></div></div></form><prefs-control mode="org"></prefs-control><h3 class="page-heading">Address</h3><form name="addressForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-7">Address1</span> <input class="gf-form-input" type="text" ng-model="address.address1"></div><div class="gf-form max-width-28"><span class="gf-form-label width-7">Address2</span> <input class="gf-form-input" type="text" ng-model="address.address2"></div></div><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-7">City</span> <input class="gf-form-input" type="text" ng-model="address.city"></div><div class="gf-form max-width-28"><span class="gf-form-label width-7">Postal code</span> <input class="gf-form-input" type="text" ng-model="address.zipCode"></div></div><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-7">State</span> <input class="gf-form-input" type="text" ng-model="address.state"></div><div class="gf-form max-width-28"><span class="gf-form-label width-7">Country</span> <input class="gf-form-input" type="text" ng-model="address.country"></div></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="updateAddress()">Update</button></div></form><h3 class="page-heading">Admin Pages</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><a href="org/users" class="btn gf-form-btn btn-inverse">Users &amp; Roles</a></div><div class="gf-form"><a href="org/apikeys" class="btn gf-form-btn btn-inverse">API Keys</a></div></div></div></div>'),a.put("public/app/features/org/partials/orgUsers.html",'<navbar icon="icon-gf icon-gf-users" title="Organization Users" title-url="org/users"></navbar><div class="page-container"><div class="page-header"><h1>Organization users</h1><div class="page-header-tabs"><button class="btn btn-success" ng-click="ctrl.openInviteModal()"><i class="fa fa-plus"></i> Add <span ng-show="ctrl.showInviteUI">or Invite</span></button><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.editor.index = 0" ng-class="{active: ctrl.editor.index === 0}">Users ({{ctrl.users.length}})</a></li><li class="gf-tabs-item" ng-show="ctrl.showInviteUI"><a class="gf-tabs-link" ng-click="ctrl.editor.index = 1" ng-class="{active: ctrl.editor.index === 1}">Pending Invitations ({{ctrl.pendingInvites.length}})</a></li></ul></div></div><div ng-if="ctrl.editor.index === 0" class="tab-content"><table class="filter-table form-inline"><thead><tr><th>Login</th><th>Email</th><th>Role</th><th style="width: 34px"></th></tr></thead><tr ng-repeat="user in ctrl.users"><td>{{user.login}}</td><td><span class="ellipsis">{{user.email}}</span></td><td><select type="text" ng-model="user.role" class="input-medium" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']" ng-change="ctrl.updateOrgUser(user)"></select></td><td><a ng-click="ctrl.removeUser(user)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div><div ng-if="ctrl.editor.index === 1 && ctrl.showInviteUI"><table class="filter-table form-inline"><thead><tr><th>Email</th><th>Name</th><th></th></tr></thead><tbody ng-repeat="invite in ctrl.pendingInvites"><tr ng-click="invite.expanded = !invite.expanded" ng-class="{\'expanded\': invite.expanded}"><td>{{invite.email}}</td><td>{{invite.name}}</td><td class="text-right"><button class="btn btn-inverse btn-mini" data-clipboard-text="{{invite.url}}" clipboard-button ng-click="ctrl.copyInviteToClipboard($event)"><i class="fa fa-clipboard"></i> Copy Invite</button> &nbsp; <button class="btn btn-inverse btn-mini">Details <i ng-show="!invite.expanded" class="fa fa-caret-right"></i> <i ng-show="invite.expanded" class="fa fa-caret-down"></i></button></td></tr><tr ng-show="invite.expanded"><td colspan="3"><a href="{{invite.url}}">{{invite.url}}</a><br><br>&nbsp; <button class="btn btn-inverse btn-mini" ng-click="ctrl.revokeInvite(invite, $event)"><i class="fa fa-remove" style="color: red"></i> Revoke invite</button> <span style="padding-left: 15px">Invited: <em>{{invite.createdOn | date: \'shortDate\'}} by {{invite.invitedBy}}</em></span></td></tr></tbody></table></div></div>'),a.put("public/app/features/org/partials/profile.html",'<navbar icon="icon-gf icon-gf-users" title="Profile" title-url="profile"></navbar><div class="page-container"><div class="page-header"><h1>Profile</h1></div><form name="ctrl.userForm" class="gf-form-group"><h3 class="page-heading">Information</h3><div class="gf-form max-width-30"><span class="gf-form-label width-8">Name</span> <input class="gf-form-input max-width-22" type="text" required ng-model="ctrl.user.name"></div><div class="gf-form max-width-30"><span class="gf-form-label width-8">Email</span> <input class="gf-form-input max-width-22" type="email" ng-readonly="ctrl.readonlyLoginFields" required ng-model="ctrl.user.email"> <i ng-if="ctrl.readonlyLoginFields" class="fa fa-lock gf-form-icon--right-absolute" bs-tooltip="\'Login Details Locked - managed in another system.\'"></i></div><div class="gf-form max-width-30"><span class="gf-form-label width-8">Username</span> <input class="gf-form-input max-width-22" type="text" ng-readonly="ctrl.readonlyLoginFields" required ng-model="ctrl.user.login"> <i ng-if="ctrl.readonlyLoginFields" class="fa fa-lock gf-form-icon--right-absolute" bs-tooltip="\'Login Details Locked - managed in another system.\'"></i></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="ctrl.update()">Update</button></div></form><prefs-control mode="user"></prefs-control><h3 class="page-heading">Password</h3><div class="gf-form-group"><a href="profile/password" class="btn btn-inverse">Change Password</a></div><h3 class="page-heading" ng-show="ctrl.showOrgsList">Organizations</h3><div class="gf-form-group" ng-show="ctrl.showOrgsList"><table class="filter-table form-inline"><thead><tr><th>Name</th><th>Role</th><th></th></tr></thead><tbody><tr ng-repeat="org in ctrl.orgs"><td>{{org.name}}</td><td>{{org.role}}</td><td class="text-right"><span class="btn btn-primary btn-mini" ng-show="org.orgId === contextSrv.user.orgId">Current </span><a ng-click="ctrl.setUsingOrg(org)" class="btn btn-inverse btn-mini" ng-show="org.orgId !== contextSrv.user.orgId">Select</a></td></tr></tbody></table></div></div>'),a.put("public/app/features/org/partials/select_org.html",'<div class="container"><div class="signup-page-background"></div><div class="login-box"><div class="login-box-logo"><img src="img/logo_transparent_200x75.png"></div><div class="invite-box"><h3><i class="fa fa-users"></i>&nbsp; Change active organization</h3><div class="modal-tagline">You have been added to another Organization<br>due to an open invitation!<br><br>Please select which organization you want to<br>use right now (you can change this later at any time).</div><div style="display: inline-block; width: 400px; margin: 30px 0"><table class="grafana-options-table"><tr ng-repeat="org in orgs"><td class="nobg max-width-btns"><a ng-click="setUsingOrg(org)" class="btn btn-inverse">{{org.name}} ({{org.role}})</a></td></tr></table></div></div><div class="row" style="margin-top: 50px"><div class="version-footer text-center small">Grafana version: {{buildInfo.version}}, commit: {{buildInfo.commit}}, build date: {{buildInfo.buildstamp | date: \'yyyy-MM-dd HH:mm:ss\' }}</div></div></div></div>'),a.put("public/app/features/panel/partials/panelTime.html",'<div class="gf-form-group"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-clock-o"></i> </span><span class="gf-form-label width-12">Override relative time</span> <span class="gf-form-label width-6">Last</span> <input type="text" class="gf-form-input max-width-8" placeholder="1h" empty-to-null ng-model="ctrl.panel.timeFrom" valid-time-span ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><span class="gf-form-label"><i class="fa fa-clock-o"></i> </span><span class="gf-form-label width-12">Add time shift</span> <span class="gf-form-label width-6">Amount</span> <input type="text" class="gf-form-input max-width-8" placeholder="1h" empty-to-null ng-model="ctrl.panel.timeShift" valid-time-span ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-clock-o"></i></span></div><gf-form-switch class="gf-form max-width-30" label="Hide time override info" label-class="width-12" checked="ctrl.panel.hideTimeOverride" switch-class="max-width-6" on-change="ctrl.refresh()"></gf-form-switch></div></div>'),a.put("public/app/features/panel/partials/query_editor_row.html",'<div class="gf-form-query"><div class="gf-form gf-form-query-letter-cell"><label class="gf-form-label"><a class="pointer" tabindex="1" ng-click="ctrl.toggleCollapse()"><span ng-class="{muted: !ctrl.canCollapse}" class="gf-form-query-letter-cell-carret"><i class="fa fa-caret-down" ng-hide="ctrl.collapsed"></i> <i class="fa fa-caret-right" ng-show="ctrl.collapsed"></i> </span><span class="gf-form-query-letter-cell-letter">{{ctrl.target.refId}}</span> <em class="gf-form-query-letter-cell-ds" ng-show="ctrl.target.datasource">({{ctrl.target.datasource}})</em></a></label></div><div class="gf-form-query-content gf-form-query-content--collapsed" ng-if="ctrl.collapsed"><div class="gf-form"><label class="gf-form-label pointer gf-form-label--grow" ng-click="ctrl.toggleCollapse()">{{ctrl.collapsedText}}</label></div></div><div ng-transclude class="gf-form-query-content" ng-if="!ctrl.collapsed"></div><div class="gf-form"><label class="gf-form-label dropdown"><a class="pointer dropdown-toggle" data-toggle="dropdown" tabindex="1"><i class="fa fa-bars"></i></a><ul class="dropdown-menu pull-right" role="menu"><li role="menuitem" ng-if="ctrl.hasTextEditMode"><a tabindex="1" ng-click="ctrl.toggleEditorMode()">Toggle Edit Mode</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.duplicateQuery()">Duplicate</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.moveQuery(-1)">Move up</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.moveQuery(1)">Move down</a></li></ul></label><label class="gf-form-label"><a ng-click="ctrl.toggleHideQuery()" role="menuitem"><i class="fa fa-eye"></i></a></label><label class="gf-form-label"><a class="pointer" tabindex="1" ng-click="ctrl.removeQuery(ctrl.target)"><i class="fa fa-trash"></i></a></label></div></div>'),a.put("public/app/features/panel/partials/soloPanel.html",'<div class="panel panel--solo" ng-if="panel" style="width: 100%"><plugin-component type="panel"></plugin-component></div><div class="clearfix"></div>'),a.put("public/app/features/panellinks/module.html",'<div class="editor-row"><h5 class="section-heading">Drilldown / detail link<tip>These links appear in the dropdown menu in the panel menu.</tip></h5><div class="gf-form-group" ng-repeat="link in panel.links"><div class="section"><div class="gf-form max-width-25"><span class="gf-form-label width-7">Type</span><div class="gf-form-select-wrapper gf-form--grow"><select class="gf-form-input" ng-model="link.type" ng-options="f for f in [\'dashboard\',\'absolute\']"></select></div></div><div class="gf-form max-width-25"><span class="gf-form-label width-7" ng-show="link.type === \'dashboard\'">Dashboard</span> <input ng-show="link.type === \'dashboard\'" type="text" ng-model="link.dashboard" bs-typeahead="searchDashboards" class="gf-form-input" ng-blur="dashboardChanged(link)"> <span class="gf-form-label width-7" ng-show="link.type === \'absolute\'">Url</span> <input ng-show="link.type === \'absolute\'" type="text" ng-model="link.url" class="gf-form-input max-width-14"></div><div class="gf-form max-width-25"><div class="gf-form-label width-7">Title</div><input type="text" ng-model="link.title" class="gf-form-input"></div></div><div class="section"><div class="gf-form"><span class="gf-form-label width-10">Url params</span> <input type="text" ng-model="link.params" class="gf-form-input width-10"></div><gf-form-switch class="gf-form" label-class="width-10" label="Include time range" checked="link.keepTime"></gf-form-switch><gf-form-switch class="gf-form" label-class="width-10" label="Include variables" checked="link.includeVars"></gf-form-switch><gf-form-switch class="gf-form" label-class="width-10" label="Open in new tab " checked="link.targetBlank"></gf-form-switch></div><div class="section"><div class="gf-form"><button class="btn btn-inverse gf-form-btn" ng-click="deleteLink(link)"><i class="fa fa-trash"></i> Remove Link</button></div></div></div></div><div class="editor-row"><button class="btn btn-inverse" ng-click="addLink()"><i class="fa fa-plus"></i> Add link</button></div>'),a.put("public/app/features/playlist/partials/playlist.html",'<navbar icon="fa fa-fw fa-list" title="Playlists" title-url="playlists"></navbar><div class="page-container" ng-form="playlistEditForm"><div class="page-header"><h1 ng-show="ctrl.isNew()">New Playlist</h1><h1 ng-show="!ctrl.isNew()">Edit Playlist</h1></div><p class="playlist-description">A playlist rotates through a pre-selected list of Dashboards. A Playlist can be a great way to build situational awareness, or just show off your metrics to your team or visitors.</p><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-7">Name</span> <input type="text" required ng-model="ctrl.playlist.name" class="gf-form-input max-width-21"></div><div class="gf-form"><span class="gf-form-label width-7">Interval</span> <input type="text" required ng-model="ctrl.playlist.interval" placeholder="5m" class="gf-form-input max-width-21"></div></div><div class="gf-form-group"><h3 class="page-headering">Dashboards</h3></div><div class="row"><div class="col-lg-6"><div class="playlist-search-containerwrapper"><div class="max-width-32"><h5 class="page-headering playlist-column-header">Available</h5><div style=""><playlist-search class="playlist-search-container" search-started="ctrl.searchStarted(promise)"></playlist-search></div></div></div><div ng-if="ctrl.filteredDashboards.length > 0"><table class="grafana-options-table playlist-available-list"><tr ng-repeat="playlistItem in ctrl.filteredDashboards"><td><i class="icon-gf icon-gf-dashboard"></i> &nbsp;&nbsp;{{playlistItem.title}} <i class="fa fa-star" ng-show="playlistItem.isStarred"></i></td><td class="add-dashboard"><button class="btn btn-inverse btn-mini pull-right" ng-click="ctrl.addPlaylistItem(playlistItem)"><i class="fa fa-plus"></i> Add to playlist</button></td></tr></table></div><div class="playlist-search-results-container" ng-if="ctrl.filteredTags.length > 0;"><table class="grafana-options-table playlist-available-list"><tr ng-repeat="tag in ctrl.filteredTags"><td><a class="search-result-tag label label-tag" tag-color-from-name="tag.term"><i class="fa fa-tag"></i> <span>{{tag.term}} &nbsp;({{tag.count}})</span></a></td><td class="add-dashboard"><button class="btn btn-inverse btn-mini pull-right" ng-click="ctrl.addTagPlaylistItem(tag)"><i class="fa fa-plus"></i> Add to playlist</button></td></tr></table></div></div><div class="col-lg-6"><h5 class="page headering playlist-column-header">Selected</h5><table class="grafana-options-table playlist-available-list"><tr ng-repeat="playlistItem in ctrl.playlistItems"><td ng-if="playlistItem.type === \'dashboard_by_id\'"><i class="icon-gf icon-gf-dashboard"></i>&nbsp;&nbsp;{{playlistItem.title}}</td><td ng-if="playlistItem.type === \'dashboard_by_tag\'"><a class="search-result-tag label label-tag" tag-color-from-name="playlistItem.title"><i class="fa fa-tag"></i> <span>{{playlistItem.title}}</span></a></td><td class="selected-playlistitem-settings"><button class="btn btn-inverse btn-mini" ng-hide="$first" ng-click="ctrl.movePlaylistItemUp(playlistItem)"><i class="fa fa-arrow-up"></i></button> <button class="btn btn-inverse btn-mini" ng-hide="$last" ng-click="ctrl.movePlaylistItemDown(playlistItem)"><i class="fa fa-arrow-down"></i></button> <button class="btn btn-inverse btn-mini" ng-click="ctrl.removePlaylistItem(playlistItem)"><i class="fa fa-remove"></i></button></td></tr></table></div></div><div class="clearfix"></div><div class="gf-form-button-row"><a class="btn btn-success" ng-show="ctrl.isNew()" ng-disabled="ctrl.playlistEditForm.$invalid || ctrl.isPlaylistEmpty()" ng-click="ctrl.savePlaylist(ctrl.playlist, ctrl.playlistItems)">Create new playlist</a> <a class="btn btn-success" ng-show="!ctrl.isNew()" ng-disabled="ctrl.playlistEditForm.$invalid || ctrl.isPlaylistEmpty()" ng-click="ctrl.savePlaylist(ctrl.playlist, ctrl.playlistItems)">Save</a> <a class="btn-text" ng-click="ctrl.backToList()">Cancel</a></div></div>'),a.put("public/app/features/playlist/partials/playlist_search.html",'<div class="playlist-search-field-wrapper"><span style="position: relative"><input type="text" placeholder="Find dashboards by name" tabindex="1" ng-keydown="ctrl.keyDown($event)" ng-model="ctrl.query.query" ng-model-options="{ debounce: 500 }" spellcheck="false" ng-change="ctrl.searchDashboards()"><div class="playlist-search-switches"><i class="fa fa-filter"></i> <a class="pointer" href="javascript:void 0;" ng-click="ctrl.showStarred()" tabindex="2"><i class="fa fa-remove" ng-show="ctrl.query.starred"></i> starred </a>| <a class="pointer" href="javascript:void 0;" ng-click="ctrl.getTags()" tabindex="3"><i class="fa fa-remove" ng-show="ctrl.tagsMode"></i> tags </a><span ng-if="ctrl.query.tag.length">| <span ng-repeat="tagName in ctrl.query.tag"><a ng-click="ctrl.removeTag(tagName, $event)" tag-color-from-name="ctrl.tagName" class="label label-tag"><i class="fa fa-remove"></i> {{tagName}}</a></span></span></div></span></div>'),a.put("public/app/features/playlist/partials/playlists.html",'<navbar icon="fa fa-fw fa-list" title="Playlists" title-url="playlists"></navbar><div class="page-container"><div class="page-header"><h1>Saved playlists</h1><a class="btn btn-success pull-right" href="playlists/create"><i class="fa fa-plus"></i> New Playlist</a></div><table class="filter-table" style="margin-top: 20px"><thead><th><strong>Name</strong></th><th><strong>Start url</strong></th><th style="width: 68px"></th><th style="width: 78px"></th><th style="width: 25px"></th></thead><tr ng-repeat="playlist in ctrl.playlists"><td><a href="playlists/edit/{{playlist.id}}">{{playlist.name}}</a></td><td><a href="playlists/play/{{playlist.id}}">playlists/play/{{playlist.id}}</a></td><td class="text-center"><a href="playlists/play/{{playlist.id}}" class="btn btn-inverse btn-small"><i class="fa fa-play"></i> Play</a></td><td class="text-right"><a href="playlists/edit/{{playlist.id}}" class="btn btn-inverse btn-small"><i class="fa fa-edit"></i> Edit</a></td><td class="text-right"><a ng-click="ctrl.removePlaylist(playlist)" class="btn btn-danger btn-small"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/plugins/import_list/import_list.html",'<div class="gf-form-group" ng-if="ctrl.dashboards.length"><table class="filter-table"><tbody><tr ng-repeat="dash in ctrl.dashboards"><td class="width-1"><i class="icon-gf icon-gf-dashboard"></i></td><td><a href="dashboard/{{dash.importedUri}}" ng-show="dash.imported">{{dash.title}} </a><span ng-show="!dash.imported">{{dash.title}}</span></td><td><span>Revision: {{dash.revision}} <span ng-if="dash.imported" class="small">(Imported: {{dash.importedRevision}})</span> <span></span></span></td><td style="text-align: right"><button class="btn btn-secondary btn-small" ng-click="ctrl.import(dash, false)" ng-show="!dash.imported">Import</button> <button class="btn btn-secondary btn-small" ng-click="ctrl.import(dash, true)" ng-show="dash.imported"><span ng-if="dash.revision !== dash.importedRevision">Update</span> <span ng-if="dash.revision === dash.importedRevision">Re-import</span></button> <button class="btn btn-danger btn-small" ng-click="ctrl.remove(dash)" ng-show="dash.imported"><i class="fa fa-trash"></i></button></td></tr></tbody></table></div>'),a.put("public/app/features/plugins/partials/ds_edit.html",'<navbar title="Data Sources" title-url="datasources" icon="icon-gf icon-gf-datasources"></navbar><div class="page-container"><div class="page-header"><h1 ng-show="ctrl.isNew">Add data source</h1><h1 ng-hide="ctrl.isNew">Edit data source</h1><div class="page-header-tabs" ng-show="ctrl.hasDashboards"><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.tabIndex = 0" ng-class="{active: ctrl.tabIndex === 0}">Config</a></li><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.tabIndex = 1" ng-class="{active: ctrl.tabIndex === 1}">Dashboards</a></li></ul></div></div><div ng-if="ctrl.tabIndex === 0" class="tab-content"><form name="ctrl.editForm" ng-if="ctrl.current"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Name</span> <input class="gf-form-input max-width-23" type="text" ng-model="ctrl.current.name" placeholder="name" required><info-popover offset="0px -135px" mode="right-absolute">The name is used when you select the data source in panels. The <em>Default</em> data source is preselected in new panels.</info-popover></div><gf-form-switch class="gf-form" label="Default" checked="ctrl.current.isDefault" switch-class="max-width-6"></gf-form-switch></div><div class="gf-form"><span class="gf-form-label width-7">Type</span><div class="gf-form-select-wrapper max-width-23"><select class="gf-form-input" ng-model="ctrl.current.type" ng-options="v.id as v.name for v in ctrl.types" ng-change="ctrl.typeChanged()"></select></div></div></div><div class="alert alert-info gf-form-group" ng-if="ctrl.datasourceMeta.state === \'alpha\'">This plugin is marked as being in alpha state, which means it is in early development phase and updates will include breaking changes.</div><rebuild-on-change property="ctrl.datasourceMeta.id"><plugin-component type="datasource-config-ctrl"></plugin-component></rebuild-on-change><div ng-if="ctrl.testing" class="gf-form-group"><h5 ng-show="!ctrl.testing.done">Testing.... <i class="fa fa-spiner fa-spin"></i></h5><div class="alert-{{ctrl.testing.status}} alert"><div class="alert-title">{{ctrl.testing.title}}</div><div ng-bind="ctrl.testing.message"></div></div></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-show="ctrl.isNew" ng-click="ctrl.saveChanges()">Add</button> <button type="submit" class="btn btn-success" ng-show="!ctrl.isNew" ng-click="ctrl.saveChanges()">Save &amp; Test</button> <button type="submit" class="btn btn-danger" ng-show="!ctrl.isNew" ng-click="ctrl.delete()">Delete</button> <a class="btn btn-link" href="datasources">Cancel</a></div></form></div><div ng-if="ctrl.tabIndex === 1" class="tab-content"><dashboard-import-list plugin="ctrl.datasourceMeta" datasource="ctrl.current"></dashboard-import-list></div></div>'),a.put("public/app/features/plugins/partials/ds_http_settings.html",'<div class="gf-form-group"><h3 class="page-heading">Http settings</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Url</span> <input class="gf-form-input" type="text" ng-model="current.url" placeholder="{{suggestUrl}}" bs-typeahead="getSuggestUrls" min-length="0" ng-pattern="/^(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/" required><info-popover mode="right-absolute"><p>Specify a complete HTTP url (for example http://your_server:8080)</p><span ng-show="current.access === \'direct\'">Your access method is <em>Direct</em>, this means the url needs to be accessable from the browser. </span><span ng-show="current.access === \'proxy\'">Your access method is currently <em>Proxy</em>, this means the url needs to be accessable from the grafana backend.</span></info-popover></div></div><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Access</span><div class="gf-form-select-wrapper gf-form-select-wrapper--has-help-icon max-width-24"><select class="gf-form-input" ng-model="current.access" ng-options="f for f in [\'direct\', \'proxy\']"></select><info-popover mode="right-absolute">Direct = url is used directly from browser<br>Proxy = Grafana backend will proxy the request</info-popover></div></div></div></div><h3 class="page-heading">Http Auth</h3><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Basic Auth" checked="current.basicAuth" label-class="width-8" switch-class="max-width-6"></gf-form-switch><gf-form-switch class="gf-form" label="With Credentials" tooltip="Whether credentials such as cookies or auth headers should be sent with cross-site requests." checked="current.withCredentials" label-class="width-11" switch-class="max-width-6"></gf-form-switch></div><div class="gf-form-inline"><gf-form-switch class="gf-form" ng-if="current.access==\'proxy\'" label="TLS Client Auth" label-class="width-8" checked="current.jsonData.tlsAuth" switch-class="max-width-6"></gf-form-switch><gf-form-switch class="gf-form" ng-if="current.access==\'proxy\'" label="With CA Cert" tooltip="Optional. Needed for self-signed TLS Certs." checked="current.jsonData.tlsAuthWithCACert" label-class="width-11" switch-class="max-width-6"></gf-form-switch></div></div><div class="gf-form-group" ng-if="current.basicAuth"><h6>Basic Auth Details</h6><div class="gf-form" ng-if="current.basicAuth"><span class="gf-form-label width-7">User </span><input class="gf-form-input max-width-21" type="text" ng-model="current.basicAuthUser" placeholder="user" required></div><div class="gf-form"><span class="gf-form-label width-7">Password </span><input class="gf-form-input max-width-21" type="password" ng-model="current.basicAuthPassword" placeholder="password" required></div></div><div class="gf-form-group" ng-if="current.jsonData.tlsAuth && current.access==\'proxy\'"><div class="gf-form"><h6>TLS Auth Details</h6><info-popover mode="header">TLS Certs are encrypted and stored in the Grafana database.</info-popover></div><div ng-if="current.jsonData.tlsAuthWithCACert"><div class="gf-form-inline"><div class="gf-form gf-form--v-stretch"><label class="gf-form-label width-7">CA Cert</label></div><div class="gf-form gf-form--grow" ng-if="!current.secureJsonFields.tlsCACert"><textarea rows="7" class="gf-form-input gf-form-textarea" ng-model="current.secureJsonData.tlsCACert" placeholder="Begins with -----BEGIN CERTIFICATE-----. The CA Certificate is necessary if you are using self-signed certificates."></textarea></div><div class="gf-form" ng-if="current.secureJsonFields.tlsCACert"><input type="text" class="gf-form-input max-width-12" disabled="disabled" value="configured"> <a class="btn btn-secondary gf-form-btn" href="#" ng-click="current.secureJsonFields.tlsCACert = false">reset</a></div></div></div><div class="gf-form-inline"><div class="gf-form gf-form--v-stretch"><label class="gf-form-label width-7">Client Cert</label></div><div class="gf-form gf-form--grow" ng-if="!current.secureJsonFields.tlsClientCert"><textarea rows="7" class="gf-form-input gf-form-textarea" ng-model="current.secureJsonData.tlsClientCert" placeholder="Begins with -----BEGIN CERTIFICATE-----" required></textarea></div><div class="gf-form" ng-if="current.secureJsonFields.tlsClientCert"><input type="text" class="gf-form-input max-width-12" disabled="disabled" value="configured"> <a class="btn btn-secondary gf-form-btn" href="#" ng-click="current.secureJsonFields.tlsClientCert = false">reset</a></div></div><div class="gf-form-inline"><div class="gf-form gf-form--v-stretch"><label class="gf-form-label width-7">Client Key</label></div><div class="gf-form gf-form--grow" ng-if="!current.secureJsonFields.tlsClientKey"><textarea rows="7" class="gf-form-input gf-form-textarea" ng-model="current.secureJsonData.tlsClientKey" placeholder="Begins with -----BEGIN RSA PRIVATE KEY-----" required></textarea></div><div class="gf-form" ng-if="current.secureJsonFields.tlsClientKey"><input type="text" class="gf-form-input max-width-12" disabled="disabled" value="configured"> <a class="btn btn-secondary gf-form-btn" href="#" ng-click="current.secureJsonFields.tlsClientKey = false">reset</a></div></div></div>'),a.put("public/app/features/plugins/partials/ds_list.html",'<navbar title="Data Sources" title-url="datasources" icon="icon-gf icon-gf-datasources"></navbar><div class="page-container"><div class="page-header"><h1>Data Sources</h1><a class="btn btn-success" href="datasources/new"><i class="fa fa-plus"></i> Add data source</a></div><section class="card-section" layout-mode><layout-selector></layout-selector><ol class="card-list"><li class="card-item-wrapper" ng-repeat="ds in ctrl.datasources"><a class="card-item" href="datasources/edit/{{ds.id}}/"><div class="card-item-header"><div class="card-item-type">{{ds.type}}</div></div><div class="card-item-body"><figure class="card-item-figure"><img ng-src="{{ds.typeLogoUrl}}"></figure><div class="card-item-details"><div class="card-item-name">{{ds.name}} <span ng-if="ds.isDefault"><span class="btn btn-secondary btn-mini">default</span></span></div><div class="card-item-sub-name">{{ds.url}}</div></div></div></a></li></ol></section><div ng-if="ctrl.datasources.length === 0"><em>No data sources defined</em></div></div>'),a.put("public/app/features/plugins/partials/plugin_edit.html",'<navbar title="Plugins" title-url="plugins" icon="icon-gf icon-gf-apps"></navbar><div class="page-container" ng-init="ctrl.init()"><div class="page-header"><div class="plugin-header"><span class="plugin-header-logo"><img ng-src="{{ctrl.model.info.logos.large}}"></span><div class="plugin-header-info-block"><h1 class="plugin-header-name">{{ctrl.model.name}}</h1><div class="plugin-header-author">By {{ctrl.model.info.author.name}}</div><div class="plugin-header-stamps"><span class="plugin-header-stamps-type"><i class="{{ctrl.pluginIcon}}"></i> {{ctrl.model.type}}</span></div></div></div><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in ctrl.tabs"><a class="gf-tabs-link" ng-click="ctrl.tabIndex = $index" ng-class="{active: ctrl.tabIndex === $index}">{{::tab}}</a></li></ul></div><div class="page-body"><div class="tab-content page-content-with-sidebar" ng-if="ctrl.tabs[ctrl.tabIndex] === \'Readme\'"><div ng-bind-html="ctrl.readmeHtml" class="markdown-html"></div></div><div class="tab-content page-content-with-sidebar" ng-if="ctrl.tabs[ctrl.tabIndex] === \'Config\'"><div ng-if="ctrl.model.id"><plugin-component type="app-config-ctrl"></plugin-component><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="ctrl.enable()" ng-show="!ctrl.model.enabled">Enable</button> <button type="submit" class="btn btn-success" ng-click="ctrl.update()" ng-show="ctrl.model.enabled">Update</button> <button type="submit" class="btn btn-danger" ng-click="ctrl.disable()" ng-show="ctrl.model.enabled">Disable</button></div></div></div><div class="tab-content page-content-with-sidebar" ng-if="ctrl.tabs[ctrl.tabIndex] === \'Dashboards\'"><dashboard-import-list plugin="ctrl.model"></dashboard-import-list></div><aside class="page-sidebar"><section class="page-sidebar-section"><h4>Version</h4><span>{{ctrl.model.info.version}}</span><div ng-show="ctrl.model.hasUpdate"><a ng-click="ctrl.updateAvailable()" bs-tooltip="ctrl.model.latestVersion">Update Available!</a></div></section><section class="page-sidebar-section" ng-show="ctrl.model.type === \'app\'"><h5>Includes<ul class="ui-list plugin-info-list"><li ng-repeat="plug in ctrl.includes" class="plugin-info-list-item"><i class="{{plug.icon}}"></i> {{plug.name}}</li></ul></h5></section><section class="page-sidebar-section"><h5>Dependencies<ul class="ui-list plugin-info-list"><li class="plugin-info-list-item"><img src="public/img/grafana_icon.svg">Grafana {{ctrl.model.dependencies.grafanaVersion}}</li><li ng-repeat="plugDep in ctrl.model.dependencies.plugins" class="plugin-info-list-item"><i class="{{plugDep.icon}}"></i> {{plugDep.name}} {{plugDep.version}}</li></ul></h5></section><section class="page-sidebar-section"><h5>Links<ul class="ui-list"><li ng-repeat="link in ctrl.model.info.links"><a href="{{link.url}}" class="external-link" target="_blank">{{link.name}}</a></li></ul></h5></section></aside></div></div>'),
a.put("public/app/features/plugins/partials/plugin_list.html",'<navbar title="Plugins" icon="icon-gf icon-gf-apps" title-url="plugins"></navbar><div class="page-container"><div class="page-header"><h1>Plugins <span class="muted small">(currently installed)</span></h1><div class="page-header-tabs"><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" href="plugins?type=panel" ng-class="{active: ctrl.tabIndex === 0}">Panels</a></li><li class="gf-tabs-item"><a class="gf-tabs-link" href="plugins?type=datasource" ng-class="{active: ctrl.tabIndex === 1}">Data sources</a></li><li class="gf-tabs-item"><a class="gf-tabs-link" href="plugins?type=app" ng-class="{active: ctrl.tabIndex === 2}">Apps</a></li></ul><a class="get-more-plugins-link" href="https://grafana.com/plugins?utm_source=grafana_plugin_list" target="_blank">Find more <img src="public/img/icn-plugins-tiny.svg">plugins on Grafana.com</a></div></div><section class="card-section" layout-mode><layout-selector></layout-selector><ol class="card-list"><li class="card-item-wrapper" ng-repeat="plugin in ctrl.plugins"><a class="card-item" href="plugins/{{plugin.id}}/edit"><div class="card-item-header"><div class="card-item-type"><i class="icon-gf icon-gf-{{plugin.type}}"></i> {{plugin.type}}</div><div class="card-item-notice" ng-show="plugin.hasUpdate"><span bs-tooltip="plugin.latestVersion">Update available!</span></div></div><div class="card-item-body"><figure class="card-item-figure"><img ng-src="{{plugin.info.logos.small}}"></figure><div class="card-item-details"><div class="card-item-name">{{plugin.name}}</div><div class="card-item-sub-name">By {{plugin.info.author.name}}</div></div></div></a></li></ol></section></div>'),a.put("public/app/features/plugins/partials/plugin_page.html",'<navbar icon-url="{{ctrl.appLogoUrl}}" title="{{ctrl.appModel.name}}" title-url="{{ctrl.appModel.defaultNavUrl}}"></navbar><div class="page-container"><div ng-if="ctrl.page"><plugin-component type="app-page"></plugin-component></div></div>'),a.put("public/app/features/plugins/partials/update_instructions.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-cloud-download"></i> <span class="p-l-1">Update Plugin</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="gf-form-group"><p>Type the following on the command line to update {{plugin.name}}.</p><pre><code>grafana-cli plugins update {{plugin.id}}</code></pre><span class="small">Check out {{plugin.name}} on <a href="https://grafana.com/plugins/{{plugin.id}}">Grafana.com</a> for README and changelog. If you do not have access to the command line, ask your Grafana administator.</span></div><p class="pluginlist-none-installed"><img class="pluginlist-inline-logo" src="public/img/grafana_icon.svg"><strong>Pro tip</strong>: To update all plugins at once, type <code class="code--small">grafana-cli plugins update-all</code> on the command line.</p></div></div>'),a.put("public/app/features/snapshot/partials/snapshots.html",'<navbar icon="icon-gf icon-gf-snapshot" title="Snapshots" title-url="dashboard/snapshots"></navbar><div class="page-container"><div class="page-header"><h1>Available snapshots</h1></div><table class="filter-table" style="margin-top: 20px"><thead><th><strong>Name</strong></th><th><strong>Snapshot url</strong></th><th style="width: 70px"></th><th style="width: 25px"></th></thead><tr ng-repeat="snapshot in ctrl.snapshots"><td><a href="dashboard/snapshot/{{snapshot.key}}">{{snapshot.name}}</a></td><td><a href="dashboard/snapshot/{{snapshot.key}}">dashboard/snapshot/{{snapshot.key}}</a></td><td class="text-center"><a href="dashboard/snapshot/{{snapshot.key}}" class="btn btn-inverse btn-mini"><i class="fa fa-eye"></i> View</a></td><td class="text-right"><a ng-click="ctrl.removeSnapshot(snapshot)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/styleguide/styleguide.html",'<navbar icon="fa fa-fw fa-adjust" title="Style Guide" title-url="styleguide"></navbar><div class="page-container"><div class="page-header"><h1>Style Guide</h1><a class="btn btn-success" ng-click="ctrl.switchTheme()"><i class="fa fa-random"></i> Switch theme</a><div class="page-header-tabs"><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="page in ctrl.pages"><a class="gf-tabs-link" href="styleguide/{{page}}" ng-class="{active: ctrl.page[page]}">{{page}}</a></li></ul></div></div><div class="tab-pane" ng-if="ctrl.page.colors"><ul><li class="style-guide-color-card" ng-repeat="color in ctrl.colors" style="background-color: {{color.value}}"><strong>${{color.name}}</strong> <em>{{color.value}}</em></li></ul></div><div class="tab-pane" ng-if="ctrl.page.buttons"><div ng-repeat="variant in ctrl.buttonVariants" class="row"><div ng-repeat="btnSize in ctrl.buttonSizes" class="style-guide-button-list p-a-2 col-md-4"><button ng-repeat="buttonName in ctrl.buttonNames" class="btn btn{{variant}}{{buttonName}} {{btnSize}}">btn{{variant}}{{buttonName}}</button></div></div></div><div class="tab-pane style-guide-icon-list" ng-if="ctrl.page.icons"><div class="row"><div ng-repeat="icon in ctrl.icons" class="col-md-2 col-sm-3 col-xs-4"><i class="icon-gf icon-gf-{{icon}}" bs-tooltip="\'icon-gf icon-gf-{{icon}}\'"></i></div></div></div><div class="tab-pane style-guide-plugin-authoring" ng-if="ctrl.page.plugins"><p>From grafana 3.0 it\'s very easy to develop your own plugins and share them with other grafana users.</p><p>More information about plugin development can be found at <a href="http://docs.grafana.org/plugins/developing/development/" target="_blank">docs.grafana.org</a></p></div><div class="tab-pane" ng-if="ctrl.page.forms">forms</div></div>'),a.put("public/app/features/templating/partials/editor.html",'<div ng-controller="VariableEditorCtrl" ng-init="init()"><div class="tabbed-view-header"><h2 class="tabbed-view-title">Templating</h2><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="mode = \'list\';" ng-class="{active: mode === \'list\'}">Variables</a></li><li class="gf-tabs-item" ng-show="mode === \'edit\'"><a class="gf-tabs-link" ng-class="{active: mode === \'edit\'}">Edit</a></li><li class="gf-tabs-item" ng-show="mode === \'new\'"><span class="active gf-tabs-link">New</span></li><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="mode = \'help\';" ng-class="{active: mode === \'help\'}">Help</a></li></ul><button class="tabbed-view-close-btn" ng-click="dismiss();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div ng-if="mode === \'list\'"><div ng-if="variables.length === 0"><em>No template variables defined</em><br><br></div><table class="grafana-options-table"><tr ng-repeat="variable in variables"><td style="width: 1%"><span class="template-variable">${{variable.name}}</span></td><td class="max-width" style="max-width: 200px">{{variable.query}}</td><td style="width: 1%"><i ng-click="_.move(variables,$index,$index-1)" ng-hide="$first" class="pointer fa fa-arrow-up"></i></td><td style="width: 1%"><i ng-click="_.move(variables,$index,$index+1)" ng-hide="$last" class="pointer fa fa-arrow-down"></i></td><td style="width: 1%"><a ng-click="duplicate(variable)" class="btn btn-inverse btn-mini">Duplicate</a></td><td style="width: 1%"><a ng-click="edit(variable)" class="btn btn-inverse btn-mini"><i class="fa fa-edit"></i> Edit</a></td><td style="width: 1%"><a ng-click="removeVariable(variable)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div><div ng-show="mode === \'help\'"><div class="grafana-info-box col-lg-8"><h5>What does templating do?</h5><p>Templating allows for more interactive and dynamic dashboards. Instead of hard-coding things like server, application and sensor name in you metric queries you can use variables in their place. Variables are shown as dropdown select boxes at the top of the dashboard. These dropdowns make it easy to change the data being displayed in your dashboard.<br><br>Checkout the <a class="external-link" target="_blank" href="http://docs.grafana.org/reference/templating/">Templating documentation</a> for more information.</p></div></div><div class="gf-form" ng-show="mode === \'list\'"><div class="gf-form-button-row"><a type="button" class="btn gf-form-button btn-success" ng-click="mode = \'new\';"><i class="fa fa-plus"></i>&nbsp;&nbsp;New</a></div></div><form ng-if="mode === \'edit\' || mode === \'new\'" name="ctrl.form"><h5 class="section-heading">Variable</h5><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-19"><span class="gf-form-label width-6">Name</span> <input type="text" class="gf-form-input" name="name" placeholder="name" ng-model="current.name" required ng-pattern="namePattern"></div><div class="gf-form max-width-19"><span class="gf-form-label width-6">Type<info-popover mode="right-normal">{{variableTypes[current.type].description}}</info-popover></span><div class="gf-form-select-wrapper max-width-17"><select class="gf-form-input" ng-model="current.type" ng-options="k as v.name for (k, v) in variableTypes" ng-change="typeChanged()"></select></div></div></div><div class="gf-form" ng-show="ctrl.form.name.$error.pattern"><span class="gf-form-label gf-form-label--error">Template names cannot begin with \'__\' that\'s reserved for Grafanas global variables</span></div><div class="gf-form-inline"><div class="gf-form max-width-19"><span class="gf-form-label width-6">Label</span> <input type="text" class="gf-form-input" ng-model="current.label" placeholder="optional display name"></div><div class="gf-form max-width-19"><span class="gf-form-label width-6">Hide</span><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="current.hide" ng-options="f.value as f.text for f in hideOptions"></select></div></div></div></div><div ng-if="current.type === \'interval\'" class="gf-form-group"><h5 class="section-heading">Interval Options</h5><div class="gf-form"><span class="gf-form-label width-9">Values</span> <input type="text" class="gf-form-input" placeholder="name" ng-model="current.query" placeholder="1m,10m,1h,6h,1d,7d" ng-model-onblur ng-change="runQuery()" required></div><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Auto Option" label-class="width-9" checked="current.auto" on-change="runQuery()"></gf-form-switch><div class="gf-form"><span class="gf-form-label width-9" ng-show="current.auto">Step count<tip>How many times should the current time range be divided to calculate the value</tip></span><div class="gf-form-select-wrapper max-width-10" ng-show="current.auto"><select class="gf-form-input" ng-model="current.auto_count" ng-options="f for f in [1,2,3,4,5,10,20,30,40,50,100,200,300,400,500]" ng-change="runQuery()"></select></div></div><div class="gf-form"><span class="gf-form-label" ng-show="current.auto">Min interval<tip>The calculated value will not go below this threshold</tip></span><input type="text" class="gf-form-input max-width-10" ng-show="current.auto" ng-model="current.auto_min" ng-change="runQuery()" placeholder="10s"></div></div></div><div ng-if="current.type === \'custom\'" class="gf-form-group"><h5 class="section-heading">Custom Options</h5><div class="gf-form"><span class="gf-form-label width-14">Values separated by comma</span> <input type="text" class="gf-form-input" ng-model="current.query" ng-blur="runQuery()" placeholder="1, 10, 20, myvalue" required></div></div><div ng-if="current.type === \'constant\'" class="gf-form-group"><h5 class="section-heading">Constant options</h5><div class="gf-form"><span class="gf-form-label">Value</span> <input type="text" class="gf-form-input" ng-model="current.query" ng-blur="runQuery()" placeholder="your metric prefix"></div></div><div ng-if="current.type === \'query\'" class="gf-form-group"><h5 class="section-heading">Query Options</h5><div class="gf-form-inline"><div class="gf-form max-width-21"><span class="gf-form-label width-7">Data source</span><div class="gf-form-select-wrapper max-width-14"><select class="gf-form-input" ng-model="current.datasource" ng-options="f.value as f.name for f in datasources" required><option value="" ng-if="false"></option></select></div></div><div class="gf-form max-width-21"><span class="gf-form-label width-7">Refresh<info-popover mode="right-normal">When to update the values of this variable.</info-popover></span><div class="gf-form-select-wrapper max-width-14"><select class="gf-form-input" ng-model="current.refresh" ng-options="f.value as f.text for f in refreshOptions"></select></div></div></div><div class="gf-form"><span class="gf-form-label width-7">Query</span> <input type="text" class="gf-form-input" ng-model="current.query" placeholder="metric name or tags query" ng-model-onblur ng-change="runQuery()" required></div><div class="gf-form"><span class="gf-form-label width-7">Regex<info-popover mode="right-normal">Optional, if you want to extract part of a series name or metric node segment.</info-popover></span><input type="text" class="gf-form-input" ng-model="current.regex" placeholder="/.*-(.*)-.*/" ng-model-onblur ng-change="runQuery()"></div><div class="gf-form max-width-21"><span class="gf-form-label width-7">Sort<info-popover mode="right-normal">How to sort the values of this variable.</info-popover></span><div class="gf-form-select-wrapper max-width-14"><select class="gf-form-input" ng-model="current.sort" ng-options="f.value as f.text for f in sortOptions" ng-change="runQuery()"></select></div></div></div><div ng-show="current.type === \'datasource\'" class="gf-form-group"><h5 class="section-heading">Data source options</h5><div class="gf-form"><label class="gf-form-label width-12">Type</label><div class="gf-form-select-wrapper max-width-18"><select class="gf-form-input" ng-model="current.query" ng-options="f.value as f.text for f in datasourceTypes" ng-change="runQuery()"></select></div></div><div class="gf-form"><label class="gf-form-label width-12">Instance name filter<info-popover mode="right-normal">Regex filter for which data source instances to choose from in the variable value dropdown. Leave empty for all.<br><br>Example: <code>/^prod/</code></info-popover></label><input type="text" class="gf-form-input max-width-18" ng-model="current.regex" placeholder="/.*-(.*)-.*/" ng-model-onblur ng-change="runQuery()"></div></div><div ng-if="current.type === \'adhoc\'" class="gf-form-group"><h5 class="section-heading">Options</h5><div class="gf-form max-width-21"><span class="gf-form-label width-8">Data source</span><div class="gf-form-select-wrapper max-width-14"><select class="gf-form-input" ng-model="current.datasource" ng-options="f.value as f.name for f in datasources" required ng-change="validate()"><option value="" ng-if="false"></option></select></div></div></div><div class="section gf-form-group" ng-show="variableTypes[current.type].supportsMulti"><h5 class="section-heading">Selection Options</h5><div class="section"><gf-form-switch class="gf-form" label="Multi-value" label-class="width-10" tooltip="Enables multiple values to be selected at the same time" checked="current.multi" on-change="runQuery()"></gf-form-switch><gf-form-switch class="gf-form" label="Include All option" label-class="width-10" checked="current.includeAll" on-change="runQuery()"></gf-form-switch></div><div class="gf-form" ng-if="current.includeAll"><span class="gf-form-label width-10">Custom all value</span> <input type="text" class="gf-form-input max-width-15" ng-model="current.allValue" placeholder="blank = auto"></div></div><div class="gf-form-group" ng-if="current.type === \'query\'"><h5>Value groups/tags (Experimental feature)</h5><gf-form-switch class="gf-form" label="Enabled" label-class="width-10" checked="current.useTags" on-change="runQuery()"></gf-form-switch><div class="gf-form last" ng-if="current.useTags"><span class="gf-form-label width-10">Tags query</span> <input type="text" class="gf-form-input" ng-model="current.tagsQuery" placeholder="metric name or tags query" ng-model-onblur></div><div class="gf-form" ng-if="current.useTags"><li class="gf-form-label width-10">Tag values query</li><input type="text" class="gf-form-input" ng-model="current.tagValuesQuery" placeholder="apps.$tag.*" ng-model-onblur></div></div><div class="gf-form-group" ng-show="current.options.length"><h5>Preview of values (shows max 20)</h5><div class="gf-form-inline"><div class="gf-form" ng-repeat="option in current.options | limitTo: 20"><span class="gf-form-label">{{option.text}}</span></div></div></div><div class="alert alert-info gf-form-group" ng-if="infoText">{{infoText}}</div><div class="gf-form-button-row p-y-0"><button type="submit" class="btn btn-success" ng-show="mode === \'edit\'" ng-click="update();">Update</button> <button type="submit" class="btn btn-success" ng-show="mode === \'new\'" ng-click="add();">Add</button></div></form></div></div>'),a.put("public/app/partials/confirm_modal.html",'<div class="modal-body" ng-cloak><div class="modal-header"><h2 class="modal-header-title"><i class="fa {{icon}}"></i> <span class="p-l-1">{{title}}</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content text-center"><div class="confirm-modal-text">{{text}}<div class="confirm-modal-text2" ng-show="text2">{{text2}}</div></div><div class="modal-content-confirm-text" ng-if="confirmText"><input type="text" class="gf-form-input width-16" style="display: inline-block" placeholder="Type {{confirmText}} to confirm" ng-model="confirmInput" ng-change="updateConfirmText(confirmInput)"></div><div class="confirm-modal-buttons"><button type="button" class="btn btn-inverse" ng-click="dismiss()">{{noText}}</button> <button type="button" class="btn btn-danger" ng-click="onConfirm();dismiss();" ng-disabled="!confirmTextValid" give-focus="true">{{yesText}}</button> <button ng-show="onAltAction" type="button" class="btn btn-success" ng-click="dismiss();onAltAction();">{{altActionText}}</button></div></div></div>'),a.put("public/app/partials/dashboard.html",'<div dash-class ng-if="dashboard"><dashnav></dashnav><div class="dashboard-container"><div dash-editor-view></div><dashboard-search></dashboard-search><div class="clearfix"></div><dashboard-submenu ng-if="dashboard.meta.submenuEnabled" dashboard="dashboard"></dashboard-submenu><div class="clearfix"></div><dash-row class="dash-row" ng-repeat="row in dashboard.rows" row="row" dashboard="dashboard"></dash-row><div ng-show="dashboard.meta.canEdit && !dashboard.meta.fullscreen" class="add-row-panel-hint"><div class="span12" style="text-align:left"><span style="margin-left: 12px" ng-click="addRowDefault()" class="pointer btn btn-inverse btn-small"><span><i class="fa fa-plus"></i> ADD ROW</span></span></div></div></div></div>'),a.put("public/app/partials/edit_json.html",'<div ng-controller="JsonEditorCtrl"><div class="tabbed-view-header"><h2 class="tabbed-view-title">JSON</h2><button class="tabbed-view-close-btn" ng-click="dismiss()"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div class="gf-form"><textarea class="gf-form-input" ng-model="json" rows="20" spellcheck="false"></textarea></div><div class="gf-form-button-row"><button type="button" class="btn btn-success" ng-show="canUpdate" ng-click="update(); dismiss();">Update</button></div></div></div>'),a.put("public/app/partials/error.html",'<navbar title="404" icon="fa fa-fw fa-question" title-url="/"></navbar><div class="page-container"><div class="page-header"><h1>Page not found (404)</h1></div></div>'),a.put("public/app/partials/login.html",'<div class="login-container container"><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="login-inner-box"><div class="login-tab-header"><button class="btn-login-tab" ng-click="loginMode = true;" ng-class="{active: loginMode}">Log in</button> <button class="btn-login-tab" ng-click="loginMode = false;" ng-class="{active: !loginMode}" ng-show="!disableUserSignUp">Sign up</button></div><form name="loginForm" class="login-form gf-form-group" ng-hide="disableLoginForm"><div class="gf-form" ng-if="loginMode"><span class="gf-form-label width-7">User</span> <input type="text" name="username" class="gf-form-input max-width-14" required ng-model="formModel.user" placeholder="{{loginHint}}"></div><div class="gf-form" ng-if="loginMode"><span class="gf-form-label width-7">Password</span> <input type="password" name="password" class="gf-form-input max-width-14" required ng-model="formModel.password" id="inputPassword" placeholder="password"></div><div class="gf-form" ng-if="!loginMode"><span class="gf-form-label width-7">Email</span> <input type="email" class="gf-form-input max-width-14" required ng-model="formModel.email" placeholder="email"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-large p-x-3" ng-click="submit();" ng-class="{\'btn-inverse\': !loginForm.$valid, \'btn-primary\': loginForm.$valid}">{{submitBtnText}}</button></div></form><div ng-if="loginMode"><div class="text-center login-divider" ng-show="oauthEnabled"><div class="login-divider-line"><span class="login-divider-text"><span ng-hide="disableLoginForm">Or</span> Login With</span></div></div><div class="clearfix"></div><div class="login-oauth text-center" ng-show="oauthEnabled"><a class="btn btn-large btn-google" href="login/google" target="_self" ng-if="oauth.google"><i class="fa fa-google"></i> Google </a><a class="btn btn-large btn-github" href="login/github" target="_self" ng-if="oauth.github"><i class="fa fa-github"></i> GitHub </a><a class="btn btn-large btn-grafana-com" href="login/grafana_com" target="_self" ng-if="oauth.grafana_com"><img src="public/img/grafana_icon.svg"><span>Grafana.com</span> </a><a class="btn btn-large btn-generic-oauth" href="login/generic_oauth" target="_self" ng-if="oauth.generic_oauth"><i class="fa fa-gear"></i> {{oauth.generic_oauth.name}}</a></div></div></div><div class="clearfix"></div><div class="text-center password-recovery" ng-hide="disableLoginForm"><div class="text-center"><a href="user/password/send-reset-email">Forgot your password?</a></div></div></div></div>'),a.put("public/app/partials/metrics.html",'<div class="query-editor-rows gf-form-group"><div ng-repeat="target in ctrl.panel.targets" ng-class="{\'gf-form-disabled\': target.hide}"><rebuild-on-change property="ctrl.panel.datasource || target.datasource" show-null="true"><plugin-component type="query-ctrl"></plugin-component></rebuild-on-change></div></div><metrics-ds-selector panel-ctrl="ctrl"></metrics-ds-selector><div class="gf-form-group"><rebuild-on-change property="ctrl.panel.datasource" show-null="true"><plugin-component type="query-options-ctrl"></plugin-component></rebuild-on-change></div><div class="clearfix"></div>'),a.put("public/app/partials/modal.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3>{{modal.title}}</h3></div><div class="modal-body"><div ng-bind-html="modal.body"></div></div><div class="modal-footer"><button type="button" class="btn btn-danger" ng-click="dismiss()">Close</button></div>'),a.put("public/app/partials/panelgeneral.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Info</h5><div class="gf-form"><span class="gf-form-label width-7">Title</span> <input type="text" class="gf-form-input width-25" ng-model="ctrl.panel.title"></div><div class="gf-form gf-form--v-stretch"><span class="gf-form-label width-7">Description</span><textarea class="gf-form-input width-25" rows="3" ng-model="ctrl.panel.description" placeholder="Panel description, supports markdown & links"></textarea></div></div><div class="section gf-form-group"><h5 class="section-heading">Dimensions</h5><div class="gf-form"><span class="gf-form-label width-7">Span</span><select class="gf-form-input width-6" ng-model="ctrl.panel.span" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10,11,12]"></select></div><div class="gf-form"><span class="gf-form-label width-7">Height</span> <input type="text" class="gf-form-input width-6" ng-model="ctrl.panel.height" placeholder="100px"></div><gf-form-switch class="gf-form" label-class="width-7" switch-class="max-width-6" label="Transparent" checked="ctrl.panel.transparent" on-change="ctrl.render()"></gf-form-switch></div><div class="section gf-form-group"><h5 class="section-heading">Templating</h5><div class="gf-form"><span class="gf-form-label width-8">Repeat Panel</span><dash-repeat-option model="ctrl.panel"></dash-repeat-option></div><div class="gf-form"><span class="gf-form-label width-8">Min span</span><select class="gf-form-input" ng-model="ctrl.panel.minSpan" ng-options="f for f in [1,2,3,4,5,6,7,8,9,10,11,12]"><option value=""></option></select></div></div></div><panel-links-editor panel="ctrl.panel"></panel-links-editor>'),a.put("public/app/partials/reset_password.html",'<div class="login-container container"><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="login-inner-box"><div class="login-tab-header"><button class="btn-login-tab" class="active">Reset password</button></div><form name="sendResetForm" class="login-form gf-form-group" ng-show="mode === \'send\'"><div class="gf-form"><span class="gf-form-label width-7">User</span> <input type="text" name="username" class="gf-form-input max-width-14" required ng-model="formModel.userOrEmail" placeholder="email or username"></div><div class="gf-form-button-row"><br><br><button type="submit" class="btn btn-large" ng-click="sendResetEmail();" ng-class="{\'btn-inverse\': !sendResetForm.$valid, \'btn-primary\': sendResetForm.$valid}">Reset Password</button></div></form><div style="text-align: center; padding: 20px" ng-if="mode === \'email-sent\'">An email with a reset link as been sent to the email address.<br>You should receive it shortly.</div><br><br><form name="resetForm" class="login-form gf-form-group" ng-show="mode === \'reset\'"><div class="gf-form"><span class="gf-form-label width-10">New Password</span> <input type="password" name="NewPassword" class="gf-form-input max-width-14" required ng-minlength="4" ng-model="formModel.newPassword" placeholder="password" watch-change="formModel.newPassword = inputValue;"></div><div class="gf-form"><span class="gf-form-label width-10">Confirm Password</span> <input type="password" name="ConfirmPassword" class="gf-form-input max-width-14" required ng-minlength="4" ng-model="formModel.confirmPassword" placeholder="confirm password"></div><div style="margin-left: 141px; width: 207px"><password-strength password="formModel.newPassword"></password-strength></div><div class="gf-form-button-row"><button type="submit" class="btn" ng-click="submitReset();" ng-class="{\'btn-inverse\': !resetForm.$valid, \'btn-primary\': resetForm.$valid}">Reset Password</button></div></form></div><div class="row" style="margin-top: 20px"><div class="text-center"><a href="login">Back to login</a></div></div></div></div>'),a.put("public/app/partials/roweditor.html",'<div class="tabbed-view-header"><h2 class="tabbed-view-title">Row settings</h2><button class="tabbed-view-close-btn" ng-click="dismiss();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div class="row"><div class="col-md-8"><div class="page-heading"><h5>Row details</h5></div><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-6">Title</span> <input type="text" class="gf-form-input max-width-14" ng-model="row.title"></div><div class="gf-form"><span class="gf-form-label width-6">Height</span> <input type="text" class="gf-form-input max-width-8" ng-model="row.height"><editor-checkbox text="Show Title" model="row.showTitle"></editor-checkbox></div></div></div></div><div class="col-md-4"><div class="page-heading"><h5>Templating options</h5></div><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Repeat Row</span><div class="gf-form-select-wrapper max-width-10"><select class="gf-form-input" ng-model="row.repeat" ng-options="f.name as f.name for f in dashboard.templating.list"><option value=""></option></select></div></div></div></div></div></div>'),a.put("public/app/partials/signup_invited.html",'<div class="container"><div class="signup-page-background"></div><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="invite-box"><h3>Hello {{greeting}}.</h3><div class="modal-tagline p-b-2"><em>{{invitedBy}}</em> has invited you to join Grafana and the organization <span class="highlight-word">{{contextSrv.user.orgName}}</span><br>Please complete the following to accept your invitation and continue:</div><form name="inviteForm" class="login-form gf-form-group"><div class="gf-form"><span class="gf-form-label width-7">Email</span> <input type="email" name="email" class="gf-form-input max-width-21" required ng-model="formModel.email" placeholder="Email"></div><div class="gf-form"><span class="gf-form-label width-7">Name</span> <input type="text" name="name" class="gf-form-input max-width-21" ng-model="formModel.name" placeholder="Name (optional)"></div><div class="gf-form"><span class="gf-form-label width-7">Username</span> <input type="text" name="username" class="gf-form-input max-width-21" required ng-model="formModel.username" placeholder="Username"></div><div class="gf-form"><span class="gf-form-label width-7">Password</span> <input type="password" name="password" class="gf-form-input max-width-21" required ng-model="formModel.password" id="inputPassword" placeholder="password"></div><div style="margin-left: 7.5rem; width: 254px"><password-strength password="formModel.password"></password-strength></div><div class="gf-form-button-row"><button type="submit" class="btn btn-inverse" ng-click="submit();" ng-class="{\'btn-inverse\': !inviteForm.$valid, \'btn-primary\': inviteForm.$valid}">Continue</button></div></form></div></div></div>'),a.put("public/app/partials/signup_step2.html",'<div class="container"><div class="signup-page-background"></div><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="invite-box"><h3>You\'re almost there.</h3><div class="modal-tagline">We just need a couple of more bits of<br>information to finish creating your account.</div><div style="display: inline-block; margin-top: 25px; width: 300px"><div class="editor-option"><label class="small">Your email:</label><span class="large">{{formModel.email}}</span></div></div><br><br><form name="signUpForm" class="login-form gf-form-group"><div class="gf-form" ng-if="verifyEmailEnabled"><span class="gf-form-label width-9">Email code<tip>Email verification code (sent to your email)</tip></span><input type="text" class="gf-form-input max-width-14" ng-model="formModel.code" required></div><div class="gf-form" ng-if="!autoAssignOrg"><span class="gf-form-label width-9">Org. name</span> <input type="text" name="orgName" class="gf-form-input max-width-14" ng-model="formModel.orgName" placeholder="Name your organization"></div><div class="gf-form"><span class="gf-form-label width-9">Your name</span> <input type="text" name="name" class="gf-form-input max-width-14" ng-model="formModel.name" placeholder="(optional)"></div><div class="gf-form"><span class="gf-form-label width-9">Username</span> <input type="text" class="gf-form-input max-width-14" required ng-model="formModel.username" placeholder="Username" autocomplete="off"></div><div class="gf-form"><span class="gf-form-label width-9">Password</span> <input type="password" class="gf-form-input max-width-14" required ng-model="formModel.password" id="inputPassword" placeholder="password" autocomplete="off"></div><div style="margin-left: 7.5rem; width: 254px"><password-strength password="formModel.password"></password-strength></div><div class="gf-form-button-row"><button type="submit" class="btn" ng-click="ctrl.submit();" ng-class="{\'btn-inverse\': !signUpForm.$valid, \'btn-primary\': signUpForm.$valid}">Continue</button></div></form></div></div></div>'),
a.put("public/app/partials/unsaved-changes.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-exclamation"></i> <span class="p-l-1">Unsaved changes</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content text-center"><div class="confirm-modal-text">What do you want to do?</div><div class="confirm-modal-buttons"><button type="button" class="btn btn-inverse" ng-click="dismiss()">Cancel</button> <button type="button" class="btn btn-danger" ng-click="ignore();dismiss()">Ignore</button> <button type="button" class="btn btn-success" ng-click="save();dismiss();">Save</button></div></div></div>'),a.put("public/app/partials/valueSelectDropdown.html",'<div class="variable-link-wrapper"><a ng-click="vm.show()" class="gf-form-label variable-value-link">{{vm.linkText}} <span ng-repeat="tag in vm.selectedTags" bs-tooltip="tag.valuesText" data-placement="bottom"><span class="label-tag" tag-color-from-name="tag.text">&nbsp;&nbsp;<i class="fa fa-tag"></i>&nbsp; {{tag.text}} </span></span><i class="fa fa-caret-down"></i> </a><input type="text" class="gf-form-input" style="display: none" ng-keydown="vm.keyDown($event)" ng-model="vm.search.query" ng-change="vm.queryChanged()"><div class="variable-value-dropdown" ng-if="vm.dropdownVisible" ng-class="{\'multi\': vm.variable.multi, \'single\': !vm.variable.multi}"><div class="variable-options-wrapper"><div class="variable-options-column"><a class="variable-options-column-header" ng-if="vm.variable.multi" ng-class="{\'many-selected\': vm.selectedValues.length > 1}" bs-tooltip="\'Clear selections\'" data-placement="top" ng-click="vm.clearSelections()"><span class="variable-option-icon"></span> Selected ({{vm.selectedValues.length}}) </a><a class="variable-option pointer" ng-repeat="option in vm.search.options" ng-class="{\'selected\': option.selected, \'highlighted\': $index === vm.highlightIndex}" ng-click="vm.selectValue(option, $event)"><span class="variable-option-icon"></span> <span>{{option.text}}</span></a></div><div class="variable-options-column" ng-if="vm.tags.length"><div class="variable-options-column-header text-center">Tags</div><a class="variable-option-tag pointer" ng-repeat="tag in vm.tags" ng-click="vm.selectTag(tag, $event)" ng-class="{\'selected\': tag.selected}"><span class="fa fa-fw variable-option-icon"></span> <span class="label-tag" tag-color-from-name="tag.text">{{tag.text}}&nbsp;&nbsp;<i class="fa fa-tag"></i>&nbsp;</span></a></div></div></div></div>'),a.put("public/app/plugins/app/testdata/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" has-text-edit-mode="false"><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword">Scenario</label><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.target.scenarioId" ng-options="v.id as v.name for v in ctrl.scenarioList" ng-change="ctrl.scenarioChanged()"></select></div></div><div class="gf-form gf-form gf-form--grow" ng-if="ctrl.scenario.stringInput"><label class="gf-form-label query-keyword">String Input</label><input type="text" class="gf-form-input" placeholder="{{ctrl.scenario.stringInput}}" ng-model="ctrl.target.stringInput" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label query-keyword">Alias</label><input type="text" class="gf-form-input max-width-7" placeholder="optional" ng-model="ctrl.target.alias" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/cloudwatch/partials/annotations.editor.html",'<cloudwatch-query-parameter target="ctrl.annotation" datasource="ctrl.datasource"></cloudwatch-query-parameter><div class="editor-row" style="padding: 2rem 0"><div class="section"><h5>Prefix matching</h5><div class="editor-option"><editor-checkbox text="Enable" model="ctrl.annotation.prefixMatching"></editor-checkbox></div><div class="editor-option" ng-if="ctrl.annotation.prefixMatching"><label class="small">Action</label><input type="text" class="input-small" ng-model="ctrl.annotation.actionPrefix"></div><div class="editor-option" ng-if="ctrl.annotation.prefixMatching"><label class="small">Alarm Name</label><input type="text" class="input-small" ng-model="ctrl.annotation.alarmNamePrefix"></div></div></div>'),a.put("public/app/plugins/datasource/cloudwatch/partials/config.html",'<h3 class="page-heading">CloudWatch details</h3><div class="gf-form-group max-width-30"><div class="gf-form"><label class="gf-form-label width-13">Auth Provider</label><select class="gf-form-input gf-max-width-13" ng-model="ctrl.current.jsonData.authType" ng-options="f.value as f.name for f in ctrl.authTypes"></select></div><div class="gf-form" ng-show=\'ctrl.current.jsonData.authType == "credentials"\'><label class="gf-form-label width-13">Credentials profile name</label><input type="text" class="gf-form-input max-width-18" ng-model="ctrl.current.database" placeholder="default"><info-popover mode="right-absolute">Credentials profile name, as specified in ~/.aws/credentials, leave blank for default</info-popover></div><div class="gf-form" ng-show=\'ctrl.current.jsonData.authType == "keys"\'><label class="gf-form-label width-13">Access key ID</label><label class="gf-form-label width-13" ng-show="ctrl.accessKeyExist">Configured</label><a class="btn btn-secondary gf-form-btn" type="submit" ng-click="ctrl.resetAccessKey()" ng-show="ctrl.accessKeyExist">Reset</a> <input type="text" class="gf-form-input max-width-18" ng-hide="ctrl.accessKeyExist" ng-model="ctrl.current.secureJsonData.accessKey"></div><div class="gf-form" ng-show=\'ctrl.current.jsonData.authType == "keys"\'><label class="gf-form-label width-13">Secret access key</label><label class="gf-form-label width-13" ng-show="ctrl.secretKeyExist">Configured</label><a class="btn btn-secondary gf-form-btn" type="submit" ng-click="ctrl.resetSecretKey()" ng-show="ctrl.secretKeyExist">Reset</a> <input type="text" class="gf-form-input max-width-18" ng-hide="ctrl.secretKeyExist" ng-model="ctrl.current.secureJsonData.secretKey"></div><div class="gf-form" ng-show=\'ctrl.current.jsonData.authType == "arn"\'><label class="gf-form-label width-13">Assume Role ARN</label><input type="text" class="gf-form-input max-width-18" ng-model="ctrl.current.jsonData.assumeRoleArn" placeholder="arn:aws:iam:*"><info-popover mode="right-absolute">ARN of Assume Role</info-popover></div><div class="gf-form"><label class="gf-form-label width-13">Default Region</label><div class="gf-form-select-wrapper max-width-18 gf-form-select-wrapper--has-help-icon"><select class="gf-form-input" ng-model="ctrl.current.jsonData.defaultRegion" ng-options="region for region in [\'ap-northeast-1\', \'ap-northeast-2\', \'ap-southeast-1\', \'ap-southeast-2\', \'ap-south-1\', \'ca-central-1\', \'cn-north-1\', \'eu-central-1\', \'eu-west-1\', \'eu-west-2\', \'sa-east-1\', \'us-east-1\', \'us-east-2\', \'us-gov-west-1\', \'us-west-1\', \'us-west-2\']"></select><info-popover mode="right-absolute">Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region.</info-popover></div></div><div class="gf-form"><label class="gf-form-label width-13">Custom Metrics</label><input type="text" class="gf-form-input max-width-18" ng-model="ctrl.current.jsonData.customMetricsNamespaces" placeholder="Namespace1,Namespace2"><info-popover mode="right-absolute">Namespaces of Custom Metrics</info-popover></div></div>'),a.put("public/app/plugins/datasource/cloudwatch/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><cloudwatch-query-parameter target="ctrl.target" datasource="ctrl.datasource" on-change="ctrl.refresh()"></cloudwatch-query-parameter></query-editor-row>'),a.put("public/app/plugins/datasource/cloudwatch/partials/query.parameter.html",'<div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Metric</label><metric-segment segment="regionSegment" get-options="getRegions()" on-change="regionChanged()"></metric-segment><metric-segment segment="namespaceSegment" get-options="getNamespaces()" on-change="namespaceChanged()"></metric-segment><metric-segment segment="metricSegment" get-options="getMetrics()" on-change="metricChanged()"></metric-segment></div><div class="gf-form"><label class="gf-form-label query-keyword">Stats</label></div><div class="gf-form" ng-repeat="segment in statSegments"><metric-segment segment="segment" get-options="getStatSegments(segment, $index)" on-change="statSegmentChanged(segment, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Dimensions</label><metric-segment ng-repeat="segment in dimSegments" segment="segment" get-options="getDimSegments(segment, $index)" on-change="dimSegmentChanged(segment, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Period<info-popover mode="right-normal">Interval between points in seconds</info-popover></label><input type="text" class="gf-form-input" ng-model="target.period" spellcheck="false" placeholder="auto" ng-model-onblur ng-change="onChange()"></div><div class="gf-form max-width-30"><label class="gf-form-label query-keyword width-7">Alias</label><input type="text" class="gf-form-input" ng-model="target.alias" spellcheck="false" ng-model-onblur ng-change="onChange()"><info-popover mode="right-absolute">Alias replacement variables:<ul ng-non-bindable><li>{{metric}}</li><li>{{stat}}</li><li>{{namespace}}</li><li>{{region}}</li><li>{{DIMENSION_NAME}}</li></ul></info-popover></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form" ng-if="ctrl.annotation.index"><span class="gf-form-label width-14">Index name</span> <input type="text" class="gf-form-input max-width-20" ng-model="ctrl.annotation.index" placeholder="events-*"></div><div class="gf-form-group"><div class="gf-form"><input type="text" class="gf-form-input" ng-model="ctrl.annotation.query" placeholder="Elasticsearch lucene query"></div></div></div><div class="gf-form-group"><h6>Field mappings</h6><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Time</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.timeField" placeholder="@timestamp"></div><div class="gf-form"><span class="gf-form-label width-10">Title</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.titleField" placeholder="desc"></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Tags</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.tagsField" placeholder="tags"></div><div class="gf-form"><span class="gf-form-label width-10">Text</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.textField" placeholder=""></div></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/bucket_agg.html",'<div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7"><span ng-show="isFirst">Group by</span> <span ng-hide="isFirst">Then by</span></label><metric-segment-model property="agg.type" options="bucketAggTypes" on-change="onTypeChanged()" custom="false" css-class="width-10"></metric-segment-model><metric-segment-model ng-if="agg.field" property="agg.field" get-options="getFieldsInternal()" on-change="onChange()" css-class="width-12"></metric-segment-model></div><div class="gf-form gf-form--grow"><label class="gf-form-label gf-form-label--grow"><a ng-click="toggleOptions()"><i class="fa fa-caret-down" ng-show="showOptions"></i> <i class="fa fa-caret-right" ng-hide="showOptions"></i> {{settingsLinkText}}</a></label></div><div class="gf-form"><label class="gf-form-label" ng-if="isFirst"><a class="pointer" ng-click="addBucketAgg()"><i class="fa fa-plus"></i></a></label><label class="gf-form-label" ng-if="bucketAggCount > 1"><a class="pointer" ng-click="removeBucketAgg()"><i class="fa fa-minus"></i></a></label></div></div><div class="gf-form-group" ng-if="showOptions"><div ng-if="agg.type === \'date_histogram\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Interval</label><metric-segment-model property="agg.settings.interval" get-options="getIntervalOptions()" on-change="onChangeInternal()" css-class="width-12" custom="true"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Min Doc Count</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.min_doc_count" ng-blur="onChangeInternal()"></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Trim edges<info-popover mode="right-normal">Trim the edges on the timeseries datapoints</info-popover></label><input class="gf-form-input max-width-12" type="number" ng-model="agg.settings.trimEdges" ng-change="onChangeInternal()"></div></div><div ng-if="agg.type === \'histogram\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Interval</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.interval" ng-blur="onChangeInternal()"></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Min Doc Count</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.min_doc_count" ng-blur="onChangeInternal()"></div></div><div ng-if="agg.type === \'terms\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Order</label><metric-segment-model property="agg.settings.order" options="orderOptions" on-change="onChangeInternal()" css-class="width-12"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Size</label><metric-segment-model property="agg.settings.size" options="sizeOptions" on-change="onChangeInternal()" css-class="width-12"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Min Doc Count</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.min_doc_count" ng-blur="onChangeInternal()"></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Order By</label><metric-segment-model property="agg.settings.orderBy" options="orderByOptions" on-change="onChangeInternal()" css-class="width-12"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Missing<info-popover mode="right-normal">The missing parameter defines how documents that are missing a value should be treated. By default they will be ignored but it is also possible to treat them as if they had a value</info-popover></label><input type="text" class="gf-form-input max-width-12" empty-to-null ng-model="agg.settings.missing" ng-blur="onChangeInternal()" spellcheck="false"></div></div><div ng-if="agg.type === \'filters\'"><div class="gf-form-inline offset-width-7" ng-repeat="filter in agg.settings.filters"><div class="gf-form"><label class="gf-form-label width-10">Query {{$index + 1}}</label><input type="text" class="gf-form-input max-width-12" ng-model="filter.query" spellcheck="false" placeholder="Lucene query" ng-blur="onChangeInternal()"></div><div class="gf-form"><label class="gf-form-label" ng-if="$first"><a class="pointer" ng-click="addFiltersQuery()"><i class="fa fa-plus"></i></a></label><label class="gf-form-label" ng-if="!$first"><a class="pointer" ng-click="removeFiltersQuery(filter)"><i class="fa fa-minus"></i></a></label></div></div></div><div ng-if="agg.type === \'geohash_grid\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Precision</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.precision" spellcheck="false" placeholder="3" ng-blur="onChangeInternal()"></div></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:9200"></datasource-http-settings><h3 class="page-heading">Elasticsearch details</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-25"><span class="gf-form-label width-9">Index name</span> <input class="gf-form-input" type="text" ng-model="ctrl.current.database" placeholder="" required></div><div class="gf-form width-14"><span class="gf-form-label width-9">Pattern</span><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.interval" ng-options="f.value as f.name for f in ctrl.indexPatternTypes" ng-change="ctrl.indexPatternTypeChanged()"></select></div></div><div class="gf-form max-width-25"><span class="gf-form-label width-9">Time field name</span> <input class="gf-form-input" type="text" ng-model="ctrl.current.jsonData.timeField" placeholder="" required ng-init=""></div><div class="gf-form"><span class="gf-form-label width-9">Version</span><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.esVersion" ng-options="f.value as f.name for f in ctrl.esVersions"></select></div></div><h3 class="page-heading">Default query settings</h3><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Group by time interval</span> <input class="gf-form-input max-width-9" type="text" ng-model="ctrl.current.jsonData.timeInterval" spellcheck="false" placeholder="example: >10s"></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/metric_agg.html",'<div class="gf-form-inline" ng-class="{\'gf-form-disabled\': agg.hide}"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Metric &nbsp; <a ng-click="toggleShowMetric()" bs-tooltip="\'Click to toggle show / hide metric\'"><i class="fa fa-eye" ng-hide="agg.hide"></i> <i class="fa fa-eye-slash" ng-show="agg.hide"></i></a></label></div><div class="gf-form"><metric-segment-model property="agg.type" options="metricAggTypes" on-change="onTypeChange()" custom="false" css-class="width-10"></metric-segment-model><metric-segment-model ng-if="aggDef.requiresField" property="agg.field" get-options="getFieldsInternal()" on-change="onChange()" css-class="width-12"></metric-segment-model><metric-segment-model ng-if="aggDef.isPipelineAgg" property="agg.pipelineAgg" options="pipelineAggOptions" on-change="onChangeInternal()" custom="false" css-class="width-12"></metric-segment-model></div><div class="gf-form gf-form--grow"><label class="gf-form-label gf-form-label--grow"><a ng-click="toggleOptions()" ng-if="settingsLinkText"><i class="fa fa-caret-down" ng-show="showOptions"></i> <i class="fa fa-caret-right" ng-hide="showOptions"></i> {{settingsLinkText}}</a></label></div><div class="gf-form"><label class="gf-form-label" ng-if="isFirst"><a class="pointer" ng-click="addMetricAgg()"><i class="fa fa-plus"></i></a></label><label class="gf-form-label" ng-if="!isSingle"><a class="pointer" ng-click="removeMetricAgg()"><i class="fa fa-minus"></i></a></label></div></div><div class="gf-form-group" ng-if="showOptions"><div class="gf-form offset-width-7" ng-if="agg.type === \'derivative\'"><label class="gf-form-label width-10">Unit</label><input type="text" class="gf-form-input max-width-12" ng-model="agg.settings.unit" ng-blur="onChangeInternal()" spellcheck="false"></div><div ng-if="agg.type === \'moving_avg\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Model</label><metric-segment-model property="agg.settings.model" options="movingAvgModelTypes" on-change="onChangeClearInternal()" custom="false" css-class="width-12"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Window</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.window" ng-blur="onChangeInternal()" spellcheck="false"></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Predict</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.predict" ng-blur="onChangeInternal()" spellcheck="false"></div><div class="gf-form offset-width-7" ng-repeat="setting in modelSettings"><label class="gf-form-label width-10">{{setting.text}}</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.settings[setting.value]" ng-blur="onChangeInternal()" spellcheck="false"></div><gf-form-switch ng-if="agg.settings.model == \'holt_winters\'" class="gf-form offset-width-7" label="Pad" label-class="width-10" checked="agg.settings.settings.pad" on-change="onChangeInternal()"></gf-form-switch><gf-form-switch ng-if="agg.settings.model.match(\'ewma|holt_winters|holt\') !== null" class="gf-form offset-width-7" label="Minimize" label-class="width-10" checked="agg.settings.minimize" on-change="onChangeInternal()"></gf-form-switch></div><div class="gf-form offset-width-7" ng-if="agg.type === \'percentiles\'"><label class="gf-form-label width-10">Percentiles</label><input type="text" class="gf-form-input max-width-12" ng-model="agg.settings.percents" array-join ng-blur="onChange()"></div><div class="gf-form offset-width-7" ng-if="agg.type === \'cardinality\'"><label class="gf-form-label width-10">Precision threshold</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.precision_threshold" ng-blur="onChange()"></div><div ng-if="agg.type === \'extended_stats\'"><gf-form-switch ng-repeat="stat in extendedStats" class="gf-form offset-width-7" label="{{stat.text}}" label-class="width-10" checked="agg.meta[stat.value]" on-change="onChangeInternal()"></gf-form-switch><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Sigma</label><input type="number" class="gf-form-input max-width-12" placeholder="3" ng-model="agg.settings.sigma" ng-blur="onChange()"></div></div><div class="gf-form offset-width-7" ng-if="aggDef.supportsInlineScript"><label class="gf-form-label width-10">Script</label><input type="text" class="gf-form-input max-width-12" empty-to-null ng-model="agg.inlineScript" ng-blur="onChangeInternal()" spellcheck="false" placeholder="_value * 1"></div><div class="gf-form offset-width-7" ng-if="aggDef.supportsMissing"><label class="gf-form-label width-10">Missing<tip>The missing parameter defines how documents that are missing a value should be treated. By default they will be ignored but it is also possible to treat them as if they had a value</tip></label><input type="number" class="gf-form-input max-width-12" empty-to-null ng-model="agg.settings.missing" ng-blur="onChangeInternal()" spellcheck="false"></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="true"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><label class="gf-form-label query-keyword width-7">Query</label><input type="text" class="gf-form-input" ng-model="ctrl.target.query" spellcheck="false" placeholder="Lucene query" ng-blur="ctrl.refresh()"></div><div class="gf-form max-width-15"><label class="gf-form-label query-keyword">Alias</label><input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck="false" placeholder="alias patterns" ng-blur="ctrl.refresh()"></div></div><div ng-repeat="agg in ctrl.target.metrics"><elastic-metric-agg target="ctrl.target" index="$index" get-fields="ctrl.getFields($fieldType)" on-change="ctrl.queryUpdated()" es-version="ctrl.esVersion"></elastic-metric-agg></div><div ng-repeat="agg in ctrl.target.bucketAggs"><elastic-bucket-agg target="ctrl.target" index="$index" get-fields="ctrl.getFields($fieldType)" on-change="ctrl.queryUpdated()"></elastic-bucket-agg></div></query-editor-row>'),a.put("public/app/plugins/datasource/elasticsearch/partials/query.options.html",'<section class="grafana-metric-options"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-wrench"></i> </span><span class="gf-form-label">Group by time interval</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.panelCtrl.panel.interval" ng-blur="ctrl.panelCtrl.refresh();" spellcheck="false" placeholder="example: >10s"> <span class="gf-form-label"><i class="fa fa-question-circle" bs-tooltip="\'Set a low limit by having a greater sign: example: >60s\'" data-placement="right"></i></span></div><div class="gf-form"><span class="gf-form-label"><i class="fa fa-info-circle"></i> </span><span class="gf-form-label width-23"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(1);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">alias patterns</a></span></div></div></section><div class="pull-left"><div class="grafana-info-box" style="border: 0" ng-if="ctrl.panelCtrl.editorHelpIndex === 1"><h5>Alias patterns</h5><ul ng-non-bindable><li>{{term fieldname}} = replaced with value of term group by</li><li>{{metric}} = replaced with metric name (ex. Average, Min, Max)</li><li>{{field}} = replaced with the metric field name</li></ul></div></div>'),a.put("public/app/plugins/datasource/grafana-live/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><label class="gf-form-label width-8">Stream</label><input type="text" class="gf-form-input" ng-model="ctrl.target.stream" spellcheck="false" placeholder="metric"></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/grafana/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-7">Type</span><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.annotation.type" ng-options="f.value as f.text for f in [{text: \'Event\', value: \'event\'}, {text: \'Alert\', value: \'alert\'}]"></select></div></div><div class="gf-form"><span class="gf-form-label width-7">Max limit</span><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.annotation.limit" ng-options="f for f in [10,50,100,200,300,500,1000,2000]"></select></div></div></div></div>'),a.put("public/app/plugins/datasource/grafana/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label">Test data: random walk</label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/graphite/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-12">Graphite query</span> <input type="text" class="gf-form-input" ng-model="ctrl.annotation.target" placeholder="Example: statsd.application.counters.*.count"></div><h5 class="section-heading">Or</h5><div class="gf-form"><span class="gf-form-label width-12">Graphite events tags</span> <input type="text" class="gf-form-input" ng-model="ctrl.annotation.tags" placeholder="Example: event_tag_name"></div></div>'),a.put("public/app/plugins/datasource/graphite/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:8080"></datasource-http-settings>'),a.put("public/app/plugins/datasource/graphite/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" has-text-edit-mode="true"><div class="gf-form" ng-show="ctrl.target.textEditor"><input type="text" class="gf-form-input" ng-model="ctrl.target.target" spellcheck="false" ng-blur="ctrl.targetTextChanged()"></div><div ng-hide="ctrl.target.textEditor"><div class="gf-form-inline"><div ng-repeat="segment in ctrl.segments" role="menuitem" class="gf-form"><metric-segment segment="segment" get-options="ctrl.getAltSegments($index)" on-change="ctrl.segmentValueChanged(segment, $index)"></metric-segment></div><div ng-repeat="func in ctrl.functions" class="gf-form"><span graphite-func-editor class="gf-form-label query-part"></span></div><div class="gf-form dropdown"><span graphite-add-func></span></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/graphite/partials/query.options.html",'<section class="grafana-metric-options gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-15"><span class="gf-form-label width-8">Cache timeout </span><input type="text" class="gf-form-input" ng-model="ctrl.panelCtrl.panel.cacheTimeout" bs-tooltip="\'Graphite parameter to override memcache default timeout (unit is seconds)\'" data-placement="right" spellcheck="false" placeholder="60"></div><div class="gf-form max-width-15"><span class="gf-form-label">Max data points</span> <input type="text" class="gf-form-input" ng-model="ctrl.panelCtrl.panel.maxDataPoints" bs-tooltip="\'Override max data points, automatically set to graph width in pixels.\'" data-placement="right" ng-model-onblur ng-change="ctrl.panelCtrl.refresh()" spellcheck="false" placeholder="auto"></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-12"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(1);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Shorter legend names </a></span><span class="gf-form-label width-12"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(2);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Series as parameters </a></span><span class="gf-form-label width-7"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(3)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Stacking </a></span><span class="gf-form-label width-8"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(4)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Templating </a></span><span class="gf-form-label width-10"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(5)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">max data points</a></span></div></div></section><div class="editor-row"><div class="pull-left"><div class="grafana-info-box span8" ng-if="ctrl.panelCtrl.editorHelpIndex === 1"><h5>Shorter legend names</h5><ul><li>alias() function to specify a custom series name</li><li>aliasByNode(2) to alias by a specific part of your metric path</li><li>aliasByNode(2, -1) you can add multiple segment paths, and use negative index</li><li>groupByNode(2, \'sum\') is useful if you have 2 wildcards in your metric path and want to sumSeries and group by</li></ul></div><div class="grafana-info-box span8" ng-if="ctrl.panelCtrl.editorHelpIndex === 2"><h5>Series as parameter</h5><ul><li>Some graphite functions allow you to have many series arguments</li><li>Use #[A-Z] to use a graphite query as parameter to a function</li><li>Examples:<ul><li>asPercent(#A, #B)</li><li>prod.srv-01.counters.count - asPercent(#A) : percentage of count in comparison with A query</li><li>prod.srv-01.counters.count - sumSeries(#A) : sum count and series A</li><li>divideSeries(#A, #B)</li></ul></li><li>If a query is added only to be used as a parameter, hide it from the graph with the eye icon</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 3"><h5>Stacking</h5><ul><li>You find the stacking option under Display Styles tab</li><li>When stacking is enabled make sure null point mode is set to \'null as zero\'</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 4"><h5>Templating</h5><ul><li>You can use a template variable in place of metric names</li><li>You can use a template variable in place of function parameters</li><li>You enable the templating feature in Dashboard settings / Feature toggles</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 5"><h5>Max data points</h5><ul><li>Every graphite request is issued with a maxDataPoints parameter</li><li>Graphite uses this parameter to consolidate the real number of values down to this number</li><li>If there are more real values, then by default they will be consolidated using averages</li><li>This could hide real peaks and max values in your series</li><li>You can change how point consolidation is made using the consolidateBy graphite function</li><li>Point consolidation will effect series legend values (min,max,total,current)</li><li>If you override maxDataPoint and set a high value performance can be severely effected</li></ul></div></div></div>'),
a.put("public/app/plugins/datasource/influxdb/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form"><input type="text" class="gf-form-input" ng-model="ctrl.annotation.query" placeholder="select text from events where $timeFilter"></div></div><h5 class="section-heading">Field mappings<tip>If your influxdb query returns more than one field you need to specify the column names below. An annotation event is composed of a title, tags, and an additional text field.</tip></h5><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-4">Title</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.annotation.titleColumn" placeholder=""></div><div class="gf-form"><span class="gf-form-label width-4">Tags</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.annotation.tagsColumn" placeholder=""></div><div class="gf-form"><span class="gf-form-label width-4">Text</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.annotation.textColumn" placeholder=""></div></div></div>'),a.put("public/app/plugins/datasource/influxdb/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:8086"></datasource-http-settings><h3 class="page-heading">InfluxDB Details</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Database</span> <input type="text" class="gf-form-input" ng-model="ctrl.current.database" placeholder="" required></div></div><div class="gf-form-inline"><div class="gf-form max-width-15"><span class="gf-form-label width-7">User</span> <input type="text" class="gf-form-input" ng-model="ctrl.current.user" placeholder=""></div><div class="gf-form max-width-15"><span class="gf-form-label width-7">Password</span> <input type="password" class="gf-form-input" ng-model="ctrl.current.password" placeholder=""></div></div></div><div class="gf-form-group"><div class="gf-form max-width-21"><span class="gf-form-label">Default group by time</span> <input type="text" class="gf-form-input width-6" ng-model="ctrl.current.jsonData.timeInterval" spellcheck="false" placeholder="example: >10s"><i class="fa fa-question-circle" bs-tooltip="\'Set a low limit by having a greater sign: example: >10s\'" data-placement="right"></i></div></div>'),a.put("public/app/plugins/datasource/influxdb/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="true" has-text-edit-mode="true"><div ng-if="ctrl.target.rawQuery"><div class="gf-form"><textarea rows="3" class="gf-form-input" ng-model="ctrl.target.query" spellcheck="false" placeholder="InfuxDB Query" ng-model-onblur ng-change="ctrl.refresh()"></textarea></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword">FORMAT AS</label><div class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.target.resultFormat" ng-options="f.value as f.text for f in ctrl.resultFormats" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form max-width-25" ng-hide="ctrl.target.resultFormat === \'table\'"><label class="gf-form-label query-keyword">ALIAS BY</label><input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck="false" placeholder="Naming pattern" ng-blur="ctrl.refresh()"></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></div><div ng-if="!ctrl.target.rawQuery"><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">FROM</label><metric-segment segment="ctrl.policySegment" get-options="ctrl.getPolicySegments()" on-change="ctrl.policyChanged()"></metric-segment><metric-segment segment="ctrl.measurementSegment" get-options="ctrl.getMeasurements($query)" on-change="ctrl.measurementChanged()"></metric-segment></div><div class="gf-form"><label class="gf-form-label query-keyword">WHERE</label></div><div class="gf-form" ng-repeat="segment in ctrl.tagSegments"><metric-segment segment="segment" get-options="ctrl.getTagsOrValues(segment, $index)" on-change="ctrl.tagSegmentUpdated(segment, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-repeat="selectParts in ctrl.queryModel.selectModels"><div class="gf-form"><label class="gf-form-label query-keyword width-7"><span ng-show="$index === 0">SELECT</span>&nbsp;</label></div><div class="gf-form" ng-repeat="part in selectParts"><query-part-editor class="gf-form-label query-part" part="part" handle-event="ctrl.handleSelectPartEvent(selectParts, part, $event)"></query-part-editor></div><div class="gf-form"><label class="dropdown" dropdown-typeahead="ctrl.selectMenu" dropdown-typeahead-on-select="ctrl.addSelectPart(selectParts, $item, $subItem)"></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7"><span>GROUP BY</span></label><query-part-editor ng-repeat="part in ctrl.queryModel.groupByParts" part="part" class="gf-form-label query-part" handle-event="ctrl.handleGroupByPartEvent(part, $index, $event)"></query-part-editor></div><div class="gf-form"><metric-segment segment="ctrl.groupBySegment" get-options="ctrl.getGroupByOptions()" on-change="ctrl.groupByAction(part, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-if="ctrl.target.orderByTime === \'DESC\'"><div class="gf-form"><label class="gf-form-label query-keyword width-7">ORDER BY</label><label class="gf-form-label pointer" ng-click="ctrl.removeOrderByTime()">time <span classs="query-keyword">DESC</span> <i class="fa fa-remove"></i></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-if="ctrl.target.limit"><div class="gf-form"><label class="gf-form-label query-keyword width-7">LIMIT</label><input type="text" class="gf-form-input width-9" ng-model="ctrl.target.limit" spellcheck="false" placeholder="No Limit" ng-blur="ctrl.refresh()"></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-if="ctrl.target.slimit"><div class="gf-form"><label class="gf-form-label query-keyword width-7">SLIMIT</label><input type="text" class="gf-form-input width-9" ng-model="ctrl.target.slimit" spellcheck="false" placeholder="No Limit" ng-blur="ctrl.refresh()"></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">FORMAT AS</label><div class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.target.resultFormat" ng-options="f.value as f.text for f in ctrl.resultFormats" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-hide="ctrl.target.resultFormat === \'table\'"><div class="gf-form max-width-30"><label class="gf-form-label query-keyword width-7">ALIAS BY</label><input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck="false" placeholder="Naming pattern" ng-blur="ctrl.refresh()"></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/influxdb/partials/query.options.html",'<section class="grafana-metric-options"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-wrench"></i></span> <span class="gf-form-label width-11">Group by time interval</span> <input type="text" class="gf-form-input width-16" ng-model="ctrl.panelCtrl.panel.interval" ng-blur="ctrl.panelCtrl.refresh();" spellcheck="false" placeholder="example: >10s"><info-popover mode="right-absolute">Set a low limit by having a greater sign: example: >60s</info-popover></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(1);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom"><i class="fa fa-info-circle"></i> &nbsp;alias patterns </a></span><span class="gf-form-label width-10"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(2)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom"><i class="fa fa-info-circle"></i> &nbsp;stacking &amp; fill </a></span><span class="gf-form-label width-10"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(3)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom"><i class="fa fa-info-circle"></i> &nbsp;group by time</a></span></div></div></div></section><div class="editor-row"><div class="pull-left"><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 1"><h5>Alias patterns</h5><ul><li>$m = replaced with measurement name</li><li>$measurement = replaced with measurement name</li><li>$1 - $9 = replaced with part of measurement name (if you separate your measurement name with dots)</li><li>$col = replaced with column name</li><li>$tag_hostname = replaced with the value of the hostname tag</li><li>You can also use [[tag_hostname]] pattern replacement syntax</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 2"><h5>Stacking and fill</h5><ul><li>When stacking is enabled it is important that points align</li><li>If there are missing points for one series it can cause gaps or missing bars</li><li>You must use fill(0), and select a group by time low limit</li><li>Use the group by time option below your queries and specify for example &gt;10s if your metrics are written every 10 seconds</li><li>This will insert zeros for series that are missing measurements and will make stacking work properly</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 3"><h5>Group by time</h5><ul><li>Group by time is important, otherwise the query could return many thousands of datapoints that will slow down Grafana</li><li>Leave the group by time field empty for each query and it will be calculated based on time range and pixel width of the graph</li><li>If you use fill(0) or fill(null) set a low limit for the auto group by time interval</li><li>The low limit can only be set in the group by time option below your queries</li><li>You set a low limit by adding a greater sign before the interval</li><li>Example: &gt;60s if you write metrics to InfluxDB every 60 seconds</li></ul></div></div></div>'),a.put("public/app/plugins/datasource/mysql/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><textarea rows="10" class="gf-form-input" ng-model="ctrl.annotation.rawQuery" spellcheck="false" placeholder="query expression" data-min-length="0" data-items="100" ng-model-onblur ng-change="ctrl.panelCtrl.refresh()"></textarea></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">Show Help <i class="fa fa-caret-down" ng-show="ctrl.showHelp"></i> <i class="fa fa-caret-right" ng-hide="ctrl.showHelp"></i></label></div></div><div class="gf-form" ng-show="ctrl.showHelp"><pre class="gf-form-pre alert alert-info"><h6>Annotation Query Format</h6>\nAn annotation is an event that is overlayed on top of graphs. The query can have up to four columns per row, the time_sec column is mandatory. Annotation rendering is expensive so it is important to limit the number of rows returned.\n\n- column with alias: <b>time_sec</b> for the annotation event. Format is UTC in seconds, use UNIX_TIMESTAMP(column)\n- column with alias <b>title</b> for the annotation title\n- column with alias: <b>text</b> for the annotation text\n- column with alias: <b>tags</b> for annotation tags. This is a comma separated string of tags e.g. \'tag1,tag2\'\n\n\nMacros:\n- $__time(column) -&gt; UNIX_TIMESTAMP(column) as time_sec\n- $__timeFilter(column) -&gt;  UNIX_TIMESTAMP(time_date_time) &gt; from AND UNIX_TIMESTAMP(time_date_time) &lt; 1492750877\n\t\t</pre></div></div>'),a.put("public/app/plugins/datasource/mysql/partials/config.html",'<h3 class="page-heading">MySQL Connection</h3><div class="gf-form-group"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Host</span> <input type="text" class="gf-form-input" ng-model="ctrl.current.url" placeholder="" required></div><div class="gf-form max-width-30"><span class="gf-form-label width-7">Database</span> <input type="text" class="gf-form-input" ng-model="ctrl.current.database" placeholder="" required></div><div class="gf-form-inline"><div class="gf-form max-width-15"><span class="gf-form-label width-7">User</span> <input type="text" class="gf-form-input" ng-model="ctrl.current.user" placeholder=""></div><div class="gf-form max-width-15"><span class="gf-form-label width-7">Password</span> <input type="password" class="gf-form-input" ng-model="ctrl.current.password" placeholder=""></div></div></div><div class="gf-form-group"><div class="grafana-info-box"><h5>User Permission</h5><p>The database user should only be granted SELECT permissions on the specified database &amp; tables you want to query. Grafana does not validate that queries are safe so queries can contain any SQL statement. For example, statements like <code>USE otherdb;</code> and <code>DROP TABLE user;</code> would be executed. To protect against this we <strong>Highly</strong> recommmend you create a specific MySQL user with restricted permissions. Checkout the <a class="external-link" target="_blank" href="http://docs.grafana.org/features/datasources/mysql/">MySQL Data Source Docs</a> for more information.</p></div></div>'),a.put("public/app/plugins/datasource/mysql/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><textarea rows="10" class="gf-form-input" ng-model="ctrl.target.rawSql" spellcheck="false" placeholder="query expression" data-min-length="0" data-items="100" ng-model-onblur ng-change="ctrl.panelCtrl.refresh()"></textarea></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword">Format as</label><div class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.target.format" ng-options="f.value as f.text for f in ctrl.formats" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form"><label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">Show Help <i class="fa fa-caret-down" ng-show="ctrl.showHelp"></i> <i class="fa fa-caret-right" ng-hide="ctrl.showHelp"></i></label></div><div class="gf-form" ng-show="ctrl.lastQueryMeta"><label class="gf-form-label query-keyword" ng-click="ctrl.showLastQuerySQL = !ctrl.showLastQuerySQL">Generated SQL <i class="fa fa-caret-down" ng-show="ctrl.showLastQuerySQL"></i> <i class="fa fa-caret-right" ng-hide="ctrl.showLastQuerySQL"></i></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form" ng-show="ctrl.showLastQuerySQL"><pre class="gf-form-pre">{{ctrl.lastQueryMeta.sql}}</pre></div><div class="gf-form" ng-show="ctrl.showHelp"><pre class="gf-form-pre alert alert-info">Time series:\n- return column named time_sec (UTC in seconds), use UNIX_TIMESTAMP(column)\n- return column named value for the time point value\n- return column named metric to represent the series name\n\nTable:\n- return any set of columns\n\nMacros:\n- $__time(column) -&gt; UNIX_TIMESTAMP(column) as time_sec\n- $__timeFilter(column) -&gt;  UNIX_TIMESTAMP(time_date_time) &gt; from AND UNIX_TIMESTAMP(time_date_time) &lt; 1492750877\n\t\t</pre></div><div class="gf-form" ng-show="ctrl.lastQueryError"><pre class="gf-form-pre alert alert-error">{{ctrl.lastQueryError}}</pre></div></query-editor-row>'),a.put("public/app/plugins/datasource/opentsdb/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-13">OpenTSDB metrics query</span> <input type="text" class="gf-form-input" ng-model="ctrl.annotation.target" placeholder="events.eventname"></div><div class="gf-form"><span class="gf-form-label width-13">Show Global Annotations?</span><editor-checkbox text="" model="ctrl.annotation.isGlobal"></editor-checkbox></div></div>'),a.put("public/app/plugins/datasource/opentsdb/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:4242"></datasource-http-settings><h5>OpenTSDB settings</h5><div class="gf-form"><span class="gf-form-label width-7">Version </span><span class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.tsdbVersion" ng-options="v.value as v.name for v in ctrl.tsdbVersions"></select></span></div><div class="gf-form"><span class="gf-form-label width-7">Resolution </span><span class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.tsdbResolution" ng-options="v.value as v.name for v in ctrl.tsdbResolutions"></select></span></div>'),a.put("public/app/plugins/datasource/opentsdb/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><div class="gf-form-inline"><div class="gf-form max-width-25"><label class="gf-form-label query-keyword width-8">Metric<label class="gf-form-label" bs-tooltip="ctrl.errors.metric" style="color: rgb(229, 189, 28)" ng-show="ctrl.errors.metric"><i class="fa fa-warning"></i></label></label><input type="text" class="gf-form-input" ng-model="ctrl.target.metric" spellcheck="false" bs-typeahead="ctrl.suggestMetrics" placeholder="metric name" data-min-length="0" data-items="100" ng-blur="ctrl.targetBlur()"></div><div class="gf-form"><label class="gf-form-label query-keyword">Aggregator <a bs-tooltip="ctrl.errors.aggregator" style="color: rgb(229, 189, 28)" ng-show="ctrl.errors.aggregator"><i class="fa fa-warning"></i></a></label><div class="gf-form-select-wrapper max-width-15"><select ng-model="ctrl.target.aggregator" class="gf-form-input" ng-options="agg for agg in ctrl.aggregators" ng-change="ctrl.targetBlur()"></select></div></div><div class="gf-form max-width-20"><label class="gf-form-label query-keyword width-6">Alias:<info-popover mode="right-normal">Use patterns like $tag_tagname to replace part of the alias for a tag value</info-popover></label><input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck="false" placeholder="series alias" data-min-length="0" data-items="100" ng-blur="ctrl.targetBlur()"></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form max-width-25"><label class="gf-form-label query-keyword width-8">Down sample</label><input type="text" class="gf-form-input" ng-model="ctrl.target.downsampleInterval" ng-model-onblur ng-change="ctrl.targetBlur()" placeholder="interval"><info-popover mode="right-absolute">blank for auto, or for example <code>1m</code></info-popover></div><div class="gf-form"><label class="gf-form-label query-keyword">Aggregator</label><div class="gf-form-select-wrapper"><select ng-model="ctrl.target.downsampleAggregator" class="gf-form-input" ng-options="agg for agg in ctrl.aggregators" ng-change="ctrl.targetBlur()"></select></div></div><div class="gf-form" ng-if="ctrl.tsdbVersion >= 2"><label class="gf-form-label query-keyword width-6">Fill</label><div class="gf-form-select-wrapper"><select ng-model="ctrl.target.downsampleFillPolicy" class="gf-form-input" ng-options="agg for agg in ctrl.fillPolicies" ng-change="ctrl.targetBlur()"></select></div></div><gf-form-switch class="gf-form" label="Disable downsampling" label-class="query-keyword" checked="ctrl.target.disableDownsampling" on-change="ctrl.targetBlur()"></gf-form-switch><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-if="ctrl.tsdbVersion >= 2"><div class="gf-form"><label class="gf-form-label query-keyword width-8">Filters<info-popover mode="right-normal">Filters does not work with tags, either of the two will work but not both.</info-popover></label><div ng-repeat="fil in ctrl.target.filters track by $index" class="gf-form-label">{{fil.tagk}}&nbsp;=&nbsp;{{fil.type}}&#40;{{fil.filter}}&#41;&nbsp;&#44&nbsp;groupBy&nbsp;=&nbsp;{{fil.groupBy}} <a ng-click="ctrl.editFilter(fil, $index)"><i class="fa fa-pencil"></i> </a><a ng-click="ctrl.removeFilter($index)"><i class="fa fa-remove"></i></a></div><label class="gf-form-label query-keyword" ng-hide="ctrl.addFilterMode"><a ng-click="ctrl.addFilter()"><i class="fa fa-plus"></i></a></label></div><div class="gf-form-inline" ng-show="ctrl.addFilterMode"><div class="gf-form"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagKeys" data-min-length="0" data-items="100" ng-model="ctrl.target.currentFilterKey" placeholder="key"></div><div class="gf-form"><label class="gf-form-label query-keyword">Type</label><div class="gf-form-select-wrapper"><select ng-model="ctrl.target.currentFilterType" class="gf-form-input" ng-options="filType for filType in ctrl.filterTypes"></select></div></div><div class="gf-form"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagValues" data-min-length="0" data-items="100" ng-model="ctrl.target.currentFilterValue" placeholder="filter"></div><gf-form-switch class="gf-form" label="Group by" label-class="query-keyword" checked="ctrl.target.currentFilterGroupBy" on-change="ctrl.targetBlur()"></gf-form-switch><div class="gf-form" ng-show="ctrl.addFilterMode"><label class="gf-form-label" ng-show="ctrl.errors.filters"><a bs-tooltip="ctrl.errors.filters" style="color: rgb(229, 189, 28)"><i class="fa fa-warning"></i></a></label><label class="gf-form-label"><a ng-click="ctrl.addFilter()" ng-hide="ctrl.errors.filters">add filter</a> <a ng-click="ctrl.closeAddFilterMode()"><i class="fa fa-remove"></i></a></label></div></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-8">Tags<info-popover mode="right-normal" ng-if="ctrl.tsdbVersion >= 2">Please use filters, tags are deprecated in opentsdb 2.2</info-popover></label></div><div class="gf-form" ng-repeat="(key, value) in ctrl.target.tags track by $index" class="gf-form"><label class="gf-form-label">{{key}}&nbsp;=&nbsp;{{value}} <a ng-click="ctrl.editTag(key, value)"><i class="fa fa-pencil"></i> </a><a ng-click="ctrl.removeTag(key)"><i class="fa fa-remove"></i></a></label></div><div class="gf-form" ng-hide="ctrl.addTagMode"><label class="gf-form-label query-keyword"><a ng-click="ctrl.addTag()"><i class="fa fa-plus"></i></a></label></div><div class="gf-form" ng-show="ctrl.addTagMode"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagKeys" data-min-length="0" data-items="100" ng-model="ctrl.target.currentTagKey" placeholder="key"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagValues" data-min-length="0" data-items="100" ng-model="ctrl.target.currentTagValue" placeholder="value"><label class="gf-form-label" ng-show="ctrl.errors.tags"><a bs-tooltip="ctrl.errors.tags" style="color: rgb(229, 189, 28)"><i class="fa fa-warning"></i></a></label><label class="gf-form-label"><a ng-click="ctrl.addTag()" ng-hide="ctrl.errors.tags">add tag</a> <a ng-click="ctrl.closeAddTagMode()"><i class="fa fa-remove"></i></a></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Rate" label-class="width-8 query-keyword" checked="ctrl.target.shouldComputeRate" on-change="ctrl.targetBlur()"></gf-form-switch><gf-form-switch ng-hide="!ctrl.target.shouldComputeRate" class="gf-form" label="Counter" label-class="query-keyword" checked="ctrl.target.isCounter" on-change="ctrl.targetBlur()"></gf-form-switch><div class="gf-form" ng-hide="!ctrl.target.isCounter || !ctrl.target.shouldComputeRate"><label class="gf-form-label query-keyword">Counter Max</label><input type="text" class="gf-form-input" ng-disabled="!ctrl.target.shouldComputeRate" ng-model="ctrl.target.counterMax" spellcheck="false" placeholder="max value" ng-model-onblur ng-blur="ctrl.targetBlur()"><label class="gf-form-label query-keyword">Reset Value</label><input type="text" class="tight-form-input input-small" ng-disabled="!ctrl.target.shouldComputeRate" ng-model="ctrl.target.counterResetValue" spellcheck="false" placeholder="reset value" ng-model-onblur ng-blur="ctrl.targetBlur()"></div><div class="gf-form" ng-if="ctrl.tsdbVersion > 2"><gf-form-switch class="gf-form" label="Explicit tags" label-class="width-8 query-keyword" checked="ctrl.target.explicitTags" on-change="ctrl.targetBlur()"></gf-form-switch></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/prometheus/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Search expression</span> <input type="text" class="gf-form-input" ng-model="ctrl.annotation.expr" placeholder="ALERTS"></div><div class="gf-form"><span class="gf-form-label width-10">step</span> <input type="text" class="gf-form-input max-width-6" ng-model="ctrl.annotation.step" placeholder="60s"></div></div><div class="gf-form-group"><h5 class="section-heading">Field formats<div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-5">Title</span> <input type="text" class="gf-form-input max-width-9" ng-model="ctrl.annotation.titleFormat" placeholder="alertname"></div><div class="gf-form"><span class="gf-form-label width-5">Tags</span> <input type="text" class="gf-form-input max-width-9" ng-model="ctrl.annotation.tagKeys" placeholder="label1,label2"></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-5">Text</span> <input type="text" class="gf-form-input max-width-9" ng-model="ctrl.annotation.textFormat" placeholder="instance"></div></div></div></h5></div>'),a.put("public/app/plugins/datasource/prometheus/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:9090"></datasource-http-settings>'),a.put("public/app/plugins/datasource/prometheus/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="true" has-text-edit-mode="true"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><textarea rows="3" class="gf-form-input" ng-model="ctrl.target.expr" spellcheck="false" placeholder="query expression" data-min-length="0" data-items="100" ng-model-onblur ng-change="ctrl.refreshMetricData()"></textarea></div></div><div class="gf-form-inline"><div class="gf-form max-width-26"><label class="gf-form-label width-8">Legend format</label><input type="text" class="gf-form-input" ng-model="ctrl.target.legendFormat" spellcheck="false" placeholder="legend format" data-min-length="0" data-items="1000" ng-model-onblur ng-change="ctrl.refreshMetricData()"></div><div class="gf-form"><label class="gf-form-label width-6">Min step</label><input type="text" class="gf-form-input width-8" ng-model="ctrl.target.interval" data-placement="right" spellcheck="false" placeholder="{{ctrl.panelCtrl.interval}}" data-min-length="0" data-items="100" ng-model-onblur ng-change="ctrl.refreshMetricData()"><info-popover mode="right-absolute">Leave blank for auto handling based on time range and panel width</info-popover></div><div class="gf-form"><label class="gf-form-label">Resolution</label><div class="gf-form-select-wrapper max-width-15"><select ng-model="ctrl.target.intervalFactor" class="gf-form-input" ng-options="r.factor as r.label for r in ctrl.resolutions" ng-change="ctrl.refreshMetricData()"></select></div></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form max-width-26"><label class="gf-form-label width-8">Metric lookup</label><input type="text" class="gf-form-input" ng-model="ctrl.target.metric" spellcheck="false" bs-typeahead="ctrl.suggestMetrics" placeholder="metric name" data-min-length="0" data-items="100"></div><div class="gf-form"><label class="gf-form-label width-6">Format as</label><div class="gf-form-select-wrapper width-8"><select class="gf-form-input gf-size-auto" ng-model="ctrl.target.format" ng-options="f.value as f.text for f in ctrl.formats" ng-change="ctrl.refresh()"></select></div><label class="gf-form-label"><a href="{{ctrl.linkToPrometheus}}" target="_blank" bs-tooltip="\'Link to Graph in Prometheus\'"><i class="fa fa-share-square-o"></i></a></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></query-editor-row>'),a.put("public/app/plugins/panel/alertlist/editor.html",'<div><div class="section gf-form-group"><h5 class="section-heading">Options</h5><div class="gf-form"><span class="gf-form-label width-8">Show</span><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="ctrl.panel.show" ng-options="f.value as f.text for f in ctrl.showOptions" ng-change="ctrl.onRender()"></select></div></div><div class="gf-form"><span class="gf-form-label width-8">Max items</span> <input type="text" class="gf-form-input max-width-15" ng-model="ctrl.panel.limit" ng-change="ctrl.onRender()"></div><div class="gf-form" ng-show="ctrl.panel.show === \'current\'"><span class="gf-form-label width-8">Sort order</span><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="ctrl.panel.sortOrder" ng-options="f.value as f.text for f in ctrl.sortOrderOptions" ng-change="ctrl.onRender()"></select></div></div><gf-form-switch class="gf-form" label="Alerts from this dashboard" label-class="width-18" checked="ctrl.panel.onlyAlertsOnDashboard" on-change="ctrl.updateStateFilter()"></gf-form-switch></div><div class="section gf-form-group"><h5 class="section-heading">State filter</h5><gf-form-switch class="gf-form" label="Ok" label-class="width-10" checked="ctrl.stateFilter[\'ok\']" on-change="ctrl.updateStateFilter()"></gf-form-switch><gf-form-switch class="gf-form" label="Paused" label-class="width-10" checked="ctrl.stateFilter[\'paused\']" on-change="ctrl.updateStateFilter()"></gf-form-switch><gf-form-switch class="gf-form" label="No data" label-class="width-10" checked="ctrl.stateFilter[\'no_data\']" on-change="ctrl.updateStateFilter()"></gf-form-switch><gf-form-switch class="gf-form" label="Execution error" label-class="width-10" checked="ctrl.stateFilter[\'execution_error\']" on-change="ctrl.updateStateFilter()"></gf-form-switch><gf-form-switch class="gf-form" label="Alerting" label-class="width-10" checked="ctrl.stateFilter[\'alerting\']" on-change="ctrl.updateStateFilter()"></gf-form-switch></div></div>'),a.put("public/app/plugins/panel/alertlist/module.html",'<div class="panel-alert-list" style="{{ctrl.contentHeight}}"><section class="card-section card-list-layout-list" ng-if="ctrl.panel.show === \'current\'"><ol class="card-list"><li class="card-item-wrapper" ng-repeat="alert in ctrl.currentAlerts"><div class="card-item card-item--alert"><div class="card-item-body"><div class="card-item-details"><div class="card-item-notice"><a href="dashboard/{{alert.dashboardUri}}?panelId={{alert.panelId}}&fullscreen&edit&tab=alert">{{alert.name}}</a></div><div class="card-item-sub-name"><span class="alert-list-item-state {{alert.stateModel.stateClass}}"><i class="{{alert.stateModel.iconClass}}"></i> {{alert.stateModel.text}} </span>for {{alert.newStateDateAgo}}</div><div class="small muted" ng-show="alert.executionError">{{alert.executionError}}</div></div></div></div></li></ol></section><section class="card-section card-list-layout-list" ng-if="ctrl.panel.show === \'changes\'"><ol class="card-list"><li class="card-item-wrapper" ng-repeat="al in ctrl.alertHistory"><div class="card-item card-item--alert"><div class="card-item-header"><div class="card-item-sub-name">{{al.time}}</div></div><div class="card-item-body"><div class="card-item-details"><div class="card-item-notice">{{al.title}}</div><div class="card-item-sub-name"><span class="alert-list-item-state {{al.stateModel.stateClass}}"><i class="{{al.stateModel.iconClass}}"></i> {{al.stateModel.text}} </span>{{al.info}}</div></div></div></div></li></ol></section></div>'),
a.put("public/app/plugins/panel/dashlist/editor.html",'<div><div class="section gf-form-group"><h5 class="section-heading">Options</h5><gf-form-switch class="gf-form" label="Starred" label-class="width-9" checked="ctrl.panel.starred" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="Recently viewed" label-class="width-9" checked="ctrl.panel.recent" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="Search" label-class="width-9" checked="ctrl.panel.search" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="Show headings" label-class="width-9" checked="ctrl.panel.headings" on-change="ctrl.refresh()"></gf-form-switch><div class="gf-form"><span class="gf-form-label width-9">Max items</span> <input class="gf-form-input max-width-5" type="number" ng-model="ctrl.panel.limit" ng-model-onblur ng-change="ctrl.refresh()"></div></div><div class="section gf-form-group"><h5 class="section-heading">Search</h5><div class="gf-form"><span class="gf-form-label width-6">Query</span> <input type="text" class="gf-form-input" placeholder="title query" ng-model="ctrl.panel.query" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><span class="gf-form-label width-6">Tags</span><bootstrap-tagsinput ng-model="ctrl.panel.tags" tagclass="label label-tag" placeholder="add tags" on-tags-updated="ctrl.refresh()"></bootstrap-tagsinput></div></div></div>'),a.put("public/app/plugins/panel/dashlist/module.html",'<div class="dashlist" ng-repeat="group in ctrl.groups"><div class="dashlist-section" ng-if="group.show"><h6 class="dashlist-section-header" ng-show="ctrl.panel.headings">{{group.header}}</h6><div class="dashlist-item" ng-repeat="dash in group.list"><a class="dashlist-link dashlist-link-{{dash.type}}" href="dashboard/{{dash.uri}}"><span class="dashlist-title">{{dash.title}} </span><span class="dashlist-star"><i class="fa" ng-class="{\'fa-star\': dash.isStarred, \'fa-star-o\': dash.isStarred === false}"></i></span></a></div></div></div>'),a.put("public/app/plugins/panel/gettingstarted/editor.html",'<div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Mode</span><div class="gf-form-select-wrapper max-width-10"><select class="gf-form-input" ng-model="ctrl.panel.mode" ng-options="f for f in ctrl.modes" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form" ng-show="ctrl.panel.mode === \'recently viewed\'"><span class="gf-form-label"><i class="grafana-tip fa fa-question-circle ng-scope" bs-tooltip="\'WARNING: This list will be cleared when clearing browser cache\'" data-original-title="" title=""></i></span></div></div><div class="gf-form-inline" ng-if="ctrl.panel.mode === \'search\'"><div class="gf-form"><span class="gf-form-label width-10">Search options</span> <span class="gf-form-label">Query</span> <input type="text" class="gf-form-input" placeholder="title query" ng-model="ctrl.panel.query" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><span class="gf-form-label">Tags</span><bootstrap-tagsinput ng-model="ctrl.panel.tags" tagclass="label label-tag" placeholder="add tags" on-tags-updated="ctrl.refresh()"></bootstrap-tagsinput></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Limit number to</span> <input class="gf-form-input" type="number" ng-model="ctrl.panel.limit" ng-model-onblur ng-change="ctrl.refresh()"></div></div></div>'),a.put("public/app/plugins/panel/gettingstarted/module.html",'<div class="dashlist" ng-if="ctrl.checksDone"><div class="dashlist-section"><h6 class="dashlist-section-header">Getting Started with Grafana <button class="dashlist-cta-close-btn" ng-click="ctrl.dismiss()"><i class="fa fa-remove"></i></button></h6><ul class="progress-tracker"><li class="progress-step" ng-repeat="step in ctrl.steps" ng-class="step.cssClass"><a class="progress-link" ng-href="{{step.href}}" target="{{step.target}}" title="{{step.note}}"><span class="progress-marker" ng-class="step.cssClass"><i class="{{step.icon}}"></i></span> <span class="progress-text" ng-href="{{step.href}}" target="{{step.target}}">{{step.title}}</span> </a><a class="btn progress-step-cta" ng-href="{{step.href}}" target="{{step.target}}">{{step.cta}}</a></li></ul></div></div>'),a.put("public/app/plugins/panel/graph/axes_editor.html",'<div class="editor-row"><div class="section gf-form-group" ng-repeat="yaxis in ctrl.panel.yaxes"><h5 class="section-heading" ng-show="$index === 0">Left Y</h5><h5 class="section-heading" ng-show="$index === 1">Right Y</h5><gf-form-switch class="gf-form" label="Show" label-class="width-5" checked="yaxis.show" on-change="ctrl.render()"></gf-form-switch><div ng-if="yaxis.show"><div class="gf-form"><label class="gf-form-label width-5">Unit</label><div class="gf-form-dropdown-typeahead max-width-15" ng-model="yaxis.format" dropdown-typeahead2="ctrl.unitFormats" dropdown-typeahead-on-select="ctrl.setUnitFormat(yaxis, $subItem)"></div></div><div class="gf-form"><label class="gf-form-label width-5">Scale</label><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="yaxis.logBase" ng-options="v as k for (k, v) in ctrl.logScales" ng-change="ctrl.render()"></select></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-5">Y-Min</label><input type="text" class="gf-form-input width-5" placeholder="auto" empty-to-null ng-model="yaxis.min" ng-change="ctrl.render()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label width-5">Y-Max</label><input type="text" class="gf-form-input width-5" placeholder="auto" empty-to-null ng-model="yaxis.max" ng-change="ctrl.render()" ng-model-onblur></div></div><div class="gf-form"><label class="gf-form-label width-5">Label</label><input type="text" class="gf-form-input max-width-20" ng-model="yaxis.label" ng-change="ctrl.render()" ng-model-onblur></div></div></div><div class="section gf-form-group"><h5 class="section-heading">X-Axis</h5><gf-form-switch class="gf-form" label="Show" label-class="width-6" checked="ctrl.panel.xaxis.show" on-change="ctrl.render()"></gf-form-switch><div class="gf-form"><label class="gf-form-label width-6">Mode</label><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="ctrl.panel.xaxis.mode" ng-options="v as k for (k, v) in ctrl.xAxisModes" ng-change="ctrl.xAxisOptionChanged()"></select></div></div><div class="gf-form" ng-if="ctrl.panel.xaxis.mode === \'field\'"><label class="gf-form-label width-6">Name</label><metric-segment-model property="ctrl.panel.xaxis.name" get-options="ctrl.getDataFieldNames(false)" on-change="ctrl.xAxisOptionChanged()" custom="false" css-class="width-10" select-mode="true"></metric-segment-model></div><div class="gf-form" ng-if="ctrl.panel.xaxis.mode === \'field\'"><label class="gf-form-label width-6">Value</label><metric-segment-model property="ctrl.panel.xaxis.values[0]" get-options="ctrl.getDataFieldNames(true)" on-change="ctrl.xAxisOptionChanged()" custom="false" css-class="width-10" select-mode="true"></metric-segment-model></div><div class="gf-form" ng-if="ctrl.panel.xaxis.mode === \'series\'"><label class="gf-form-label width-6">Value</label><metric-segment-model property="ctrl.panel.xaxis.values[0]" options="ctrl.xAxisStatOptions" on-change="ctrl.xAxisOptionChanged()" custom="false" css-class="width-10" select-mode="true"></metric-segment-model></div><div class="gf-form" ng-if="ctrl.panel.xaxis.mode === \'histogram\'"><label class="gf-form-label width-6">Buckets</label><input type="number" class="gf-form-input max-width-8" ng-model="ctrl.panel.xaxis.buckets" placeholder="auto" ng-change="ctrl.render()" ng-model-onblur bs-tooltip="\'Number of buckets\'" data-placement="right"></div></div></div>'),a.put("public/app/plugins/panel/graph/tab_display.html",'<div class="edit-tab-with-sidemenu"><aside class="edit-sidemenu-aside"><ul class="edit-sidemenu"><li ng-class="{active: ctrl.subTabIndex === 0}"><a ng-click="ctrl.subTabIndex = 0">Draw options</a></li><li ng-class="{active: ctrl.subTabIndex === 1}"><a ng-click="ctrl.subTabIndex = 1">Series overrides <span class="muted">({{ctrl.panel.seriesOverrides.length}})</span></a></li><li ng-class="{active: ctrl.subTabIndex === 2}"><a ng-click="ctrl.subTabIndex = 2">Thresholds <span class="muted">({{ctrl.panel.thresholds.length}})</span></a></li></ul></aside><div class="edit-tab-content" ng-if="ctrl.subTabIndex === 0"><div class="section gf-form-group"><h5 class="section-heading">Draw Modes</h5><gf-form-switch class="gf-form" label="Bars" label-class="width-5" checked="ctrl.panel.bars" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="Lines" label-class="width-5" checked="ctrl.panel.lines" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="Points" label-class="width-5" checked="ctrl.panel.points" on-change="ctrl.render()"></gf-form-switch></div><div class="section gf-form-group"><h5 class="section-heading">Mode Options</h5><div class="gf-form" ng-show="ctrl.panel.lines"><label class="gf-form-label width-8">Fill</label><div class="gf-form-select-wrapper max-width-5"><select class="gf-form-input" ng-model="ctrl.panel.fill" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change="ctrl.render()"></select></div></div><div class="gf-form" ng-show="(ctrl.panel.lines)"><label class="gf-form-label width-8">Line Width</label><div class="gf-form-select-wrapper max-width-5"><select class="gf-form-input" ng-model="ctrl.panel.linewidth" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change="ctrl.render()"></select></div></div><gf-form-switch ng-show="ctrl.panel.lines" class="gf-form" label="Staircase" label-class="width-8" checked="ctrl.panel.steppedLine" on-change="ctrl.render()"></gf-form-switch><div class="gf-form" ng-show="ctrl.panel.points"><label class="gf-form-label width-8">Point Radius</label><div class="gf-form-select-wrapper max-width-5"><select class="gf-form-input" ng-model="ctrl.panel.pointradius" ng-options="f for f in [1,2,3,4,5,6,7,8,9,10]" ng-change="ctrl.render()"></select></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Hover tooltip</h5><div class="gf-form"><label class="gf-form-label width-9">Mode</label><div class="gf-form-select-wrapper max-width-8"><select class="gf-form-input" ng-model="ctrl.panel.tooltip.shared" ng-options="f.value as f.text for f in [{text: \'All series\', value: true}, {text: \'Single\', value: false}]" ng-change="ctrl.render()"></select></div></div><div class="gf-form"><label class="gf-form-label width-9">Sort order</label><div class="gf-form-select-wrapper max-width-8"><select class="gf-form-input" ng-model="ctrl.panel.tooltip.sort" ng-options="f.value as f.text for f in [{text: \'None\', value: 0}, {text: \'Increasing\', value: 1}, {text: \'Decreasing\', value: 2}]" ng-change="ctrl.render()"></select></div></div><div class="gf-form" ng-show="ctrl.panel.stack"><label class="gf-form-label width-9">Stacked value</label><div class="gf-form-select-wrapper max-width-8"><select class="gf-form-input" ng-model="ctrl.panel.tooltip.value_type" ng-options="f for f in [\'cumulative\',\'individual\']" ng-change="ctrl.render()"></select></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Stacking & Null value</h5><gf-form-switch class="gf-form" label="Stack" label-class="width-7" checked="ctrl.panel.stack" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" ng-show="ctrl.panel.stack" label="Percent" label-class="width-7" checked="ctrl.panel.percentage" on-change="ctrl.render()"></gf-form-switch><div class="gf-form"><label class="gf-form-label width-7">Null value</label><div class="gf-form-select-wrapper"><select class="gf-form-input max-width-8" ng-model="ctrl.panel.nullPointMode" ng-options="f for f in [\'connected\', \'null\', \'null as zero\']" ng-change="ctrl.render()"></select></div></div></div></div><div class="edit-tab-content" ng-if="ctrl.subTabIndex === 1"><div class="gf-form-group"><h5>Series specific overrides<tip>Regex match example: /server[0-3]/i</tip></h5><div class="gf-form-inline" ng-repeat="override in ctrl.panel.seriesOverrides" ng-controller="SeriesOverridesCtrl"><div class="gf-form"><label class="gf-form-label">alias or regex</label></div><div class="gf-form width-15"><input type="text" ng-model="override.alias" bs-typeahead="getSeriesNames" ng-blur="ctrl.render()" data-min-length="0" data-items="100" class="gf-form-input width-15"></div><div class="gf-form" ng-repeat="option in currentOverrides"><label class="gf-form-label"><i class="pointer fa fa-remove" ng-click="removeOverride(option)"></i> <span ng-show="option.propertyName === \'color\'">Color: <i class="fa fa-circle" ng-style="{color:option.value}"></i> </span><span ng-show="option.propertyName !== \'color\'">{{option.name}}: {{option.value}}</span></label></div><div class="gf-form"><span class="dropdown" dropdown-typeahead="overrideMenu" dropdown-typeahead-on-select="setOverride($item, $subItem)"></span></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div><div class="gf-form"><label class="gf-form-label"><i class="fa fa-trash pointer" ng-click="ctrl.removeSeriesOverride(override)"></i></label></div></div></div><button class="btn btn-inverse" ng-click="ctrl.addSeriesOverride()"><i class="fa fa-plus"></i>&nbsp;Add override</button></div><div class="edit-tab-content" ng-if="ctrl.subTabIndex === 2"><graph-threshold-form panel-ctrl="ctrl"></graph-threshold-form></div></div>'),a.put("public/app/plugins/panel/graph/tab_legend.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Options</h5><gf-form-switch class="gf-form" label="Show" label-class="width-7" checked="ctrl.panel.legend.show" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="As Table" label-class="width-7" checked="ctrl.panel.legend.alignAsTable" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="To the right" label-class="width-7" checked="ctrl.panel.legend.rightSide" on-change="ctrl.render()"></gf-form-switch><div ng-if="ctrl.panel.legend.rightSide" class="gf-form"><label class="gf-form-label width-7">Width</label><input type="number" class="gf-form-input max-width-5" placeholder="250" bs-tooltip="\'Set a min-width for the legend side table/block\'" data-placement="right" ng-model="ctrl.panel.legend.sideWidth" ng-change="ctrl.render()" ng-model-onblur></div></div><div class="section gf-form-group"><h5 class="section-heading">Values</h5><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Min" label-class="width-4" checked="ctrl.panel.legend.min" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch><gf-form-switch class="gf-form max-width-12" label="Max" label-class="width-6" switch-class="max-width-5" checked="ctrl.panel.legend.max" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch></div><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Avg" label-class="width-4" checked="ctrl.panel.legend.avg" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch><gf-form-switch class="gf-form max-width-12" label="Current" label-class="width-6" switch-class="max-width-5" checked="ctrl.panel.legend.current" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch></div><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Total" label-class="width-4" checked="ctrl.panel.legend.total" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch><div class="gf-form"><label class="gf-form-label width-6">Decimals</label><input type="number" class="gf-form-input width-5" placeholder="auto" bs-tooltip="\'Override automatic decimal precision for legend and tooltips\'" data-placement="right" ng-model="ctrl.panel.decimals" ng-change="ctrl.render()" ng-model-onblur></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Hide series</h5><gf-form-switch class="gf-form" label="With only nulls" label-class="width-10" checked="ctrl.panel.legend.hideEmpty" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="With only zeros" label-class="width-10" checked="ctrl.panel.legend.hideZero" on-change="ctrl.render()"></gf-form-switch></div></div>'),a.put("public/app/plugins/panel/heatmap/module.html",'<div class="heatmap-wrapper"><div class="heatmap-canvas-wrapper"><div class="datapoints-warning" ng-if="ctrl.dataWarning"><span class="small" bs-tooltip="ctrl.dataWarning.tip">{{ctrl.dataWarning.title}}</span></div><div class="heatmap-panel" ng-dblclick="ctrl.zoomOut()"></div></div></div><div class="clearfix"></div>'),a.put("public/app/plugins/panel/heatmap/partials/axes_editor.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Y Axis</h5><div class="gf-form"><label class="gf-form-label width-8">Unit</label><div class="gf-form-dropdown-typeahead width-12" ng-model="ctrl.panel.yAxis.format" dropdown-typeahead2="editor.unitFormats" dropdown-typeahead-on-select="editor.setUnitFormat($subItem)"></div></div><div class="gf-form"><label class="gf-form-label width-8">Scale</label><div class="gf-form-select-wrapper width-12"><select class="gf-form-input" ng-model="ctrl.panel.yAxis.logBase" ng-options="v as k for (k, v) in editor.logScales" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form"><label class="gf-form-label width-8">Y-Min</label><input type="text" class="gf-form-input width-12" placeholder="auto" empty-to-null ng-model="ctrl.panel.yAxis.min" ng-change="ctrl.render()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label width-8">Y-Max</label><input type="text" class="gf-form-input width-12" placeholder="auto" empty-to-null ng-model="ctrl.panel.yAxis.max" ng-change="ctrl.render()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label width-8">Decimals</label><input type="number" class="gf-form-input width-12" placeholder="auto" data-placement="right" bs-tooltip="\'Override automatic decimal precision for axis.\'" ng-model="ctrl.panel.yAxis.decimals" ng-change="ctrl.render()" ng-model-onblur></div></div><div class="section gf-form-group" ng-if="ctrl.panel.dataFormat == \'timeseries\'"><h5 class="section-heading">Buckets</h5><div ng-show="ctrl.panel.yAxis.logBase === 1"><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label">Y Axis</label><label class="gf-form-label">Buckets</label><input type="number" class="gf-form-input width-5" placeholder="auto" data-placement="right" bs-tooltip="\'Number of buckets for Y axis.\'" ng-model="ctrl.panel.yBucketNumber" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label">Size</label><input type="number" class="gf-form-input width-5" placeholder="auto" data-placement="right" bs-tooltip="\'Size of bucket. Has priority over Buckets option.\'" ng-model="ctrl.panel.yBucketSize" ng-change="ctrl.refresh()" ng-model-onblur></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label">X Axis</label><label class="gf-form-label">Buckets</label><input type="number" class="gf-form-input width-5" placeholder="auto" data-placement="right" bs-tooltip="\'Number of buckets for Y axis.\'" ng-model="ctrl.panel.xBucketNumber" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label">Size</label><input type="text" class="gf-form-input width-5" placeholder="auto" data-placement="right" bs-tooltip="\'Size of bucket. Number or interval (10s, 5m, 1h, etc). Supported intervals: ms, s, m, h, d, w, M, y. Has priority over Buckets option.\'" ng-model="ctrl.panel.xBucketSize" ng-change="ctrl.refresh()" ng-model-onblur></div></div></div><div ng-show="ctrl.panel.yAxis.logBase !== 1"><div class="gf-form"><label class="gf-form-label width-7">Split Factor</label><input type="number" class="gf-form-input width-3" placeholder="1" data-placement="right" bs-tooltip="\'For log scales only. By default Y values is splitted by integer powers of log base (1, 2, 4, 8, 16, ... for log2). This option allows to split each default bucket into specified number of buckets.\'" ng-model="ctrl.panel.yAxis.splitFactor" ng-change="ctrl.refresh()" ng-model-onblur></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Data format</h5><div class="gf-form"><label class="gf-form-label width-5">Format</label><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="ctrl.panel.dataFormat" ng-options="v as k for (k, v) in editor.dataFormats" ng-change="ctrl.render()"></select></div></div></div></div>'),a.put("public/app/plugins/panel/heatmap/partials/display_editor.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Colors</h5><div class="gf-form"><label class="gf-form-label width-9">Mode</label><div class="gf-form-select-wrapper width-8"><select class="input-small gf-form-input" ng-model="ctrl.panel.color.mode" ng-options="s for s in ctrl.colorModes" ng-change="ctrl.render()"></select></div></div><div ng-show="ctrl.panel.color.mode === \'opacity\'"><div class="gf-form"><label class="gf-form-label width-9">Color</label><span class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.color.cardColor" ng-change="ctrl.render()"></spectrum-picker></span></div><div class="gf-form"><label class="gf-form-label width-9">Scale</label><div class="gf-form-select-wrapper width-8"><select class="input-small gf-form-input" ng-model="ctrl.panel.color.colorScale" ng-options="s for s in ctrl.opacityScales" ng-change="ctrl.render()"></select></div></div><div class="gf-form" ng-if="ctrl.panel.color.colorScale === \'sqrt\'"><label class="gf-form-label width-9">Exponent</label><input type="number" class="gf-form-input width-8" placeholder="auto" data-placement="right" bs-tooltip="\'\'" ng-model="ctrl.panel.color.exponent" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><svg id="heatmap-opacity-legend" width="19em" height="2em"></svg></div></div><div ng-show="ctrl.panel.color.mode === \'spectrum\'"><div class="gf-form"><label class="gf-form-label width-9">Scheme</label><div class="gf-form-select-wrapper width-8"><select class="input-small gf-form-input" ng-model="ctrl.panel.color.colorScheme" ng-options="s.value as s.name for s in ctrl.colorSchemes" ng-change="ctrl.render()"></select></div></div><div class="gf-form"><svg id="heatmap-color-legend" width="19em" height="2em"></svg></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Buckets</h5><div class="gf-form"><label class="gf-form-label width-8">Space</label><input type="number" class="gf-form-input width-5" placeholder="auto" data-placement="right" bs-tooltip="\'\'" ng-model="ctrl.panel.cards.cardPadding" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label width-8">Round</label><input type="number" class="gf-form-input width-5" placeholder="auto" data-placement="right" bs-tooltip="\'\'" ng-model="ctrl.panel.cards.cardRound" ng-change="ctrl.refresh()" ng-model-onblur></div></div><div class="section gf-form-group"><h5 class="section-heading">Tooltip</h5><gf-form-switch class="gf-form" label-class="width-8" label="Show tooltip" checked="ctrl.panel.tooltip.show" on-change="ctrl.render()"></gf-form-switch><div ng-if="ctrl.panel.tooltip.show"><gf-form-switch class="gf-form" label-class="width-8" label="Histogram" checked="ctrl.panel.tooltip.showHistogram" on-change="ctrl.render()"></gf-form-switch><div class="gf-form"><label class="gf-form-label width-8">Decimals</label><input type="number" class="gf-form-input width-5" placeholder="auto" data-placement="right" bs-tooltip="\'Max decimal precision for tooltip.\'" ng-model="ctrl.panel.tooltipDecimals" ng-change="ctrl.render()" ng-model-onblur></div></div></div></div>'),a.put("public/app/plugins/panel/pluginlist/editor.html",'<div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Mode</span><div class="gf-form-select-wrapper max-width-10"><select class="gf-form-input" ng-model="ctrl.panel.mode" ng-options="f for f in ctrl.modes" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form" ng-show="ctrl.panel.mode === \'recently viewed\'"><span class="gf-form-label"><i class="grafana-tip fa fa-question-circle ng-scope" bs-tooltip="\'WARNING: This list will be cleared when clearing browser cache\'" data-original-title="" title=""></i></span></div></div><div class="gf-form-inline" ng-if="ctrl.panel.mode === \'search\'"><div class="gf-form"><span class="gf-form-label width-10">Search options</span> <span class="gf-form-label">Query</span> <input type="text" class="gf-form-input" placeholder="title query" ng-model="ctrl.panel.query" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><span class="gf-form-label">Tags</span><bootstrap-tagsinput ng-model="ctrl.panel.tags" tagclass="label label-tag" placeholder="add tags" on-tags-updated="ctrl.refresh()"></bootstrap-tagsinput></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Limit number to</span> <input class="gf-form-input" type="number" ng-model="ctrl.panel.limit" ng-model-onblur ng-change="ctrl.refresh()"></div></div></div>'),a.put("public/app/plugins/panel/pluginlist/module.html",'<div class="pluginlist"><div class="pluginlist-section" ng-repeat="category in ctrl.viewModel"><h6 class="pluginlist-section-header">{{category.header}}</h6><div class="pluginlist-item" ng-repeat="plugin in category.list"><a class="pluginlist-link pluginlist-link-{{plugin.state}} pointer" href="{{plugin.defaultNavUrl}}"><span><img ng-src="{{plugin.info.logos.small}}" class="pluginlist-image"> <span class="pluginlist-title">{{plugin.name}}</span> <span class="pluginlist-version">v{{plugin.info.version}}</span> </span><span class="pluginlist-message pluginlist-message--update" ng-show="plugin.hasUpdate" ng-click="ctrl.updateAvailable(plugin, $event)" bs-tooltip="\'New version: \' + plugin.latestVersion">Update available! </span><span class="pluginlist-message pluginlist-message--enable" ng-show="!plugin.enabled && !plugin.hasUpdate">Enable now </span><span class="pluginlist-message pluginlist-message--no-update" ng-show="plugin.enabled && !plugin.hasUpdate">Up to date</span></a></div><div class="pluginlist-item" ng-show="category.list.length === 0"><a class="pluginlist-link pluginlist-link-{{plugin.state}}" href="https://grafana.com/plugins"><span class="pluginlist-none-installed">None installed. <span class="pluginlist-emphasis">Browse Grafana.net</span></span></a></div></div></div>'),a.put("public/app/plugins/panel/singlestat/editor.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Value</h5><div class="gf-form-inline"><div class="gf-form" ng-show="ctrl.dataType === \'timeseries\'"><label class="gf-form-label width-6">Stat</label><div class="gf-form-select-wrapper width-7"><select class="gf-form-input" ng-model="ctrl.panel.valueName" ng-options="f for f in ctrl.valueNameOptions" ng-change="ctrl.render()"></select></div></div><div class="gf-form" ng-show="ctrl.dataType === \'table\'"><label class="gf-form-label width-6">Column</label><div class="gf-form-select-wrapper width-7"><select class="gf-form-input" ng-model="ctrl.panel.tableColumn" ng-options="f for f in ctrl.tableColumnOptions" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form"><label class="gf-form-label width-6">Font size</label><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.panel.valueFontSize" ng-options="f for f in ctrl.fontSizes" ng-change="ctrl.render()"></select></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-6">Prefix</label><input type="text" class="gf-form-input width-7" ng-model="ctrl.panel.prefix" ng-change="ctrl.render()" ng-model-onblur><label class="gf-form-label width-6">Font size</label><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.panel.prefixFontSize" ng-options="f for f in ctrl.fontSizes" ng-change="ctrl.render()"></select></div></div></div><div class="gf-form"><label class="gf-form-label width-6">Postfix</label><input type="text" class="gf-form-input width-7" ng-model="ctrl.panel.postfix" ng-change="ctrl.render()" ng-model-onblur><label class="gf-form-label width-6">Font size</label><div class="gf-form-select-wrapper"><select class="input-small gf-form-input" ng-model="ctrl.panel.postfixFontSize" ng-options="f for f in ctrl.fontSizes" ng-change="ctrl.render()"></select></div></div><div class="gf-form"><label class="gf-form-label width-6">Unit</label><div class="gf-form-dropdown-typeahead width-18" ng-model="ctrl.panel.format" dropdown-typeahead2="ctrl.unitFormats" dropdown-typeahead-on-select="ctrl.setUnitFormat($subItem)"></div></div><div class="gf-form"><label class="gf-form-label width-6">Decimals</label><input type="number" class="gf-form-input width-18" placeholder="auto" data-placement="right" bs-tooltip="\'Override automatic decimal precision for legend and tooltips\'" ng-model="ctrl.panel.decimals" ng-change="ctrl.refresh()" ng-model-onblur></div></div><div class="section gf-form-group"><h5 class="section-heading">Coloring</h5><div class="gf-form-inline"><gf-form-switch class="gf-form" label-class="width-8" label="Background" checked="ctrl.panel.colorBackground" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label-class="width-4" label="Value" checked="ctrl.panel.colorValue" on-change="ctrl.render()"></gf-form-switch></div><div class="gf-form-inline"><div class="gf-form max-width-21"><label class="gf-form-label width-8">Thresholds<tip>Define two threshold values&lt;br /&gt; 50,80 will produce: &lt;50 = Green, 50:80 = Yellow, &gt;80 = Red</tip></label><input type="text" class="gf-form-input" ng-model="ctrl.panel.thresholds" ng-blur="ctrl.render()" placeholder="50,80"></div></div><div class="gf-form"><label class="gf-form-label width-8">Colors</label><span class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.colors[0]" ng-change="ctrl.render()"></spectrum-picker></span><span class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.colors[1]" ng-change="ctrl.render()"></spectrum-picker></span><span class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.colors[2]" ng-change="ctrl.render()"></spectrum-picker></span><span class="gf-form-label"><a ng-click="ctrl.invertColorOrder()">Invert</a></span></div></div><div class="section gf-form-group"><h5 class="section-heading">Spark lines</h5><gf-form-switch class="gf-form" label-class="width-9" label="Show" checked="ctrl.panel.sparkline.show" on-change="ctrl.render()"></gf-form-switch><div ng-if="ctrl.panel.sparkline.show"><gf-form-switch class="gf-form" label-class="width-9" label="Full height" checked="ctrl.panel.sparkline.full" on-change="ctrl.render()"></gf-form-switch><div class="gf-form"><label class="gf-form-label width-9">Line Color</label><span class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.sparkline.lineColor" ng-change="ctrl.render()"></spectrum-picker></span></div><div class="gf-form"><label class="gf-form-label width-9">Fill Color</label><span class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.sparkline.fillColor" ng-change="ctrl.render()"></spectrum-picker></span></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Gauge</h5><gf-form-switch class="gf-form" label-class="width-10" switch-class="max-width-6" label="Show" checked="ctrl.panel.gauge.show" on-change="ctrl.render()"></gf-form-switch><div ng-if="ctrl.panel.gauge.show"><div class="gf-form"><label class="gf-form-label width-10">Min</label><input type="number" class="gf-form-input width-6" placeholder="0" data-placement="right" ng-model="ctrl.panel.gauge.minValue" ng-change="ctrl.refresh()" ng-model-onblur><label class="gf-form-label alert-state-critical" ng-show="ctrl.invalidGaugeRange">&nbsp; <i class="fa fa-warning"></i> Min value is bigger than max.</label></div><div class="gf-form"><label class="gf-form-label width-10">Max</label><input type="number" class="gf-form-input width-6" placeholder="0" data-placement="right" ng-model="ctrl.panel.gauge.maxValue" ng-change="ctrl.refresh()" ng-model-onblur></div><gf-form-switch class="gf-form" label-class="width-10" switch-class="max-width-6" label="Threshold labels" checked="ctrl.panel.gauge.thresholdLabels" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label-class="width-10" switch-class="max-width-6" label="Threshold markers" checked="ctrl.panel.gauge.thresholdMarkers" on-change="ctrl.render()"></gf-form-switch></div></div></div>'),
a.put("public/app/plugins/panel/singlestat/mappings.html",'<div class="editor-row"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Type</span><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.panel.mappingType" ng-options="f.value as f.name for f in ctrl.panel.mappingTypes" ng-change="ctrl.render()"></select></div></div></div></div><div class="editor-row" ng-if="ctrl.panel.mappingType==1"><h5 class="page-heading">Set value mappings</h5><div class="gf-form-group"><div class="gf-form" ng-repeat="map in ctrl.panel.valueMaps"><span class="gf-form-label"><i class="fa fa-remove pointer" ng-click="ctrl.removeValueMap(map)"></i> </span><input type="text" ng-model="map.value" placeholder="value" class="gf-form-input max-width-6" ng-blur="ctrl.render()"> <span class="gf-form-label"><i class="fa fa-arrow-right"></i> </span><input type="text" placeholder="text" ng-model="map.text" class="gf-form-input max-width-8" ng-blur="ctrl.render()"></div><div class="gf-form-button-row"><button class="btn btn-inverse" ng-click="ctrl.addValueMap();"><i class="fa fa-plus"></i> Add a value mapping</button></div></div></div><div class="editor-row" ng-if="ctrl.panel.mappingType==2"><h5 class="page-heading">Set range mappings</h5><div class="gf-form-group"><div class="gf-form" ng-repeat="rangeMap in ctrl.panel.rangeMaps"><span class="gf-form-label"><i class="fa fa-remove pointer" ng-click="ctrl.removeRangeMap(rangeMap)"></i> </span><span class="gf-form-label">From</span> <input type="text" ng-model="rangeMap.from" class="gf-form-input max-width-6" ng-blur="ctrl.render()"> <span class="gf-form-label">To</span> <input type="text" ng-model="rangeMap.to" class="gf-form-input max-width-6" ng-blur="ctrl.render()"> <span class="gf-form-label">Text</span> <input type="text" ng-model="rangeMap.text" class="gf-form-input max-width-8" ng-blur="ctrl.render()"></div><div class="gf-form-button-row"><button class="btn btn-inverse" ng-click="ctrl.addRangeMap()"><i class="fa fa-plus"></i> Add a range mapping</button></div></div></div>'),a.put("public/app/plugins/panel/singlestat/module.html",'<div class="singlestat-panel"></div>'),a.put("public/app/plugins/panel/table/column_options.html",'<div class="edit-tab-with-sidemenu"><aside class="edit-sidemenu-aside"><ul class="edit-sidemenu"><li ng-repeat="style in editor.panel.styles" ng-class="{active: editor.activeStyleIndex === $index}"><a ng-click="editor.activeStyleIndex = $index">{{style.pattern || \'New rule\'}}</a></li><li><a class="pointer" ng-click="editor.addColumnStyle()"><i class="fa fa-plus"></i>&nbsp;Add</a></li></ul></aside><div class="edit-tab-content" ng-repeat="style in editor.panel.styles" ng-if="editor.activeStyleIndex === $index"><div class="section gf-form-group"><h5 class="section-heading">Options</h5><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-13">Apply to columns named</label><input type="text" placeholder="Name or regex" class="gf-form-input width-13" ng-model="style.pattern" bs-tooltip="\'Specify regex using /my.*regex/ syntax\'" bs-typeahead="editor.getColumnNames" ng-blur="editor.render()" data-min-length="0" data-items="100" ng-model-onblur data-placement="right"></div></div><div class="gf-form" ng-if="style.type !== \'hidden\'"><label class="gf-form-label width-13">Column Header</label><input type="text" class="gf-form-input width-13" ng-model="style.alias" ng-change="editor.render()" ng-model-onblur placeholder="Override header label"></div></div><div class="section gf-form-group"><h5 class="section-heading">Type</h5><div class="gf-form"><label class="gf-form-label width-8">Type</label><div class="gf-form-select-wrapper width-10"><select class="gf-form-input" ng-model="style.type" ng-options="c.value as c.text for c in editor.columnTypes" ng-change="editor.render()"></select></div></div><div class="gf-form" ng-if="style.type === \'date\'"><label class="gf-form-label width-8">Date Format</label><metric-segment-model property="style.dateFormat" options="editor.dateFormats" on-change="editor.render()" custom="true"></metric-segment-model></div><div ng-if="style.type === \'string\'"><gf-form-switch class="gf-form" label-class="width-8" ng-if="style.type === \'string\'" label="Sanitize HTML" checked="style.sanitize" change="editor.render()"></gf-form-switch></div><div ng-if="style.type === \'number\'"><div class="gf-form"><label class="gf-form-label width-8">Unit</label><div class="gf-form-dropdown-typeahead width-10" ng-model="style.unit" dropdown-typeahead2="editor.unitFormats" dropdown-typeahead-on-select="editor.setUnitFormat(style, $subItem)"></div></div><div class="gf-form"><label class="gf-form-label width-8">Decimals</label><input type="number" class="gf-form-input width-4" data-placement="right" ng-model="style.decimals" ng-change="editor.render()" ng-model-onblur></div></div></div><div class="section gf-form-group" ng-if="style.type === \'number\'"><h5 class="section-heading">Thresholds</h5><div class="gf-form"><label class="gf-form-label width-8">Thresholds<tip>Comma separated values</tip></label><input type="text" class="gf-form-input width-10" ng-model="style.thresholds" placeholder="50,80" ng-blur="editor.render()" array-join ng-model-onblur></div><div class="gf-form"><label class="gf-form-label width-8">Color Mode</label><div class="gf-form-select-wrapper width-10"><select class="gf-form-input" ng-model="style.colorMode" ng-options="c.value as c.text for c in editor.colorModes" ng-change="editor.render()"></select></div></div><div class="gf-form"><label class="gf-form-label width-8">Colors</label><span class="gf-form-label"><spectrum-picker ng-model="style.colors[0]" ng-change="editor.render()"></spectrum-picker></span><span class="gf-form-label"><spectrum-picker ng-model="style.colors[1]" ng-change="editor.render()"></spectrum-picker></span><span class="gf-form-label"><spectrum-picker ng-model="style.colors[2]" ng-change="editor.render()"></spectrum-picker></span><div class="gf-form-label"><a class="pointer" ng-click="editor.invertColorOrder($index)">Invert</a></div></div></div><div class="clearfix"></div><button class="btn btn-danger btn-small" ng-click="editor.removeColumnStyle(style)"><i class="fa fa-trash"></i> Remove Rule</button><br><br></div></div>'),a.put("public/app/plugins/panel/table/editor.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Data</h5><div class="gf-form"><label class="gf-form-label width-10">Table Transform</label><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="editor.panel.transform" ng-options="k as v.description for (k, v) in editor.transformers" ng-change="editor.transformChanged()"></select></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-10">Columns</label></div><div class="gf-form" ng-repeat="column in editor.panel.columns"><label class="gf-form-label"><i class="pointer fa fa-remove" ng-click="editor.removeColumn(column)"></i> <span>{{column.text}}</span></label></div><div class="gf-form"><metric-segment segment="editor.addColumnSegment" get-options="editor.getColumnOptions()" on-change="editor.addColumn()"></metric-segment></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Paging</h5><div class="gf-form"><label class="gf-form-label width-8">Rows per page</label><input type="number" class="gf-form-input width-6" placeholder="100" data-placement="right" ng-model="editor.panel.pageSize" ng-change="editor.render()" ng-model-onblur></div><gf-form-switch class="gf-form" label-class="width-8" switch-class="max-width-6" label="Scroll" checked="editor.panel.scroll" on-change="editor.render()"></gf-form-switch><div class="gf-form max-width-17"><label class="gf-form-label width-8">Font size</label><div class="gf-form-select-wrapper width-6"><select class="gf-form-input" ng-model="editor.panel.fontSize" ng-options="f for f in editor.fontSizes" ng-change="editor.render()"></select></div></div></div></div>'),a.put("public/app/plugins/panel/table/module.html",'<div class="table-panel-container"><div class="table-panel-header-bg" ng-show="ctrl.table.rows.length"></div><div class="table-panel-scroll" ng-show="ctrl.table.rows.length"><table class="table-panel-table"><thead><tr><th ng-repeat="col in ctrl.table.columns" ng-hide="col.hidden"><div class="table-panel-table-header-inner pointer" ng-click="ctrl.toggleColumnSort(col, $index)">{{col.title}} <span class="table-panel-table-header-controls" ng-if="col.sort"><i class="fa fa-caret-down" ng-show="col.desc"></i> <i class="fa fa-caret-up" ng-hide="col.desc"></i></span></div></th></tr></thead><tbody></tbody></table></div></div><div class="datapoints-warning" ng-show="ctrl.table.rows.length===0"><span class="small">No data to show<tip>Nothing returned by data query</tip></span></div><div class="table-panel-footer"></div>'),a.put("public/app/plugins/panel/text/editor.html",'<div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label">Mode</span> <span class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.panel.mode" ng-options="f for f in [\'html\',\'markdown\',\'text\']"></select></span></div></div></div><h3 class="page-heading">Content</h3><span ng-show="ctrl.panel.mode == \'markdown\'">(This area uses <a target="_blank" href="http://en.wikipedia.org/wiki/Markdown">Markdown</a>. HTML is not supported)</span><textarea class="gf-form-input" ng-model="ctrl.panel.content" rows="20" style="width:95%" ng-change="ctrl.render()" ng-model-onblur>\n</textarea>'),a.put("public/app/plugins/panel/text/module.html",'<p class="markdown-html panel-text-content" ng-bind-html="ctrl.content" ng-show="ctrl.content"></p>'),a.put("public/app/plugins/panel/unknown/module.html",'<div class="text-center" style="padding-top: 2rem">Unknown panel type: <strong>{{ctrl.panel.type}}</strong></div>')}])})&&a("app/core/partials",["app/core/partials.js"],function(a){return a})}(),System.register("app/core/components/jsontree/jsontree.js",["angular","app/core/core_module"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e={is:function(a,b){return Object.prototype.toString.call(a).slice(8,-1)===b},whatClass:function(a){return Object.prototype.toString.call(a).slice(8,-1)},forKeys:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&"function"!=typeof a[c]&&b(c,a[c]))break}},d.default.directive("jsonTree",[function(){return{restrict:"E",scope:{object:"=",startExpanded:"@",rootName:"@"},template:'<json-node key="rootName" value="object" start-expanded="startExpanded"></json-node>'}}]),d.default.directive("jsonNode",["ajsRecursiveDirectiveHelper",function(a){return{restrict:"E",scope:{key:"=",value:"=",startExpanded:"@"},compile:function(b){return a.compile(b,this)},template:' <span class="json-tree-key" ng-click="toggleExpanded()">{{key}}</span>       <span class="json-tree-leaf-value" ng-if="!isExpandable">{{value}}</span>       <span class="json-tree-branch-preview" ng-if="isExpandable" ng-show="!isExpanded" ng-click="toggleExpanded()">            {{preview}}</span>       <ul class="json-tree-branch-value" ng-if="isExpandable && shouldRender" ng-show="isExpanded">           <li ng-repeat="(subkey,subval) in value">               <json-node key="subkey" value="subval"></json-node>           </li>       </ul>',pre:function(a,b,c){if(b.addClass(e.whatClass(a.value).toLowerCase()),e.is(a.value,"Object")||e.is(a.value,"Array")){a.isExpandable=!0,b.addClass("expandable");var d=e.is(a.value,"Array");a.preview=d?"[ ":"{ ",e.forKeys(a.value,function(b,c){null===c&&(a.value[b]="null"),d?a.preview+=c+", ":a.preview+=b+": "+c+", "}),a.preview=a.preview.substring(0,a.preview.length-(a.preview.length>2?2:0))+(d?" ]":" }"),a.startExpanded&&(a.shouldRender=!0,b.addClass("expanded")),a.isExpanded=a.startExpanded,a.toggleExpanded=function(){a.isExpanded=!a.isExpanded,a.isExpanded?b.addClass("expanded"):b.removeClass("expanded"),a.shouldRender=!0}}else a.isExpandable=!1,b.addClass("not-expandable")}}}]),d.default.factory("ajsRecursiveDirectiveHelper",["$compile",function(a){return{compile:function(b,d){c.default.isFunction(d)&&(d={post:d});var e,f=b.contents().remove();return{pre:d&&d.pre?d.pre:null,post:function(b,c){e||(e=a(f)),e(b,function(a){c.append(a)}),d&&d.post&&d.post.apply(null,arguments)}}}}}])}}}),System.register("app/core/profiler.js",["jquery","angular"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){}return a.prototype.init=function(a,b){var c=this;this.enabled="development"===a.buildInfo.env,this.timings={},this.timings.appStart={loadStart:(new Date).getTime()},this.$rootScope=b,this.enabled&&(b.$watch(function(){return c.digestCounter++,!1},function(){}),b.onAppEvent("refresh",this.refresh.bind(this),b),b.onAppEvent("dashboard-fetch-end",this.dashboardFetched.bind(this),b),b.onAppEvent("dashboard-initialized",this.dashboardInitialized.bind(this),b),b.onAppEvent("panel-initialized",this.panelInitialized.bind(this),b))},a.prototype.refresh=function(){var a=this;this.timings.query=0,this.timings.render=0,setTimeout(function(){console.log("panel count: "+a.panelsInitCount),console.log("total query: "+a.timings.query),console.log("total render: "+a.timings.render),console.log("avg render: "+a.timings.render/a.panelsInitCount)},5e3)},a.prototype.dashboardFetched=function(){this.timings.dashboardLoadStart=(new Date).getTime(),this.panelsInitCount=0,this.digestCounter=0,this.panelsInitCount=0,this.panelsRendered=0,this.timings.query=0,this.timings.render=0},a.prototype.dashboardInitialized=function(){var a=this;setTimeout(function(){console.log("Dashboard::Performance Total Digests: "+a.digestCounter),console.log("Dashboard::Performance Total Watchers: "+a.getTotalWatcherCount()),console.log("Dashboard::Performance Total ScopeCount: "+a.scopeCount);var b=a.timings.lastPanelInitializedAt-a.timings.dashboardLoadStart;console.log("Dashboard::Performance All panels initialized in "+b+" ms");for(var c=window.performance.now(),d=0;d<30;d++)a.$rootScope.$apply();console.log("Dashboard::Performance Root Digest "+(window.performance.now()-c)/30)},3e3)},a.prototype.getTotalWatcherCount=function(){var a=0,b=0,e=c.default(document.getElementsByTagName("body")),f=function(e){e.data().hasOwnProperty("$scope")&&(b++,d.default.forEach(e.data().$scope.$$watchers,function(){a++})),d.default.forEach(e.children(),function(a){f(c.default(a))})};return f(e),this.scopeCount=b,a},a.prototype.renderingCompleted=function(a,b){this.panelsRendered=(this.panelsRendered||0)+1,this.$rootScope.panelsRendered=this.panelsRendered,this.enabled&&(b.renderEnd=(new Date).getTime(),this.timings.query+=b.queryEnd-b.queryStart,this.timings.render+=b.renderEnd-b.renderStart)},a.prototype.panelInitialized=function(){this.enabled&&(this.panelsInitCount++,this.timings.lastPanelInitializedAt=(new Date).getTime())},a}(),a("Profiler",e),f=new e,a("profiler",f)}}}),System.register("app/core/components/grafana_app.js",["app/core/config","lodash","jquery","app/core/core_module","app/core/profiler","app/core/app_events"],function(a,b){"use strict";function c(a,b){return{restrict:"E",controller:j,link:function(c,d){function e(){m&&j.hasClass("page-dashboard")&&(new Date).getTime()-l>n&&(m=!1,j.addClass("user-activity-low"))}function g(){l=(new Date).getTime(),m||(m=!0,j.removeClass("user-activity-low"))}var h,j=f.default("body");f.default.fn.modal.Constructor.prototype.enforceFocus=function(){},c.$watch("contextSrv.sidemenu",function(a){void 0!==a&&(j.toggleClass("sidemenu-open",c.contextSrv.sidemenu),a||b.setPinnedState(!1)),b.sidemenu&&(h=!0,setTimeout(function(){h=!1},300))}),c.$watch("contextSrv.pinned",function(a){void 0!==a&&j.toggleClass("sidemenu-pinned",a)});var k;c.$on("$routeChangeSuccess",function(a,b){k&&j.removeClass(k),k=b.$$route.pageClass,k&&j.addClass(k),f.default("#tooltip, .tooltip").remove(),b.params.kiosk&&i.default.emit("toggle-kiosk-mode")}),i.default.on("toggle-kiosk-mode",function(){j.toggleClass("page-kiosk-mode")});var l=(new Date).getTime(),m=!0,n=6e4;j.mousemove(g),j.keydown(g),document.addEventListener("visibilitychange",g),setInterval(e,2e3),i.default.on("toggle-view-mode",function(){l=0,e()}),j.click(function(e){var g=f.default(e.target);if(0!==g.parents().length){var i=g.closest("[data-click-hide]");if(i.length){var k=i.parent();i.detach(),setTimeout(function(){k.append(i)},100)}0===g.parents(".dash-playlist-actions").length&&a.stop(),j.find(".search-container").length>0&&0===g.parents(".search-container").length&&c.$apply(function(){c.appEvent("hide-dash-search")}),!h&&!b.pinned&&j.find(".sidemenu").length>0&&0===g.parents(".sidemenu").length&&c.$apply(function(){c.contextSrv.toggleSideMenu()});var l=d.find(".popover");l.length>0&&0===g.parents(".graph-legend").length&&l.hide()}})}}}c.$inject=["playlistSrv","contextSrv"];b&&b.id;a("grafanaAppDirective",c);var d,e,f,g,h,i,j;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a}],execute:function(){j=function(){function a(a,b,c,f,g,j){a.init=function(){a.contextSrv=j,f.appSubUrl=d.default.appSubUrl,a._=e.default,h.profiler.init(d.default,f),b.init(),c.init(),a.dashAlerts=b},a.initDashboard=function(b,c){a.appEvent("dashboard-fetch-end",b),g("DashboardCtrl",{$scope:c}).init(b)},f.onAppEvent=function(a,b,c){var d=f.$on(a,b),e=this;1!==e.$id||c||console.log("warning rootScope onAppEvent called without localscope"),c&&(e=c),e.$on("$destroy",d)},f.appEvent=function(a,b){f.$emit(a,b),i.default.emit(a,b)},f.colors=["#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300","#447EBC","#C15C17","#890F02","#0A437C","#6D1F62","#584477","#B7DBAB","#F4D598","#70DBED","#F9BA8F","#F29191","#82B5D8","#E5A8E2","#AEA2E0","#629E51","#E5AC0E","#64B0C8","#E0752D","#BF1B00","#0A50A1","#962D82","#614D93","#9AC48A","#F2C96D","#65C5DB","#F9934E","#EA6460","#5195CE","#D683CE","#806EB7","#3F6833","#967302","#2F575E","#99440A","#58140C","#052B51","#511749","#3F2B5B","#E0F9D7","#FCEACA","#CFFAFF","#F9E2D2","#FCE2DE","#BADFF4","#F9D9F9","#DEDAF7"],a.init()}return a.$inject=["$scope","alertSrv","utilSrv","$rootScope","$controller","contextSrv"],a}(),a("GrafanaCtrl",j),g.default.directive("grafanaApp",c)}}}),System.register("app/core/components/sidemenu/sidemenu.js",["app/core/config","jquery","../../core_module"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/core/components/sidemenu/sidemenu.html",controller:g,bindToController:!0,controllerAs:"ctrl",scope:{},link:function(a,b){b.on("click.dropdown",".dropdown-menu a",function(a){var b=e.default(a.target).parents(".dropdown-menu"),c=b.parent();b.detach(),setTimeout(function(){c.append(b)},100)}),a.$on("$destory",function(){b.off("click.dropdown")})}}}b&&b.id;a("sideMenuDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,e,f){var g=this;this.$scope=a,this.$location=b,this.contextSrv=c,this.backendSrv=e,this.$element=f,this.isSignedIn=c.isSignedIn,this.user=c.user,this.appSubUrl=d.default.appSubUrl,this.showSignout=this.contextSrv.isSignedIn&&!d.default.disableSignoutMenu,this.maxShownOrgs=10,this.mainLinks=d.default.bootData.mainNavLinks,this.openUserDropdown(),this.loginUrl="login?redirect="+encodeURIComponent(this.$location.path()),this.$scope.$on("$routeChangeSuccess",function(){g.contextSrv.pinned||(g.contextSrv.sidemenu=!1),g.loginUrl="login?redirect="+encodeURIComponent(g.$location.path())}),this.orgFilter=""}return a.$inject=["$scope","$location","contextSrv","backendSrv","$element"],a.prototype.getUrl=function(a){return d.default.appSubUrl+a},a.prototype.openUserDropdown=function(){var a=this;this.orgMenu=[{section:"You",cssClass:"dropdown-menu-title"},{text:"Profile",url:this.getUrl("/profile")}],this.showSignout&&this.orgMenu.push({text:"Sign out",url:this.getUrl("/logout"),target:"_self"}),this.contextSrv.hasRole("Admin")&&(this.orgMenu.push({section:this.user.orgName,cssClass:"dropdown-menu-title"}),this.orgMenu.push({text:"Preferences",url:this.getUrl("/org")}),this.orgMenu.push({text:"Users",url:this.getUrl("/org/users")}),this.orgMenu.push({text:"API Keys",url:this.getUrl("/org/apikeys")})),this.orgMenu.push({cssClass:"divider"}),this.backendSrv.get("/api/user/orgs").then(function(b){a.orgs=b,a.loadOrgsItems()})},a.prototype.loadOrgsItems=function(){var a=this;this.orgItems=[],this.orgs.forEach(function(b){b.orgId!==a.contextSrv.user.orgId&&a.orgItems.length!==a.maxShownOrgs&&(""!==a.orgFilter&&b.name.toLowerCase().indexOf(a.orgFilter.toLowerCase())===-1||a.orgItems.push({text:"Switch to "+b.name,icon:"fa fa-fw fa-random",url:a.getUrl("/profile/switch-org/"+b.orgId),target:"_self"}))}),d.default.allowOrgCreate&&this.orgItems.push({text:"New organization",icon:"fa fa-fw fa-plus",url:this.getUrl("/org/new")})},a}(),a("SideMenuCtrl",g),f.default.directive("sidemenu",c)}}}),System.register("app/core/components/search/search.js",["app/core/config","lodash","../../core_module"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/core/components/search/search.html",controller:g,bindToController:!0,controllerAs:"ctrl"}}b&&b.id;a("searchDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,d,e,f){this.$scope=a,this.$location=b,this.$timeout=c,this.backendSrv=d,this.contextSrv=e,this.$rootScope=f,f.onAppEvent("show-dash-search",this.openSearch.bind(this),a),f.onAppEvent("hide-dash-search",this.closeSearch.bind(this),a)}return a.$inject=["$scope","$location","$timeout","backendSrv","contextSrv","$rootScope"],a.prototype.closeSearch=function(){this.isOpen=this.ignoreClose},a.prototype.openSearch=function(a,b){var c=this;return this.isOpen?void(this.isOpen=!1):(this.isOpen=!0,this.giveSearchFocus=0,this.selectedIndex=-1,this.results=[],this.query={query:"",tag:[],starred:!1},this.currentSearchId=0,this.ignoreClose=!0,b&&b.starred&&(this.query.starred=!0),b&&b.tagsMode?this.$timeout(function(){c.ignoreClose=!1,c.giveSearchFocus=c.giveSearchFocus+1,c.getTags()},100):void this.$timeout(function(){c.ignoreClose=!1,c.giveSearchFocus=c.giveSearchFocus+1,c.search()},100))},a.prototype.keyDown=function(a){if(27===a.keyCode&&this.closeSearch(),40===a.keyCode&&this.moveSelection(1),38===a.keyCode&&this.moveSelection(-1),13===a.keyCode){if(this.$scope.tagMode){var b=this.results[this.selectedIndex];return void(b&&this.filterByTag(b.term,null))}var c=this.results[this.selectedIndex];c&&(this.$location.search({}),this.$location.path(c.url))}},a.prototype.moveSelection=function(a){var b=(this.results||[]).length,c=this.selectedIndex+a;this.selectedIndex=(c%=b)<0?c+b:c},a.prototype.searchDashboards=function(){var a=this;this.tagsMode=!1,this.currentSearchId=this.currentSearchId+1;var b=this.currentSearchId;return this.backendSrv.search(this.query).then(function(c){b<a.currentSearchId||(a.results=e.default.map(c,function(a){return a.url="dashboard/"+a.uri,a}),a.queryHasNoFilters()&&a.results.unshift({title:"Home",url:d.default.appSubUrl+"/",type:"dash-home"}))})},a.prototype.queryHasNoFilters=function(){var a=this.query;return""===a.query&&a.starred===!1&&0===a.tag.length},a.prototype.filterByTag=function(a,b){this.query.tag.push(a),this.search(),this.giveSearchFocus=this.giveSearchFocus+1,b&&(b.stopPropagation(),b.preventDefault())},a.prototype.removeTag=function(a,b){this.query.tag=e.default.without(this.query.tag,a),this.search(),this.giveSearchFocus=this.giveSearchFocus+1,b.stopPropagation(),b.preventDefault()},a.prototype.getTags=function(){var a=this;return this.backendSrv.get("/api/dashboards/tags").then(function(b){a.tagsMode=!a.tagsMode,a.results=b,a.giveSearchFocus=a.giveSearchFocus+1,a.tagsMode||a.search()})},a.prototype.showStarred=function(){this.query.starred=!this.query.starred,this.giveSearchFocus=this.giveSearchFocus+1,this.search()},a.prototype.search=function(){this.showImport=!1,this.selectedIndex=0,this.searchDashboards()},a}(),a("SearchCtrl",g),f.default.directive("dashboardSearch",c)}}}),System.register("app/core/components/info_popover.js",["lodash","app/core/core_module","tether-drop"],function(a,b){"use strict";function c(){return{restrict:"E",template:'<i class="fa fa-info-circle"></i>',transclude:!0,link:function(a,b,c,e,g){var h=c.offset||"0 -10px",i=c.position||"right middle",j="drop-help drop-hide-out-of-bounds",k="hover";b.addClass("gf-form-help-icon"),c.wide&&(j+=" drop-wide"),c.mode&&b.addClass("gf-form-help-icon--"+c.mode),g(function(c,e){var g=document.createElement("div");d.default.each(c,function(a){g.appendChild(a)});var l=new f.default({target:b[0],content:g,position:i,classes:j,openOn:k,hoverOpenDelay:400,tetherOptions:{offset:h,constraints:[{to:"window",attachment:"together",pin:!0}]}}),m=a.$on("$destroy",function(){l.destroy(),m()})})}}}b&&b.id;a("infoPopover",c);var d,e,f;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){e.default.directive("infoPopover",c)}}}),System.register("app/core/components/colorpicker.js",["app/core/core_module"],function(a,b){"use strict";function c(){return{restrict:"E",controller:f,bindToController:!0,controllerAs:"ctrl",template:e}}b&&b.id;a("colorPicker",c);var d,e,f;return{setters:[function(a){d=a}],execute:function(){e='\n<div class="graph-legend-popover">\n  <div ng-show="ctrl.series" class="p-b-1">\n    <label>Y Axis:</label>\n    <button ng-click="ctrl.toggleAxis(yaxis);" class="btn btn-small"\n            ng-class="{\'btn-success\': ctrl.series.yaxis === 1,\n                       \'btn-inverse\': ctrl.series.yaxis === 2}">\n      Left\n    </button>\n    <button ng-click="ctrl.toggleAxis(yaxis);"\n      class="btn btn-small"\n      ng-class="{\'btn-success\': ctrl.series.yaxis === 2,\n                 \'btn-inverse\': ctrl.series.yaxis === 1}">\n      Right\n    </button>\n  </div>\n\n  <p class="m-b-0">\n   <i ng-repeat="color in ctrl.colors" class="pointer fa fa-circle"\n    ng-style="{color:color}"\n    ng-click="ctrl.colorSelected(color);">&nbsp;</i>\n  </p>\n</div>\n',f=function(){function a(a,b){this.$scope=a,this.$rootScope=b,this.colors=b.colors,this.autoClose=a.autoClose,this.series=a.series}return a.$inject=["$scope","$rootScope"],a.prototype.toggleAxis=function(a){this.$scope.toggleAxis(),this.$scope.autoClose&&this.$scope.dismiss()},a.prototype.colorSelected=function(a){this.$scope.colorSelected(a),this.$scope.autoClose&&this.$scope.dismiss()},a}(),a("ColorPickerCtrl",f),d.default.directive("gfColorPicker",c)}}}),System.register("app/core/components/navbar/navbar.js",["../../core_module"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/core/components/navbar/navbar.html",controller:e,bindToController:!0,transclude:!0,controllerAs:"ctrl",scope:{title:"@",titleUrl:"@",iconUrl:"@"},link:function(a,b,c,d){d.icon=c.icon,b.addClass("navbar")}}}b&&b.id;a("navbarDirective",c);var d,e;return{setters:[function(a){d=a}],execute:function(){e=function(){function a(a,b){this.$scope=a,this.contextSrv=b}return a.$inject=["$scope","contextSrv"],a}(),a("NavbarCtrl",e),d.default.directive("navbar",c)}}}),System.register("app/core/directives/array_join.js",["lodash","../core_module"],function(a,b){"use strict";function c(){return{restrict:"A",require:"ngModel",link:function(a,b,c,e){function f(a){return(a||"").split(",")}function g(a){return d.default.isArray(a)?(a||"").join(","):a}e.$parsers.push(f),e.$formatters.push(g)}}}b&&b.id;a("arrayJoin",c);var d,e;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){e.default.directive("arrayJoin",c)}}}),System.registerDynamic("vendor/npm/rxjs/util/isArray.js",[],!0,function(a,b,c){"use strict";this||self;b.isArray=Array.isArray||function(a){return a&&"number"==typeof a.length}}),System.registerDynamic("vendor/npm/rxjs/util/isObject.js",[],!0,function(a,b,c){"use strict";function d(a){return null!=a&&"object"==typeof a}this||self;b.isObject=d}),System.registerDynamic("vendor/npm/rxjs/util/isFunction.js",[],!0,function(a,b,c){"use strict";function d(a){return"function"==typeof a}this||self;b.isFunction=d}),System.registerDynamic("vendor/npm/rxjs/util/tryCatch.js",["./errorObject"],!0,function(a,b,c){"use strict";function d(){try{return f.apply(this,arguments)}catch(a){return g.errorObject.e=a,g.errorObject}}function e(a){return f=a,d}var f,g=(this||self,a("./errorObject"));b.tryCatch=e}),System.registerDynamic("vendor/npm/rxjs/util/errorObject.js",[],!0,function(a,b,c){"use strict";this||self;b.errorObject={e:{}}}),System.registerDynamic("vendor/npm/rxjs/util/UnsubscriptionError.js",[],!0,function(a,b,c){"use strict";var d=(this||self,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),e=function(a){function b(b){a.call(this),this.errors=b;var c=Error.call(this,b?b.length+" errors occurred during unsubscription:\n  "+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=c.name="UnsubscriptionError",this.stack=c.stack,this.message=c.message}return d(b,a),b}(Error);b.UnsubscriptionError=e}),System.registerDynamic("vendor/npm/rxjs/Subscription.js",["./util/isArray","./util/isObject","./util/isFunction","./util/tryCatch","./util/errorObject","./util/UnsubscriptionError"],!0,function(a,b,c){"use strict";function d(a){return a.reduce(function(a,b){return a.concat(b instanceof k.UnsubscriptionError?b.errors:b)},[])}var e=(this||self,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),f=a("./util/isArray"),g=a("./util/isObject"),h=a("./util/isFunction"),i=a("./util/tryCatch"),j=a("./util/errorObject"),k=a("./util/UnsubscriptionError"),l=function(){function a(a){this.closed=!1,a&&(this._unsubscribe=a)}return a.prototype.unsubscribe=function(){var a,b=!1;if(!this.closed){this.closed=!0;var c=this,e=c._unsubscribe,l=c._subscriptions;if(this._subscriptions=null,h.isFunction(e)){var m=i.tryCatch(e).call(this);m===j.errorObject&&(b=!0,a=a||(j.errorObject.e instanceof k.UnsubscriptionError?d(j.errorObject.e.errors):[j.errorObject.e]))}if(f.isArray(l))for(var n=-1,o=l.length;++n<o;){var p=l[n];if(g.isObject(p)){var m=i.tryCatch(p.unsubscribe).call(p);if(m===j.errorObject){b=!0,a=a||[];var q=j.errorObject.e;q instanceof k.UnsubscriptionError?a=a.concat(d(q.errors)):a.push(q)}}}if(b)throw new k.UnsubscriptionError(a)}},a.prototype.add=function(b){if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;var c=b;switch(typeof b){case"function":c=new a(b);case"object":if(c.closed||"function"!=typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;break;default:throw new Error("unrecognized teardown "+b+" added to Subscription.")}var d=new m(c,this);return this._subscriptions=this._subscriptions||[],this._subscriptions.push(d),d},a.prototype.remove=function(b){if(null!=b&&b!==this&&b!==a.EMPTY){var c=this._subscriptions;if(c){var d=c.indexOf(b);d!==-1&&c.splice(d,1)}}},a.EMPTY=function(a){return a.closed=!0,a}(new a),a}();b.Subscription=l;var m=function(a){function b(b,c){a.call(this),this._innerSub=b,this._parent=c}return e(b,a),b.prototype._unsubscribe=function(){var a=this,b=a._innerSub,c=a._parent;c.remove(this),b.unsubscribe()},b}(l);b.ChildSubscription=m}),System.registerDynamic("vendor/npm/rxjs/Subscriber.js",["./util/isFunction","./Subscription","./Observer","./symbol/rxSubscriber"],!0,function(a,b,c){"use strict";var d=(this||self,this&&this.__extends||function(a,b){
function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),e=a("./util/isFunction"),f=a("./Subscription"),g=a("./Observer"),h=a("./symbol/rxSubscriber"),i=function(a){function b(c,d,e){switch(a.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=g.empty;break;case 1:if(!c){this.destination=g.empty;break}if("object"==typeof c){c instanceof b?(this.destination=c,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new j(this,c));break}default:this.syncErrorThrowable=!0,this.destination=new j(this,c,d,e)}}return d(b,a),b.prototype[h.$$rxSubscriber]=function(){return this},b.create=function(a,c,d){var e=new b(a,c,d);return e.syncErrorThrowable=!1,e},b.prototype.next=function(a){this.isStopped||this._next(a)},b.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))},b.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},b.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))},b.prototype._next=function(a){this.destination.next(a)},b.prototype._error=function(a){this.destination.error(a),this.unsubscribe()},b.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},b}(f.Subscription);b.Subscriber=i;var j=function(a){function b(b,c,d,f){a.call(this),this._parent=b;var g,h=this;e.isFunction(c)?g=c:c&&(h=c,g=c.next,d=c.error,f=c.complete,e.isFunction(h.unsubscribe)&&this.add(h.unsubscribe.bind(h)),h.unsubscribe=this.unsubscribe.bind(this)),this._context=h,this._next=g,this._error=d,this._complete=f}return d(b,a),b.prototype.next=function(a){if(!this.isStopped&&this._next){var b=this._parent;b.syncErrorThrowable?this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}},b.prototype.error=function(a){if(!this.isStopped){var b=this._parent;if(this._error)b.syncErrorThrowable?(this.__tryOrSetError(b,this._error,a),this.unsubscribe()):(this.__tryOrUnsub(this._error,a),this.unsubscribe());else{if(!b.syncErrorThrowable)throw this.unsubscribe(),a;b.syncErrorValue=a,b.syncErrorThrown=!0,this.unsubscribe()}}},b.prototype.complete=function(){if(!this.isStopped){var a=this._parent;this._complete?a.syncErrorThrowable?(this.__tryOrSetError(a,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},b.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(a){throw this.unsubscribe(),a}},b.prototype.__tryOrSetError=function(a,b,c){try{b.call(this._context,c)}catch(b){return a.syncErrorValue=b,a.syncErrorThrown=!0,!0}return!1},b.prototype._unsubscribe=function(){var a=this._parent;this._context=null,this._parent=null,a.unsubscribe()},b}(i)}),System.registerDynamic("vendor/npm/rxjs/symbol/rxSubscriber.js",["../util/root"],!0,function(a,b,c){"use strict";var d=(this||self,a("../util/root")),e=d.root.Symbol;b.$$rxSubscriber="function"==typeof e&&"function"==typeof e.for?e.for("rxSubscriber"):"@@rxSubscriber"}),System.registerDynamic("vendor/npm/rxjs/Observer.js",[],!0,function(a,b,c){"use strict";this||self;b.empty={closed:!0,next:function(a){},error:function(a){throw a},complete:function(){}}}),System.registerDynamic("vendor/npm/rxjs/util/toSubscriber.js",["../Subscriber","../symbol/rxSubscriber","../Observer"],!0,function(a,b,c){"use strict";function d(a,b,c){if(a){if(a instanceof e.Subscriber)return a;if(a[f.$$rxSubscriber])return a[f.$$rxSubscriber]()}return a||b||c?new e.Subscriber(a,b,c):new e.Subscriber(g.empty)}var e=(this||self,a("../Subscriber")),f=a("../symbol/rxSubscriber"),g=a("../Observer");b.toSubscriber=d}),System.registerDynamic("vendor/npm/rxjs/util/root.js",[],!0,function(a,b,c){"use strict";var d=this||self;if(b.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof d&&d.global===d&&d,!b.root)throw new Error("RxJS could not find any global context (window, self, global)")}),System.registerDynamic("vendor/npm/rxjs/symbol/observable.js",["../util/root"],!0,function(a,b,c){"use strict";function d(a){var b,c=a.Symbol;return"function"==typeof c?c.observable?b=c.observable:(b=c("observable"),c.observable=b):b="@@observable",b}var e=(this||self,a("../util/root"));b.getSymbolObservable=d,b.$$observable=d(e.root)}),System.registerDynamic("vendor/npm/rxjs/Observable.js",["./util/root","./util/toSubscriber","./symbol/observable"],!0,function(a,b,c){"use strict";var d=(this||self,a("./util/root")),e=a("./util/toSubscriber"),f=a("./symbol/observable"),g=function(){function a(a){this._isScalar=!1,a&&(this._subscribe=a)}return a.prototype.lift=function(b){var c=new a;return c.source=this,c.operator=b,c},a.prototype.subscribe=function(a,b,c){var d=this.operator,f=e.toSubscriber(a,b,c);if(d?d.call(f,this.source):f.add(this._subscribe(f)),f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f},a.prototype.forEach=function(a,b){var c=this;if(b||(d.root.Rx&&d.root.Rx.config&&d.root.Rx.config.Promise?b=d.root.Rx.config.Promise:d.root.Promise&&(b=d.root.Promise)),!b)throw new Error("no Promise impl found");return new b(function(b,d){var e=c.subscribe(function(b){if(e)try{a(b)}catch(a){d(a),e.unsubscribe()}else a(b)},d,b)})},a.prototype._subscribe=function(a){return this.source.subscribe(a)},a.prototype[f.$$observable]=function(){return this},a.create=function(b){return new a(b)},a}();b.Observable=g});System.register("app/core/live/live_srv.js",["lodash","app/core/config","vendor/npm/rxjs/Observable"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(){this.observers={}}return a.prototype.getWebSocketUrl=function(){var a=window.location;return("https:"===a.protocol?"wss://":"ws://")+a.host+d.default.appSubUrl+"/ws"},a.prototype.getConnection=function(){var a=this;return this.initPromise?this.initPromise:this.conn&&1===this.conn.readyState?Promise.resolve(this.conn):(this.initPromise=new Promise(function(b,c){console.log("Live: connecting..."),a.conn=new WebSocket(a.getWebSocketUrl()),a.conn.onclose=function(b){console.log("Live: websocket onclose",b),c({message:"Connection closed"}),a.initPromise=null,setTimeout(a.reconnect.bind(a),2e3)},a.conn.onmessage=function(b){a.handleMessage(b.data)},a.conn.onerror=function(b){a.initPromise=null,c({message:"Connection error"}),console.log("Live: websocket error",b)},a.conn.onopen=function(c){console.log("opened"),a.initPromise=null,b(a.conn)}}),this.initPromise)},a.prototype.handleMessage=function(a){if(a=JSON.parse(a),!a.stream)return void console.log("Error: stream message without stream!",a);var b=this.observers[a.stream];return b?void b.next(a):void this.removeObserver(a.stream,null)},a.prototype.reconnect=function(){var a=this;0!==c.default.keys(this.observers).length&&(console.log("LiveSrv: Reconnecting"),this.getConnection().then(function(b){c.default.each(a.observers,function(b,c){a.send({action:"subscribe",stream:c})})}))},a.prototype.send=function(a){this.conn.send(JSON.stringify(a))},a.prototype.addObserver=function(a,b){var c=this;this.observers[a]=b,this.getConnection().then(function(b){c.send({action:"subscribe",stream:a})})},a.prototype.removeObserver=function(a,b){var c=this;console.log("unsubscribe",a),delete this.observers[a],this.getConnection().then(function(b){c.send({action:"unsubscribe",stream:a})})},a.prototype.subscribe=function(a){var b=this;return console.log("LiveSrv.subscribe: "+a),e.Observable.create(function(c){return b.addObserver(a,c),function(){b.removeObserver(a,c)}})},a}(),a("LiveSrv",f),g=new f,a("liveSrv",g)}}});System.register("app/core/components/layout_selector/layout_selector.js",["app/core/store","app/core/core_module"],function(a,b){"use strict";function c(){return{restrict:"E",controller:h,bindToController:!0,controllerAs:"ctrl",scope:{},template:g}}function d(a){return{restrict:"A",scope:{},link:function(b,c){var d=e.default.get("grafana.list.layout.mode")||"grid",f="card-list-layout-"+d;c.addClass(f),a.onAppEvent("layout-mode-changed",function(a,b){c.removeClass(f),f="card-list-layout-"+b,c.addClass(f)},b)}}}d.$inject=["$rootScope"];b&&b.id;a("layoutSelector",c),a("layoutMode",d);var e,f,g,h;return{setters:[function(a){e=a},function(a){f=a}],execute:function(){g='\n<div class="layout-selector">\n  <button ng-click="ctrl.listView()" ng-class="{active: ctrl.mode === \'list\'}">\n    <i class="fa fa-list"></i>\n  </button>\n  <button ng-click="ctrl.gridView()" ng-class="{active: ctrl.mode === \'grid\'}">\n    <i class="fa fa-th"></i>\n  </button>\n</div>\n',h=function(){function a(a){this.$rootScope=a,this.mode=e.default.get("grafana.list.layout.mode")||"grid"}return a.$inject=["$rootScope"],a.prototype.listView=function(){this.mode="list",e.default.set("grafana.list.layout.mode","list"),this.$rootScope.appEvent("layout-mode-changed","list")},a.prototype.gridView=function(){this.mode="grid",e.default.set("grafana.list.layout.mode","grid"),this.$rootScope.appEvent("layout-mode-changed","grid")},a}(),a("LayoutSelectorCtrl",h),f.default.directive("layoutSelector",c),f.default.directive("layoutMode",d)}}}),System.register("app/core/components/switch.js",["app/core/core_module"],function(a,b){"use strict";function c(){return{restrict:"E",controller:f,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:e}}b&&b.id;a("switchDirective",c);var d,e,f;return{setters:[function(a){d=a}],execute:function(){e='\n<label for="check-{{ctrl.id}}" class="gf-form-label {{ctrl.labelClass}} pointer">\n  {{ctrl.label}}\n  <info-popover mode="right-normal" ng-if="ctrl.tooltip" position="top center">\n    {{ctrl.tooltip}}\n  </info-popover>\n</label>\n<div class="gf-form-switch {{ctrl.switchClass}}" ng-if="ctrl.show">\n  <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">\n  <label for="check-{{ctrl.id}}" data-on="Yes" data-off="No"></label>\n</div>\n',f=function(){function a(a,b){this.$timeout=b,this.show=!0,this.id=a.$id}return a.$inject=["$scope","$timeout"],a.prototype.internalOnChange=function(){var a=this;return this.$timeout(function(){return a.onChange()})},a}(),a("SwitchCtrl",f),d.default.directive("gfFormSwitch",c)}}}),System.register("app/core/components/dashboard_selector.js",["app/core/core_module"],function(a,b){"use strict";function c(){return{restrict:"E",controller:f,bindToController:!0,controllerAs:"ctrl",template:e,scope:{model:"="}}}b&&b.id;a("dashboardSelector",c);var d,e,f;return{setters:[function(a){d=a}],execute:function(){e='\n<select class="gf-form-input" ng-model="ctrl.model" ng-options="f.value as f.text for f in ctrl.options"></select>\n<info-popover mode="right-absolute">\n  Not finding dashboard you want? Star it first, then it should appear in this select box.\n</info-popover>\n',f=function(){function a(a){this.backendSrv=a}return a.$inject=["backendSrv"],a.prototype.$onInit=function(){var a=this;return this.options=[{value:0,text:"Default"}],this.backendSrv.search({starred:!0}).then(function(b){b.forEach(function(b){a.options.push({value:b.id,text:b.title})})})},a}(),a("DashboardSelectorCtrl",f),d.default.directive("dashboardSelector",c)}}}),System.register("app/core/components/query_part/query_part_editor.js",["lodash","jquery","app/core/core_module"],function(a,b){"use strict";function c(a,b){var c='<input type="text" class="hide input-mini tight-form-func-param"></input>';return{restrict:"E",template:g,scope:{part:"=",handleEvent:"&"},link:function(a,f){function g(a){var b=e.default(this),c=b.next();c.val(n.params[a]),c.css("width",b.width()+16+"px"),b.hide(),c.show(),c.focus(),c.select();var d=c.data("typeahead");d&&(c.val(""),d.lookup())}function h(c){var d=e.default(this),f=d.prev(),g=d.val();(""!==g||n.def.params[c].optional)&&(f.html(b.highlightVariablesAsHtml(g)),n.updateParam(d.val(),c),a.$apply(function(){a.handleEvent({$event:{name:"part-param-changed"}})})),d.hide(),f.show()}function i(a,b){13===b.which&&h.call(this,a)}function j(){this.style.width=8*(3+this.value.length)+"px"}function k(b,c,f){if(c.options||c.dynamicLookup){var g=function(b,e){if(c.options){var f=c.options;return"int"===c.type&&(f=d.default.map(f,function(a){return a.toString()})),f}a.$apply(function(){a.handleEvent({$event:{name:"get-param-options"}}).then(function(a){var b=d.default.map(a,function(a){return a.value});e(b)})})};b.attr("data-provide","typeahead"),b.typeahead({source:g,minLength:0,items:1e3,updater:function(a){return setTimeout(function(){h.call(b[0],f)},0),a}});var i=b.data("typeahead");i.lookup=function(){this.query=this.$element.val()||"";var a=this.source(this.query,e.default.proxy(this.process,this));return a?this.process(a):a}}}function l(){d.default.each(o.params,function(a,f){if(!(a.optional&&n.params.length<=f)){f>0&&e.default("<span>, </span>").appendTo(p);var l=b.highlightVariablesAsHtml(n.params[f]),m=e.default('<a class="graphite-func-param-link pointer">'+l+"</a>"),o=e.default(c);m.appendTo(p),o.appendTo(p),o.blur(d.default.partial(h,f)),o.keyup(j),o.keypress(d.default.partial(i,f)),m.click(d.default.partial(g,f)),k(o,a,f)}})}function m(){p.empty(),l()}var n=a.part,o=n.def,p=f.find(".query-part-parameters");a.partActions=[],a.showActionsMenu=function(){a.handleEvent({$event:{name:"get-part-actions"}}).then(function(b){a.partActions=b})},a.triggerPartAction=function(b){a.handleEvent({$event:{name:"action",action:b}})},m()}}}c.$inject=["$compile","templateSrv"];b&&b.id;a("queryPartEditorDirective",c);var d,e,f,g;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g='\n<div class="dropdown cascade-open">\n<a ng-click="showActionsMenu()" class="query-part-name pointer dropdown-toggle" data-toggle="dropdown">{{part.def.type}}</a>\n<span>(</span><span class="query-part-parameters"></span><span>)</span>\n<ul class="dropdown-menu">\n  <li ng-repeat="action in partActions">\n    <a ng-click="triggerPartAction(action)">{{action.text}}</a>\n  </li>\n</ul>\n',f.default.directive("queryPartEditor",c)}}}),System.register("app/core/components/wizard/wizard.js",["app/core/core_module","app/core/app_events"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){}return a}(),a("WizardSrv",e),f=function(){function a(){this.type="select"}return a.prototype.process=function(){return new Promise(function(a,b){})},a}(),a("SelectOptionStep",f),g=function(){function a(a){this.name=a,this.steps=[]}return a.prototype.addStep=function(a){this.steps.push(a)},a.prototype.next=function(a){var b=this,c=this.steps[0];return c.process().then(function(){if(b.steps.length!==a+1)return b.next(a+1)})},a.prototype.start=function(){return d.default.emit("show-modal",{src:"public/app/core/components/wizard/wizard.html",model:this}),this.next(0)},a}(),a("WizardFlow",g),c.default.service("wizardSrv",e)}}}),function(){var a=System.amdDefine;a("app/core/controllers/inspect_ctrl.js",["angular","lodash","jquery","../core_module"],function(a,b,c,d){"use strict";d.default.controller("InspectCtrl",["$scope","$sanitize",function(d,e){function f(a){for(var b=[],c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");e[1].length>0&&b.push({key:e[0],value:window.unescape(e[1])})}return b}var g=d.inspector;d.init=function(){d.editor={index:0},g.error&&(b.isString(g.error.data)?d.response=c("<div>"+g.error.data+"</div>").text():g.error.data?g.error.data.response?d.response=e(g.error.data.response):d.response=a.toJson(g.error.data,!0):g.error.message&&(d.message=g.error.message),g.error.config&&g.error.config.params&&(d.request_parameters=b.map(g.error.config.params,function(a,b){return{key:b,value:a}})),g.error.stack&&(d.editor.index=3,d.stack_trace=g.error.stack,d.message=g.error.message),g.error.config&&g.error.config.data&&(d.editor.index=2,b.isString(g.error.config.data)?d.request_parameters=f(g.error.config.data):d.request_parameters=b.map(g.error.config.data,function(b,c){return{key:c,value:a.toJson(b,!0)}})))}}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/json_editor_ctrl.js",["angular","../core_module"],function(a,b){"use strict";b.default.controller("JsonEditorCtrl",["$scope",function(b){b.json=a.toJson(b.object,!0),b.canUpdate=void 0!==b.updateHandler&&b.contextSrv.isEditor,b.update=function(){var c=a.fromJson(b.json);b.updateHandler(c,b.object)}}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/login_ctrl.js",["angular","lodash","../core_module","app/core/config"],function(a,b,c,d){"use strict";c.default.controller("LoginCtrl",["$scope","backendSrv","contextSrv","$location",function(a,c,e,f){a.formModel={user:"",email:"",password:""},e.sidemenu=!1,a.oauth=d.oauth,a.oauthEnabled=b.keys(d.oauth).length>0,a.disableLoginForm=d.disableLoginForm,a.disableUserSignUp=d.disableUserSignUp,a.loginHint=d.loginHint,a.loginMode=!0,a.submitBtnText="Log in",a.init=function(){a.$watch("loginMode",a.loginModeChanged),d.loginError&&a.appEvent("alert-warning",["Login Failed",d.loginError])},a.submit=function(){a.loginMode?a.login():a.signUp()},a.loginModeChanged=function(b){a.submitBtnText=b?"Log in":"Sign up"},a.signUp=function(){a.loginForm.$valid&&c.post("/api/user/signup",a.formModel).then(function(b){"SignUpCreated"===b.status?f.path("/signup").search({email:a.formModel.email}):window.location.href=d.appSubUrl+"/"})},a.login=function(){delete a.loginError,a.loginForm.$valid&&c.post("/login",a.formModel).then(function(a){var b=f.search();b.redirect&&"/"===b.redirect[0]?window.location.href=d.appSubUrl+b.redirect:a.redirectUrl?window.location.href=a.redirectUrl:window.location.href=d.appSubUrl+"/"})},a.init()}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/invited_ctrl.js",["angular","../core_module","app/core/config"],function(a,b,c){"use strict";b.default.controller("InvitedCtrl",["$scope","$routeParams","contextSrv","backendSrv",function(a,b,d,e){d.sidemenu=!1,a.formModel={},a.init=function(){e.get("/api/user/invite/"+b.code).then(function(c){a.formModel.name=c.name,a.formModel.email=c.email,a.formModel.username=c.email,a.formModel.inviteCode=b.code,a.greeting=c.name||c.email||c.username,a.invitedBy=c.invitedBy})},a.submit=function(){a.inviteForm.$valid&&e.post("/api/user/invite/complete",a.formModel).then(function(){window.location.href=c.appSubUrl+"/"})},a.init()}])})}(),System.register("app/core/controllers/signup_ctrl.js",["app/core/config","../core_module"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d){this.$scope=a,this.$location=b,this.contextSrv=c,this.backendSrv=d,c.sidemenu=!1,a.ctrl=this,a.formModel={};var e=b.search();a.formModel.orgName=e.email,a.formModel.email=e.email,a.formModel.username=e.email,a.formModel.code=e.code,a.verifyEmailEnabled=!1,a.autoAssignOrg=!1,d.get("/api/user/signup/options").then(function(b){a.verifyEmailEnabled=b.verifyEmailEnabled,a.autoAssignOrg=b.autoAssignOrg})}return a.$inject=["$scope","$location","contextSrv","backendSrv"],a.prototype.submit=function(){this.$scope.signUpForm.$valid&&this.backendSrv.post("/api/user/signup/step2",this.$scope.formModel).then(function(a){"redirect-to-select-org"===a.code?window.location.href=c.default.appSubUrl+"/profile/select-org?signup=1":window.location.href=c.default.appSubUrl+"/"})},a}(),a("SignUpCtrl",e),d.default.controller("SignUpCtrl",e)}}}),function(){var a=System.amdDefine;a("app/core/controllers/reset_password_ctrl.js",["angular","../core_module"],function(a,b){"use strict";b.default.controller("ResetPasswordCtrl",["$scope","contextSrv","backendSrv","$location",function(a,b,c,d){b.sidemenu=!1,a.formModel={},a.mode="send";var e=d.search();e.code&&(a.mode="reset",a.formModel.code=e.code),a.sendResetEmail=function(){a.sendResetForm.$valid&&c.post("/api/user/password/send-reset-email",a.formModel).then(function(){a.mode="email-sent"})},a.submitReset=function(){if(a.resetForm.$valid)return a.formModel.newPassword!==a.formModel.confirmPassword?void a.appEvent("alert-warning",["New passwords do not match",""]):void c.post("/api/user/password/reset",a.formModel).then(function(){d.path("login")})}}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/error_ctrl.js",["angular","../core_module"],function(a,b){"use strict";b.default.controller("ErrorCtrl",["$scope","contextSrv",function(a,b){var c=b.sidemenu;b.sidemenu=!1,a.$on("$destroy",function(){a.contextSrv.sidemenu=c})}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/all.js",["./inspect_ctrl","./json_editor_ctrl","./login_ctrl","./invited_ctrl","./signup_ctrl","./reset_password_ctrl","./error_ctrl"],function(){})}(),System.register("app/core/services/alert_srv.js",["angular","lodash","app/core/core_module","app/core/app_events"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,c,d){this.$timeout=a,this.$sce=b,this.$rootScope=c,this.$modal=d,this.list=[]}return a.$inject=["$timeout","$sce","$rootScope","$modal"],a.prototype.init=function(){var a=this;this.$rootScope.onAppEvent("alert-error",function(b,c){a.set(c[0],c[1],"error",7e3)},this.$rootScope),this.$rootScope.onAppEvent("alert-warning",function(b,c){a.set(c[0],c[1],"warning",5e3)},this.$rootScope),this.$rootScope.onAppEvent("alert-success",function(b,c){a.set(c[0],c[1],"success",3e3)},this.$rootScope),f.default.on("alert-warning",function(b){return a.set(b[0],b[1],"warning",5e3)}),f.default.on("alert-success",function(b){return a.set(b[0],b[1],"success",3e3)}),f.default.on("alert-error",function(b){return a.set(b[0],b[1],"error",7e3)}),f.default.on("confirm-modal",this.showConfirmModal.bind(this))},a.prototype.set=function(a,b,e,f){var g=this;d.default.isObject(b)&&(console.log("alert error",b),b.statusText&&(b="HTTP Error ("+b.status+") "+b.statusText));var h={title:a||"",text:b||"",severity:e||"info"},i=c.default.toJson(h);return d.default.remove(this.list,function(a){return c.default.toJson(a)===i}),this.list.push(h),f>0&&this.$timeout(function(){g.list=d.default.without(g.list,h)},f),this.$rootScope.$$phase||this.$rootScope.$digest(),h},a.prototype.clear=function(a){this.list=d.default.without(this.list,a)},a.prototype.clearAll=function(){this.list=[]},a.prototype.showConfirmModal=function(a){var b=this.$rootScope.$new();b.onConfirm=function(){a.onConfirm(),b.dismiss()},b.updateConfirmText=function(c){b.confirmTextValid=a.confirmText.toLowerCase()===c.toLowerCase()},b.title=a.title,b.text=a.text,b.text2=a.text2,b.confirmText=a.confirmText,b.onConfirm=a.onConfirm,b.onAltAction=a.onAltAction,b.altActionText=a.altActionText,b.icon=a.icon||"fa-check",b.yesText=a.yesText||"Yes",b.noText=a.noText||"Cancel",b.confirmTextValid=!b.confirmText;var c=this.$modal({template:"public/app/partials/confirm_modal.html",persist:!1,modalClass:"confirm-modal",show:!1,scope:b,keyboard:!1});c.then(function(a){a.modal("show")})},a}(),a("AlertSrv",g),e.default.service("alertSrv",g)}}}),System.register("app/core/services/util_srv.js",["app/core/core_module","app/core/app_events"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b){this.$rootScope=a,this.$modal=b}return a.$inject=["$rootScope","$modal"],a.prototype.init=function(){d.default.on("show-modal",this.showModal.bind(this),this.$rootScope),d.default.on("hide-modal",this.hideModal.bind(this),this.$rootScope)},a.prototype.hideModal=function(){this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss()},a.prototype.showModal=function(a){this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss(),this.modalScope=a.scope,a.model?(this.modalScope=this.$rootScope.$new(),this.modalScope.model=a.model):this.modalScope||(this.modalScope=this.$rootScope.$new());var b=this.$modal({modalClass:a.modalClass,template:a.src,templateHtml:a.templateHtml,persist:!1,show:!1,scope:this.modalScope,keyboard:!1,backdrop:a.backdrop});Promise.resolve(b).then(function(a){a.modal("show")})},a}(),a("UtilSrv",e),c.default.service("utilSrv",e)}}}),function(){var a=System.amdDefine;a("app/core/services/datasource_srv.js",["angular","lodash","../core_module","app/core/config"],function(a,b,c,d){"use strict";c.default.service("datasourceSrv",["$q","$injector","$rootScope","templateSrv",function(a,c,e,f){var g=this;this.init=function(){this.datasources={}},this.get=function(b){return b?(b=f.replace(b),"default"===b?this.get(d.defaultDatasource):this.datasources[b]?a.when(this.datasources[b]):this.loadDatasource(b)):this.get(d.defaultDatasource)},this.loadDatasource=function(b){var f=d.datasources[b];if(!f)return a.reject({message:"Datasource named "+b+" was not found"});var h=a.defer(),i=f.meta;return System.import(i.module).then(function(a){if(g.datasources[b])return void h.resolve(g.datasources[b]);if(!a.Datasource)throw"Plugin module is missing Datasource constructor";var d=c.instantiate(a.Datasource,{instanceSettings:f});d.meta=i,d.name=b,g.datasources[b]=d,h.resolve(d)}).catch(function(a){e.appEvent("alert-error",[f.name+" plugin failed",a.toString()])}),h.promise},this.getAll=function(){return d.datasources},this.getAnnotationSources=function(){var a=[];return this.addDataSourceVariables(a),b.each(d.datasources,function(b){b.meta&&b.meta.annotations&&a.push(b)}),a},this.getMetricSources=function(a){var c=[];return b.each(d.datasources,function(a,b){a.meta&&a.meta.metrics&&(c.push({value:b,name:b,meta:a.meta}),b===d.defaultDatasource&&c.push({value:null,name:"default",meta:a.meta}))}),a&&a.skipVariables||this.addDataSourceVariables(c),c.sort(function(a,b){return"mixed"===a.meta.id||"grafana"===a.meta.id?1:"mixed"===b.meta.id||"grafana"===b.meta.id?-1:a.name.toLowerCase()>b.name.toLowerCase()?1:a.name.toLowerCase()<b.name.toLowerCase()?-1:0}),c},this.addDataSourceVariables=function(a){for(var b=0;b<f.variables.length;b++){var c=f.variables[b];if("datasource"===c.type){var e=c.current.value,g=d.datasources[e];g&&a.push({name:"$"+c.name,value:"$"+c.name,meta:g.meta})}}},this.init()}])})}(),function(){var a=System.amdDefine;a("app/core/services/timer.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c.default.service("timer",["$timeout",function(a){var c=[];this.register=function(a){return c.push(a),a},this.cancel=function(d){c=b.without(c,d),a.cancel(d)},this.cancelAll=function(){b.each(c,function(b){a.cancel(b)}),c=[]}}])})}(),function(){var a=System.amdDefine;a("app/core/services/keyboard_manager.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c.default.factory("keyboardManager",["$window","$timeout",function(c,d){var e={},f={type:"keydown",propagate:!1,inputDisabled:!1,target:c.document,keyCode:!1};return e.keyboardEvent={},e.bind=function(b,g,h){var i,j,k,l;h=a.extend({},f,h),b=b.toLowerCase(),j=h.target,"string"==typeof h.target&&(j=document.getElementById(h.target)),i=function(a){if(a=a||c.event,h.inputDisabled){var e;if(a.target?e=a.target:a.srcElement&&(e=a.srcElement),3===e.nodeType&&(e=e.parentNode),"INPUT"===e.tagName||"TEXTAREA"===e.tagName)return}a.keyCode?k=a.keyCode:a.which&&(k=a.which);var f=String.fromCharCode(k).toLowerCase();188===k&&(f=","),190===k&&(f=".");for(var i=b.split("+"),j=0,m={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","»":"?","«":"?","¿":"?","\\":"|"},n={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},o={shift:{wanted:!1,pressed:!!a.shiftKey},ctrl:{wanted:!1,pressed:!!a.ctrlKey},alt:{wanted:!1,pressed:!!a.altKey},meta:{wanted:!1,pressed:!!a.metaKey}},p=0,q=i.length;l=i[p],p<q;p++){switch(l){case"ctrl":case"control":j++,o.ctrl.wanted=!0;break;case"shift":case"alt":case"meta":j++,o[l].wanted=!0}l.length>1?n[l]===k&&j++:h.keyCode?h.keyCode===k&&j++:f===l?j++:m[f]&&a.shiftKey&&(f=m[f],f===l&&j++)}if(j===i.length&&o.ctrl.pressed===o.ctrl.wanted&&o.shift.pressed===o.shift.wanted&&o.alt.pressed===o.alt.wanted&&o.meta.pressed===o.meta.wanted&&(d(function(){g(a)},1),!h.propagate))return a.cancelBubble=!0,a.returnValue=!1,a.stopPropagation&&(a.stopPropagation(),a.preventDefault()),!1},e.keyboardEvent[b]={callback:i,target:j,event:h.type},j.addEventListener?j.addEventListener(h.type,i,!1):j.attachEvent?j.attachEvent("on"+h.type,i):j["on"+h.type]=i},e.unbindAll=function(){b.each(e.keyboardEvent,function(a,b){e.unbind(b)})},e.unbind=function(a){a=a.toLowerCase();var b=e.keyboardEvent[a];if(delete e.keyboardEvent[a],b){var c=b.event,d=b.target,f=b.callback;d.detachEvent?d.detachEvent("on"+c,f):d.removeEventListener?d.removeEventListener(c,f,!1):d["on"+c]=!1}},e}])})}(),function(){var a=System.amdDefine;a("app/core/services/analytics.js",["angular","jquery","app/core/core_module","app/core/config"],function(a,b,c,d){"use strict";c.default.service("googleAnalyticsSrv",["$rootScope","$location",function(a,c){function e(){b.getScript("https://www.google-analytics.com/analytics.js");var a=window.ga=window.ga||function(){(a.q=a.q||[]).push(arguments)};return a.l=+new Date,a("create",d.googleAnalyticsId,"auto"),a}this.init=function(){a.$on("$viewContentLoaded",function(){var a={page:c.url()},b=window.ga||e();b("set",a),b("send","pageview")})}}]).run(["googleAnalyticsSrv",function(a){d.googleAnalyticsId&&a.init()}])})}(),function(){var a=System.amdDefine;!function(b,c){"function"==typeof a&&a.amd?a("tether",[],c):"object"==typeof exports?module.exports=c(require,exports,module):b.Tether=c()}(this,function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){var b=a.getBoundingClientRect(),c={};for(var d in b)c[d]=b[d];if(a.ownerDocument!==document){var f=a.ownerDocument.defaultView.frameElement;if(f){var g=e(f);c.top+=g.top,c.bottom+=g.top,c.left+=g.left,c.right+=g.left}}return c}function f(a){var b=getComputedStyle(a)||{},c=b.position,d=[];if("fixed"===c)return[a];for(var e=a;(e=e.parentNode)&&e&&1===e.nodeType;){var f=void 0;try{f=getComputedStyle(e)}catch(a){}if("undefined"==typeof f||null===f)return d.push(e),d;var g=f,h=g.overflow,i=g.overflowX,j=g.overflowY;/(auto|scroll)/.test(h+j+i)&&("absolute"!==c||["relative","absolute","fixed"].indexOf(f.position)>=0)&&d.push(e)}return d.push(a.ownerDocument.body),a.ownerDocument!==document&&d.push(a.ownerDocument.defaultView),d}function g(){z&&document.body.removeChild(z),z=null}function h(a){var b=void 0;a===document?(b=document,a=document.documentElement):b=a.ownerDocument;var c=b.documentElement,d=e(a),f=C();return d.top-=f.top,d.left-=f.left,"undefined"==typeof d.width&&(d.width=document.body.scrollWidth-d.left-d.right),"undefined"==typeof d.height&&(d.height=document.body.scrollHeight-d.top-d.bottom),d.top=d.top-c.clientTop,d.left=d.left-c.clientLeft,d.right=b.body.clientWidth-d.width-d.left,d.bottom=b.body.clientHeight-d.height-d.top,d}function i(a){return a.offsetParent||document.documentElement}function j(){if(D)return D;var a=document.createElement("div");a.style.width="100%",a.style.height="200px";var b=document.createElement("div");k(b.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"
}),b.appendChild(a),document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";var d=a.offsetWidth;c===d&&(d=b.clientWidth),document.body.removeChild(b);var e=c-d;return D={width:e,height:e}}function k(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=[];return Array.prototype.push.apply(b,arguments),b.slice(1).forEach(function(b){if(b)for(var c in b)({}).hasOwnProperty.call(b,c)&&(a[c]=b[c])}),a}function l(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.remove(b)});else{var c=new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi"),d=o(a).replace(c," ");p(a,d)}}function m(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.add(b)});else{l(a,b);var c=o(a)+(" "+b);p(a,c)}}function n(a,b){if("undefined"!=typeof a.classList)return a.classList.contains(b);var c=o(a);return new RegExp("(^| )"+b+"( |$)","gi").test(c)}function o(a){return a.className instanceof a.ownerDocument.defaultView.SVGAnimatedString?a.className.baseVal:a.className}function p(a,b){a.setAttribute("class",b)}function q(a,b,c){c.forEach(function(c){b.indexOf(c)===-1&&n(a,c)&&l(a,c)}),b.forEach(function(b){n(a,b)||m(a,b)})}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function s(a,b){var c=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return a+c>=b&&b>=a-c}function t(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function u(){for(var a={top:0,left:0},b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){var c=b.top,d=b.left;"string"==typeof c&&(c=parseFloat(c,10)),"string"==typeof d&&(d=parseFloat(d,10)),a.top+=c,a.left+=d}),a}function v(a,b){return"string"==typeof a.left&&a.left.indexOf("%")!==-1&&(a.left=parseFloat(a.left,10)/100*b.width),"string"==typeof a.top&&a.top.indexOf("%")!==-1&&(a.top=parseFloat(a.top,10)/100*b.height),a}function w(a,b){return"scrollParent"===b?b=a.scrollParents[0]:"window"===b&&(b=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),b===document&&(b=b.documentElement),"undefined"!=typeof b.nodeType&&!function(){var a=b,c=h(b),d=c,e=getComputedStyle(b);if(b=[d.left,d.top,c.width+d.left,c.height+d.top],a.ownerDocument!==document){var f=a.ownerDocument.defaultView;b[0]+=f.pageXOffset,b[1]+=f.pageYOffset,b[2]+=f.pageXOffset,b[3]+=f.pageYOffset}X.forEach(function(a,c){a=a[0].toUpperCase()+a.substr(1),"Top"===a||"Left"===a?b[c]+=parseFloat(e["border"+a+"Width"]):b[c]-=parseFloat(e["border"+a+"Width"])})}(),b}var x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),y=void 0;"undefined"==typeof y&&(y={modules:[]});var z=null,A=function(){var a=0;return function(){return++a}}(),B={},C=function(){var a=z;a&&document.body.contains(a)||(a=document.createElement("div"),a.setAttribute("data-tether-id",A()),k(a.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(a),z=a);var b=a.getAttribute("data-tether-id");return"undefined"==typeof B[b]&&(B[b]=e(a),F(function(){delete B[b]})),B[b]},D=null,E=[],F=function(a){E.push(a)},G=function(){for(var a=void 0;a=E.pop();)a()},H=function(){function a(){d(this,a)}return x(a,[{key:"on",value:function(a,b,c){var d=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[a]&&(this.bindings[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})}},{key:"once",value:function(a,b,c){this.on(a,b,c,!0)}},{key:"off",value:function(a,b){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[a])if("undefined"==typeof b)delete this.bindings[a];else for(var c=0;c<this.bindings[a].length;)this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):++c}},{key:"trigger",value:function(a){if("undefined"!=typeof this.bindings&&this.bindings[a]){for(var b=0,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];for(;b<this.bindings[a].length;){var f=this.bindings[a][b],g=f.handler,h=f.ctx,i=f.once,j=h;"undefined"==typeof j&&(j=this),g.apply(j,d),i?this.bindings[a].splice(b,1):++b}}}}]),a}();y.Utils={getActualBoundingClientRect:e,getScrollParents:f,getBounds:h,getOffsetParent:i,extend:k,addClass:m,removeClass:l,hasClass:n,updateClasses:q,defer:F,flush:G,uniqueId:A,Evented:H,getScrollBarSize:j,removeUtilElements:g};var I=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),J=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}};if("undefined"==typeof y)throw new Error("You must include the utils.js file before tether.js");var K=y.Utils,f=K.getScrollParents,h=K.getBounds,i=K.getOffsetParent,k=K.extend,m=K.addClass,l=K.removeClass,q=K.updateClasses,F=K.defer,G=K.flush,j=K.getScrollBarSize,g=K.removeUtilElements,L=function(){if("undefined"==typeof document)return"";for(var a=document.createElement("div"),b=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],c=0;c<b.length;++c){var d=b[c];if(void 0!==a.style[d])return d}}(),M=[],N=function(){M.forEach(function(a){a.position(!1)}),G()};!function(){var a=null,b=null,c=null,d=function d(){return"undefined"!=typeof b&&b>16?(b=Math.min(b-16,250),void(c=setTimeout(d,250))):void("undefined"!=typeof a&&t()-a<10||(null!=c&&(clearTimeout(c),c=null),a=t(),N(),b=t()-a))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(a){window.addEventListener(a,d)})}();var O={center:"center",left:"right",right:"left"},P={middle:"middle",top:"bottom",bottom:"top"},Q={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},R=function(a,b){var c=a.left,d=a.top;return"auto"===c&&(c=O[b.left]),"auto"===d&&(d=P[b.top]),{left:c,top:d}},S=function(a){var b=a.left,c=a.top;return"undefined"!=typeof Q[a.left]&&(b=Q[a.left]),"undefined"!=typeof Q[a.top]&&(c=Q[a.top]),{left:b,top:c}},T=function(a){var b=a.split(" "),c=I(b,2),d=c[0],e=c[1];return{top:d,left:e}},U=T,V=function(a){function b(a){var c=this;d(this,b),J(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.position=this.position.bind(this),M.push(this),this.history=[],this.setOptions(a,!1),y.modules.forEach(function(a){"undefined"!=typeof a.initialize&&a.initialize.call(c)}),this.position()}return r(b,a),x(b,[{key:"getClass",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=this.options.classes;return"undefined"!=typeof b&&b[a]?this.options.classes[a]:this.options.classPrefix?this.options.classPrefix+"-"+a:a}},{key:"setOptions",value:function(a){var b=this,c=arguments.length<=1||void 0===arguments[1]||arguments[1],d={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=k(d,a);var e=this.options,g=e.element,h=e.target,i=e.targetModifier;if(this.element=g,this.target=h,this.targetModifier=i,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(a){if("undefined"==typeof b[a])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof b[a].jquery?b[a]=b[a][0]:"string"==typeof b[a]&&(b[a]=document.querySelector(b[a]))}),m(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&m(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=U(this.options.targetAttachment),this.attachment=U(this.options.attachment),this.offset=T(this.options.offset),this.targetOffset=T(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=f(this.target),this.options.enabled!==!1&&this.enable(c)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return h(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var a=h(this.target),b={height:a.height,width:a.width,top:a.top,left:a.left};return b.height=Math.min(b.height,a.height-(pageYOffset-a.top)),b.height=Math.min(b.height,a.height-(a.top+a.height-(pageYOffset+innerHeight))),b.height=Math.min(innerHeight,b.height),b.height-=2,b.width=Math.min(b.width,a.width-(pageXOffset-a.left)),b.width=Math.min(b.width,a.width-(a.left+a.width-(pageXOffset+innerWidth))),b.width=Math.min(innerWidth,b.width),b.width-=2,b.top<pageYOffset&&(b.top=pageYOffset),b.left<pageXOffset&&(b.left=pageXOffset),b}if("scroll-handle"===this.targetModifier){var a=void 0,c=this.target;c===document.body?(c=document.documentElement,a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):a=h(c);var d=getComputedStyle(c),e=c.scrollWidth>c.clientWidth||[d.overflow,d.overflowX].indexOf("scroll")>=0||this.target!==document.body,f=0;e&&(f=15);var g=a.height-parseFloat(d.borderTopWidth)-parseFloat(d.borderBottomWidth)-f,b={width:15,height:.975*g*(g/c.scrollHeight),left:a.left+a.width-parseFloat(d.borderLeftWidth)-15},i=0;g<408&&this.target===document.body&&(i=-11e-5*Math.pow(g,2)-.00727*g+22.58),this.target!==document.body&&(b.height=Math.max(b.height,24));var j=this.target.scrollTop/(c.scrollHeight-g);return b.top=j*(g-b.height-i)+a.top+parseFloat(d.borderTopWidth),this.target===document.body&&(b.height=Math.max(b.height,24)),b}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(a,b){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[a]&&(this._cache[a]=b.call(this)),this._cache[a]}},{key:"enable",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&m(this.target,this.getClass("enabled")),m(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(b){b!==a.target.ownerDocument&&b.addEventListener("scroll",a.position)}),b&&this.position()}},{key:"disable",value:function(){var a=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(b){b.removeEventListener("scroll",a.position)})}},{key:"destroy",value:function(){var a=this;this.disable(),M.forEach(function(b,c){b===a&&M.splice(c,1)}),0===M.length&&g()}},{key:"updateAttachClasses",value:function(a,b){var c=this;a=a||this.attachment,b=b||this.targetAttachment;var d=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var e=this._addAttachClasses;a.top&&e.push(this.getClass("element-attached")+"-"+a.top),a.left&&e.push(this.getClass("element-attached")+"-"+a.left),b.top&&e.push(this.getClass("target-attached")+"-"+b.top),b.left&&e.push(this.getClass("target-attached")+"-"+b.left);var f=[];d.forEach(function(a){f.push(c.getClass("element-attached")+"-"+a),f.push(c.getClass("target-attached")+"-"+a)}),F(function(){"undefined"!=typeof c._addAttachClasses&&(q(c.element,c._addAttachClasses,f),c.options.addTargetClasses!==!1&&q(c.target,c._addAttachClasses,f),delete c._addAttachClasses)})}},{key:"position",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var c=R(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,c);var d=this.cache("element-bounds",function(){return h(a.element)}),e=d.width,f=d.height;if(0===e&&0===f&&"undefined"!=typeof this.lastSize){var g=this.lastSize;e=g.width,f=g.height}else this.lastSize={width:e,height:f};var k=this.cache("target-bounds",function(){return a.getTargetBounds()}),l=k,m=v(S(this.attachment),{width:e,height:f}),n=v(S(c),l),o=v(this.offset,{width:e,height:f}),p=v(this.targetOffset,l);m=u(m,o),n=u(n,p);for(var q=k.left+n.left-m.left,r=k.top+n.top-m.top,s=0;s<y.modules.length;++s){var t=y.modules[s],w=t.position.call(this,{left:q,top:r,targetAttachment:c,targetPos:k,elementPos:d,offset:m,targetOffset:n,manualOffset:o,manualTargetOffset:p,scrollbarSize:B,attachment:this.attachment});if(w===!1)return!1;"undefined"!=typeof w&&"object"==typeof w&&(r=w.top,q=w.left)}var x={page:{top:r,left:q},viewport:{top:r-pageYOffset,bottom:pageYOffset-r-f+innerHeight,left:q-pageXOffset,right:pageXOffset-q-e+innerWidth}},z=this.target.ownerDocument,A=z.defaultView,B=void 0;return A.innerHeight>z.documentElement.clientHeight&&(B=this.cache("scrollbar-size",j),x.viewport.bottom-=B.height),A.innerWidth>z.documentElement.clientWidth&&(B=this.cache("scrollbar-size",j),x.viewport.right-=B.width),["","static"].indexOf(z.body.style.position)!==-1&&["","static"].indexOf(z.body.parentElement.style.position)!==-1||(x.page.bottom=z.body.scrollHeight-r-f,x.page.right=z.body.scrollWidth-q-e),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var b=a.cache("target-offsetparent",function(){return i(a.target)}),c=a.cache("target-offsetparent-bounds",function(){return h(b)}),d=getComputedStyle(b),e=c,f={};if(["Top","Left","Bottom","Right"].forEach(function(a){f[a.toLowerCase()]=parseFloat(d["border"+a+"Width"])}),c.right=z.body.scrollWidth-c.left-e.width+f.right,c.bottom=z.body.scrollHeight-c.top-e.height+f.bottom,x.page.top>=c.top+f.top&&x.page.bottom>=c.bottom&&x.page.left>=c.left+f.left&&x.page.right>=c.right){var g=b.scrollTop,j=b.scrollLeft;x.offset={top:x.page.top-c.top+g-f.top,left:x.page.left-c.left+j-f.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),b&&G(),!0}}},{key:"move",value:function(a){var b=this;if("undefined"!=typeof this.element.parentNode){var c={};for(var d in a){c[d]={};for(var e in a[d]){for(var f=!1,g=0;g<this.history.length;++g){var h=this.history[g];if("undefined"!=typeof h[d]&&!s(h[d][e],a[d][e])){f=!0;break}}f||(c[d][e]=!0)}}var j={top:"",left:"",right:"",bottom:""},l=function(a,c){var d="undefined"!=typeof b.options.optimizations,e=d?b.options.optimizations.gpu:null;if(e!==!1){var f=void 0,g=void 0;if(a.top?(j.top=0,f=c.top):(j.bottom=0,f=-c.bottom),a.left?(j.left=0,g=c.left):(j.right=0,g=-c.right),window.matchMedia){var h=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;h||(g=Math.round(g),f=Math.round(f))}j[L]="translateX("+g+"px) translateY("+f+"px)","msTransform"!==L&&(j[L]+=" translateZ(0)")}else a.top?j.top=c.top+"px":j.bottom=c.bottom+"px",a.left?j.left=c.left+"px":j.right=c.right+"px"},m=!1;if((c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(j.position="absolute",l(c.page,a.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(j.position="fixed",l(c.viewport,a.viewport)):"undefined"!=typeof c.offset&&c.offset.top&&c.offset.left?!function(){j.position="absolute";var d=b.cache("target-offsetparent",function(){return i(b.target)});i(b.element)!==d&&F(function(){b.element.parentNode.removeChild(b.element),d.appendChild(b.element)}),l(c.offset,a.offset),m=!0}():(j.position="absolute",l({top:!0,left:!0},a.page)),!m)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var n=!0,o=this.element.parentNode;o&&1===o.nodeType&&"BODY"!==o.tagName;){if("static"!==getComputedStyle(o).position){n=!1;break}o=o.parentNode}n||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var p={},q=!1;for(var e in j){var r=j[e],t=this.element.style[e];t!==r&&(q=!0,p[e]=r)}q&&F(function(){k(b.element.style,p),b.trigger("repositioned")})}}}]),b}(H);V.modules=[],y.position=N;var W=k(V,y),I=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K=y.Utils,h=K.getBounds,k=K.extend,q=K.updateClasses,F=K.defer,X=["left","top","right","bottom"];y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=a.targetAttachment;if(!this.options.constraints)return!0;var f=this.cache("element-bounds",function(){return h(b.element)}),g=f.height,i=f.width;if(0===i&&0===g&&"undefined"!=typeof this.lastSize){var j=this.lastSize;i=j.width,g=j.height}var l=this.cache("target-bounds",function(){return b.getTargetBounds()}),m=l.height,n=l.width,o=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(a){var b=a.outOfBoundsClass,c=a.pinnedClass;b&&o.push(b),c&&o.push(c)}),o.forEach(function(a){["left","top","right","bottom"].forEach(function(b){o.push(a+"-"+b)})});var p=[],r=k({},e),s=k({},this.attachment);return this.options.constraints.forEach(function(a){var f=a.to,h=a.attachment,j=a.pin;"undefined"==typeof h&&(h="");var k=void 0,l=void 0;if(h.indexOf(" ")>=0){var o=h.split(" "),q=I(o,2);l=q[0],k=q[1]}else k=l=h;var t=w(b,f);"target"!==l&&"both"!==l||(c<t[1]&&"top"===r.top&&(c+=m,r.top="bottom"),c+g>t[3]&&"bottom"===r.top&&(c-=m,r.top="top")),"together"===l&&("top"===r.top&&("bottom"===s.top&&c<t[1]?(c+=m,r.top="bottom",c+=g,s.top="top"):"top"===s.top&&c+g>t[3]&&c-(g-m)>=t[1]&&(c-=g-m,r.top="bottom",s.top="bottom")),"bottom"===r.top&&("top"===s.top&&c+g>t[3]?(c-=m,r.top="top",c-=g,s.top="bottom"):"bottom"===s.top&&c<t[1]&&c+(2*g-m)<=t[3]&&(c+=g-m,r.top="top",s.top="top")),"middle"===r.top&&(c+g>t[3]&&"top"===s.top?(c-=g,s.top="bottom"):c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"))),"target"!==k&&"both"!==k||(d<t[0]&&"left"===r.left&&(d+=n,r.left="right"),d+i>t[2]&&"right"===r.left&&(d-=n,r.left="left")),"together"===k&&(d<t[0]&&"left"===r.left?"right"===s.left?(d+=n,r.left="right",d+=i,s.left="left"):"left"===s.left&&(d+=n,r.left="right",d-=i,s.left="right"):d+i>t[2]&&"right"===r.left?"left"===s.left?(d-=n,r.left="left",d-=i,s.left="right"):"right"===s.left&&(d-=n,r.left="left",d+=i,s.left="left"):"center"===r.left&&(d+i>t[2]&&"left"===s.left?(d-=i,s.left="right"):d<t[0]&&"right"===s.left&&(d+=i,s.left="left"))),"element"!==l&&"both"!==l||(c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"),c+g>t[3]&&"top"===s.top&&(c-=g,s.top="bottom")),"element"!==k&&"both"!==k||(d<t[0]&&("right"===s.left?(d+=i,s.left="left"):"center"===s.left&&(d+=i/2,s.left="left")),d+i>t[2]&&("left"===s.left?(d-=i,s.left="right"):"center"===s.left&&(d-=i/2,s.left="right"))),"string"==typeof j?j=j.split(",").map(function(a){return a.trim()}):j===!0&&(j=["top","left","right","bottom"]),j=j||[];var u=[],v=[];c<t[1]&&(j.indexOf("top")>=0?(c=t[1],u.push("top")):v.push("top")),c+g>t[3]&&(j.indexOf("bottom")>=0?(c=t[3]-g,u.push("bottom")):v.push("bottom")),d<t[0]&&(j.indexOf("left")>=0?(d=t[0],u.push("left")):v.push("left")),d+i>t[2]&&(j.indexOf("right")>=0?(d=t[2]-i,u.push("right")):v.push("right")),u.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.pinnedClass?b.options.pinnedClass:b.getClass("pinned"),p.push(a),u.forEach(function(b){p.push(a+"-"+b)})}(),v.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.outOfBoundsClass?b.options.outOfBoundsClass:b.getClass("out-of-bounds"),p.push(a),v.forEach(function(b){p.push(a+"-"+b)})}(),(u.indexOf("left")>=0||u.indexOf("right")>=0)&&(s.left=r.left=!1),(u.indexOf("top")>=0||u.indexOf("bottom")>=0)&&(s.top=r.top=!1),r.top===e.top&&r.left===e.left&&s.top===b.attachment.top&&s.left===b.attachment.left||(b.updateAttachClasses(s,r),b.trigger("update",{attachment:s,targetAttachment:r}))}),F(function(){b.options.addTargetClasses!==!1&&q(b.target,p,o),q(b.element,p,o)}),{top:c,left:d}}});var K=y.Utils,h=K.getBounds,q=K.updateClasses,F=K.defer;y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=this.cache("element-bounds",function(){return h(b.element)}),f=e.height,g=e.width,i=this.getTargetBounds(),j=c+f,k=d+g,l=[];c<=i.bottom&&j>=i.top&&["left","right"].forEach(function(a){var b=i[a];b!==d&&b!==k||l.push(a)}),d<=i.right&&k>=i.left&&["top","bottom"].forEach(function(a){var b=i[a];b!==c&&b!==j||l.push(a)});var m=[],n=[],o=["left","top","right","bottom"];return m.push(this.getClass("abutted")),o.forEach(function(a){m.push(b.getClass("abutted")+"-"+a)}),l.length&&n.push(this.getClass("abutted")),l.forEach(function(a){n.push(b.getClass("abutted")+"-"+a)}),F(function(){b.options.addTargetClasses!==!1&&q(b.target,n,m),q(b.element,n,m)}),!0}});var I=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return y.modules.push({position:function(a){var b=a.top,c=a.left;if(this.options.shift){var d=this.options.shift;"function"==typeof this.options.shift&&(d=this.options.shift.call(this,{top:b,left:c}));var e=void 0,f=void 0;if("string"==typeof d){d=d.split(" "),d[1]=d[1]||d[0];var g=d,h=I(g,2);e=h[0],f=h[1],e=parseFloat(e,10),f=parseFloat(f,10)}else e=d.top,f=d.left;return b+=e,c+=f,{top:b,left:c}}}}),W})}(),function(){var a=System.amdDefine;!function(b,c){"function"==typeof a&&a.amd?a("tether-drop",["tether"],c):"object"==typeof exports?module.exports=c(require("tether")):b.Drop=c(b.Tether)}(this,function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function d(a){var b=a.split(" "),c=h(b,2),d=c[0],e=c[1];if(["left","right"].indexOf(d)>=0){var f=[e,d];d=f[0],e=f[1]}return[d,e].join(" ")}function e(a,b){for(var c=void 0,d=[];(c=a.indexOf(b))!==-1;)d.push(a.splice(c,1));return d}function f(){var h=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],k=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new(g.apply(t,[null].concat(b)))};l(k,{createContext:f,drops:[],defaults:{}});var r={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};l(k,r,h),l(k.defaults,r.defaults,h.defaults),"undefined"==typeof w[k.classPrefix]&&(w[k.classPrefix]=[]),k.updateBodyClasses=function(){for(var a=!1,b=w[k.classPrefix],c=b.length,d=0;d<c;++d)if(b[d].isOpened()){a=!0;break}a?m(document.body,k.classPrefix+"-open"):n(document.body,k.classPrefix+"-open")};var t=function(f){function g(a){if(b(this,g),j(Object.getPrototypeOf(g.prototype),"constructor",this).call(this),this.options=l({},k.defaults,a),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");var c="data-"+k.classPrefix,d=this.target.getAttribute(c);d&&null==this.options.content&&(this.options.content=d);for(var e=["position","openOn"],f=0;f<e.length;++f){var h=this.target.getAttribute(c+"-"+e[f]);h&&null==this.options[e[f]]&&(this.options[e[f]]=h)}this.options.classes&&this.options.addTargetClasses!==!1&&m(this.target,this.options.classes),k.drops.push(this),w[k.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return c(g,f),i(g,[{key:"_on",value:function(a,b,c){this._boundEvents.push({element:a,event:b,handler:c}),a.addEventListener(b,c)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var a=this;if(this.drop=document.createElement("div"),m(this.drop,k.classPrefix),this.options.classes&&m(this.drop,this.options.classes),this.content=document.createElement("div"),m(this.content,k.classPrefix+"-content"),"function"==typeof this.options.content){var b=function(){var b=a.options.content.call(a,a);if("string"==typeof b)a.content.innerHTML=b;else{if("object"!=typeof b)throw new Error("Drop Error: Content function should return a string or HTMLElement.");a.content.innerHTML="",a.content.appendChild(b)}};this.on("beforeOpen",b.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var b=this.options.position.split(" ");b[0]=v[b[0]],b=b.join(" ");var c=[];this.options.constrainToScrollParent?c.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):c.push({to:"scrollParent"}),this.options.constrainToWindow!==!1?c.push({to:"window",attachment:"together"}):c.push({to:"window"});var e={element:this.drop,target:this.target,attachment:d(b),targetAttachment:d(this.options.position),classPrefix:k.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:c,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new a(l({},e,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var a=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var b=this.options.openOn.split(" ");if(b.indexOf("click")>=0)for(var c=function(b){a.toggle(b),b.preventDefault()},d=function(b){a.isOpened()&&(b.target===a.drop||a.drop.contains(b.target)||b.target===a.target||a.target.contains(b.target)||a.close(b))},e=0;e<q.length;++e){var f=q[e];this._on(this.target,f,c),this._on(document,f,d)}var g=null,h=null,i=function(b){null!==h?clearTimeout(h):g=setTimeout(function(){a.open(b),g=null},("focus"===b.type?a.options.focusDelay:a.options.hoverOpenDelay)||a.options.openDelay)},j=function(b){null!==g?clearTimeout(g):h=setTimeout(function(){a.close(b),h=null},("blur"===b.type?a.options.blurDelay:a.options.hoverCloseDelay)||a.options.closeDelay)};b.indexOf("hover")>=0&&(this._on(this.target,"mouseover",i),this._on(this.drop,"mouseover",i),this._on(this.target,"mouseout",j),this._on(this.drop,"mouseout",j)),b.indexOf("focus")>=0&&(this._on(this.target,"focus",i),this._on(this.drop,"focus",i),this._on(this.target,"blur",j),this._on(this.drop,"blur",j))}}},{key:"isOpened",value:function(){if(this.drop)return o(this.drop,k.classPrefix+"-open")}},{key:"toggle",value:function(a){this.isOpened()?this.close(a):this.open(a)}},{key:"open",value:function(a){var b=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),m(this.drop,k.classPrefix+"-open"),m(this.drop,k.classPrefix+"-open-transitionend"),setTimeout(function(){b.drop&&m(b.drop,k.classPrefix+"-after-open")}),this.trigger("beforeOpen"),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),k.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(a){a.target===a.currentTarget&&(o(this.drop,k.classPrefix+"-open")||n(this.drop,k.classPrefix+"-open-transitionend"),this.drop.removeEventListener(s,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(a){var b=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,b=this.options.beforeClose(a,this)!==!1),this.isClosing=!1,b}},{key:"close",value:function(a){this.isOpened()&&this.beforeCloseHandler(a)&&(n(this.drop,k.classPrefix+"-open"),n(this.drop,k.classPrefix+"-after-open"),this.drop.addEventListener(s,this.transitionEndHandler),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),k.updateBodyClasses(),this.options.remove&&this.remove(a))}},{key:"remove",value:function(a){this.close(a),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var a=0;a<this._boundEvents.length;++a){var b=this._boundEvents[a],c=b.element,d=b.event,f=b.handler;c.removeEventListener(d,f)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,e(w[k.classPrefix],this),e(k.drops,this)}}]),g}(p);return k}var g=Function.prototype.bind,h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},k=a.Utils,l=k.extend,m=k.addClass,n=k.removeClass,o=k.hasClass,p=k.Evented,q=["click"];"ontouchstart"in document.documentElement&&q.push("touchstart");var r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},s="";for(var t in r)if({}.hasOwnProperty.call(r,t)){var u=document.createElement("p");"undefined"!=typeof u.style[t]&&(s=r[t])}var v={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},w={},x=f();return document.addEventListener("DOMContentLoaded",function(){x.updateBodyClasses()}),x})}(),System.register("app/core/services/popover_srv.js",["lodash","app/core/core_module","tether-drop"],function(a,b){
"use strict";function c(a,b,c){var e=null;this.close=function(){e&&e.close()},this.show=function(g){e&&(e.close(),e=null);var h,i=d.default.extend(b.$new(!0),g.model),j=function(){setTimeout(function(){i.$destroy(),h.tether&&h.destroy(),g.onClose&&g.onClose()}),e=null};i.dismiss=function(){h.close()};var k=document.createElement("div");k.innerHTML=g.template,a(k)(i),c(function(){h=new f.default({target:g.element,content:k,position:g.position,classes:g.classNames||"drop-popover",openOn:g.openOn,hoverCloseDelay:200,tetherOptions:{constraints:[{to:"scrollParent",attachment:"none both"}]}}),h.on("close",function(){j()}),e=h,e.open()},100)}}c.$inject=["$compile","$rootScope","$timeout"];var d,e,f;b&&b.id;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){e.default.service("popoverSrv",c)}}}),function(){var a=System.amdDefine;a("app/core/services/segment_srv.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c.default.service("uiSegmentSrv",["$sce","templateSrv",function(a,c){function d(d){return"*"===d||"*"===d.value?(this.value="*",this.html=a.trustAsHtml('<i class="fa fa-asterisk"><i>'),this.type=d.type,void(this.expandable=!0)):b.isString(d)?(this.value=d,void(this.html=a.trustAsHtml(c.highlightVariablesAsHtml(this.value)))):(this.text=d.value,this.cssClass=d.cssClass,this.custom=d.custom,this.type=d.type,this.fake=d.fake,this.value=d.value,this.selectMode=d.selectMode,this.type=d.type,this.expandable=d.expandable,void(this.html=d.html||a.trustAsHtml(c.highlightVariablesAsHtml(this.value))))}var e=this;this.getSegmentForValue=function(a,b){return a?this.newSegment(a):this.newSegment({value:b,fake:!0})},this.newSelectMeasurement=function(){return new d({value:"select measurement",fake:!0})},this.newFake=function(a,b,c){return new d({value:a,fake:!0,type:b,cssClass:c})},this.newSegment=function(a){return new d(a)},this.newKey=function(a){return new d({value:a,type:"key",cssClass:"query-segment-key"})},this.newKeyValue=function(a){return new d({value:a,type:"value",cssClass:"query-segment-value"})},this.newCondition=function(a){return new d({value:a,type:"condition",cssClass:"query-keyword"})},this.newOperator=function(a){return new d({value:a,type:"operator",cssClass:"query-segment-operator"})},this.newOperators=function(a){return b.map(a,function(a){return new d({value:a,type:"operator",cssClass:"query-segment-operator"})})},this.transformToSegments=function(a,d){return function(f){var g=b.map(f,function(a){return e.newSegment({value:a.text,expandable:a.expandable})});return a&&b.each(c.variables,function(a){void 0!==d&&d!==a.type||g.unshift(e.newSegment({type:"template",value:"$"+a.name,expandable:!0}))}),g}},this.newSelectMetric=function(){return new d({value:"select metric",fake:!0})},this.newPlusButton=function(){return new d({fake:!0,html:'<i class="fa fa-plus "></i>',type:"plus-button"})},this.newSelectTagValue=function(){return new d({value:"select tag value",fake:!0})}}])})}(),System.register("app/core/services/backend_srv.js",["lodash","app/core/core_module"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d,e,f){this.$http=a,this.alertSrv=b,this.$rootScope=c,this.$q=d,this.$timeout=e,this.contextSrv=f,this.inFlightRequests={},this.HTTP_REQUEST_CANCELLED=-1}return a.$inject=["$http","alertSrv","$rootScope","$q","$timeout","contextSrv"],a.prototype.get=function(a,b){return this.request({method:"GET",url:a,params:b})},a.prototype.delete=function(a){return this.request({method:"DELETE",url:a})},a.prototype.post=function(a,b){return this.request({method:"POST",url:a,data:b})},a.prototype.patch=function(a,b){return this.request({method:"PATCH",url:a,data:b})},a.prototype.put=function(a,b){return this.request({method:"PUT",url:a,data:b})},a.prototype.requestErrorHandler=function(a){if(!a.isHandled){var b=a.data||{message:"Unexpected error"};if(c.default.isString(b)&&(b={message:b}),422===a.status)throw this.alertSrv.set("Validation failed",b.message,"warning",4e3),b;throw b.severity="error",a.status<500&&(b.severity="warning"),b.message&&this.alertSrv.set("Problem!",b.message,b.severity,1e4),b}},a.prototype.request=function(a){var b=this;a.retry=a.retry||0;var c=!a.url.match(/^http/),d=0===a.retry;return c&&(this.contextSrv.user&&this.contextSrv.user.orgId&&(a.headers=a.headers||{},a.headers["X-Grafana-Org-Id"]=this.contextSrv.user.orgId),0===a.url.indexOf("/")&&(a.url=a.url.substring(1))),this.$http(a).then(function(c){return"GET"!==a.method&&c&&c.data.message&&a.showSuccessAlert!==!1&&b.alertSrv.set(c.data.message,"","success",3e3),c.data},function(c){if(401===c.status&&d)return b.loginPing().then(function(){return a.retry=1,b.request(a)});throw b.$timeout(b.requestErrorHandler.bind(b,c),50),c})},a.prototype.addCanceler=function(a,b){a in this.inFlightRequests?this.inFlightRequests[a].push(b):this.inFlightRequests[a]=[b]},a.prototype.resolveCancelerIfExists=function(a){var b=this.inFlightRequests[a];!c.default.isUndefined(b)&&b.length&&b[0].resolve()},a.prototype.datasourceRequest=function(a){var b=this;a.retry=a.retry||0;var d=a.requestId;if(d){this.resolveCancelerIfExists(d);var e=this.$q.defer();a.timeout=e.promise,this.addCanceler(d,e)}var f=!a.url.match(/^http/),g=0===a.retry;return f&&(this.contextSrv.user&&this.contextSrv.user.orgId&&(a.headers=a.headers||{},a.headers["X-Grafana-Org-Id"]=this.contextSrv.user.orgId),0===a.url.indexOf("/")&&(a.url=a.url.substring(1)),a.headers&&a.headers.Authorization&&(a.headers["X-DS-Authorization"]=a.headers.Authorization,delete a.headers.Authorization)),this.$http(a).catch(function(d){if(d.status===b.HTTP_REQUEST_CANCELLED)throw{err:d,cancelled:!0};if(f&&g&&401===d.status)return b.loginPing().then(function(){return a.retry=1,e&&e.resolve(),b.datasourceRequest(a)});throw c.default.isString(d.data)&&500===d.status&&(d.data={error:d.statusText,response:d.data}),!d.data.message&&c.default.isString(d.data.error)&&(d.data.message=d.data.error),d}).finally(function(){a.requestId&&b.inFlightRequests[a.requestId].shift()})},a.prototype.loginPing=function(){return this.request({url:"/api/login/ping",method:"GET",retry:1})},a.prototype.search=function(a){return this.get("/api/search",a)},a.prototype.getDashboard=function(a,b){return this.get("/api/dashboards/"+a+"/"+b)},a.prototype.saveDashboard=function(a,b){return b=b||{},this.post("/api/dashboards/db/",{dashboard:a,overwrite:b.overwrite===!0})},a}(),a("BackendSrv",e),d.default.service("backendSrv",e)}}}),System.register("app/core/services/dynamic_directive_srv.js",["angular","../core_module"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c){this.$compile=a,this.$parse=b,this.$rootScope=c}return a.$inject=["$compile","$parse","$rootScope"],a.prototype.addDirective=function(a,b,d){var e=c.default.element(document.createElement(b));this.$compile(e)(d),a.empty(),a.append(e)},a.prototype.link=function(a,b,c,e){var f=this;e.directive(a).then(function(e){return e&&e.fn?(e.fn.registered||(d.default.directive(c.$normalize(e.name),e.fn),e.fn.registered=!0),void f.addDirective(b,e.name,a)):void b.empty()}).catch(function(a){console.log("Plugin load:",a),f.$rootScope.appEvent("alert-error",["Plugin error",a.toString()])})},a.prototype.create=function(a){var b=this,c={restrict:"E",scope:a.scope,link:function(c,d,e){if(a.watchPath){var f=null;c.$watch(a.watchPath,function(){f&&f.$destroy(),f=c.$new(),b.link(f,d,e,a)})}else b.link(c,d,e,a)}};return c},a}(),d.default.service("dynamicDirectiveSrv",e)}}}),function(){var a=System.amdDefine;a("app/core/services/all.js",["./alert_srv","./util_srv","./datasource_srv","./context_srv","./timer","./keyboard_manager","./analytics","./popover_srv","./segment_srv","./backend_srv","./dynamic_directive_srv"],function(){})}(),function(){var a=System.amdDefine;a("app/core/routes/dashboard_loaders.js",["../core_module"],function(a){"use strict";a.default.controller("LoadDashboardCtrl",["$scope","$routeParams","dashboardLoaderSrv","backendSrv","$location",function(a,b,c,d,e){return a.appEvent("dashboard-fetch-start"),b.slug?void c.loadDashboard(b.type,b.slug).then(function(b){a.initDashboard(b,a)}):void d.get("/api/dashboards/home").then(function(b){if(b.redirectUri)e.path("dashboard/"+b.redirectUri);else{var c=b.meta;c.canSave=c.canShare=c.canStar=!1,a.initDashboard(b,a)}})}]),a.default.controller("NewDashboardCtrl",["$scope",function(a){a.initDashboard({meta:{canStar:!1,canShare:!1,isNew:!0},dashboard:{title:"New dashboard",rows:[{title:"Dashboard Row",height:"250px",panels:[],isNew:!0}]}},a)}])})}(),System.register("app/core/routes/bundle_loader.js",[],function(a,b){"use strict";var c;b&&b.id;return{setters:[],execute:function(){c=function(){function a(a){var b=null;this.lazy=["$q","$route","$rootScope",function(c,d,e){return b?b.promise:(b=c.defer(),System.import(a).then(function(){b.resolve()}),b.promise)}]}return a}(),a("BundleLoader",c)}}}),System.register("app/core/routes/routes.js",["./dashboard_loaders","app/core/core_module","./bundle_loader"],function(a,b){"use strict";function c(a,b){b.html5Mode(!0);var c=new e.BundleLoader("app/features/org/all"),d=new e.BundleLoader("app/features/plugins/all"),f=new e.BundleLoader("app/features/admin/admin"),g=new e.BundleLoader("app/features/alerting/all");a.when("/",{templateUrl:"public/app/partials/dashboard.html",controller:"LoadDashboardCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboard/:type/:slug",{templateUrl:"public/app/partials/dashboard.html",controller:"LoadDashboardCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboard-solo/:type/:slug",{templateUrl:"public/app/features/panel/partials/soloPanel.html",controller:"SoloPanelCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboard/new",{templateUrl:"public/app/partials/dashboard.html",controller:"NewDashboardCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboards/list",{templateUrl:"public/app/features/dashboard/partials/dash_list.html",controller:"DashListCtrl"}).when("/datasources",{templateUrl:"public/app/features/plugins/partials/ds_list.html",controller:"DataSourcesCtrl",controllerAs:"ctrl",resolve:d}).when("/datasources/edit/:id",{templateUrl:"public/app/features/plugins/partials/ds_edit.html",controller:"DataSourceEditCtrl",controllerAs:"ctrl",resolve:d}).when("/datasources/new",{templateUrl:"public/app/features/plugins/partials/ds_edit.html",controller:"DataSourceEditCtrl",controllerAs:"ctrl",resolve:d}).when("/org",{templateUrl:"public/app/features/org/partials/orgDetails.html",controller:"OrgDetailsCtrl",resolve:c}).when("/org/new",{templateUrl:"public/app/features/org/partials/newOrg.html",controller:"NewOrgCtrl",resolve:c}).when("/org/users",{templateUrl:"public/app/features/org/partials/orgUsers.html",controller:"OrgUsersCtrl",controllerAs:"ctrl",resolve:c}).when("/org/apikeys",{templateUrl:"public/app/features/org/partials/orgApiKeys.html",controller:"OrgApiKeysCtrl",resolve:c}).when("/profile",{templateUrl:"public/app/features/org/partials/profile.html",controller:"ProfileCtrl",controllerAs:"ctrl",resolve:c}).when("/profile/password",{templateUrl:"public/app/features/org/partials/change_password.html",controller:"ChangePasswordCtrl",resolve:c}).when("/profile/select-org",{templateUrl:"public/app/features/org/partials/select_org.html",controller:"SelectOrgCtrl",resolve:c}).when("/admin",{templateUrl:"public/app/features/admin/partials/admin_home.html",controller:"AdminHomeCtrl",resolve:f}).when("/admin/settings",{templateUrl:"public/app/features/admin/partials/settings.html",controller:"AdminSettingsCtrl",resolve:f}).when("/admin/users",{templateUrl:"public/app/features/admin/partials/users.html",controller:"AdminListUsersCtrl",controllerAs:"ctrl",resolve:f}).when("/admin/users/create",{templateUrl:"public/app/features/admin/partials/new_user.html",controller:"AdminEditUserCtrl",resolve:f}).when("/admin/users/edit/:id",{templateUrl:"public/app/features/admin/partials/edit_user.html",controller:"AdminEditUserCtrl",resolve:f}).when("/admin/orgs",{templateUrl:"public/app/features/admin/partials/orgs.html",controller:"AdminListOrgsCtrl",resolve:f}).when("/admin/orgs/edit/:id",{templateUrl:"public/app/features/admin/partials/edit_org.html",controller:"AdminEditOrgCtrl",resolve:f}).when("/admin/stats",{templateUrl:"public/app/features/admin/partials/stats.html",controller:"AdminStatsCtrl",controllerAs:"ctrl",resolve:f}).when("/login",{templateUrl:"public/app/partials/login.html",controller:"LoginCtrl"}).when("/invite/:code",{templateUrl:"public/app/partials/signup_invited.html",controller:"InvitedCtrl"}).when("/signup",{templateUrl:"public/app/partials/signup_step2.html",controller:"SignUpCtrl"}).when("/user/password/send-reset-email",{templateUrl:"public/app/partials/reset_password.html",controller:"ResetPasswordCtrl"}).when("/user/password/reset",{templateUrl:"public/app/partials/reset_password.html",controller:"ResetPasswordCtrl"}).when("/dashboard/snapshots",{templateUrl:"public/app/features/snapshot/partials/snapshots.html",controller:"SnapshotsCtrl",controllerAs:"ctrl"}).when("/plugins",{templateUrl:"public/app/features/plugins/partials/plugin_list.html",controller:"PluginListCtrl",controllerAs:"ctrl",resolve:d}).when("/plugins/:pluginId/edit",{templateUrl:"public/app/features/plugins/partials/plugin_edit.html",controller:"PluginEditCtrl",controllerAs:"ctrl",resolve:d}).when("/plugins/:pluginId/page/:slug",{templateUrl:"public/app/features/plugins/partials/plugin_page.html",controller:"AppPageCtrl",controllerAs:"ctrl",resolve:d}).when("/styleguide/:page?",{controller:"StyleGuideCtrl",controllerAs:"ctrl",templateUrl:"public/app/features/styleguide/styleguide.html"}).when("/alerting",{redirectTo:"/alerting/list"}).when("/alerting/list",{templateUrl:"public/app/features/alerting/partials/alert_list.html",controller:"AlertListCtrl",controllerAs:"ctrl",resolve:g}).when("/alerting/notifications",{templateUrl:"public/app/features/alerting/partials/notifications_list.html",controller:"AlertNotificationsListCtrl",controllerAs:"ctrl",resolve:g}).when("/alerting/notification/new",{templateUrl:"public/app/features/alerting/partials/notification_edit.html",controller:"AlertNotificationEditCtrl",controllerAs:"ctrl",resolve:g}).when("/alerting/notification/:id/edit",{templateUrl:"public/app/features/alerting/partials/notification_edit.html",controller:"AlertNotificationEditCtrl",controllerAs:"ctrl",resolve:g}).otherwise({templateUrl:"public/app/partials/error.html",controller:"ErrorCtrl"})}c.$inject=["$routeProvider","$locationProvider"];var d,e;b&&b.id;return{setters:[function(a){},function(a){d=a},function(a){e=a}],execute:function(){d.default.config(c)}}}),System.register("app/core/filters/filters.js",["lodash","angular","moment","../core_module"],function(a,b){"use strict";var c,d,e,f;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){f.default.filter("stringSort",function(){return function(a){return a.sort()}}),f.default.filter("slice",function(){return function(a,b,d){if(!c.default.isUndefined(a))return a.slice(b,d)}}),f.default.filter("stringify",function(){return function(a){return c.default.isObject(a)&&!c.default.isArray(a)?d.default.toJson(a):c.default.isNull(a)?null:a.toString()}}),f.default.filter("moment",function(){return function(a,b){switch(b){case"ago":return e.default(a).fromNow()}return e.default(a).fromNow()}}),f.default.filter("noXml",function(){var a=function(a){return c.default.isString(a)?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):a};return function(b){return c.default.isArray(b)?c.default.map(b,a):a(b)}}),f.default.filter("interpolateTemplateVars",["templateSrv",function(a){var b=function(b,c){var d;return d=c.ctrl?(c.ctrl.panel||c.ctrl.row).scopedVars:c.row.scopedVars,a.replaceWithText(b,d)};return b.$stateful=!0,b}]),a("default",{})}}}),System.register("app/core/utils/colors.js",[],function(a,b){"use strict";b&&b.id;return{setters:[],execute:function(){a("default",["#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300","#447EBC","#C15C17","#890F02","#0A437C","#6D1F62","#584477","#B7DBAB","#F4D598","#70DBED","#F9BA8F","#F29191","#82B5D8","#E5A8E2","#AEA2E0","#629E51","#E5AC0E","#64B0C8","#E0752D","#BF1B00","#0A50A1","#962D82","#614D93","#9AC48A","#F2C96D","#65C5DB","#F9934E","#EA6460","#5195CE","#D683CE","#806EB7","#3F6833","#967302","#2F575E","#99440A","#58140C","#052B51","#511749","#3F2B5B","#E0F9D7","#FCEACA","#CFFAFF","#F9E2D2","#FCE2DE","#BADFF4","#F9D9F9","#DEDAF7"])}}}),System.register("app/core/utils/model_utils.js",[],function(a,b){"use strict";function c(a,b,c,d){for(var e in c)c.hasOwnProperty(e)&&(a[e]=void 0===b[e]?c[e]:b[e])}b&&b.id;return a("assignModelProperties",c),{setters:[],execute:function(){}}}),function(){var a=System.amdDefine;a("app/core/store.js",[],function(){"use strict";return{get:function(a){return window.localStorage[a]},set:function(a,b){window.localStorage[a]=b},getBool:function(a,b){return void 0===b||this.exists(a)?"true"===window.localStorage[a]:b},exists:function(a){return void 0!==window.localStorage[a]},delete:function(a){window.localStorage.removeItem(a)}}})}(),System.register("app/core/services/context_srv.js",["app/core/config","lodash","app/core/core_module","app/core/store"],function(a,b){"use strict";var c,d,e,f,g,h,i;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(){c.default.bootData.user&&d.default.extend(this,c.default.bootData.user)}return a}(),a("User",g),h=function(){function a(){this.pinned=f.default.getBool("grafana.sidemenu.pinned",!1),this.pinned&&(this.sidemenu=!0),c.default.buildInfo||(c.default.buildInfo={}),c.default.bootData||(c.default.bootData={user:{},settings:{}}),this.version=c.default.buildInfo.version,this.user=new g,this.isSignedIn=this.user.isSignedIn,this.isGrafanaAdmin=this.user.isGrafanaAdmin,this.isEditor=this.hasRole("Editor")||this.hasRole("Admin")}return a.prototype.hasRole=function(a){return this.user.orgRole===a},a.prototype.setPinnedState=function(a){this.pinned=a,f.default.set("grafana.sidemenu.pinned",a)},a.prototype.isGrafanaVisible=function(){return!(void 0!==document.visibilityState&&"visible"!==document.visibilityState)},a.prototype.toggleSideMenu=function(){this.sidemenu=!this.sidemenu,this.sidemenu||this.setPinnedState(!1)},a}(),a("ContextSrv",h),i=new h,a("contextSrv",i),e.default.factory("contextSrv",function(){return i})}}}),System.registerDynamic("mousetrap",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,"Mousetrap",null);return function(a){!function(a,b,c){function d(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function e(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return r[a.which]?r[a.which]:s[a.which]?s[a.which]:String.fromCharCode(a.which).toLowerCase()}function f(a,b){return a.sort().join(",")===b.sort().join(",")}function g(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function h(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function i(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function j(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function k(){if(!q){q={};for(var a in r)a>95&&a<112||r.hasOwnProperty(a)&&(q[r[a]]=a)}return q}function l(a,b,c){return c||(c=k()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function m(a){return"+"===a?["+"]:(a=a.replace(/\+{2}/g,"+plus"),a.split("+"))}function n(a,b){var c,d,e,f=[];for(c=m(a),e=0;e<c.length;++e)d=c[e],u[d]&&(d=u[d]),b&&"keypress"!=b&&t[d]&&(d=t[d],f.push("shift")),j(d)&&f.push(d);return b=l(d,f,b),{key:d,modifiers:f,action:b}}function o(a,c){return null!==a&&a!==b&&(a===c||o(a.parentNode,c))}function p(a){function c(a){a=a||{};var b,c=!1;for(b in u)a[b]?c=!0:u[b]=0;c||(x=!1)}function k(a,b,c,d,e,g){var h,i,k=[],l=c.type;if(!s._callbacks[a])return[];for("keyup"==l&&j(a)&&(b=[a]),h=0;h<s._callbacks[a].length;++h)if(i=s._callbacks[a][h],(d||!i.seq||u[i.seq]==i.level)&&l==i.action&&("keypress"==l&&!c.metaKey&&!c.ctrlKey||f(b,i.modifiers))){var m=!d&&i.combo==e,n=d&&i.seq==d&&i.level==g;(m||n)&&s._callbacks[a].splice(h,1),k.push(i)}return k}function l(a,b,c,d){s.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(h(b),i(b))}function m(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=e(a);if(b)return"keyup"==a.type&&v===b?void(v=!1):void s.handleKey(b,g(a),a)}function o(){clearTimeout(t),t=setTimeout(c,1e3)}function q(a,b,d,f){function g(b){return function(){x=b,++u[a],o()}}function h(b){l(d,b,a),"keyup"!==f&&(v=e(b)),setTimeout(c,10)}u[a]=0;for(var i=0;i<b.length;++i){var j=i+1===b.length,k=j?h:g(f||n(b[i+1]).action);r(b[i],k,f,a,i)}}function r(a,b,c,d,e){s._directMap[a+":"+c]=b,a=a.replace(/\s+/g," ");var f,g=a.split(" ");return g.length>1?void q(a,g,b,c):(f=n(a,c),s._callbacks[f.key]=s._callbacks[f.key]||[],k(f.key,f.modifiers,{type:f.action},d,a,e),void s._callbacks[f.key][d?"unshift":"push"]({callback:b,modifiers:f.modifiers,action:f.action,seq:d,level:e,combo:a}))}var s=this;if(a=a||b,!(s instanceof p))return new p(a);s.target=a,s._callbacks={},s._directMap={};var t,u={},v=!1,w=!1,x=!1;s._handleKey=function(a,b,d){var e,f=k(a,b,d),g={},h=0,i=!1;for(e=0;e<f.length;++e)f[e].seq&&(h=Math.max(h,f[e].level));for(e=0;e<f.length;++e)if(f[e].seq){if(f[e].level!=h)continue;i=!0,g[f[e].seq]=1,l(f[e].callback,d,f[e].combo,f[e].seq)}else i||l(f[e].callback,d,f[e].combo);var m="keypress"==d.type&&w;d.type!=x||j(a)||m||c(g),w=i&&"keydown"==d.type},s._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)r(a[d],b,c)},d(a,"keypress",m),d(a,"keydown",m),d(a,"keyup",m)}if(a){for(var q,r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},v=1;v<20;++v)r[111+v]="f"+v;for(v=0;v<=9;++v)r[v+96]=v;p.prototype.bind=function(a,b,c){var d=this;return a=a instanceof Array?a:[a],d._bindMultiple.call(d,a,b,c),d},p.prototype.unbind=function(a,b){var c=this;return c.bind.call(c,a,function(){},b)},p.prototype.trigger=function(a,b){var c=this;return c._directMap[a+":"+b]&&c._directMap[a+":"+b]({},a),c},p.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},p.prototype.stopCallback=function(a,b){var c=this;return!((" "+b.className+" ").indexOf(" mousetrap ")>-1)&&(!o(b,c.target)&&("INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable))},p.prototype.handleKey=function(){var a=this;return a._handleKey.apply(a,arguments)},p.addKeycodes=function(a){for(var b in a)a.hasOwnProperty(b)&&(r[b]=a[b]);q=null},p.init=function(){var a=p(b);for(var c in a)"_"!==c.charAt(0)&&(p[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c))},p.init(),a.Mousetrap=p,"undefined"!=typeof module&&module.exports&&(module.exports=p),"function"==typeof define&&define.amd&&define(function(){return p})}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)}(this),d()}),System.register("app/core/services/keybindingSrv.js",["jquery","lodash","app/core/core_module","app/core/app_events","mousetrap"],function(a,b){"use strict";var c,d,e,f,g,h;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=function(){function a(a,b,c,d,e){var f=this;this.$rootScope=a,this.$modal=b,this.$location=c,this.contextSrv=d,this.$timeout=e,a.$on("$routeChangeSuccess",function(){g.default.reset(),f.setupGlobal()}),this.setupGlobal()}return a.$inject=["$rootScope","$modal","$location","contextSrv","$timeout"],a.prototype.setupGlobal=function(){this.bind(["?","h"],this.showHelpModal),this.bind("g h",this.goToHome),this.bind("g a",this.openAlerting),this.bind("g p",this.goToProfile),this.bind("s s",this.openSearchStarred),this.bind("s o",this.openSearch),this.bind("s t",this.openSearchTags),this.bind("f",this.openSearch)},a.prototype.openSearchStarred=function(){this.$rootScope.appEvent("show-dash-search",{starred:!0})},a.prototype.openSearchTags=function(){this.$rootScope.appEvent("show-dash-search",{tagsMode:!0})},a.prototype.openSearch=function(){this.$rootScope.appEvent("show-dash-search")},a.prototype.openAlerting=function(){this.$location.url("/alerting")},a.prototype.goToHome=function(){this.$location.url("/")},a.prototype.goToProfile=function(){this.$location.url("/profile")},a.prototype.showHelpModal=function(){f.default.emit("show-modal",{templateHtml:"<help-modal></help-modal>"})},a.prototype.bind=function(a,b){var c=this;g.default.bind(a,function(a){return a.preventDefault(),a.stopPropagation(),a.returnValue=!1,c.$rootScope.$apply(b.bind(c))},"keydown")},a.prototype.showDashEditView=function(a){var b=d.default.extend(this.$location.search(),{editview:a});this.$location.search(b)},a.prototype.setupDashboardBindings=function(a,b){var d=this;this.bind("mod+o",function(){b.graphTooltip=(b.graphTooltip+1)%3,f.default.emit("graph-hover-clear"),a.broadcastRefresh()}),this.bind("mod+h",function(){b.hideControls=!b.hideControls}),this.bind("mod+s",function(b){a.appEvent("save-dashboard")}),this.bind("t z",function(){a.appEvent("zoom-out",2)}),this.bind("ctrl+z",function(){a.appEvent("zoom-out",2)}),this.bind("t left",function(){a.appEvent("shift-time-backward")}),this.bind("t right",function(){a.appEvent("shift-time-forward")}),this.bind("mod+i",function(){a.appEvent("quick-snapshot")}),this.bind("e",function(){b.meta.focusPanelId&&b.meta.canEdit&&d.$rootScope.appEvent("panel-change-view",{fullscreen:!0,edit:!0,panelId:b.meta.focusPanelId,toggle:!0})}),this.bind("v",function(){b.meta.focusPanelId&&d.$rootScope.appEvent("panel-change-view",{fullscreen:!0,edit:null,panelId:b.meta.focusPanelId,toggle:!0})}),this.bind("p r",function(){if(b.meta.focusPanelId&&b.meta.canEdit){var a=b.getPanelInfoById(b.meta.focusPanelId);a.row.removePanel(a.panel),b.meta.focusPanelId=0}}),this.bind("p s",function(){if(b.meta.focusPanelId){var c=a.$new(),d=b.getPanelInfoById(b.meta.focusPanelId);c.panel=d.panel,c.dashboard=b,f.default.emit("show-modal",{src:"public/app/features/dashboard/partials/shareModal.html",scope:c})}}),this.bind("r r",function(){if(b.meta.focusPanelId&&b.meta.canEdit){var a=b.getPanelInfoById(b.meta.focusPanelId);b.removeRow(a.row),b.meta.focusPanelId=0}}),this.bind("r c",function(){if(b.meta.focusPanelId){var a=b.getPanelInfoById(b.meta.focusPanelId);a.row.toggleCollapse(),b.meta.focusPanelId=0}}),this.bind("d C",function(){for(var a=0,c=b.rows;a<c.length;a++){var d=c[a];d.collapse=!0}}),this.bind("d E",function(){for(var a=0,c=b.rows;a<c.length;a++){var d=c[a];d.collapse=!1}}),this.bind("d r",function(){a.broadcastRefresh()}),this.bind("d s",function(){d.showDashEditView("settings")}),this.bind("d k",function(){f.default.emit("toggle-kiosk-mode")}),this.bind("d v",function(){f.default.emit("toggle-view-mode")}),this.bind("esc",function(){var b=c.default(".popover.in");if(!(b.length>0)){var d=c.default(".modal").data();d&&d.$scope&&d.$scope.dismiss&&d.$scope.dismiss(),a.appEvent("hide-dash-editor"),a.exitFullscreen()}})},a}(),a("KeybindingSrv",h),e.default.service("keybindingSrv",h)}}}),function(){var a=System.amdDefine;!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(b,c){"use strict";function d(a,b){b=b||aa;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}function e(a){var b=!!a&&"length"in a&&a.length,c=na.type(a);return"function"!==c&&!na.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function f(a,b,c){if(na.isFunction(b))return na.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return na.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(xa.test(b))return na.filter(b,a,c);b=na.filter(b,a)}return na.grep(a,function(a){return fa.call(b,a)>-1!==c&&1===a.nodeType})}function g(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function h(a){var b={};return na.each(a.match(Da)||[],function(a,c){b[c]=!0}),b}function i(a){return a}function j(a){throw a}function k(a,b,c){var d;try{a&&na.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&na.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}function l(){aa.removeEventListener("DOMContentLoaded",l),b.removeEventListener("load",l),na.ready()}function m(){this.expando=na.expando+m.uid++}function n(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(La,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ka.test(c)?JSON.parse(c):c)}catch(a){}Ja.set(a,b,c)}else c=void 0;return c}function o(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return na.css(a,b,"")},i=h(),j=c&&c[3]||(na.cssNumber[b]?"":"px"),k=(na.cssNumber[b]||"px"!==j&&+i)&&Na.exec(na.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,na.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function p(a){var b,c=a.ownerDocument,d=a.nodeName,e=Ra[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=na.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),Ra[d]=e,e)}function q(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Ia.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Pa(d)&&(e[f]=p(d))):"none"!==c&&(e[f]="none",Ia.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function r(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&na.nodeName(a,b)?na.merge([a],c):c}function s(a,b){for(var c=0,d=a.length;c<d;c++)Ia.set(a[c],"globalEval",!b||Ia.get(b[c],"globalEval"))}function t(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===na.type(f))na.merge(m,f.nodeType?[f]:f);else if(Wa.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Ta.exec(f)||["",""])[1].toLowerCase(),i=Va[h]||Va._default,g.innerHTML=i[1]+na.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;na.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",n=0;f=m[n++];)if(d&&na.inArray(f,d)>-1)e&&e.push(f);else if(j=na.contains(f.ownerDocument,f),g=r(l.appendChild(f),"script"),j&&s(g),c)for(k=0;f=g[k++];)Ua.test(f.type||"")&&c.push(f);return l}function u(){return!0}function v(){return!1}function w(){try{return aa.activeElement}catch(a){}}function x(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)x(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,
d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=v;else if(!e)return a;return 1===f&&(g=e,e=function(a){return na().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=na.guid++)),a.each(function(){na.event.add(this,b,e,d,c)})}function y(a,b){return na.nodeName(a,"table")&&na.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function z(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function A(a){var b=cb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function B(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Ia.hasData(a)&&(f=Ia.access(a),g=Ia.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)na.event.add(b,e,j[e][c])}Ja.hasData(a)&&(h=Ja.access(a),i=na.extend({},h),Ja.set(b,i))}}function C(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Sa.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function D(a,b,c,e){b=da.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=na.isFunction(o);if(p||m>1&&"string"==typeof o&&!la.checkClone&&bb.test(o))return a.each(function(d){var f=a.eq(d);p&&(b[0]=o.call(this,d,f.html())),D(f,b,c,e)});if(m&&(f=t(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=na.map(r(f,"script"),z),i=h.length;l<m;l++)j=f,l!==n&&(j=na.clone(j,!0,!0),i&&na.merge(h,r(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,na.map(h,A),l=0;l<i;l++)j=h[l],Ua.test(j.type||"")&&!Ia.access(j,"globalEval")&&na.contains(k,j)&&(j.src?na._evalUrl&&na._evalUrl(j.src):d(j.textContent.replace(db,""),k))}return a}function E(a,b,c){for(var d,e=b?na.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||na.cleanData(r(d)),d.parentNode&&(c&&na.contains(d.ownerDocument,d)&&s(r(d,"script")),d.parentNode.removeChild(d));return a}function F(a,b,c){var d,e,f,g,h=a.style;return c=c||gb(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||na.contains(a.ownerDocument,a)||(g=na.style(a,b)),!la.pixelMarginRight()&&fb.test(g)&&eb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function G(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function H(a){if(a in lb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=kb.length;c--;)if(a=kb[c]+b,a in lb)return a}function I(a,b,c){var d=Na.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function J(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=na.css(a,c+Oa[f],!0,e)),d?("content"===c&&(g-=na.css(a,"padding"+Oa[f],!0,e)),"margin"!==c&&(g-=na.css(a,"border"+Oa[f]+"Width",!0,e))):(g+=na.css(a,"padding"+Oa[f],!0,e),"padding"!==c&&(g+=na.css(a,"border"+Oa[f]+"Width",!0,e)));return g}function K(a,b,c){var d,e=!0,f=gb(a),g="border-box"===na.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),d<=0||null==d){if(d=F(a,b,f),(d<0||null==d)&&(d=a.style[b]),fb.test(d))return d;e=g&&(la.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+J(a,b,c||(g?"border":"content"),e,f)+"px"}function L(a,b,c,d,e){return new L.prototype.init(a,b,c,d,e)}function M(){nb&&(b.requestAnimationFrame(M),na.fx.tick())}function N(){return b.setTimeout(function(){mb=void 0}),mb=na.now()}function O(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Oa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function P(a,b,c){for(var d,e=(S.tweeners[b]||[]).concat(S.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function Q(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&Pa(a),r=Ia.get(a,"fxshow");c.queue||(g=na._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,na.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],ob.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;p=!0}n[d]=r&&r[d]||na.style(a,d)}if(i=!na.isEmptyObject(b),i||!na.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=r&&r.display,null==j&&(j=Ia.get(a,"display")),k=na.css(a,"display"),"none"===k&&(j?k=j:(q([a],!0),j=a.style.display||j,k=na.css(a,"display"),q([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===na.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(r?"hidden"in r&&(p=r.hidden):r=Ia.access(a,"fxshow",{display:j}),f&&(r.hidden=!p),p&&q([a],!0),m.done(function(){p||q([a]),Ia.remove(a,"fxshow");for(d in n)na.style(a,d,n[d])})),i=P(p?r[d]:0,d,m),d in r||(r[d]=i.start,p&&(i.end=i.start,i.start=0))}}function R(a,b){var c,d,e,f,g;for(c in a)if(d=na.camelCase(c),e=b[d],f=a[c],na.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=na.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function S(a,b,c){var d,e,f=0,g=S.prefilters.length,h=na.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=mb||N(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:na.extend({},b),opts:na.extend(!0,{specialEasing:{},easing:na.easing._default},c),originalProperties:b,originalOptions:c,startTime:mb||N(),duration:c.duration,tweens:[],createTween:function(b,c){var d=na.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(R(k,j.opts.specialEasing);f<g;f++)if(d=S.prefilters[f].call(j,a,k,j.opts))return na.isFunction(d.stop)&&(na._queueHooks(j.elem,j.opts.queue).stop=na.proxy(d.stop,d)),d;return na.map(k,P,j),na.isFunction(j.opts.start)&&j.opts.start.call(a,j),na.fx.timer(na.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function T(a){return a.getAttribute&&a.getAttribute("class")||""}function U(a,b,c,d){var e;if(na.isArray(b))na.each(b,function(b,e){c||Bb.test(a)?d(a,e):U(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==na.type(b))d(a,b);else for(e in b)U(a+"["+e+"]",b[e],c,d)}function V(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Da)||[];if(na.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function W(a,b,c,d){function e(h){var i;return f[h]=!0,na.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Nb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function X(a,b){var c,d,e=na.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&na.extend(!0,a,d),a}function Y(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Z(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function $(a){return na.isWindow(a)?a:9===a.nodeType&&a.defaultView}var _=[],aa=b.document,ba=Object.getPrototypeOf,ca=_.slice,da=_.concat,ea=_.push,fa=_.indexOf,ga={},ha=ga.toString,ia=ga.hasOwnProperty,ja=ia.toString,ka=ja.call(Object),la={},ma="3.1.0",na=function(a,b){return new na.fn.init(a,b)},oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pa=/^-ms-/,qa=/-([a-z])/g,ra=function(a,b){return b.toUpperCase()};na.fn=na.prototype={jquery:ma,constructor:na,length:0,toArray:function(){return ca.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:ca.call(this)},pushStack:function(a){var b=na.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return na.each(this,a)},map:function(a){return this.pushStack(na.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ca.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ea,sort:_.sort,splice:_.splice},na.extend=na.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||na.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(na.isPlainObject(d)||(e=na.isArray(d)))?(e?(e=!1,f=c&&na.isArray(c)?c:[]):f=c&&na.isPlainObject(c)?c:{},g[b]=na.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},na.extend({expando:"jQuery"+(ma+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===na.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=na.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==ha.call(a))&&(!(b=ba(a))||(c=ia.call(b,"constructor")&&b.constructor,"function"==typeof c&&ja.call(c)===ka))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ga[ha.call(a)]||"object":typeof a},globalEval:function(a){d(a)},camelCase:function(a){return a.replace(pa,"ms-").replace(qa,ra)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(e(a))for(c=a.length;d<c&&b.call(a[d],d,a[d])!==!1;d++);else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(oa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(e(Object(a))?na.merge(c,"string"==typeof a?[a]:a):ea.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:fa.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f,g=0,h=[];if(e(a))for(d=a.length;g<d;g++)f=b(a[g],g,c),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,c),null!=f&&h.push(f);return da.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),na.isFunction(a))return d=ca.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ca.call(arguments)))},e.guid=a.guid=a.guid||na.guid++,e},now:Date.now,support:la}),"function"==typeof Symbol&&(na.fn[Symbol.iterator]=_[Symbol.iterator]),na.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ga["[object "+b+"]"]=b.toLowerCase()});var sa=function(a){function b(a,b,c,d){var e,f,g,h,i,j,k,m=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:P)!==H&&G(b),b=b||H,J)){if(11!==o&&(i=ra.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(m&&(g=m.getElementById(e))&&N(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&w.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(w.qsa&&!U[a+" "]&&(!K||!K.test(a))){if(1!==o)m=b,k=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(va,wa):b.setAttribute("id",h=O),j=A(a),f=j.length;f--;)j[f]="#"+h+" "+n(j[f]);k=j.join(","),m=sa.test(a)&&l(b.parentNode)||b}if(k)try{return $.apply(c,m.querySelectorAll(k)),c}catch(a){}finally{h===O&&b.removeAttribute("id")}}}return C(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>x.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[O]=!0,a}function e(a){var b=H.createElement("fieldset");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)x.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return function(b){return"label"in b&&b.disabled===a||"form"in b&&b.disabled===a||"form"in b&&b.disabled===!1&&(b.isDisabled===a||b.isDisabled!==!a&&("label"in b||!ya(b))!==a)}}function k(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function m(){}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=R++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e)}:function(b,c,i){var j,k,l,m=[Q,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[O]||(b[O]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===Q&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function r(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function s(a,b,c,e,f,g){return e&&!e[O]&&(e=s(e)),f&&!f[O]&&(f=s(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||q(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?p:r(p,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=r(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=r(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function t(a){for(var b,c,d,e=a.length,f=x.relative[a[0].type],g=f||x.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=x.relative[a[h].type])k=[o(p(k),c)];else{if(c=x.filter[a[h].type].apply(null,a[h].matches),c[O]){for(d=++h;d<e&&!x.relative[a[d].type];d++);return s(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&t(a.slice(h,d)),d<e&&t(a=a.slice(d)),d<e&&n(a))}k.push(c)}return p(k)}function u(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],q=[],s=D,t=d||f&&x.find.TAG("*",j),u=Q+=null==s?1:Math.random()||.1,v=t.length;for(j&&(D=g===H||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===H||(G(k),h=!J);m=a[l++];)if(m(k,g||H,h)){i.push(k);break}j&&(Q=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,q,g,h);if(d){if(n>0)for(;o--;)p[o]||q[o]||(q[o]=Y.call(i));q=r(q)}$.apply(i,q),j&&!d&&q.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(Q=u,D=s),p};return e?d(g):g}var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O="sizzle"+1*new Date,P=a.document,Q=0,R=0,S=c(),T=c(),U=c(),V=function(a,b){return a===b&&(F=!0),0},W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),ua=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,wa=function(a,b){return b?"\0"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},xa=function(){G()},ya=o(function(a){return a.disabled===!0},{dir:"parentNode",next:"legend"});try{$.apply(X=_.call(P.childNodes),P.childNodes),X[P.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}w=b.support={},z=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},G=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:P;return d!==H&&9===d.nodeType&&d.documentElement?(H=d,I=H.documentElement,J=!z(H),P!==H&&(c=H.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),w.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),w.getElementsByTagName=e(function(a){return a.appendChild(H.createComment("")),!a.getElementsByTagName("*").length}),w.getElementsByClassName=qa.test(H.getElementsByClassName),w.getById=e(function(a){return I.appendChild(a).id=O,!H.getElementsByName||!H.getElementsByName(O).length}),w.getById?(x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c=b.getElementById(a);return c?[c]:[]}},x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}}):(delete x.find.ID,x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),x.find.TAG=w.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):w.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},x.find.CLASS=w.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&J)return b.getElementsByClassName(a)},L=[],K=[],(w.qsa=qa.test(H.querySelectorAll))&&(e(function(a){I.appendChild(a).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||K.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+O+"-]").length||K.push("~="),a.querySelectorAll(":checked").length||K.push(":checked"),a.querySelectorAll("a#"+O+"+*").length||K.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=H.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&K.push("name"+ca+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&K.push(":enabled",":disabled"),I.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&K.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),K.push(",.*:")})),(w.matchesSelector=qa.test(M=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&e(function(a){w.disconnectedMatch=M.call(a,"*"),M.call(a,"[s!='']:x"),L.push("!=",fa)}),K=K.length&&new RegExp(K.join("|")),L=L.length&&new RegExp(L.join("|")),b=qa.test(I.compareDocumentPosition),N=b||qa.test(I.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=b?function(a,b){if(a===b)return F=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!w.sortDetached&&b.compareDocumentPosition(a)===c?a===H||a.ownerDocument===P&&N(P,a)?-1:b===H||b.ownerDocument===P&&N(P,b)?1:E?aa(E,a)-aa(E,b):0:4&c?-1:1)}:function(a,b){if(a===b)return F=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===H?-1:b===H?1:e?-1:f?1:E?aa(E,a)-aa(E,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===P?-1:i[d]===P?1:0},H):H},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==H&&G(a),c=c.replace(ka,"='$1']"),w.matchesSelector&&J&&!U[c+" "]&&(!L||!L.test(c))&&(!K||!K.test(c)))try{var d=M.call(a,c);if(d||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,H,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==H&&G(a),N(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==H&&G(a);var c=x.attrHandle[b.toLowerCase()],d=c&&W.call(x.attrHandle,b.toLowerCase())?c(a,b,!J):void 0;return void 0!==d?d:w.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(va,wa)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(F=!w.detectDuplicates,E=!w.sortStable&&a.slice(0),a.sort(V),F){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return E=null,a},y=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=y(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=y(b);return c},x=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ta,ua),a[3]=(a[3]||a[4]||a[5]||"").replace(ta,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ta,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&S(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[Q,n,t];break}}else if(s&&(m=b,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[Q,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[O]?f(c):f.length>1?(e=[a,a,"",c],x.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ha,"$1"));return e[O]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ta,ua),function(b){return(b.textContent||b.innerText||y(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ta,ua).toLowerCase(),function(b){var c;do if(c=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===I},focus:function(a){return a===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:j(!1),disabled:j(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[c<0?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=h(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=i(v);return m.prototype=x.filters=x.pseudos,x.setFilters=new m,A=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=T[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=x.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in x.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):T(a,i).slice(0)},B=b.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=A(a)),c=b.length;c--;)f=t(b[c]),f[O]?d.push(f):e.push(f);f=U(a,u(e,d)),f.selector=a}return f},C=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,k=!d&&A(a=j.selector||a);if(c=c||[],1===k.length){if(f=k[0]=k[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&w.getById&&9===b.nodeType&&J&&x.relative[f[1].type]){if(b=(x.find.ID(g.matches[0].replace(ta,ua),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!x.relative[h=g.type]);)if((i=x.find[h])&&(d=i(g.matches[0].replace(ta,ua),sa.test(f[0].type)&&l(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return $.apply(c,d),c;break}}return(j||B(a,k))(d,b,!J,c,!b||sa.test(a)&&l(b.parentNode)||b),c},w.sortStable=O.split("").sort(V).join("")===O,w.detectDuplicates=!!F,G(),w.sortDetached=e(function(a){return 1&a.compareDocumentPosition(H.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),w.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(b);na.find=sa,na.expr=sa.selectors,na.expr[":"]=na.expr.pseudos,na.uniqueSort=na.unique=sa.uniqueSort,na.text=sa.getText,na.isXMLDoc=sa.isXML,na.contains=sa.contains,na.escapeSelector=sa.escape;var ta=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&na(a).is(c))break;d.push(a)}return d},ua=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},va=na.expr.match.needsContext,wa=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xa=/^.[^:#\[\.,]*$/;na.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?na.find.matchesSelector(d,a)?[d]:[]:na.find.matches(a,na.grep(b,function(a){
return 1===a.nodeType}))},na.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(na(a).filter(function(){for(b=0;b<d;b++)if(na.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)na.find(a,e[b],c);return d>1?na.uniqueSort(c):c},filter:function(a){return this.pushStack(f(this,a||[],!1))},not:function(a){return this.pushStack(f(this,a||[],!0))},is:function(a){return!!f(this,"string"==typeof a&&va.test(a)?na(a):a||[],!1).length}});var ya,za=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Aa=na.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||ya,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:za.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof na?b[0]:b,na.merge(this,na.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:aa,!0)),wa.test(d[1])&&na.isPlainObject(b))for(d in b)na.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=aa.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):na.isFunction(a)?void 0!==c.ready?c.ready(a):a(na):na.makeArray(a,this)};Aa.prototype=na.fn,ya=na(aa);var Ba=/^(?:parents|prev(?:Until|All))/,Ca={children:!0,contents:!0,next:!0,prev:!0};na.fn.extend({has:function(a){var b=na(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(na.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&na(a);if(!va.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&na.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?na.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?fa.call(na(a),this[0]):fa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(na.uniqueSort(na.merge(this.get(),na(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),na.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ta(a,"parentNode")},parentsUntil:function(a,b,c){return ta(a,"parentNode",c)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return ta(a,"nextSibling")},prevAll:function(a){return ta(a,"previousSibling")},nextUntil:function(a,b,c){return ta(a,"nextSibling",c)},prevUntil:function(a,b,c){return ta(a,"previousSibling",c)},siblings:function(a){return ua((a.parentNode||{}).firstChild,a)},children:function(a){return ua(a.firstChild)},contents:function(a){return a.contentDocument||na.merge([],a.childNodes)}},function(a,b){na.fn[a]=function(c,d){var e=na.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=na.filter(d,e)),this.length>1&&(Ca[a]||na.uniqueSort(e),Ba.test(a)&&e.reverse()),this.pushStack(e)}});var Da=/\S+/g;na.Callbacks=function(a){a="string"==typeof a?h(a):na.extend({},a);var b,c,d,e,f=[],g=[],i=-1,j=function(){for(e=a.once,d=b=!0;g.length;i=-1)for(c=g.shift();++i<f.length;)f[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},k={add:function(){return f&&(c&&!b&&(i=f.length-1,g.push(c)),function b(c){na.each(c,function(c,d){na.isFunction(d)?a.unique&&k.has(d)||f.push(d):d&&d.length&&"string"!==na.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return na.each(arguments,function(a,b){for(var c;(c=na.inArray(b,f,c))>-1;)f.splice(c,1),c<=i&&i--}),this},has:function(a){return a?na.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},na.extend({Deferred:function(a){var c=[["notify","progress",na.Callbacks("memory"),na.Callbacks("memory"),2],["resolve","done",na.Callbacks("once memory"),na.Callbacks("once memory"),0,"resolved"],["reject","fail",na.Callbacks("once memory"),na.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return na.Deferred(function(b){na.each(c,function(c,d){var e=na.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&na.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(a,d,e){function f(a,c,d,e){return function(){var h=this,k=arguments,l=function(){var b,l;if(!(a<g)){if(b=d.apply(h,k),b===c.promise())throw new TypeError("Thenable self-resolution");l=b&&("object"==typeof b||"function"==typeof b)&&b.then,na.isFunction(l)?e?l.call(b,f(g,c,i,e),f(g,c,j,e)):(g++,l.call(b,f(g,c,i,e),f(g,c,j,e),f(g,c,i,c.notifyWith))):(d!==i&&(h=void 0,k=[b]),(e||c.resolveWith)(h,k))}},m=e?l:function(){try{l()}catch(b){na.Deferred.exceptionHook&&na.Deferred.exceptionHook(b,m.stackTrace),a+1>=g&&(d!==j&&(h=void 0,k=[b]),c.rejectWith(h,k))}};a?m():(na.Deferred.getStackHook&&(m.stackTrace=na.Deferred.getStackHook()),b.setTimeout(m))}}var g=0;return na.Deferred(function(b){c[0][3].add(f(0,b,na.isFunction(e)?e:i,b.notifyWith)),c[1][3].add(f(0,b,na.isFunction(a)?a:i)),c[2][3].add(f(0,b,na.isFunction(d)?d:j))}).promise()},promise:function(a){return null!=a?na.extend(a,e):e}},f={};return na.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),a&&a.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ca.call(arguments),f=na.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ca.call(arguments):c,--b||f.resolveWith(d,e)}};if(b<=1&&(k(a,f.done(g(c)).resolve,f.reject),"pending"===f.state()||na.isFunction(e[c]&&e[c].then)))return f.then();for(;c--;)k(e[c],g(c),f.reject);return f.promise()}});var Ea=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;na.Deferred.exceptionHook=function(a,c){b.console&&b.console.warn&&a&&Ea.test(a.name)&&b.console.warn("jQuery.Deferred exception: "+a.message,a.stack,c)},na.readyException=function(a){b.setTimeout(function(){throw a})};var Fa=na.Deferred();na.fn.ready=function(a){return Fa.then(a).catch(function(a){na.readyException(a)}),this},na.extend({isReady:!1,readyWait:1,holdReady:function(a){a?na.readyWait++:na.ready(!0)},ready:function(a){(a===!0?--na.readyWait:na.isReady)||(na.isReady=!0,a!==!0&&--na.readyWait>0||Fa.resolveWith(aa,[na]))}}),na.ready.then=Fa.then,"complete"===aa.readyState||"loading"!==aa.readyState&&!aa.documentElement.doScroll?b.setTimeout(na.ready):(aa.addEventListener("DOMContentLoaded",l),b.addEventListener("load",l));var Ga=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===na.type(c)){e=!0;for(h in c)Ga(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,na.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(na(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ha=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};m.uid=1,m.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ha(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[na.camelCase(b)]=c;else for(d in b)e[na.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][na.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){na.isArray(b)?b=b.map(na.camelCase):(b=na.camelCase(b),b=b in d?[b]:b.match(Da)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||na.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!na.isEmptyObject(b)}};var Ia=new m,Ja=new m,Ka=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,La=/[A-Z]/g;na.extend({hasData:function(a){return Ja.hasData(a)||Ia.hasData(a)},data:function(a,b,c){return Ja.access(a,b,c)},removeData:function(a,b){Ja.remove(a,b)},_data:function(a,b,c){return Ia.access(a,b,c)},_removeData:function(a,b){Ia.remove(a,b)}}),na.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Ja.get(f),1===f.nodeType&&!Ia.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=na.camelCase(d.slice(5)),n(f,d,e[d])));Ia.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Ja.set(this,a)}):Ga(this,function(b){var c;if(f&&void 0===b){if(c=Ja.get(f,a),void 0!==c)return c;if(c=n(f,a),void 0!==c)return c}else this.each(function(){Ja.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Ja.remove(this,a)})}}),na.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Ia.get(a,b),c&&(!d||na.isArray(c)?d=Ia.access(a,b,na.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=na.queue(a,b),d=c.length,e=c.shift(),f=na._queueHooks(a,b),g=function(){na.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Ia.get(a,c)||Ia.access(a,c,{empty:na.Callbacks("once memory").add(function(){Ia.remove(a,[b+"queue",c])})})}}),na.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?na.queue(this[0],a):void 0===b?this:this.each(function(){var c=na.queue(this,a,b);na._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&na.dequeue(this,a)})},dequeue:function(a){return this.each(function(){na.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=na.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=Ia.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Na=new RegExp("^(?:([+-])=|)("+Ma+")([a-z%]*)$","i"),Oa=["Top","Right","Bottom","Left"],Pa=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&na.contains(a.ownerDocument,a)&&"none"===na.css(a,"display")},Qa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ra={};na.fn.extend({show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Pa(this)?na(this).show():na(this).hide()})}});var Sa=/^(?:checkbox|radio)$/i,Ta=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ua=/^$|\/(?:java|ecma)script/i,Va={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Va.optgroup=Va.option,Va.tbody=Va.tfoot=Va.colgroup=Va.caption=Va.thead,Va.th=Va.td;var Wa=/<|&#?\w+;/;!function(){var a=aa.createDocumentFragment(),b=a.appendChild(aa.createElement("div")),c=aa.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),la.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",la.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Xa=aa.documentElement,Ya=/^key/,Za=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$a=/^([^.]*)(?:\.(.+)|)/;na.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ia.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&na.find.matchesSelector(Xa,e),c.guid||(c.guid=na.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof na&&na.event.triggered!==b.type?na.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Da)||[""],j=b.length;j--;)h=$a.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=na.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=na.event.special[n]||{},k=na.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&na.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),na.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ia.hasData(a)&&Ia.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Da)||[""],j=b.length;j--;)if(h=$a.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=na.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||na.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)na.event.remove(a,n+b[j],c,d,!0);na.isEmptyObject(i)&&Ia.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=na.event.fix(a),i=new Array(arguments.length),j=(Ia.get(this,"events")||{})[h.type]||[],k=na.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,h)!==!1){for(g=na.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!h.rnamespace.test(f.namespace)||(h.handleObj=f,h.data=f.data,d=((na.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i),void 0!==d&&(h.result=d)===!1&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?na(e,this).index(i)>-1:na.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},addProp:function(a,b){Object.defineProperty(na.Event.prototype,a,{enumerable:!0,configurable:!0,get:na.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[na.expando]?a:new na.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&na.nodeName(this,"input"))return this.click(),!1},_default:function(a){return na.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},na.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},na.Event=function(a,b){return this instanceof na.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?u:v,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&na.extend(this,b),this.timeStamp=a&&a.timeStamp||na.now(),void(this[na.expando]=!0)):new na.Event(a,b)},na.Event.prototype={constructor:na.Event,isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=u,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=u,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=u,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},na.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&Ya.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Za.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},na.event.addProp),na.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){na.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||na.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),na.fn.extend({on:function(a,b,c,d){return x(this,a,b,c,d)},one:function(a,b,c,d){return x(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,na(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=v),this.each(function(){na.event.remove(this,a,c,b)})}});var _a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ab=/<script|<style|<link/i,bb=/checked\s*(?:[^=]|=\s*.checked.)/i,cb=/^true\/(.*)/,db=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;na.extend({htmlPrefilter:function(a){return a.replace(_a,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=na.contains(a.ownerDocument,a);if(!(la.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||na.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;d<e;d++)C(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;d<e;d++)B(f[d],g[d]);else B(a,h);return g=r(h,"script"),g.length>0&&s(g,!i&&r(a,"script")),h},cleanData:function(a){for(var b,c,d,e=na.event.special,f=0;void 0!==(c=a[f]);f++)if(Ha(c)){if(b=c[Ia.expando]){if(b.events)for(d in b.events)e[d]?na.event.remove(c,d):na.removeEvent(c,d,b.handle);c[Ia.expando]=void 0}c[Ja.expando]&&(c[Ja.expando]=void 0)}}}),na.fn.extend({detach:function(a){return E(this,a,!0)},remove:function(a){return E(this,a)},text:function(a){return Ga(this,function(a){return void 0===a?na.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return D(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=y(this,a);b.appendChild(a)}})},prepend:function(){return D(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=y(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return D(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return D(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(na.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return na.clone(this,a,b)})},html:function(a){return Ga(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!ab.test(a)&&!Va[(Ta.exec(a)||["",""])[1].toLowerCase()]){a=na.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(na.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return D(this,arguments,function(b){var c=this.parentNode;na.inArray(this,a)<0&&(na.cleanData(r(this)),c&&c.replaceChild(b,this))},a)}}),na.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){na.fn[a]=function(a){for(var c,d=[],e=na(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),na(e[g])[b](c),ea.apply(d,c.get());return this.pushStack(d)}});var eb=/^margin/,fb=new RegExp("^("+Ma+")(?!px)[a-z%]+$","i"),gb=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=b),c.getComputedStyle(a)};!function(){function a(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Xa.appendChild(g);var a=b.getComputedStyle(h);c="1%"!==a.top,f="2px"===a.marginLeft,d="4px"===a.width,h.style.marginRight="50%",e="4px"===a.marginRight,Xa.removeChild(g),h=null}}var c,d,e,f,g=aa.createElement("div"),h=aa.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",la.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),na.extend(la,{pixelPosition:function(){return a(),c},boxSizingReliable:function(){return a(),d},pixelMarginRight:function(){return a(),e},reliableMarginLeft:function(){return a(),f}}))}();var hb=/^(none|table(?!-c[ea]).+)/,ib={position:"absolute",visibility:"hidden",display:"block"},jb={letterSpacing:"0",fontWeight:"400"},kb=["Webkit","Moz","ms"],lb=aa.createElement("div").style;na.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=F(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=na.camelCase(b),i=a.style;return b=na.cssProps[h]||(na.cssProps[h]=H(h)||h),g=na.cssHooks[b]||na.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Na.exec(c))&&e[1]&&(c=o(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(na.cssNumber[h]?"":"px")),la.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=na.camelCase(b);return b=na.cssProps[h]||(na.cssProps[h]=H(h)||h),g=na.cssHooks[b]||na.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=F(a,b,d)),"normal"===e&&b in jb&&(e=jb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),na.each(["height","width"],function(a,b){na.cssHooks[b]={get:function(a,c,d){if(c)return!hb.test(na.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?K(a,b,d):Qa(a,ib,function(){return K(a,b,d)})},set:function(a,c,d){var e,f=d&&gb(a),g=d&&J(a,b,d,"border-box"===na.css(a,"boxSizing",!1,f),f);return g&&(e=Na.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=na.css(a,b)),I(a,c,g)}}}),na.cssHooks.marginLeft=G(la.reliableMarginLeft,function(a,b){if(b)return(parseFloat(F(a,"marginLeft"))||a.getBoundingClientRect().left-Qa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),na.each({margin:"",padding:"",border:"Width"},function(a,b){na.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Oa[d]+b]=f[d]||f[d-2]||f[0];return e}},eb.test(a)||(na.cssHooks[a+b].set=I)}),na.fn.extend({css:function(a,b){return Ga(this,function(a,b,c){var d,e,f={},g=0;if(na.isArray(b)){for(d=gb(a),e=b.length;g<e;g++)f[b[g]]=na.css(a,b[g],!1,d);return f}return void 0!==c?na.style(a,b,c):na.css(a,b)},a,b,arguments.length>1)}}),na.Tween=L,L.prototype={constructor:L,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||na.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(na.cssNumber[c]?"":"px")},cur:function(){var a=L.propHooks[this.prop];return a&&a.get?a.get(this):L.propHooks._default.get(this)},run:function(a){var b,c=L.propHooks[this.prop];return this.options.duration?this.pos=b=na.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=na.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){na.fx.step[a.prop]?na.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[na.cssProps[a.prop]]&&!na.cssHooks[a.prop]?a.elem[a.prop]=a.now:na.style(a.elem,a.prop,a.now+a.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},na.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},na.fx=L.prototype.init,na.fx.step={};var mb,nb,ob=/^(?:toggle|show|hide)$/,pb=/queueHooks$/;na.Animation=na.extend(S,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return o(c.elem,a,Na.exec(b),c),c}]},tweener:function(a,b){na.isFunction(a)?(b=a,a=["*"]):a=a.match(Da);for(var c,d=0,e=a.length;d<e;d++)c=a[d],S.tweeners[c]=S.tweeners[c]||[],S.tweeners[c].unshift(b)},prefilters:[Q],prefilter:function(a,b){b?S.prefilters.unshift(a):S.prefilters.push(a)}}),na.speed=function(a,b,c){var d=a&&"object"==typeof a?na.extend({},a):{complete:c||!c&&b||na.isFunction(a)&&a,duration:a,easing:c&&b||b&&!na.isFunction(b)&&b};return na.fx.off||aa.hidden?d.duration=0:d.duration="number"==typeof d.duration?d.duration:d.duration in na.fx.speeds?na.fx.speeds[d.duration]:na.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){na.isFunction(d.old)&&d.old.call(this),d.queue&&na.dequeue(this,d.queue)},d},na.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Pa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=na.isEmptyObject(a),f=na.speed(b,c,d),g=function(){var b=S(this,na.extend({},a),f);(e||Ia.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=na.timers,g=Ia.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||na.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=Ia.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=na.timers,g=d?d.length:0;for(c.finish=!0,na.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),na.each(["toggle","show","hide"],function(a,b){var c=na.fn[b];na.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(O(b,!0),a,d,e)}}),na.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){na.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),na.timers=[],na.fx.tick=function(){var a,b=0,c=na.timers;for(mb=na.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||na.fx.stop(),mb=void 0},na.fx.timer=function(a){na.timers.push(a),a()?na.fx.start():na.timers.pop()},na.fx.interval=13,na.fx.start=function(){nb||(nb=b.requestAnimationFrame?b.requestAnimationFrame(M):b.setInterval(na.fx.tick,na.fx.interval))},na.fx.stop=function(){b.cancelAnimationFrame?b.cancelAnimationFrame(nb):b.clearInterval(nb),nb=null},na.fx.speeds={slow:600,fast:200,_default:400},na.fn.delay=function(a,c){return a=na.fx?na.fx.speeds[a]||a:a,c=c||"fx",this.queue(c,function(c,d){var e=b.setTimeout(c,a);d.stop=function(){b.clearTimeout(e)}})},function(){var a=aa.createElement("input"),b=aa.createElement("select"),c=b.appendChild(aa.createElement("option"));a.type="checkbox",la.checkOn=""!==a.value,la.optSelected=c.selected,a=aa.createElement("input"),a.value="t",a.type="radio",la.radioValue="t"===a.value}();var qb,rb=na.expr.attrHandle;na.fn.extend({attr:function(a,b){return Ga(this,na.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){na.removeAttr(this,a)})}}),na.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?na.prop(a,b,c):(1===f&&na.isXMLDoc(a)||(e=na.attrHooks[b.toLowerCase()]||(na.expr.match.bool.test(b)?qb:void 0)),void 0!==c?null===c?void na.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=na.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!la.radioValue&&"radio"===b&&na.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Da);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),qb={set:function(a,b,c){return b===!1?na.removeAttr(a,c):a.setAttribute(c,c),c}},na.each(na.expr.match.bool.source.match(/\w+/g),function(a,b){var c=rb[b]||na.find.attr;rb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=rb[g],rb[g]=e,e=null!=c(a,b,d)?g:null,rb[g]=f),e}});var sb=/^(?:input|select|textarea|button)$/i,tb=/^(?:a|area)$/i;na.fn.extend({prop:function(a,b){return Ga(this,na.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[na.propFix[a]||a]})}}),na.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&na.isXMLDoc(a)||(b=na.propFix[b]||b,e=na.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=na.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),la.optSelected||(na.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),na.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){na.propFix[this.toLowerCase()]=this});var ub=/[\t\r\n\f]/g;na.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;
if(na.isFunction(a))return this.each(function(b){na(this).addClass(a.call(this,b,T(this)))});if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=T(c),d=1===c.nodeType&&(" "+e+" ").replace(ub," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=na.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(na.isFunction(a))return this.each(function(b){na(this).removeClass(a.call(this,b,T(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=T(c),d=1===c.nodeType&&(" "+e+" ").replace(ub," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=na.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):na.isFunction(a)?this.each(function(c){na(this).toggleClass(a.call(this,c,T(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=na(this),f=a.match(Da)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=T(this),b&&Ia.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":Ia.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+T(c)+" ").replace(ub," ").indexOf(b)>-1)return!0;return!1}});var vb=/\r/g,wb=/[\x20\t\r\n\f]+/g;na.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=na.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,na(this).val()):a,null==e?e="":"number"==typeof e?e+="":na.isArray(e)&&(e=na.map(e,function(a){return null==a?"":a+""})),b=na.valHooks[this.type]||na.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=na.valHooks[e.type]||na.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(vb,""):null==c?"":c)}}}),na.extend({valHooks:{option:{get:function(a){var b=na.find.attr(a,"value");return null!=b?b:na.trim(na.text(a)).replace(wb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&!c.disabled&&(!c.parentNode.disabled||!na.nodeName(c.parentNode,"optgroup"))){if(b=na(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=na.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=na.inArray(na.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),na.each(["radio","checkbox"],function(){na.valHooks[this]={set:function(a,b){if(na.isArray(b))return a.checked=na.inArray(na(a).val(),b)>-1}},la.checkOn||(na.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var xb=/^(?:focusinfocus|focusoutblur)$/;na.extend(na.event,{trigger:function(a,c,d,e){var f,g,h,i,j,k,l,m=[d||aa],n=ia.call(a,"type")?a.type:a,o=ia.call(a,"namespace")?a.namespace.split("."):[];if(g=h=d=d||aa,3!==d.nodeType&&8!==d.nodeType&&!xb.test(n+na.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,a=a[na.expando]?a:new na.Event(n,"object"==typeof a&&a),a.isTrigger=e?2:3,a.namespace=o.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),c=null==c?[a]:na.makeArray(c,[a]),l=na.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!na.isWindow(d)){for(i=l.delegateType||n,xb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||aa)&&m.push(h.defaultView||h.parentWindow||b)}for(f=0;(g=m[f++])&&!a.isPropagationStopped();)a.type=f>1?i:l.bindType||n,k=(Ia.get(g,"events")||{})[a.type]&&Ia.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&Ha(g)&&(a.result=k.apply(g,c),a.result===!1&&a.preventDefault());return a.type=n,e||a.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!Ha(d)||j&&na.isFunction(d[n])&&!na.isWindow(d)&&(h=d[j],h&&(d[j]=null),na.event.triggered=n,d[n](),na.event.triggered=void 0,h&&(d[j]=h)),a.result}},simulate:function(a,b,c){var d=na.extend(new na.Event,c,{type:a,isSimulated:!0});na.event.trigger(d,null,b)}}),na.fn.extend({trigger:function(a,b){return this.each(function(){na.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return na.event.trigger(a,b,c,!0)}}),na.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){na.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),na.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),la.focusin="onfocusin"in b,la.focusin||na.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){na.event.simulate(b,a.target,na.event.fix(a))};na.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Ia.access(d,b);e||d.addEventListener(a,c,!0),Ia.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Ia.access(d,b)-1;e?Ia.access(d,b,e):(d.removeEventListener(a,c,!0),Ia.remove(d,b))}}});var yb=b.location,zb=na.now(),Ab=/\?/;na.parseXML=function(a){var c;if(!a||"string"!=typeof a)return null;try{c=(new b.DOMParser).parseFromString(a,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||na.error("Invalid XML: "+a),c};var Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;na.param=function(a,b){var c,d=[],e=function(a,b){var c=na.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(na.isArray(a)||a.jquery&&!na.isPlainObject(a))na.each(a,function(){e(this.name,this.value)});else for(c in a)U(c,a[c],b,e);return d.join("&")},na.fn.extend({serialize:function(){return na.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=na.prop(this,"elements");return a?na.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!na(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!Sa.test(a))}).map(function(a,b){var c=na(this).val();return null==c?null:na.isArray(c)?na.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}});var Fb=/%20/g,Gb=/#.*$/,Hb=/([?&])_=[^&]*/,Ib=/^(.*?):[ \t]*([^\r\n]*)$/gm,Jb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kb=/^(?:GET|HEAD)$/,Lb=/^\/\//,Mb={},Nb={},Ob="*/".concat("*"),Pb=aa.createElement("a");Pb.href=yb.href,na.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yb.href,type:"GET",isLocal:Jb.test(yb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ob,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":na.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?X(X(a,na.ajaxSettings),b):X(na.ajaxSettings,a)},ajaxPrefilter:V(Mb),ajaxTransport:V(Nb),ajax:function(a,c){function d(a,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&b.clearTimeout(i),e=void 0,g=h||"",x.readyState=a>0?4:0,j=a>=200&&a<300||304===a,d&&(u=Y(o,x,d)),u=Z(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(na.lastModified[f]=v),v=x.getResponseHeader("etag"),v&&(na.etag[f]=v)),204===a||"HEAD"===o.type?w="nocontent":304===a?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,!a&&w||(w="error",a<0&&(a=0))),x.status=a,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--na.active||na.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=na.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?na(p):na.event,r=na.Deferred(),s=na.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Ib.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((a||o.url||yb.href)+"").replace(Lb,yb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Da)||[""],null==o.crossDomain){j=aa.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Pb.protocol+"//"+Pb.host!=j.protocol+"//"+j.host}catch(a){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=na.param(o.data,o.traditional)),W(Mb,o,c,x),k)return x;l=na.event&&o.global,l&&0===na.active++&&na.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Kb.test(o.type),f=o.url.replace(Gb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Fb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(Ab.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Hb,""),n=(Ab.test(f)?"&":"?")+"_="+zb++ +n),o.url=f+n),o.ifModified&&(na.lastModified[f]&&x.setRequestHeader("If-Modified-Since",na.lastModified[f]),na.etag[f]&&x.setRequestHeader("If-None-Match",na.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Ob+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,x,o)===!1||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=W(Nb,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=b.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(a){if(k)throw a;d(-1,a)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return na.get(a,b,c,"json")},getScript:function(a,b){return na.get(a,void 0,b,"script")}}),na.each(["get","post"],function(a,b){na[b]=function(a,c,d,e){return na.isFunction(c)&&(e=e||d,d=c,c=void 0),na.ajax(na.extend({url:a,type:b,dataType:e,data:c,success:d},na.isPlainObject(a)&&a))}}),na._evalUrl=function(a){return na.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},na.fn.extend({wrapAll:function(a){var b;return this[0]&&(na.isFunction(a)&&(a=a.call(this[0])),b=na(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return na.isFunction(a)?this.each(function(b){na(this).wrapInner(a.call(this,b))}):this.each(function(){var b=na(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=na.isFunction(a);return this.each(function(c){na(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){na(this).replaceWith(this.childNodes)}),this}}),na.expr.pseudos.hidden=function(a){return!na.expr.pseudos.visible(a)},na.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},na.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(a){}};var Qb={0:200,1223:204},Rb=na.ajaxSettings.xhr();la.cors=!!Rb&&"withCredentials"in Rb,la.ajax=Rb=!!Rb,na.ajaxTransport(function(a){var c,d;if(la.cors||Rb&&!a.crossDomain)return{send:function(e,f){var g,h=a.xhr();if(h.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(g in a.xhrFields)h[g]=a.xhrFields[g];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType),a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Qb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&b.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(a.hasContent&&a.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),na.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),na.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return na.globalEval(a),a}}}),na.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),na.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=na("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),aa.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Sb=[],Tb=/(=)\?(?=&|$)|\?\?/;na.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Sb.pop()||na.expando+"_"+zb++;return this[a]=!0,a}}),na.ajaxPrefilter("json jsonp",function(a,c,d){var e,f,g,h=a.jsonp!==!1&&(Tb.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tb.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=na.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h?a[h]=a[h].replace(Tb,"$1"+e):a.jsonp!==!1&&(a.url+=(Ab.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){return g||na.error(e+" was not called"),g[0]},a.dataTypes[0]="json",f=b[e],b[e]=function(){g=arguments},d.always(function(){void 0===f?na(b).removeProp(e):b[e]=f,a[e]&&(a.jsonpCallback=c.jsonpCallback,Sb.push(e)),g&&na.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),la.createHTMLDocument=function(){var a=aa.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),na.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(la.createHTMLDocument?(b=aa.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=aa.location.href,b.head.appendChild(d)):b=aa),e=wa.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=t([a],b,f),f&&f.length&&na(f).remove(),na.merge([],e.childNodes))},na.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=na.trim(a.slice(h)),a=a.slice(0,h)),na.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&na.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?na("<div>").append(na.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},na.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){na.fn[b]=function(a){return this.on(b,a)}}),na.expr.pseudos.animated=function(a){return na.grep(na.timers,function(b){return a===b.elem}).length},na.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=na.css(a,"position"),l=na(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=na.css(a,"top"),i=na.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),na.isFunction(b)&&(b=b.call(a,c,na.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},na.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){na.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=$(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===na.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),na.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+na.css(a[0],"borderTopWidth",!0),left:d.left+na.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-na.css(c,"marginTop",!0),left:b.left-d.left-na.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===na.css(a,"position");)a=a.offsetParent;return a||Xa})}}),na.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;na.fn[a]=function(d){return Ga(this,function(a,d,e){var f=$(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),na.each(["top","left"],function(a,b){na.cssHooks[b]=G(la.pixelPosition,function(a,c){if(c)return c=F(a,b),fb.test(c)?na(a).position()[b]+"px":c})}),na.each({Height:"height",Width:"width"},function(a,b){na.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){na.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return Ga(this,function(b,c,e){var f;return na.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?na.css(b,c,h):na.style(b,c,e,h)},b,g?e:void 0,g)}})}),na.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),na.parseJSON=JSON.parse,"function"==typeof a&&a.amd&&a("jquery",[],function(){return na});var Ub=b.jQuery,Vb=b.$;return na.noConflict=function(a){return b.$===na&&(b.$=Vb),a&&b.jQuery===na&&(b.jQuery=Ub),na},c||(b.jQuery=b.$=na),na})}(),System.registerDynamic("angular",["jquery"],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,"angular",null);return function(a){!function(a){"use strict";function b(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?va(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.6.1/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(va(f[d]));return new b(h)}}function c(a){if(null==a||A(a))return!1;if(ie(a)||v(a)||Yd&&a instanceof Yd)return!0;var b="length"in Object(a)&&a.length;return w(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function d(a,b,e){var f,g;if(a)if(y(a))for(f in a)"prototype"!==f&&"length"!==f&&"name"!==f&&a.hasOwnProperty(f)&&b.call(e,a[f],f,a);else if(ie(a)||c(a)){var h="object"!=typeof a;for(f=0,g=a.length;f<g;f++)(h||f in a)&&b.call(e,a[f],f,a)}else if(a.forEach&&a.forEach!==d)a.forEach(b,e,a);else if(u(a))for(f in a)b.call(e,a[f],f,a);else if("function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&b.call(e,a[f],f,a);else for(f in a)Sd.call(a,f)&&b.call(e,a[f],f,a);return a}function e(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function f(a){return function(b,c){a(c,b)}}function g(){return++ge}function h(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function i(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(t(g)||y(g))for(var j=Object.keys(g),k=0,l=j.length;k<l;k++){var m=j[k],n=g[m];c&&t(n)?x(n)?a[m]=new Date(n.valueOf()):z(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):J(n)?a[m]=n.clone():(t(a[m])||(a[m]=ie(n)?[]:{}),i(a[m],[n],!0)):a[m]=n}}return h(a,d),a}function j(a){return i(a,_d.call(arguments,1),!1)}function k(a){return i(a,_d.call(arguments,1),!0)}function l(a){return parseInt(a,10)}function m(a,b){return j(Object.create(a),b)}function n(){}function o(a){return a}function p(a){return function(){return a}}function q(a){return y(a.toString)&&a.toString!==ce}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!==a&&"object"==typeof a}function u(a){return null!==a&&"object"==typeof a&&!de(a)}function v(a){return"string"==typeof a}function w(a){return"number"==typeof a}function x(a){return"[object Date]"===ce.call(a)}function y(a){return"function"==typeof a}function z(a){return"[object RegExp]"===ce.call(a)}function A(a){return a&&a.window===a}function B(a){return a&&a.$evalAsync&&a.$watch}function C(a){return"[object File]"===ce.call(a)}function D(a){return"[object FormData]"===ce.call(a)}function E(a){return"[object Blob]"===ce.call(a)}function F(a){return"boolean"==typeof a}function G(a){return a&&y(a.then)}function H(a){return a&&w(a.length)&&je.test(ce.call(a))}function I(a){return"[object ArrayBuffer]"===ce.call(a)}function J(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function K(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function L(a){return Td(a.nodeName||a[0]&&a[0].nodeName)}function M(a,b){return Array.prototype.indexOf.call(a,b)!==-1}function N(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function O(a,b){function c(a,b){var c,d=b.$$hashKey;if(ie(a))for(var f=0,g=a.length;f<g;f++)b.push(e(a[f]));else if(u(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)Sd.call(a,c)&&(b[c]=e(a[c]));return h(b,d),b}function e(a){if(!t(a))return a;var b=g.indexOf(a);if(b!==-1)return i[b];if(A(a)||B(a))throw ee("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d=!1,e=f(a);return void 0===e&&(e=ie(a)?[]:Object.create(de(a)),d=!0),g.push(a),i.push(e),d?c(a,e):e}function f(a){switch(ce.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(y(a.cloneNode))return a.cloneNode(!0)}var g=[],i=[];if(b){if(H(b)||I(b))throw ee("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw ee("cpi","Can't copy! Source and destination are identical.");return ie(b)?b.length=0:d(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),i.push(b),c(a,b)}return e(a)}function P(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f===g&&"object"===f){if(!ie(a)){if(x(a))return!!x(b)&&P(a.getTime(),b.getTime());if(z(a))return!!z(b)&&a.toString()===b.toString();if(B(a)||B(b)||A(a)||A(b)||ie(b)||x(b)||z(b))return!1;e=qa();for(d in a)if("$"!==d.charAt(0)&&!y(a[d])){if(!P(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&s(b[d])&&!y(b[d]))return!1;return!0}if(!ie(b))return!1;if((c=a.length)===b.length){for(d=0;d<c;d++)if(!P(a[d],b[d]))return!1;return!0}}return!1}function Q(a,b,c){return a.concat(_d.call(b,c))}function R(a,b){return _d.call(a,b||0)}function S(a,b){var c=arguments.length>2?R(arguments,2):[];return!y(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,Q(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function T(b,c){var d=c;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?d=void 0:A(c)?d="$WINDOW":c&&a.document===c?d="$DOCUMENT":B(c)&&(d="$SCOPE"),d}function U(a,b){if(!r(a))return w(b)||(b=b?2:null),JSON.stringify(a,T,b)}function V(a){return v(a)?JSON.parse(a):a}function W(a,b){a=a.replace(oe,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return he(c)?b:c}function X(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function Y(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=W(b,d);return X(a,c*(e-d))}function Z(a){a=Yd(a).clone();try{a.empty()}catch(a){}var b=Yd("<div>").append(a).html();try{return a[0].nodeType===ve?Td(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+Td(b)})}catch(a){return Td(b)}}function $(a){try{return decodeURIComponent(a)}catch(a){}}function _(a){var b={};return d((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),c!==-1&&(d=a.substring(0,c),e=a.substring(c+1)),d=$(d),s(d)&&(e=!s(e)||$(e),Sd.call(b,d)?ie(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function aa(a){var b=[];return d(a,function(a,c){ie(a)?d(a,function(a){b.push(ca(c,!0)+(a===!0?"":"="+ca(a,!0)))}):b.push(ca(c,!0)+(a===!0?"":"="+ca(a,!0)))}),b.length?b.join("&"):""}function ba(a){return ca(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ca(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function da(a,b){var c,d,e=pe.length;for(d=0;d<e;++d)if(c=pe[d]+b,v(c=a.getAttribute(c)))return c;return null}function ea(a){if(!a.currentScript)return!0;var b=a.currentScript.getAttribute("src"),c=a.createElement("a");if(c.href=b,a.location.origin===c.origin)return!0;switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function fa(b,c){var e,f,g={};if(d(pe,function(a){var c=a+"app";!e&&b.hasAttribute&&b.hasAttribute(c)&&(e=b,f=b.getAttribute(c))}),d(pe,function(a){var c,d=a+"app";!e&&(c=b.querySelector("["+d.replace(":","\\:")+"]"))&&(e=c,f=c.getAttribute(d))}),e){if(!qe)return void a.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");g.strictDi=null!==da(e,"strict-di"),c(e,f?[f]:[],g)}}function ga(b,c,e){t(e)||(e={});var f={strictDi:!1};e=j(f,e);var g=function(){if(b=Yd(b),b.injector()){var d=b[0]===a.document?"document":Z(b);throw ee("btstrpd","App already bootstrapped with this element '{0}'",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[],c.unshift(["$provide",function(a){a.value("$rootElement",b)}]),e.debugInfoEnabled&&c.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),c.unshift("ng");var f=jb(c,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),fe.resumeBootstrap=function(a){return d(a,function(a){c.push(a)}),g()},void(y(fe.resumeDeferredBootstrap)&&fe.resumeDeferredBootstrap()))}function ha(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ia(a){var b=fe.element(a).injector();if(!b)throw ee("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ja(a,b){return b=b||"_",a.replace(re,function(a,c){return(c?b:"")+a.toLowerCase()})}function ka(){var b;if(!se){var c=ne();Zd=r(c)?a.jQuery:c?a[c]:void 0,Zd&&Zd.fn.on?(Yd=Zd,j(Zd.fn,{scope:Me.scope,isolateScope:Me.isolateScope,controller:Me.controller,injector:Me.injector,inheritedData:Me.inheritedData}),b=Zd.cleanData,Zd.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)c=Zd._data(d,"events"),c&&c.$destroy&&Zd(d).triggerHandler("$destroy");b(a)}):Yd=Ia,fe.element=Yd,se=!0}}function la(a,b,c){if(!a)throw ee("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ma(a,b,c){return c&&ie(a)&&(a=a[a.length-1]),la(y(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function na(a,b){if("hasOwnProperty"===a)throw ee("badname","hasOwnProperty is not a valid {0} name",b)}function oa(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;h<g;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&y(a)?S(f,a):a}function pa(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Yd(_d.call(a,0,e))),b.push(c));return b||a}function qa(){return Object.create(null)}function ra(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=!q(a)||ie(a)||x(a)?U(a):a.toString()}return a}function sa(a){function c(a,b,c){return a[b]||(a[b]=c())}var d=b("$injector"),e=b("ng"),f=c(a,"angular",Object);return f.$$minErr=f.$$minErr||b,c(f,"module",function(){var a={};return function(b,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(b,"module"),f&&a.hasOwnProperty(b)&&(a[b]=null),c(a,b,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function c(a,c,d){return d||(d=e),function(e,f){return f&&y(f)&&(f.$$moduleName=b),d.push([a,c,arguments]),k}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",b);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:b,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:c("$provide","decorator",h),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function ta(a,b){if(ie(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)"$"===e.charAt(0)&&"$"===e.charAt(1)||(b[e]=a[e])}return b||a}function ua(a){var b=[];return JSON.stringify(a,function(a,c){if(c=T(a,c),t(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function va(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):r(a)?"undefined":"string"!=typeof a?ua(a):a}function wa(c){j(c,{bootstrap:ga,copy:O,extend:j,merge:k,equals:P,element:Yd,forEach:d,injector:jb,noop:n,bind:S,toJson:U,fromJson:V,identity:o,isUndefined:r,isDefined:s,isString:v,isFunction:y,isObject:t,isNumber:w,isElement:J,isArray:ie,version:ze,isDate:x,lowercase:Td,uppercase:Ud,callbacks:{$$counter:0},getTestability:ia,reloadWithDebugInfo:ha,$$minErr:b,$$csp:me,$$encodeUriSegment:ba,$$encodeUriQuery:ca,$$stringify:ra}),($d=sa(a))("ng",["ngLocale"],["$provide",function(a){
a.provider({$$sanitizeUri:Ac}),a.provider("$compile",ub).directive({a:Uf,input:mg,textarea:mg,form:$f,script:gh,select:jh,option:kh,ngBind:pg,ngBindHtml:rg,ngBindTemplate:qg,ngClass:tg,ngClassEven:vg,ngClassOdd:ug,ngCloak:wg,ngController:xg,ngForm:_f,ngHide:_g,ngIf:Ag,ngInclude:Bg,ngInit:Dg,ngNonBindable:Sg,ngPluralize:Wg,ngRepeat:Xg,ngShow:$g,ngStyle:ah,ngSwitch:bh,ngSwitchWhen:ch,ngSwitchDefault:dh,ngOptions:Vg,ngTransclude:fh,ngModel:Pg,ngList:Eg,ngChange:sg,pattern:mh,ngPattern:mh,required:lh,ngRequired:lh,minlength:oh,ngMinlength:oh,maxlength:nh,ngMaxlength:nh,ngValue:og,ngModelOptions:Rg}).directive({ngInclude:Cg}).directive(Vf).directive(yg),a.provider({$anchorScroll:kb,$animate:af,$animateCss:df,$$animateJs:$e,$$animateQueue:_e,$$AnimateRunner:cf,$$animateAsyncRun:bf,$browser:qb,$cacheFactory:rb,$controller:Ab,$document:Bb,$$isDocumentHidden:Cb,$exceptionHandler:Db,$filter:Pc,$$forceReflow:lf,$interpolate:Rb,$interval:Sb,$http:Nb,$httpParamSerializer:Fb,$httpParamSerializerJQLike:Gb,$httpBackend:Pb,$xhrFactory:Ob,$jsonpCallbacks:tf,$location:fc,$log:gc,$parse:uc,$rootScope:zc,$q:vc,$$q:wc,$sce:Fc,$sceDelegate:Ec,$sniffer:Gc,$templateCache:sb,$templateRequest:Hc,$$testability:Ic,$timeout:Jc,$window:Mc,$$rAF:yc,$$jqLite:cb,$$HashMap:Qe,$$cookieReader:Oc})}])}function xa(){return++Be}function ya(a){return Aa(a.replace(De,"ms-"))}function za(a,b){return b.toUpperCase()}function Aa(a){return a.replace(Ce,za)}function Ba(a){return!He.test(a)}function Ca(a){var b=a.nodeType;return b===te||!b||b===xe}function Da(a){for(var b in Ae[a.ng339])return!0;return!1}function Ea(a){for(var b=0,c=a.length;b<c;b++)Ma(a[b])}function Fa(a,b){var c,e,f,g,h=b.createDocumentFragment(),i=[];if(Ba(a))i.push(b.createTextNode(a));else{for(c=h.appendChild(b.createElement("div")),e=(Ie.exec(a)||["",""])[1].toLowerCase(),f=Ke[e]||Ke._default,c.innerHTML=f[1]+a.replace(Je,"<$1></$2>")+f[2],g=f[0];g--;)c=c.lastChild;i=Q(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",d(i,function(a){h.appendChild(a)}),h}function Ga(b,c){c=c||a.document;var d;return(d=Ge.exec(b))?[c.createElement(d[1])]:(d=Fa(b,c))?d.childNodes:[]}function Ha(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Ia(a){if(a instanceof Ia)return a;var b;if(v(a)&&(a=ke(a),b=!0),!(this instanceof Ia)){if(b&&"<"!==a.charAt(0))throw Fe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ia(a)}b?Sa(this,Ga(a)):y(a)?Ya(a):Sa(this,a)}function Ja(a){return a.cloneNode(!0)}function Ka(a,b){if(b||Ma(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;d<e;d++)Ma(c[d])}function La(a,b,c,e){if(s(e))throw Fe("offargs","jqLite#off() does not support the `selector` argument");var f=Na(a),g=f&&f.events,h=f&&f.handle;if(h)if(b){var i=function(b){var d=g[b];s(c)&&N(d||[],c),s(c)&&d&&d.length>0||(a.removeEventListener(b,h),delete g[b])};d(b.split(" "),function(a){i(a),Ee[a]&&i(Ee[a])})}else for(b in g)"$destroy"!==b&&a.removeEventListener(b,h),delete g[b]}function Ma(a,b){var c=a.ng339,d=c&&Ae[c];if(d){if(b)return void delete d.data[b];d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),La(a)),delete Ae[c],a.ng339=void 0}}function Na(a,b){var c=a.ng339,d=c&&Ae[c];return b&&!d&&(a.ng339=c=xa(),d=Ae[c]={events:{},data:{},handle:void 0}),d}function Oa(a,b,c){if(Ca(a)){var d,e=s(c),f=!e&&b&&!t(b),g=!b,h=Na(a,!f),i=h&&h.data;if(e)i[Aa(b)]=c;else{if(g)return i;if(f)return i&&i[Aa(b)];for(d in b)i[Aa(d)]=b[d]}}}function Pa(a,b){return!!a.getAttribute&&(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function Qa(a,b){b&&a.setAttribute&&d(b.split(" "),function(b){a.setAttribute("class",ke((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ke(b)+" "," ")))})}function Ra(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");d(b.split(" "),function(a){a=ke(a),c.indexOf(" "+a+" ")===-1&&(c+=a+" ")}),a.setAttribute("class",ke(c))}}function Sa(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Ta(a,b){return Ua(a,"$"+(b||"ngController")+"Controller")}function Ua(a,b,c){a.nodeType===xe&&(a=a.documentElement);for(var d=ie(b)?b:[b];a;){for(var e=0,f=d.length;e<f;e++)if(s(c=Yd.data(a,d[e])))return c;a=a.parentNode||a.nodeType===ye&&a.host}}function Va(a){for(Ka(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Wa(a,b){b||Ka(a);var c=a.parentNode;c&&c.removeChild(a)}function Xa(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Yd(c).on("load",b)}function Ya(b){function c(){a.document.removeEventListener("DOMContentLoaded",c),a.removeEventListener("load",c),b()}"complete"===a.document.readyState?a.setTimeout(b):(a.document.addEventListener("DOMContentLoaded",c),a.addEventListener("load",c))}function Za(a,b){var c=Ne[b.toLowerCase()];return c&&Oe[L(a)]&&c}function $a(a){return Pe[a]}function _a(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||ab;f>1&&(e=ta(e));for(var i=0;i<f;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function ab(a,b,c){c.call(a,b)}function bb(a,b,c){var d=b.relatedTarget;d&&(d===a||Le.call(a,d))||c.call(a,b)}function cb(){this.$get=function(){return j(Ia,{hasClass:function(a,b){return a.attr&&(a=a[0]),Pa(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Ra(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Qa(a,b)}})}}function db(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||g)():d+":"+a}function eb(a,b){if(b){var c=0;this.nextUid=function(){return++c}}d(a,this.put,this)}function fb(a){return Function.prototype.toString.call(a)+" "}function gb(a){var b=fb(a).replace(Ve,""),c=b.match(Re)||b.match(Se);return c}function hb(a){var b=gb(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ib(a,b,c){var e,f,g;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(b)throw v(c)&&c||(c=a.name||hb(a)),We("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);f=gb(a),d(f[1].split(Te),function(a){a.replace(Ue,function(a,b,c){e.push(c)})})}a.$inject=e}}else ie(a)?(g=a.length-1,ma(a[g],"fn"),e=a.slice(0,g)):ma(a,"fn",!0);return e}function jb(a,b){function c(a){return function(b,c){return t(b)?void d(b,f(a)):a(b,c)}}function e(a,b){if(na(a,"service"),(y(b)||ie(b))&&(b=x.instantiate(b)),!b.$get)throw We("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(r(c))throw We("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function i(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function j(a,b){return h(a,p(b),!1)}function k(a,b){na(a,"constant"),w[a]=b,z[a]=b}function l(a,b){var c=x.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function m(a){la(r(a)||ie(a),"modulesToLoad","not an array");var b,c=[];return d(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=x.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{v(a)?(b=$d(a),c=c.concat(m(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):y(a)?c.push(x.invoke(a)):ie(a)?c.push(x.invoke(a)):ma(a,"module")}catch(b){throw ie(a)&&(a=a[a.length-1]),b.message&&b.stack&&b.stack.indexOf(b.message)===-1&&(b=b.message+"\n"+b.stack),We("modulerr","Failed to instantiate module {0} due to:\n{1}",a,b.stack||b.message||b)}}}),c}function n(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===o)throw We("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=o,a[b]=c(b,d),a[b]}catch(c){throw a[b]===o&&delete a[b],c}finally{s.shift()}}function e(a,c,e){for(var f=[],g=jb.$$annotate(a,b,e),h=0,i=g.length;h<i;h++){var j=g[h];if("string"!=typeof j)throw We("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){if(Xd||"function"!=typeof a)return!1;var b=a.$$ngIsClass;return F(b)||(b=a.$$ngIsClass=/^(?:class\b|constructor\()/.test(fb(a))),b}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return ie(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=ie(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:jb.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var o={},q="Provider",s=[],u=new eb([],!0),w={$provide:{provider:c(e),factory:c(h),service:c(i),value:c(j),constant:c(k),decorator:l}},x=w.$injector=n(w,function(a,b){throw fe.isString(b)&&s.push(b),We("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},A=n(z,function(a,b){var c=x.get(a+q,b);return B.invoke(c.$get,c,void 0,a)}),B=A;w["$injector"+q]={$get:p(A)};var C=m(a);return B=A.get("$injector"),B.strictDi=b,d(C,function(a){a&&B.invoke(a)}),B}function kb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===L(a))return b=a,!0}),b}function f(){var a=h.yOffset;if(y(a))a=a();else if(J(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else w(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=v(a)?a:w(a)?a.toString():c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Xa(function(){d.$evalAsync(h)})}),h}]}function lb(a,b){return a||b?a?b?(ie(a)&&(a=a.join(" ")),ie(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function mb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Ye)return c}}function nb(a){v(a)&&(a=a.split(" "));var b=qa();return d(a,function(a){a.length&&(b[a]=!0)}),b}function ob(a){return t(a)?a:{}}function pb(a,b,c,e){function f(a){try{a.apply(null,R(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(a){c.error(a)}}}function g(a){var b=a.indexOf("#");return b===-1?"":a.substr(b)}function h(){y=null,i(),j()}function i(){u=z(),u=r(u)?null:u,P(u,C)&&(u=C),C=u}function j(){w===k.url()&&v===u||(w=k.url(),v=u,d(A,function(a){a(k.url(),u)}))}var k=this,l=a.location,m=a.history,o=a.setTimeout,p=a.clearTimeout,q={};k.isMock=!1;var s=0,t=[];k.$$completeOutstandingRequest=f,k.$$incOutstandingRequestCount=function(){s++},k.notifyWhenNoOutstandingRequests=function(a){0===s?a():t.push(a)};var u,v,w=l.href,x=b.find("base"),y=null,z=e.history?function(){try{return m.state}catch(a){}}:n;i(),v=u,k.url=function(b,c,d){if(r(d)&&(d=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=v===d;if(w===b&&(!e.history||f))return k;var h=w&&Yb(w)===Yb(b);return w=b,v=d,!e.history||h&&f?(h||(y=b),c?l.replace(b):h?l.hash=g(b):l.href=b,l.href!==b&&(y=b)):(m[c?"replaceState":"pushState"](d,"",b),i(),v=u),y&&(y=b),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return u};var A=[],B=!1,C=null;k.onUrlChange=function(b){return B||(e.history&&Yd(a).on("popstate",h),Yd(a).on("hashchange",h),B=!0),A.push(b),b},k.$$applicationDestroyed=function(){Yd(a).off("hashchange popstate",h)},k.$$checkUrlChange=j,k.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return s++,c=o(function(){delete q[c],f(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return!!q[a]&&(delete q[a],p(a),f(n),!0)}}function qb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new pb(a,d,b,c)}]}function rb(){this.$get=function(){function a(a,d){function e(a){a!==m&&(n?n===a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in c)throw b("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=j({},d,{id:a}),i=qa(),k=d&&d.capacity||Number.MAX_VALUE,l=qa(),m=null,n=null;return c[a]={put:function(a,b){if(!r(b)){if(k<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>k&&this.remove(n.key),b}},get:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;b===m&&(m=b.p),b===n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=qa(),g=0,l=qa(),m=n=null},destroy:function(){i=null,h=null,l=null,delete c[a]},info:function(){return j({},h,{size:g})}}}var c={};return a.info=function(){var a={};return d(c,function(b,c){a[c]=b.info()}),a},a.get=function(a){return c[a]},a}}function sb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function tb(){}function ub(b,c){function e(a,b,c){var e=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,f=qa();return d(a,function(a,d){if(a in C)return void(f[d]=C[a]);var g=a.match(e);if(!g)throw ef("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,d,a,c?"controller bindings definition":"isolate scope definition");f[d]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||d},g[4]&&(C[a]=f[d])}),f}function g(a,b){var c={isolateScope:null,bindToController:null};if(t(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),t(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),c.bindToController&&!a.controller)throw ef("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);return c}function h(a){var b=a.charAt(0);if(!b||b!==Td(b))throw ef("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw ef("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}function i(a){var b=a.require||a.controller&&a.name;return!ie(b)&&t(b)&&d(b,function(a,c){var d=a.match(z),e=a.substring(d[0].length);e||(b[c]=d[0]+c)}),b}function k(a,b){if(a&&(!v(a)||!/[EACM]/.test(a)))throw ef("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",a,b);return a||"EA"}var l={},q="Directive",u=/^\s*directive:\s*([\w-]+)\s+(.*)$/,w=/(([\w-]+)(?::([^;]+))?;?)/,x=K("ngSrc,ngSrcset,src,srcset"),z=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,A=/^(on[a-z]+|formaction)$/,C=qa();this.directive=function a(c,e){return la(c,"name"),na(c,"directive"),v(c)?(h(c),la(e,"directiveFactory"),l.hasOwnProperty(c)||(l[c]=[],b.factory(c+q,["$injector","$exceptionHandler",function(a,b){var e=[];return d(l[c],function(d,f){try{var g=a.invoke(d);y(g)?g={compile:p(g)}:!g.compile&&g.link&&(g.compile=p(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||c,g.require=i(g),g.restrict=k(g.restrict,c),g.$$moduleName=d.$$moduleName,e.push(g)}catch(a){b(a)}}),e}])),l[c].push(e)):d(c,f(a)),this},this.component=function(a,b){function c(a){function c(b){return y(b)||ie(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:e,controllerAs:zb(b.controller)||b.controllerAs||"$ctrl",template:c(f),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return d(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var e=b.controller||function(){};return d(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,y(e)&&(e[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return s(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var D=!0;this.debugInfoEnabled=function(a){return s(a)?(D=a,this):D};var E=!1;this.preAssignBindingsEnabled=function(a){return s(a)?(E=a,this):E};var G=10;this.onChangesTtl=function(a){return arguments.length?(G=a,this):G};var H=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(H=a,this):H};var I=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(I=a,this):I},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(b,c,e,f,h,i,k,p,C,J){function K(){try{if(!--Da)throw xa=void 0,ef("infchng","{0} $onChanges() iterations reached. Aborting!\n",G);k.$apply(function(){for(var a=[],b=0,c=xa.length;b<c;++b)try{xa[b]()}catch(b){a.push(b)}if(xa=void 0,a.length)throw a})}finally{Da++}}function M(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;c<d;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function O(a,b,c){za.innerHTML="<span "+b+">";var d=za.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function Q(a,b){try{a.addClass(b)}catch(a){}}function T(a,b,c,d,e){a instanceof Yd||(a=Yd(a));var f=V(a,b,a,c,d,e);T.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw ef("multilink","This element has already been linked.");la(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new()),d=d||{};var h=d.parentBoundTranscludeFn,i=d.transcludeControllers,j=d.futureParentElement;h&&h.$$boundTransclude&&(h=h.$$boundTransclude),g||(g=U(j));var k;if(k="html"!==g?Yd(pa(g,Yd("<div>").append(a).html())):c?Me.clone.call(a):a,i)for(var l in i)k.data("$"+l+"Controller",i[l].instance);return T.$$addScopeInfo(k,b),c&&c(k,b),f&&f(b,k,k,h),c||(a=f=null),k}}function U(a){var b=a&&a[0];return b&&"foreignobject"!==L(b)&&ce.call(b).match(/SVG/)?"svg":"html"}function V(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,p;if(n){var q=c.length;for(p=new Array(q),j=0;j<o.length;j+=3)l=o[j],p[l]=c[l]}else p=c;for(j=0,k=o.length;j<k;)h=p[o[j++]],f=o[j++],g=o[j++],f?(f.scope?(i=a.$new(),T.$$addScopeInfo(Yd(h),i)):i=a,m=f.transcludeOnThisElement?X(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?X(a,b):null,f(g,i,h,d,m)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n,o=[],p=ie(a)||a instanceof Yd,q=0;q<a.length;q++)h=new M,11===Xd&&W(a,q,p),i=Y(a[q],[],h,0===q?d:void 0,e),j=i.length?ca(i,a[q],h,b,c,null,[],[],f):null,j&&j.scope&&T.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[q].childNodes)||!k.length?null:V(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(o.push(q,j,l),m=!0,n=n||j),f=null;return m?g:null}function W(a,b,c){var d,e=a[b],f=e.parentNode;if(e.nodeType===ve)for(;;){if(d=f?e.nextSibling:a[b+1],!d||d.nodeType!==ve)break;e.nodeValue=e.nodeValue+d.nodeValue,d.parentNode&&d.parentNode.removeChild(d),c&&d===a[b+1]&&a.splice(b+1,1)}}function X(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=qa();for(var f in b.$$slots)b.$$slots[f]?e[f]=X(a,b.$$slots[f],c):e[f]=null;return d}function Y(a,b,c,d,e){var f,g,h,i=a.nodeType,j=c.$attr;switch(i){case te:g=L(a),ga(b,wb(g),"E",d,e);for(var k,l,m,n,o,p,q=a.attributes,r=0,s=q&&q.length;r<s;r++){var u=!1,x=!1;k=q[r],l=k.name,o=k.value,n=wb(l),p=Ha.test(n),p&&(l=l.replace(gf,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=n.match(Ia);y&&ha(y[1])&&(u=l,x=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),m=wb(l.toLowerCase()),j[m]=l,!p&&c.hasOwnProperty(m)||(c[m]=o,Za(a,m)&&(c[m]=!0)),sa(a,b,o,m,p),ga(b,m,"A",d,e,u,x)}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Ca)break;if(h=a.className,t(h)&&(h=h.animVal),v(h)&&""!==h)for(;f=w.exec(h);)m=wb(f[2]),ga(b,m,"C",d,e)&&(c[m]=ke(f[3])),h=h.substr(f.index+f[0].length);break;case ve:oa(b,a.nodeValue);break;case we:if(!Aa)break;$(a,b,c,d,e)}return b.sort(ma),b}function $(a,b,c,d,e){try{var f=u.exec(a.nodeValue);if(f){var g=wb(f[1]);ga(b,g,"M",d,e)&&(c[g]=ke(f[2]))}}catch(a){}}function _(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ef("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType===te&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Yd(d)}function aa(a,b,c){return function(d,e,f,g,h){return e=_(e[0],b,c),a(d,e,f,g,h)}}function ba(a,b,c,d,e,f){var g;return a?T(b,c,d,e,f):function(){return g||(g=T(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function ca(a,b,c,f,g,h,i,k,l){function m(a,b,c,d){a&&(c&&(a=aa(a,c,d)),a.require=o.require,a.directiveName=p,(z===o||o.$$isolateScope)&&(a=ua(a,{isolateScope:!0})),i.push(a)),b&&(c&&(b=aa(b,c,d)),b.require=o.require,b.directiveName=p,(z===o||o.$$isolateScope)&&(b=ua(b,{isolateScope:!0})),k.push(b))}function n(a,f,g,h,l){function m(a,b,c,d){var e;if(B(a)||(d=c,c=b,b=a,a=void 0),G&&(e=u),c||(c=G?C.parent():C),!d)return l(a,b,e,c,N);var f=l.$$slots[d];if(f)return f(a,b,e,c,N);if(r(f))throw ef("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',d,Z(C))}var n,o,p,q,s,u,v,C,D,F;b===g?(D=c,C=c.$$element):(C=Yd(g),D=new M(C,c)),s=f,z?q=f.$new(!0):w&&(s=f.$parent),l&&(v=m,v.$$boundTransclude=l,v.isSlotFilled=function(a){return!!l.$$slots[a]}),x&&(u=ea(C,D,v,x,q,f,z)),z&&(T.$$addScopeInfo(C,q,!0,!(A&&(A===z||A===z.$$originalDirective))),T.$$addScopeClass(C,!0),q.$$isolateBindings=z.$$isolateBindings,F=wa(f,D,q,q.$$isolateBindings,z),F.removeWatches&&q.$on("$destroy",F.removeWatches));for(var H in u){var I=x[H],J=u[H],K=I.$$bindings.bindToController;if(E){K?J.bindingInfo=wa(s,D,J.instance,K,I):J.bindingInfo={};var L=J();L!==J.instance&&(J.instance=L,C.data("$"+I.name+"Controller",L),J.bindingInfo.removeWatches&&J.bindingInfo.removeWatches(),J.bindingInfo=wa(s,D,J.instance,K,I))}else J.instance=J(),C.data("$"+I.name+"Controller",J.instance),J.bindingInfo=wa(s,D,J.instance,K,I)}for(d(x,function(a,b){var c=a.require;a.bindToController&&!ie(c)&&t(c)&&j(u[b].instance,da(b,c,C,u))}),d(u,function(a){var b=a.instance;if(y(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(a){e(a)}if(y(b.$onInit))try{b.$onInit()}catch(a){e(a)}y(b.$doCheck)&&(s.$watch(function(){b.$doCheck()}),b.$doCheck()),y(b.$onDestroy)&&s.$on("$destroy",function(){b.$onDestroy()})}),n=0,o=i.length;n<o;n++)p=i[n],va(p,p.isolateScope?q:f,C,D,p.require&&da(p.directiveName,p.require,C,u),v);var N=f;for(z&&(z.template||null===z.templateUrl)&&(N=q),a&&a(N,g.childNodes,void 0,l),n=k.length-1;n>=0;n--)p=k[n],va(p,p.isolateScope?q:f,C,D,p.require&&da(p.directiveName,p.require,C,u),v);d(u,function(a){var b=a.instance;y(b.$postLink)&&b.$postLink()})}l=l||{};for(var o,p,q,s,u,v=-Number.MAX_VALUE,w=l.newScopeDirective,x=l.controllerDirectives,z=l.newIsolateScopeDirective,A=l.templateDirective,C=l.nonTlbTranscludeDirective,D=!1,F=!1,G=l.hasElementTranscludeDirective,H=c.$$element=Yd(b),I=h,J=f,K=!1,N=!1,O=0,P=a.length;O<P;O++){o=a[O];var Q=o.$$start,U=o.$$end;if(Q&&(H=_(b,Q,U)),q=void 0,v>o.priority)break;if(u=o.scope,u&&(o.templateUrl||(t(u)?(na("new/isolated scope",z||w,o,H),z=o):na("new/isolated scope",z,o,H)),w=w||o),p=o.name,!K&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var V,W=O+1;V=a[W++];)if(V.transclude&&!V.$$tlb||V.replace&&(V.templateUrl||V.template)){N=!0;break}K=!0}if(!o.templateUrl&&o.controller&&(x=x||qa(),na("'"+p+"' controller",x[p],o,H),x[p]=o),u=o.transclude)if(D=!0,o.$$tlb||(na("transclusion",C,o,H),C=o),"element"===u)G=!0,v=o.priority,q=H,H=c.$$element=Yd(T.$$createComment(p,c[p])),b=H[0],ta(g,R(q),b),q[0].$$parentNode=q[0].parentNode,J=ba(N,q,f,v,I&&I.name,{nonTlbTranscludeDirective:C});else{var X=qa();if(t(u)){q=[];var $=qa(),ca=qa();d(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,$[a]=b,X[b]=null,ca[b]=c}),d(H.contents(),function(a){var b=$[wb(L(a))];b?(ca[b]=!0,X[b]=X[b]||[],X[b].push(a)):q.push(a)}),d(ca,function(a,b){if(!a)throw ef("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var ga in X)X[ga]&&(X[ga]=ba(N,X[ga],f))}else q=Yd(Ja(b)).contents();H.empty(),J=ba(N,q,f,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope}),J.$$slots=X}if(o.template)if(F=!0,na("template",A,o,H),A=o,u=y(o.template)?o.template(H,c):o.template,u=Ga(u),o.replace){if(I=o,q=Ba(u)?[]:yb(pa(o.templateNamespace,ke(u))),b=q[0],1!==q.length||b.nodeType!==te)throw ef("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");ta(g,H,b);var ha={$attr:{}},ja=Y(b,[],ha),la=a.splice(O+1,a.length-(O+1));(z||w)&&fa(ja,z,w),a=a.concat(ja).concat(la),ia(c,ha),P=a.length}else H.html(u);if(o.templateUrl)F=!0,na("template",A,o,H),A=o,o.replace&&(I=o),n=ka(a.splice(O,a.length-O),H,c,g,D&&J,i,k,{controllerDirectives:x,newScopeDirective:w!==o&&w,newIsolateScopeDirective:z,templateDirective:A,nonTlbTranscludeDirective:C}),P=a.length;else if(o.compile)try{s=o.compile(H,c,J);var ma=o.$$originalDirective||o;y(s)?m(null,S(ma,s),Q,U):s&&m(S(ma,s.pre),S(ma,s.post),Q,U)}catch(a){e(a,Z(H))}o.terminal&&(n.terminal=!0,v=Math.max(v,o.priority))}return n.scope=w&&w.scope===!0,n.transcludeOnThisElement=D,n.templateOnThisElement=F,n.transclude=J,l.hasElementTranscludeDirective=G,n}function da(a,b,c,e){var f;if(v(b)){var g=b.match(z),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(f=e&&e[h],f=f&&f.instance),!f){var k="$"+h+"Controller";f=i?c.inheritedData(k):c.data(k)}if(!f&&!j)throw ef("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(ie(b)){f=[];for(var l=0,m=b.length;l<m;l++)f[l]=da(a,b[l],c,e)}else t(b)&&(f={},d(b,function(b,d){f[d]=da(a,b,c,e)}));return f||null}function ea(a,b,c,d,e,f,g){var h=qa();for(var j in d){var k=d[j],l={$scope:k===g||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=k.controller;"@"===m&&(m=b[k.name]);var n=i(m,l,!0,k.controllerAs);h[k.name]=n,a.data("$"+k.name+"Controller",n.instance)}return h}function fa(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=m(a[d],{$$isolateScope:b,$$newScope:c})}function ga(a,c,d,e,f,h,i){if(c===f)return null;var j=null;if(l.hasOwnProperty(c))for(var k,n=b.get(c+q),o=0,p=n.length;o<p;o++)if(k=n[o],(r(e)||e>k.priority)&&k.restrict.indexOf(d)!==-1){if(h&&(k=m(k,{$$start:h,$$end:i})),!k.$$bindings){var s=k.$$bindings=g(k,k.name);t(s.isolateScope)&&(k.$$isolateBindings=s.isolateScope)}a.push(k),j=k}return j}function ha(a){if(l.hasOwnProperty(a))for(var c,d=b.get(a+q),e=0,f=d.length;e<f;e++)if(c=d[e],c.multiElement)return!0;return!1}function ia(a,b){var c=b.$attr,e=a.$attr;d(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d.length?d+=("style"===e?";":" ")+b[e]:d=b[e]),a.$set(e,d,!0,c[e]))}),d(b,function(b,d){a.hasOwnProperty(d)||"$"===d.charAt(0)||(a[d]=b,"class"!==d&&"style"!==d&&(e[d]=c[d]))})}function ka(a,b,c,g,h,i,j,k){var l,o,p=[],q=b[0],r=a.shift(),s=m(r,{templateUrl:null,transclude:null,replace:null,$$originalDirective:r}),u=y(r.templateUrl)?r.templateUrl(b,c):r.templateUrl,v=r.templateNamespace;return b.empty(),f(u).then(function(e){var f,m,n,w;if(e=Ga(e),r.replace){if(n=Ba(e)?[]:yb(pa(v,ke(e))),f=n[0],1!==n.length||f.nodeType!==te)throw ef("tplrt","Template for directive '{0}' must have exactly one root element. {1}",r.name,u);m={$attr:{}},ta(g,b,f);var x=Y(f,[],m);t(r.scope)&&fa(x,!0),a=x.concat(a),ia(c,m)}else f=q,b.html(e);for(a.unshift(s),l=ca(a,f,c,h,b,r,i,j,k),d(g,function(a,c){a===f&&(g[c]=b[0])}),o=V(b[0].childNodes,h);p.length;){var y=p.shift(),z=p.shift(),A=p.shift(),B=p.shift(),C=b[0];if(!y.$$destroyed){if(z!==q){var D=z.className;k.hasElementTranscludeDirective&&r.replace||(C=Ja(f)),ta(A,Yd(z),C),Q(Yd(C),D)}w=l.transcludeOnThisElement?X(y,l.transclude,B):B,l(o,y,C,g,w)}}p=null}).catch(function(a){a instanceof Error&&e(a)}).catch(n),function(a,b,c,d,e){var f=e;b.$$destroyed||(p?p.push(b,c,d,f):(l.transcludeOnThisElement&&(f=X(b,l.transclude,e)),l(o,b,c,d,f)))}}function ma(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function na(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ef("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Z(d))}function oa(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=!!b.length;return c&&T.$$addBindingClass(b),function(a,b){var e=b.parent();c||T.$$addBindingClass(e),T.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function pa(b,c){switch(b=Td(b||"html")){case"svg":case"math":var d=a.document.createElement("div");return d.innerHTML="<"+b+">"+c+"</"+b+">",d.childNodes[0].childNodes;default:return c}}function ra(a,b){if("srcdoc"===b)return p.HTML;var c=L(a);if("src"===b||"ngSrc"===b){if(["img","video","audio","source","track"].indexOf(c)===-1)return p.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b||"link"===c&&"href"===b)return p.RESOURCE_URL}function sa(a,b,d,e,f){var g=ra(a,e),h=!f,i=x[e]||f,j=c(d,h,g,i);if(j){if("multiple"===e&&"select"===L(a))throw ef("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(a));if(A.test(e))throw ef("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");b.push({priority:100,compile:function(){return{pre:function(a,b,f){var h=f.$$observers||(f.$$observers=qa()),k=f[e];k!==d&&(j=k&&c(k,!0,g,i),d=k),j&&(f[e]=j(a),(h[e]||(h[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(j,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function ta(b,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(b)for(e=0,f=b.length;e<f;e++)if(b[e]===g){b[e++]=d;for(var j=e,k=j+h-1,l=b.length;j<l;j++,k++)k<l?b[j]=b[k]:delete b[j];b.length-=h-1,b.context===g&&(b.context=d);break}i&&i.replaceChild(d,g);var m=a.document.createDocumentFragment();for(e=0;e<h;e++)m.appendChild(c[e]);for(Yd.hasData(g)&&(Yd.data(d,Yd.data(g)),Yd(g).off("$destroy")),Yd.cleanData(m.querySelectorAll("*")),e=1;e<h;e++)delete c[e];c[0]=d,c.length=1}function ua(a,b){return j(function(){return a.apply(null,arguments)},a,b)}function va(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(a){e(a,Z(c))}}function wa(a,b,e,f,g){function i(b,c,d){!y(e.$onChanges)||c===d||c!==c&&d!==d||(xa||(a.$$postDigest(K),xa=[]),k||(k={},xa.push(j)),k[b]&&(d=k[b].previousValue),k[b]=new vb(d,c))}function j(){e.$onChanges(k),k=void 0}var k,l=[],m={};return d(f,function(d,f){var j,k,o,p,q,r=d.attrName,s=d.optional,t=d.mode;switch(t){case"@":s||Sd.call(b,r)||(e[f]=b[r]=void 0),q=b.$observe(r,function(a){if(v(a)||F(a)){var b=e[f];i(f,a,b),e[f]=a}}),b.$$observers[r].$$scope=a,j=b[r],v(j)?e[f]=c(j)(a):F(j)&&(e[f]=j),m[f]=new vb(ff,e[f]),l.push(q);break;case"=":if(!Sd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),p=k.literal?P:function(a,b){return a===b||a!==a&&b!==b},o=k.assign||function(){throw j=e[f]=k(a),ef("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[r],r,g.name)},j=e[f]=k(a);var u=function(b){return p(b,e[f])||(p(b,j)?o(a,b=e[f]):e[f]=b),j=b};u.$stateful=!0,q=d.collection?a.$watchCollection(b[r],u):a.$watch(h(b[r],u),null,k.literal),
l.push(q);break;case"<":if(!Sd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]);var w=k.literal,x=e[f]=k(a);m[f]=new vb(ff,e[f]),q=a.$watch(k,function(a,b){if(b===a){if(b===x||w&&P(b,x))return;b=x}i(f,a,b),e[f]=a},w),l.push(q);break;case"&":if(k=b.hasOwnProperty(r)?h(b[r]):n,k===n&&s)break;e[f]=function(b){return k(a,b)}}}),{initialChanges:m,removeWatches:l.length&&function(){for(var a=0,b=l.length;a<b;++a)l[a]()}}}var xa,ya=/^\w/,za=a.document.createElement("div"),Aa=H,Ca=I,Da=G;M.prototype={$normalize:wb,$addClass:function(a){a&&a.length>0&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=xb(a,b);c&&c.length&&C.addClass(this.$$element,c);var d=xb(b,a);d&&d.length&&C.removeClass(this.$$element,d)},$set:function(a,b,c,f){var g,h=this.$$element[0],i=Za(h,a),j=$a(a),k=a;if(i?(this.$$element.prop(a,b),f=i):j&&(this[j]=b,k=j),this[a]=b,f?this.$attr[a]=f:(f=this.$attr[a],f||(this.$attr[a]=f=ja(a,"-"))),g=L(this.$$element),"a"===g&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=J(b,"src"===a);else if("img"===g&&"srcset"===a&&s(b)){for(var l="",m=ke(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),t=0;t<q;t++){var u=2*t;l+=J(ke(p[u]),!0),l+=" "+ke(p[u+1])}var v=ke(p[2*t]).split(/\s/);l+=J(ke(v[0]),!0),2===v.length&&(l+=" "+ke(v[1])),this[a]=b=l}c!==!1&&(null===b||r(b)?this.$$element.removeAttr(f):ya.test(f)?this.$$element.attr(f,b):O(this.$$element[0],f,b));var w=this.$$observers;w&&d(w[k],function(a){try{a(b)}catch(a){e(a)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=qa()),e=d[a]||(d[a]=[]);return e.push(b),k.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||r(c[a])||b(c[a])}),function(){N(e,b)}}};var Ea=c.startSymbol(),Fa=c.endSymbol(),Ga="{{"===Ea&&"}}"===Fa?o:function(a){return a.replace(/\{\{/g,Ea).replace(/}}/g,Fa)},Ha=/^ngAttr[A-Z]/,Ia=/^(.+)Start$/;return T.$$addBindingInfo=D?function(a,b){var c=a.data("$binding")||[];ie(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:n,T.$$addBindingClass=D?function(a){Q(a,"ng-binding")}:n,T.$$addScopeInfo=D?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:n,T.$$addScopeClass=D?function(a,b){Q(a,b?"ng-isolate-scope":"ng-scope")}:n,T.$$createComment=function(b,c){var d="";return D&&(d=" "+(b||"")+": ",c&&(d+=c+" ")),a.document.createComment(d)},T}]}function vb(a,b){this.previousValue=a,this.currentValue=b}function wb(a){return a.replace(gf,"").replace(hf,za)}function xb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g===e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function yb(a){a=Yd(a);var b=a.length;if(b<=1)return a;for(;b--;){var c=a[b];(c.nodeType===we||c.nodeType===ve&&""===c.nodeValue.trim())&&ae.call(a,b,1)}return a}function zb(a,b){if(b&&v(b))return b;if(v(a)){var c=kf.exec(a);if(c)return c[3]}}function Ab(){var a={},c=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){na(b,"controller"),t(b)?j(a,b):a[b]=c},this.allowGlobals=function(){c=!0},this.$get=["$injector","$window",function(d,e){function f(a,c,d,e){if(!a||!t(a.$scope))throw b("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,c);a.$scope[c]=d}return function(b,g,h,i){var k,l,m,n;if(h=h===!0,i&&v(i)&&(n=i),v(b)){if(l=b.match(kf),!l)throw jf("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",b);if(m=l[1],n=n||l[3],b=a.hasOwnProperty(m)?a[m]:oa(g.$scope,m,!0)||(c?oa(e,m,!0):void 0),!b)throw jf("ctrlreg","The controller with the name '{0}' is not registered.",m);ma(b,m,!0)}if(h){var o=(ie(b)?b[b.length-1]:b).prototype;return k=Object.create(o||null),n&&f(g,n,k,m||b.name),j(function(){var a=d.invoke(b,k,g,m);return a!==k&&(t(a)||y(a))&&(k=a,n&&f(g,n,k,m||b.name)),k},{instance:k,identifier:n})}return k=d.instantiate(b,g,m),n&&f(g,n,k,m||b.name),k}}]}function Bb(){this.$get=["$window",function(a){return Yd(a.document)}]}function Cb(){this.$get=["$document","$rootScope",function(a,b){function c(){e=d.hidden}var d=a[0],e=d&&d.hidden;return a.on("visibilitychange",c),b.$on("$destroy",function(){a.off("visibilitychange",c)}),function(){return e}}]}function Db(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function Eb(a){return t(a)?x(a)?a.toISOString():U(a):a}function Fb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return e(a,function(a,c){null===a||r(a)||(ie(a)?d(a,function(a){b.push(ca(c)+"="+ca(Eb(a)))}):b.push(ca(c)+"="+ca(Eb(a))))}),b.join("&")}}}function Gb(){this.$get=function(){return function(a){function b(a,f,g){null===a||r(a)||(ie(a)?d(a,function(a,c){b(a,f+"["+(t(a)?c:"")+"]")}):t(a)&&!x(a)?e(a,function(a,c){b(a,f+(g?"":"[")+c+(g?"":"]"))}):c.push(ca(f)+"="+ca(Eb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function Hb(a,b){if(v(a)){var c=a.replace(qf,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(mf)||Ib(c))&&(a=V(c))}}return a}function Ib(a){var b=a.match(of);return b&&pf[b[0]].test(a)}function Jb(a){function b(a,b){a&&(e[a]=e[a]?e[a]+", "+b:b)}var c,e=qa();return v(a)?d(a.split("\n"),function(a){c=a.indexOf(":"),b(Td(ke(a.substr(0,c))),ke(a.substr(c+1)))}):t(a)&&d(a,function(a,c){b(Td(c),ke(a))}),e}function Kb(a){var b;return function(c){if(b||(b=Jb(a)),c){var d=b[Td(c)];return void 0===d&&(d=null),d}return b}}function Lb(a,b,c,e){return y(e)?e(a,b,c):(d(e,function(d){a=d(a,b,c)}),a)}function Mb(a){return 200<=a&&a<300}function Nb(){var a=this.defaults={transformResponse:[Hb],transformRequest:[function(a){return!t(a)||C(a)||E(a)||D(a)?a:U(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ta(nf),put:ta(nf),patch:ta(nf)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},c=!1;this.useApplyAsync=function(a){return s(a)?(c=!!a,this):c};var e=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(f,g,h,i,k,l,m,o){function p(c){function e(a,b){for(var c=0,d=b.length;c<d;){var e=b[c++],f=b[c++];a=a.then(e,f)}return b.length=0,a}function g(){f.$$completeOutstandingRequest(n)}function h(a,b){var c,e={};return d(a,function(a,d){y(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a}),e}function i(b){var c,d,e,f=a.headers,g=j({},b.headers);f=j({},f.common,f[Td(b.method)]);a:for(c in f){d=Td(c);for(e in g)if(Td(e)===d)continue a;g[c]=f[c]}return h(g,ta(b))}function k(b){var c=b.headers,e=Lb(b.data,Kb(c),void 0,b.transformRequest);return r(e)&&d(c,function(a,b){"content-type"===Td(b)&&delete c[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),w(b,e).then(p,p)}function p(a){var b=j({},a);return b.data=Lb(a.data,a.headers,a.status,q.transformResponse),Mb(a.status)?b:l.reject(b)}if(!t(c))throw b("$http")("badreq","Http request configuration must be an object.  Received: {0}",c);if(!v(o.valueOf(c.url)))throw b("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",c.url);var q=j({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},c);q.headers=i(c),q.method=Ud(q.method),q.paramSerializer=v(q.paramSerializer)?m.get(q.paramSerializer):q.paramSerializer,f.$$incOutstandingRequestCount();var s=[],u=[],x=l.resolve(q);return d(B,function(a){(a.request||a.requestError)&&s.unshift(a.request,a.requestError),(a.response||a.responseError)&&u.push(a.response,a.responseError)}),x=e(x,s),x=x.then(k),x=e(x,u),x=x.finally(g)}function q(a){d(arguments,function(a){p[a]=function(b,c){return p(j({},c||{},{method:a,url:b}))}})}function u(a){d(arguments,function(a){p[a]=function(b,c,d){return p(j({},d||{},{method:a,url:b,data:c}))}})}function w(b,e){function f(a){if(a){var b={};return d(a,function(a,d){b[d]=function(b){function d(){a(b)}c?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}}),b}}function i(a,b,d,e){function f(){j(b,a,d,e)}q&&(Mb(a)?q.put(D,[a,b,Jb(d),e]):q.remove(D)),c?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function j(a,c,d,e){c=c>=-1?c:0,(Mb(c)?w.resolve:w.reject)({data:a,status:c,headers:Kb(d),config:b,statusText:e})}function m(a){j(a.data,a.status,ta(a.headers()),a.statusText)}function n(){var a=p.pendingRequests.indexOf(b);a!==-1&&p.pendingRequests.splice(a,1)}var q,u,w=l.defer(),y=w.promise,B=b.headers,C="jsonp"===Td(b.method),D=b.url;if(C?D=o.getTrustedResourceUrl(D):v(D)||(D=o.valueOf(D)),D=x(D,b.paramSerializer(b.params)),C&&(D=z(D,b.jsonpCallbackParam)),p.pendingRequests.push(b),y.then(n,n),!b.cache&&!a.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(q=t(b.cache)?b.cache:t(a.cache)?a.cache:A),q&&(u=q.get(D),s(u)?G(u)?u.then(m,m):ie(u)?j(u[1],u[0],ta(u[2]),u[3]):j(u,200,{},"OK"):q.put(D,y)),r(u)){var E=Lc(b.url)?h()[b.xsrfCookieName||a.xsrfCookieName]:void 0;E&&(B[b.xsrfHeaderName||a.xsrfHeaderName]=E),g(b.method,D,e,i,B,b.timeout,b.withCredentials,b.responseType,f(b.eventHandlers),f(b.uploadEventHandlers))}return y}function x(a,b){return b.length>0&&(a+=(a.indexOf("?")===-1?"?":"&")+b),a}function z(a,b){if(/[&?][^=]+=JSON_CALLBACK/.test(a))throw rf("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',a);var c=new RegExp("[&?]"+b+"=");if(c.test(a))throw rf("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',b,a);return a+=(a.indexOf("?")===-1?"?":"&")+b+"=JSON_CALLBACK"}var A=i("$http");a.paramSerializer=v(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var B=[];return d(e,function(a){B.unshift(v(a)?m.get(a):m.invoke(a))}),p.pendingRequests=[],q("get","delete","head","jsonp"),u("post","put","patch"),p.defaults=a,p}]}function Ob(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Pb(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,c,d){return Qb(a,d,a.defer,b,c[0])}]}function Qb(a,b,c,e,f){function g(a,b,c){a=a.replace("JSON_CALLBACK",b);var d=f.createElement("script"),g=null;return d.type="text/javascript",d.src=a,d.async=!0,g=function(a){d.removeEventListener("load",g),d.removeEventListener("error",g),f.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e.wasCalled(b)||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},d.addEventListener("load",g),d.addEventListener("error",g),f.body.appendChild(d),g}return function(f,h,i,j,k,l,m,n,o,p){function q(){v&&v(),w&&w.abort()}function t(a,b,d,e,f){s(y)&&c.cancel(y),v=w=null,a(b,d,e,f)}if(h=h||a.url(),"jsonp"===Td(f))var u=e.createCallback(h),v=g(h,u,function(a,b){var c=200===a&&e.getResponse(u);t(j,a,c,"",b),e.removeCallback(u)});else{var w=b(f,h);w.open(f,h,!0),d(k,function(a,b){s(a)&&w.setRequestHeader(b,a)}),w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=1223===w.status?204:w.status;0===c&&(c=b?200:"file"===Kc(h).protocol?404:0),t(j,c,b,w.getAllResponseHeaders(),a)};var x=function(){t(j,-1,null,null,"")};if(w.onerror=x,w.onabort=x,w.ontimeout=x,d(o,function(a,b){w.addEventListener(b,a)}),d(p,function(a,b){w.upload.addEventListener(b,a)}),m&&(w.withCredentials=!0),n)try{w.responseType=n}catch(a){if("json"!==n)throw a}w.send(r(i)?null:i)}if(l>0)var y=c(q,l);else G(l)&&l.then(q)}}function Rb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(m,a).replace(n,b)}function h(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function i(f,i,m,n){function o(a){try{return a=F(a),n&&!s(a)?a:ra(a)}catch(a){d(sf.interr(f,a))}}if(!f.length||f.indexOf(a)===-1){var q;if(!i){var t=g(f);q=p(t),q.exp=f,q.expressions=[],q.$$watchDelegate=h}return q}n=!!n;for(var u,v,w,x=0,z=[],A=[],B=f.length,C=[],D=[];x<B;){if((u=f.indexOf(a,x))===-1||(v=f.indexOf(b,u+k))===-1){x!==B&&C.push(g(f.substring(x)));break}x!==u&&C.push(g(f.substring(x,u))),w=f.substring(u+k,v),z.push(w),A.push(c(w,o)),x=v+l,D.push(C.length),C.push("")}if(m&&C.length>1&&sf.throwNoconcat(f),!i||z.length){var E=function(a){for(var b=0,c=z.length;b<c;b++){if(n&&r(a[b]))return;C[D[b]]=a[b]}return C.join("")},F=function(a){return m?e.getTrusted(m,a):e.valueOf(a)};return j(function(a){var b=0,c=z.length,e=new Array(c);try{for(;b<c;b++)e[b]=A[b](a);return E(e)}catch(a){d(sf.interr(f,a))}},{exp:f,expressions:z,$$watchDelegate:function(a,b){var c;return a.$watchGroup(A,function(d,e){var f=E(d);y(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var k=a.length,l=b.length,m=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");return i.startSymbol=function(){return a},i.endSymbol=function(){return b},i}]}function Sb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?R(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=s(j)&&!j,r=(q?d:c).defer(),t=r.promise;return i=s(i)?i:0,t.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(t.$$intervalId),delete g[t.$$intervalId]),q||a.$apply()},h),g[t.$$intervalId]=r,t}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].promise.catch(n),g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function Tb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ba(b[c]);return b.join("/")}function Ub(a,b){var c=Kc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=l(c.port)||vf[c.protocol]||null}function Vb(a,b){if(xf.test(a))throw wf("badpath",'Invalid url "{0}".',a);var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Kc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=_(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Wb(a,b){return a.slice(0,b.length)===b}function Xb(a,b){if(Wb(b,a))return b.substr(a.length)}function Yb(a){var b=a.indexOf("#");return b===-1?a:a.substr(0,b)}function Zb(a){return a.replace(/(#.+)|#$/,"$1")}function $b(a){return a.substr(0,Yb(a).lastIndexOf("/")+1)}function _b(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function ac(a,b,c){this.$$html5=!0,c=c||"",Ub(a,this),this.$$parse=function(a){var c=Xb(b,a);if(!v(c))throw wf("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Vb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=aa(this.$$search),c=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Tb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return s(f=Xb(a,d))?(g=f,h=c&&s(f=Xb(c,f))?b+(Xb("/",f)||f):a+g):s(f=Xb(b,d))?h=b+f:b===d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function bc(a,b,c){Ub(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return Wb(b,c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Xb(a,d)||Xb(b,d);r(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",r(g)&&(a=d,this.replace())):(f=Xb(c,g),r(f)&&(f=g)),Vb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Tb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Yb(a)===Yb(b)&&(this.$$parse(b),!0)}}function cc(a,b,c){this.$$html5=!0,bc.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a===Yb(d)?f=d:(g=Xb(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Tb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function dc(a){return function(){return this[a]}}function ec(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function fc(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return F(a)?(b.enabled=a,this):t(a)?(F(a.enabled)&&(b.enabled=a.enabled),F(a.requireBase)&&(b.requireBase=a.requireBase),(F(a.rewriteLinks)||v(a.rewriteLinks))&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(a){throw j.url(e),j.$$state=f,a}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw wf("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=_b(n)+(m||"/"),k=e.history?ac:cc}else l=Yb(n),k=bc;var o=$b(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var h=Yd(a.target);"a"!==L(h[0]);)if(h[0]===f[0]||!(h=h.parent())[0])return;if(!v(e)||!r(h.attr(e))){var i=h.prop("href"),k=h.attr("href")||h.attr("xlink:href");t(i)&&"[object SVGAnimatedString]"===i.toString()&&(i=Kc(i.animVal).href),p.test(i)||!i||h.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(i,k)&&(a.preventDefault(),j.absUrl()!==d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}}),Zb(j.absUrl())!==Zb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return Wb(a,o)?(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Zb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest())):void(g.location.href=a)}),c.$watch(function(){var a=Zb(d.url()),b=Zb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function gc(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function e(a){return a instanceof Error&&(a.stack?a=a.message&&a.stack.indexOf(a.message)===-1?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function f(a){var b=c.console||{},f=b[a]||b.log||n,g=!1;try{g=!!f.apply}catch(a){}return g?function(){var a=[];return d(arguments,function(b){a.push(e(b))}),f.apply(b,a)}:function(a,b){f(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function hc(a){return a+""}function ic(a,b){return"undefined"!=typeof a?a:b}function jc(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function kc(a,b){var c=a(b);return!c.$stateful}function lc(a,b){var c,e,f;switch(a.type){case Ef.Program:c=!0,d(a.body,function(a){lc(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case Ef.Literal:a.constant=!0,a.toWatch=[];break;case Ef.UnaryExpression:lc(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case Ef.BinaryExpression:lc(a.left,b),lc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case Ef.LogicalExpression:lc(a.left,b),lc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case Ef.ConditionalExpression:lc(a.test,b),lc(a.alternate,b),lc(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case Ef.Identifier:a.constant=!1,a.toWatch=[a];break;case Ef.MemberExpression:lc(a.object,b),a.computed&&lc(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case Ef.CallExpression:f=!!a.filter&&kc(b,a.callee.name),c=f,e=[],d(a.arguments,function(a){lc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=f?e:[a];break;case Ef.AssignmentExpression:lc(a.left,b),lc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case Ef.ArrayExpression:c=!0,e=[],d(a.elements,function(a){lc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case Ef.ObjectExpression:c=!0,e=[],d(a.properties,function(a){lc(a.value,b),c=c&&a.value.constant&&!a.computed,a.value.constant||e.push.apply(e,a.value.toWatch)}),a.constant=c,a.toWatch=e;break;case Ef.ThisExpression:a.constant=!1,a.toWatch=[];break;case Ef.LocalsExpression:a.constant=!1,a.toWatch=[]}}function mc(a){if(1===a.length){var b=a[0].expression,c=b.toWatch;return 1!==c.length?c:c[0]!==b?c:void 0}}function nc(a){return a.type===Ef.Identifier||a.type===Ef.MemberExpression}function oc(a){if(1===a.body.length&&nc(a.body[0].expression))return{type:Ef.AssignmentExpression,left:a.body[0].expression,right:{type:Ef.NGValueParameter},operator:"="}}function pc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===Ef.Literal||a.body[0].expression.type===Ef.ArrayExpression||a.body[0].expression.type===Ef.ObjectExpression)}function qc(a){return a.constant}function rc(a,b){this.astBuilder=a,this.$filter=b}function sc(a,b){this.astBuilder=a,this.$filter=b}function tc(a){return y(a.valueOf)?a.valueOf():Af.call(a)}function uc(){var a,b,c=qa(),e={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,b){e[a]=b},this.setIdentifierFns=function(c,d){return a=c,b=d,this},this.$get=["$filter",function(f){function g(a,b){var d,e,g;switch(typeof a){case"string":if(a=a.trim(),g=a,d=c[g],!d){":"===a.charAt(0)&&":"===a.charAt(1)&&(e=!0,a=a.substring(2));var h=new Df(p),o=new Ff(h,f,p);d=o.parse(a),d.constant?d.$$watchDelegate=l:e?d.$$watchDelegate=d.literal?k:j:d.inputs&&(d.$$watchDelegate=i),c[g]=d}return m(d,b);case"function":return m(a,b);default:return m(n,b)}}function h(a,b){return null==a||null==b?a===b:("object"!=typeof a||(a=tc(a),"object"!=typeof a))&&(a===b||a!==a&&b!==b)}function i(a,b,c,d,e){var f,g=d.inputs;if(1===g.length){var i=h;return g=g[0],a.$watch(function(a){var b=g(a);return h(b,i)||(f=d(a,void 0,void 0,[b]),i=b&&tc(b)),f},b,c,e)}for(var j=[],k=[],l=0,m=g.length;l<m;l++)j[l]=h,k[l]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var i=g[c](a);(b||(b=!h(i,j[c])))&&(k[c]=i,j[c]=i&&tc(i))}return b&&(f=d(a,void 0,void 0,k)),f},b,c,e)}function j(a,b,c,d,e){function f(a){return d(a)}function g(a,c,d){j=a,y(b)&&b(a,c,d),s(a)&&d.$$postDigest(function(){s(j)&&h()})}var h,j;return h=d.inputs?i(a,g,c,d,e):a.$watch(f,g,c)}function k(a,b,c,e){function f(a){var b=!0;return d(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return e(a)},function(a,c,d){h=a,y(b)&&b(a,c,d),f(a)&&d.$$postDigest(function(){f(h)&&g()})},c)}function l(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==k&&c!==j,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return s(g)?h:g};return d=!a.inputs,a.$$watchDelegate&&a.$$watchDelegate!==i?(f.$$watchDelegate=a.$$watchDelegate,f.inputs=a.inputs):b.$stateful||(f.$$watchDelegate=i,f.inputs=a.inputs?a.inputs:[a]),f}var o=me().noUnsafeEval,p={csp:o,literals:O(e),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b};return g}]}function vc(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,c){return xc(function(a){b.$evalAsync(a)},c,a)}],this.errorOnUnhandledRejections=function(b){return s(b)?(a=b,this):a}}function wc(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,c){return xc(function(a){b.defer(a)},c,a)}],this.errorOnUnhandledRejections=function(b){return s(b)?(a=b,this):a}}function xc(a,c,e){function f(){return new g}function g(){var a=this.promise=new h;this.resolve=function(b){m(a,b)},this.reject=function(b){o(a,b)},this.notify=function(b){q(a,b)}}function h(){this.$$state={status:0}}function i(b){var c,d,f;f=b.pending,b.processScheduled=!1,b.pending=void 0;try{for(var g=0,h=f.length;g<h;++g){b.pur=!0,d=f[g][0],c=f[g][b.status];try{y(c)?m(d,c(b.value)):1===b.status?m(d,b.value):o(d,b.value)}catch(a){o(d,a)}}}finally{--B,e&&0===B&&a(k)}}function k(){for(;!B&&C.length;){var a=C.shift();if(!a.pur){a.pur=!0;var b="Possibly unhandled rejection: "+va(a.value);a.value instanceof Error?c(a.value,b):c(b)}}}function l(b){!e||b.pending||2!==b.status||b.pur||(0===B&&0===C.length&&a(k),C.push(b)),!b.processScheduled&&b.pending&&(b.processScheduled=!0,++B,a(function(){i(b)}))}function m(a,b){a.$$state.status||(b===a?p(a,A("qcycle","Expected promise to be resolved with value other than itself '{0}'",b)):n(a,b))}function n(a,b){function c(b){g||(g=!0,n(a,b))}function d(b){g||(g=!0,p(a,b))}function e(b){q(a,b)}var f,g=!1;try{(t(b)||y(b))&&(f=b.then),y(f)?(a.$$state.status=-1,f.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,l(a.$$state))}catch(a){d(a)}}function o(a,b){a.$$state.status||p(a,b)}function p(a,b){a.$$state.value=b,a.$$state.status=2,l(a.$$state)}function q(b,d){var e=b.$$state.pending;b.$$state.status<=0&&e&&e.length&&a(function(){for(var a,b,f=0,g=e.length;f<g;f++){b=e[f][0],a=e[f][3];try{q(b,y(a)?a(d):d)}catch(a){c(a)}}})}function s(a){var b=new h;return o(b,a),b}function u(a,b,c){var d=null;try{y(c)&&(d=c())}catch(a){return s(a)}return G(d)?d.then(function(){return b(a)},s):b(a)}function v(a,b,c,d){var e=new h;return m(e,a),e.then(b,c,d)}function w(a){var b=new h,c=0,e=ie(a)?[]:{};return d(a,function(a,d){c++,v(a).then(function(a){e[d]=a,--c||m(b,e)},function(a){o(b,a)})}),0===c&&m(b,e),b}function x(a){var b=f();return d(a,function(a){v(a).then(b.resolve,b.reject)}),b.promise}function z(a){function b(a){m(d,a)}function c(a){o(d,a)}if(!y(a))throw A("norslvr","Expected resolverFn, got '{0}'",a);var d=new h;return a(b,c),d}var A=b("$q",TypeError),B=0,C=[];j(h.prototype,{then:function(a,b,c){if(r(a)&&r(b)&&r(c))return this;var d=new h;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&l(this.$$state),d},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return u(b,D,a)},function(b){return u(b,s,a)},b)}});var D=v;return z.prototype=h.prototype,z.defer=f,z.reject=s,z.when=v,z.resolve=D,z.all=w,z.race=x,z}function yc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function zc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=g(),this.$$ChildScope=null}return b.prototype=a,b}var e=10,f=b("$rootScope"),h=null,i=null;this.digestTtl=function(a){return arguments.length&&(e=a),e},this.$get=["$exceptionHandler","$parse","$browser",function(b,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Xd&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function o(){this.$id=g(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(z.$$phase)throw f("inprog","{0} already in progress",z.$$phase);z.$$phase=a}function q(){z.$$phase=null}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function v(){}function w(){for(;C.length;)try{C.shift()()}catch(a){b(a)}i=null}function x(){null===i&&(i=k.defer(function(){z.$apply(w)}))}o.prototype={constructor:o,$new:function(b,c){var d;return c=c||this,b?(d=new o,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,g=f.$$watchers,i={fn:b,last:v,get:e,exp:d||a,eq:!!c};return h=null,y(b)||(i.fn=n),g||(g=f.$$watchers=[],g.$$digestWatchIndex=-1),g.unshift(i),g.$$digestWatchIndex++,s(this,1),function(){var a=N(g,i);a>=0&&(s(f,-1),a<g.$$digestWatchIndex&&g.$$digestWatchIndex--),h=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(f,f,h)):b(f,e,h)}var e=new Array(a.length),f=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(f,f,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,d){f[0]=a,e[0]=c,b(f,a===c?f:e,d)}):(d(a,function(a,b){var d=h.$watch(a,function(a,d){f[b]=a,e[b]=d,i||(i=!0,h.$evalAsync(c))});g.push(d)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function d(a){f=a;var b,d,e,h,i;if(!r(f)){if(t(f))if(c(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;j<b;j++)i=g[j],h=f[j],e=i!==i&&h!==h,e||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(d in f)Sd.call(f,d)&&(b++,h=f[d],i=g[d],d in g?(e=i!==i&&h!==h,e||i===h||(l++,g[d]=h)):(q++,g[d]=h,l++));if(q>b){l++;for(d in g)Sd.call(f,d)||(q--,delete g[d])}}else g!==f&&(g=f,l++);return l}}function e(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(t(f))if(c(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var d in f)Sd.call(f,d)&&(h[d]=f[d])}else h=f}d.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,d),n=[],o={},p=!0,q=0;return this.$watch(m,e)},$digest:function(){var a,c,d,g,j,l,m,n,o,r,s,t=e,u=this,x=[];p("$digest"),k.$$checkUrlChange(),this===z&&null!==i&&(k.defer.cancel(i),w()),h=null;do{m=!1,o=u;for(var C=0;C<A.length;C++){try{s=A[C],s.scope.$eval(s.expression,s.locals)}catch(a){b(a)}h=null}A.length=0;a:do{if(l=o.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(a=l[l.$$digestWatchIndex])if(j=a.get,(c=j(o))===(d=a.last)||(a.eq?P(c,d):he(c)&&he(d))){if(a===h){m=!1;break a}}else m=!0,h=a,a.last=a.eq?O(c,null):c,g=a.fn,g(c,d===v?c:d,o),t<5&&(r=4-t,x[r]||(x[r]=[]),x[r].push({msg:y(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:c,oldVal:d}))}catch(a){b(a)}if(!(n=o.$$watchersCount&&o.$$childHead||o!==u&&o.$$nextSibling))for(;o!==u&&!(n=o.$$nextSibling);)o=o.$parent}while(o=n);if((m||A.length)&&!t--)throw q(),f("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(m||A.length);for(q();D<B.length;)try{B[D++]()}catch(a){b(a)}B.length=D=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===z&&k.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),
this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=n,this.$on=this.$watch=this.$watchGroup=function(){return n},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){z.$$phase||A.length||k.defer(function(){A.length&&z.$digest()}),A.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{q()}}catch(a){b(a)}finally{try{z.$digest()}catch(a){throw b(a),a}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);d!==-1&&(c[d]=null,u(e,1,a))}},$emit:function(a,c){var d,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=Q([j],arguments,1);do{for(d=h.$$listeners[a]||g,j.currentScope=h,e=0,f=d.length;e<f;e++)if(d[e])try{d[e].apply(null,k)}catch(a){b(a)}else d.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,c){var d=this,e=d,f=d,g={name:a,targetScope:d,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!d.$$listenerCount[a])return g;for(var h,i,j,k=Q([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;i<j;i++)if(h[i])try{h[i].apply(null,k)}catch(a){b(a)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==d&&e.$$nextSibling))for(;e!==d&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var z=new o,A=z.$$asyncQueue=[],B=z.$$postDigestQueue=[],C=z.$$applyAsyncQueue=[],D=0;return z}]}function Ac(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Kc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function Bc(a){return a.replace(If,za)}function Cc(a){if("self"===a)return a;if(v(a)){if(a.indexOf("***")>-1)throw Gf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=le(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+a+"$")}if(z(a))return new RegExp("^"+a.source+"$");throw Gf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Dc(a){var b=[];return s(a)&&d(a,function(a){b.push(Cc(a))}),b}function Ec(){this.SCE_CONTEXTS=Hf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Dc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Dc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Lc(b):!!a.exec(b.href)}function e(c){var e,f,g=Kc(c.toString()),h=!1;for(e=0,f=a.length;e<f;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;e<f;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw Gf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||r(b)||""===b)return b;if("string"!=typeof b)throw Gf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||r(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===Hf.RESOURCE_URL){if(e(b))return b;throw Gf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===Hf.HTML)return j(b);throw Gf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw Gf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[Hf.HTML]=f(k),l[Hf.CSS]=f(k),l[Hf.URL]=f(k),l[Hf.JS]=f(k),l[Hf.RESOURCE_URL]=f(l[Hf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Fc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&Xd<8)throw Gf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=ta(Hf);e.isEnabled=function(){return a},e.trustAs=c.trustAs,e.getTrusted=c.getTrusted,e.valueOf=c.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=o),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:b(c,function(b){return e.getTrusted(a,b)})};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;return d(Hf,function(a,b){var c=Td(b);e[Bc("parse_as_"+c)]=function(b){return f(a,b)},e[Bc("get_trusted_"+c)]=function(b){return g(a,b)},e[Bc("trust_as_"+c)]=function(b){return h(a,b)}}),e}]}function Gc(){this.$get=["$window","$document",function(a,b){var c={},d=a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id),e=!d&&a.history&&a.history.pushState,f=l((/android (\d+)/.exec(Td((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=h.body&&h.body.style,j=!1,k=!1;return i&&(j=!!("transition"in i||"webkitTransition"in i),k=!!("animation"in i||"webkitAnimation"in i)),{history:!(!e||f<4||g),hasEvent:function(a){if("input"===a&&Xd)return!1;if(r(c[a])){var b=h.createElement("div");c[a]="on"+a in b}return c[a]},csp:me(),transitions:j,animations:k,android:f}}]}function Hc(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,c,d,e,f){function g(h,i){function k(a){return i||(a=Jf("tpload","Failed to load template: {0} (HTTP status: {1} {2})",h,a.status,a.statusText),b(a)),e.reject(a)}g.totalPendingRequests++,v(h)&&!r(c.get(h))||(h=f.getTrustedResourceUrl(h));var l=d.defaults&&d.defaults.transformResponse;return ie(l)?l=l.filter(function(a){return a!==Hb}):l===Hb&&(l=null),d.get(h,j({cache:c,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){return c.put(h,a.data),a.data},k)}return g.totalPendingRequests=0,g}]}function Ic(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var e={};return e.findBindings=function(a,b,c){var e=a.getElementsByClassName("ng-binding"),f=[];return d(e,function(a){var e=fe.element(a).data("$binding");e&&d(e,function(d){if(c){var e=new RegExp("(^|\\s)"+le(b)+"(\\s|\\||$)");e.test(d)&&f.push(a)}else d.indexOf(b)!==-1&&f.push(a)})}),f},e.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},e.getLocation=function(){return c.url()},e.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},e.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},e}]}function Jc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){y(f)||(i=h,h=f,f=n);var j,k=R(arguments,3),l=s(i)&&!i,m=(l?d:c).defer(),o=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(a){m.reject(a),e(a)}finally{delete g[o.$$timeoutId]}l||a.$apply()},h),o.$$timeoutId=j,g[j]=m,o}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].promise.catch(n),g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Kc(a){var b=a;return Xd&&(Kf.setAttribute("href",b),b=Kf.href),Kf.setAttribute("href",b),{href:Kf.href,protocol:Kf.protocol?Kf.protocol.replace(/:$/,""):"",host:Kf.host,search:Kf.search?Kf.search.replace(/^\?/,""):"",hash:Kf.hash?Kf.hash.replace(/^#/,""):"",hostname:Kf.hostname,port:Kf.port,pathname:"/"===Kf.pathname.charAt(0)?Kf.pathname:"/"+Kf.pathname}}function Lc(a){var b=v(a)?Kc(a):a;return b.protocol===Lf.protocol&&b.host===Lf.host}function Mc(){this.$get=p(a)}function Nc(a){function b(a){try{return a.cookie||""}catch(a){return""}}function c(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},e={},f="";return function(){var a,g,h,i,j,k=b(d);if(k!==f)for(f=k,a=f.split("; "),e={},h=0;h<a.length;h++)g=a[h],i=g.indexOf("="),i>0&&(j=c(g.substring(0,i)),r(e[j])&&(e[j]=c(g.substring(i+1))));return e}}function Oc(){this.$get=Nc}function Pc(a){function b(e,f){if(t(e)){var g={};return d(e,function(a,c){g[c]=b(c,a)}),g}return a.factory(e+c,f)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Uc),b("date",hd),b("filter",Qc),b("json",id),b("limitTo",jd),b("lowercase",Sf),b("number",Vc),b("orderBy",ld),b("uppercase",Tf)}function Qc(){return function(a,d,e,f){if(!c(a)){if(null==a)return a;throw b("filter")("notarray","Expected array but received: {0}",a)}f=f||"$";var g,h,i=Tc(d);switch(i){case"function":g=d;break;case"boolean":case"null":case"number":case"string":h=!0;case"object":g=Rc(d,e,f,h);break;default:return a}return Array.prototype.filter.call(a,g)}}function Rc(a,b,c,d){var e,f=t(a)&&c in a;return b===!0?b=P:y(b)||(b=function(a,b){return!r(a)&&(null===a||null===b?a===b:!(t(b)||t(a)&&!q(a))&&(a=Td(""+a),b=Td(""+b),a.indexOf(b)!==-1))}),e=function(e){return f&&!t(e)?Sc(e,a[c],b,c,!1):Sc(e,a,b,c,d)}}function Sc(a,b,c,d,e,f){var g=Tc(a),h=Tc(b);if("string"===h&&"!"===b.charAt(0))return!Sc(a,b.substring(1),c,d,e);if(ie(a))return a.some(function(a){return Sc(a,b,c,d,e)});switch(g){case"object":var i;if(e){for(i in a)if("$"!==i.charAt(0)&&Sc(a[i],b,c,d,!0))return!0;return!f&&Sc(a,b,c,d,!1)}if("object"===h){for(i in b){var j=b[i];if(!y(j)&&!r(j)){var k=i===d,l=k?a:a[i];if(!Sc(l,j,c,d,k,k))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Tc(a){return null===a?"null":typeof a}function Uc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Yc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Vc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Yc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Wc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(Nf))>-1&&(a=a.replace(Nf,"")),(d=a.search(/e/i))>0?(c<0&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):c<0&&(c=a.length),d=0;a.charAt(d)===Of;d++);if(d===(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)===Of;)f--;for(c-=d,b=[],e=0;d<=f;d++,e++)b[e]=+a.charAt(d)}return c>Mf&&(b=b.splice(0,Mf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Xc(a,b,c,d){var e=a.d,f=e.length-a.i;b=r(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;j<g;j++)e[j]=0}if(h>=5)if(g-1<0){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function Yc(a,b,c,d,e){if(!v(a)&&!w(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Wc(i),Xc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);l<0;)k.unshift(0),l++;l>0?n=k.splice(l,k.length):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return a<0&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Zc(a,b,c,d){var e="";for((a<0||d&&a<=0)&&(d?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=Of+a;return c&&(a=a.substr(a.length-b)),e+a}function $c(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&c===-12&&(g=12),Zc(g,b,d,e)}}function _c(a,b,c){return function(d,e){var f=d["get"+a](),g=(c?"STANDALONE":"")+(b?"SHORT":""),h=Ud(g+a);return e[h][f]}}function ad(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Zc(Math[d>0?"floor":"ceil"](d/60),2)+Zc(Math.abs(d%60),2)}function bd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(b<=4?5:12)-b)}function cd(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function dd(a){return function(b){var c=bd(b.getFullYear()),d=cd(b),e=+d-+c,f=1+Math.round(e/6048e5);return Zc(f,a)}}function ed(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function fd(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function gd(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function hd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=l(b[9]+b[10]),f=l(b[9]+b[11])),g.call(d,l(b[1]),l(b[2])-1,l(b[3]));var i=l(b[4]||0)-e,j=l(b[5]||0)-f,k=l(b[6]||0),m=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,m),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g,h,i="",j=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,v(c)&&(c=Rf.test(c)?l(c):b(c)),w(c)&&(c=new Date(c)),!x(c)||!isFinite(c.getTime()))return c;for(;e;)h=Qf.exec(e),h?(j=Q(j,h,1),e=j.pop()):(j.push(e),e=null);var k=c.getTimezoneOffset();return f&&(k=W(f,k),c=Y(c,f,!0)),d(j,function(b){g=Pf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function id(){return function(a,b){return r(b)&&(b=2),U(a,b)}}function jd(){return function(a,b,d){return b=Math.abs(Number(b))===1/0?Number(b):l(b),he(b)?a:(w(a)&&(a=a.toString()),c(a)?(d=!d||isNaN(d)?0:l(d),d=d<0?Math.max(0,a.length+d):d,b>=0?kd(a,d,d+b):0===d?kd(a,b,a.length):kd(a,Math.max(0,d+b),d)):a)}}function kd(a,b,c){return v(a)?a.slice(b,c):_d.call(a,b,c)}function ld(a){function d(b){return b.map(function(b){var c=1,d=o;if(y(b))d=b;else if(v(b)&&("+"!==b.charAt(0)&&"-"!==b.charAt(0)||(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b),d.constant))){var e=d();d=function(a){return a[e]}}return{get:d,descending:c}})}function e(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a){return y(a.valueOf)&&(a=a.valueOf(),e(a))?a:q(a)&&(a=a.toString(),e(a))?a:a}function g(a,b){var c=typeof a;return null===a?(c="string",a="null"):"object"===c&&(a=f(a)),{value:a,type:c,index:b}}function h(a,b){var c=0,d=a.type,e=b.type;if(d===e){var f=a.value,g=b.value;"string"===d?(f=f.toLowerCase(),g=g.toLowerCase()):"object"===d&&(t(f)&&(f=a.index),t(g)&&(g=b.index)),f!==g&&(c=f<g?-1:1)}else c=d<e?-1:1;return c}return function(a,e,f,i){function j(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:l.map(function(c){return g(c.get(a),b)})}}function k(a,b){for(var c=0,d=l.length;c<d;c++){var e=n(a.predicateValues[c],b.predicateValues[c]);if(e)return e*l[c].descending*m}return n(a.tieBreaker,b.tieBreaker)*m}if(null==a)return a;if(!c(a))throw b("orderBy")("notarray","Expected array but received: {0}",a);ie(e)||(e=[e]),0===e.length&&(e=["+"]);var l=d(e),m=f?-1:1,n=y(i)?i:h,o=Array.prototype.map.call(a,j);return o.sort(k),a=o.map(function(a){return a.value})}}function md(a){return y(a)&&(a={link:a}),a.restrict=a.restrict||"AC",p(a)}function nd(a,b){a.$name=b}function od(a,b,c,d,e){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=e(b.name||b.ngForm||"")(c),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Wf,this.$$element=a,this.$$animate=d,pd(this)}function pd(a){a.$$classCache={},a.$$classCache[Gg]=!(a.$$classCache[Fg]=a.$$element.hasClass(Fg))}function qd(a){function b(a,b,c,d){a[b]||(a[b]={}),g(a[b],c,d)}function c(a,b,c,d){a[b]&&h(a[b],c,d),rd(a[b])&&(a[b]=void 0)}function d(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function e(a,b,c){b=b?"-"+ja(b,"-"):"",d(a,Fg+b,c===!0),d(a,Gg+b,c===!1)}var f=a.clazz,g=a.set,h=a.unset;f.prototype.$setValidity=function(a,f,i){r(f)?b(this,"$pending",a,i):c(this,"$pending",a,i),F(f)?f?(h(this.$error,a,i),g(this.$$success,a,i)):(g(this.$error,a,i),h(this.$$success,a,i)):(h(this.$error,a,i),h(this.$$success,a,i)),this.$pending?(d(this,Xf,!0),this.$valid=this.$invalid=void 0,e(this,"",null)):(d(this,Xf,!1),this.$valid=rd(this.$error),this.$invalid=!this.$valid,e(this,"",this.$valid));var j;j=this.$pending&&this.$pending[a]?void 0:!this.$error[a]&&(!!this.$$success[a]||null),e(this,a,j),this.$$parentForm.$setValidity(a,j,this)}}function rd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function sd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function td(a,b,c,d,e,f){ud(a,b,c,d,e,f),sd(d)}function ud(a,b,c,d,e,f){var g=Td(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=ke(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&b<19||37<=b&&b<=40||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),kg[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(jg,function(a){if(!i){var b=this[Rd],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,b.badInput===c&&b.typeMismatch===d||j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function vd(a,b){if(x(a))return a;if(v(a)){gg.lastIndex=0;var c=gg.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=bd(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function wd(a,b){return function(c,e){var f,g;if(x(c))return c;if(v(c)){if('"'===c.charAt(0)&&'"'===c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),ag.test(c))return new Date(c);if(a.lastIndex=0,f=a.exec(c))return f.shift(),g=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},d(f,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function xd(a,b,c,d){return function(e,f,g,h,i,j,k){function l(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function m(a){return s(a)&&!x(a)?c(a)||void 0:a}yd(e,f,g,h),ud(e,f,g,h,i,j);var n,o=h&&h.$options.getOption("timezone");if(h.$$parserName=a,h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a)){var d=c(a,n);return o&&(d=Y(d,o)),d}}),h.$formatters.push(function(a){if(a&&!x(a))throw Ng("datefmt","Expected `{0}` to be a date",a);return l(a)?(n=a,n&&o&&(n=Y(n,o,!0)),k("date")(a,d,o)):(n=null,"")}),s(g.min)||g.ngMin){var p;h.$validators.min=function(a){return!l(a)||r(p)||c(a)>=p},g.$observe("min",function(a){p=m(a),h.$validate()})}if(s(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!l(a)||r(q)||c(a)<=q},g.$observe("max",function(a){q=m(a),h.$validate()})}}}function yd(a,b,c,d){var e=b[0],f=d.$$hasNativeValidators=t(e.validity);f&&d.$parsers.push(function(a){var c=b.prop(Rd)||{};return c.badInput||c.typeMismatch?void 0:a})}function zd(a){a.$$parserName="number",a.$parsers.push(function(b){return a.$isEmpty(b)?null:dg.test(b)?parseFloat(b):void 0}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!w(b))throw Ng("numfmt","Expected `{0}` to be a number",b);b=b.toString()}return b})}function Ad(a){return s(a)&&!w(a)&&(a=parseFloat(a)),he(a)?void 0:a}function Bd(a){return(0|a)===a}function Cd(a){var b=a.toString(),c=b.indexOf(".");if(c===-1){if(-1<a&&a<1){var d=/e-(\d+)$/.exec(b);if(d)return Number(d[1])}return 0}return b.length-c-1}function Dd(a,b,c){var d=Number(a);if(!Bd(d)||!Bd(b)||!Bd(c)){var e=Math.max(Cd(d),Cd(b),Cd(c)),f=Math.pow(10,e);d*=f,b*=f,c*=f}return(d-b)%c===0}function Ed(a,b,c,d,e,f){yd(a,b,c,d),zd(d),ud(a,b,c,d,e,f);var g,h;if((s(c.min)||c.ngMin)&&(d.$validators.min=function(a){return d.$isEmpty(a)||r(g)||a>=g},c.$observe("min",function(a){g=Ad(a),d.$validate()})),(s(c.max)||c.ngMax)&&(d.$validators.max=function(a){return d.$isEmpty(a)||r(h)||a<=h},c.$observe("max",function(a){h=Ad(a),d.$validate()})),s(c.step)||c.ngStep){var i;d.$validators.step=function(a,b){return d.$isEmpty(b)||r(i)||Dd(b,g||0,i)},c.$observe("step",function(a){i=Ad(a),d.$validate()})}}function Fd(a,b,c,d,e,f){function g(a,d){b.attr(a,c[a]),c.$observe(a,d)}function h(a){if(l=Ad(a),!he(d.$modelValue))if(k){var c=b.val();l>c&&(c=l,b.val(c)),d.$setViewValue(c)}else d.$validate()}function i(a){if(m=Ad(a),!he(d.$modelValue))if(k){var c=b.val();m<c&&(b.val(m),c=m<l?l:m),d.$setViewValue(c)}else d.$validate()}function j(a){n=Ad(a),he(d.$modelValue)||(k&&d.$viewValue!==b.val()?d.$setViewValue(b.val()):d.$validate())}yd(a,b,c,d),zd(d),ud(a,b,c,d,e,f);var k=d.$$hasNativeValidators&&"range"===b[0].type,l=k?0:void 0,m=k?100:void 0,n=k?1:void 0,o=b[0].validity,p=s(c.min),q=s(c.max),t=s(c.step),u=d.$render;d.$render=k&&s(o.rangeUnderflow)&&s(o.rangeOverflow)?function(){u(),d.$setViewValue(b.val())}:u,p&&(d.$validators.min=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||r(l)||b>=l},g("min",h)),q&&(d.$validators.max=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||r(m)||b<=m},g("max",i)),t&&(d.$validators.step=k?function(){return!o.stepMismatch}:function(a,b){return d.$isEmpty(b)||r(n)||Dd(b,l||0,n)},g("step",j))}function Gd(a,b,c,d,e,f){ud(a,b,c,d,e,f),sd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||bg.test(c)}}function Hd(a,b,c,d,e,f){ud(a,b,c,d,e,f),sd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||cg.test(c)}}function Id(a,b,c,d){var e=!c.ngTrim||"false"!==ke(c.ngTrim);r(c.name)&&b.attr("name",g());var f=function(a){var f;b[0].checked&&(f=c.value,e&&(f=ke(f)),d.$setViewValue(f,a&&a.type))};b.on("click",f),d.$render=function(){var a=c.value;e&&(a=ke(a)),b[0].checked=a===d.$viewValue},c.$observe("value",d.$render)}function Jd(a,b,c,d,e){var f;if(s(d)){if(f=a(d),!f.constant)throw Ng("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function Kd(a,b,c,d,e,f,g,h){var i=Jd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Jd(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return P(a,i)}),d.$parsers.push(function(a){return a?i:j})}function Ld(a,b){function c(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e===b[f])continue a;c.push(e)}return c}function e(a){return a&&a.split(" ")}function f(a){var b=a;return ie(a)?b=a.map(f).join(" "):t(a)&&(b=Object.keys(a).filter(function(b){return a[b]}).join(" ")),b}function g(a){var b=a;if(ie(a))b=a.map(g);else if(t(a)){var c=!1;b=Object.keys(a).filter(function(b){var d=a[b];return!c&&r(d)&&(c=!0),d}),c&&b.push(void 0)}return b}a="ngClass"+a;var h;return["$parse",function(i){return{restrict:"AC",link:function(j,k,l){function m(a){a=p(e(a),1),l.$addClass(a)}function n(a){a=p(e(a),-1),l.$removeClass(a)}function o(a,b){var d=e(a),f=e(b),g=c(d,f),h=c(f,d),i=p(g,-1),j=p(h,1);l.$addClass(j),l.$removeClass(i)}function p(a,b){var c=[];return d(a,function(a){(b>0||z[a])&&(z[a]=(z[a]||0)+b,z[a]===+(b>0)&&c.push(a))}),c.join(" ")}function q(a){a===b?m(t):n(t),A=a}function r(a){var b=f(a);b!==t&&s(b)}function s(a){A===b&&o(t,a),t=a}var t,u=l[a].trim(),v=":"===u.charAt(0)&&":"===u.charAt(1),w=v?g:f,x=i(u,w),y=v?r:s,z=k.data("$classCounts"),A=!0;z||(z=qa(),k.data("$classCounts",z)),"ngClass"!==a&&(h||(h=i("$index",function(a){return 1&a})),j.$watch(h,q)),j.$watch(x,y,v)}}}]}function Md(a,b,c,d,e,f,g,h,i){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(c.name||"",!1)(a),this.$$parentForm=Wf,this.$options=Og,this.$$parsedNgModel=e(c.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,this.$$scope=a,this.$$attr=c,this.$$element=d,this.$$animate=f,this.$$timeout=g,this.$$parse=e,this.$$q=h,this.$$exceptionHandler=b,pd(this),Nd(this)}function Nd(a){a.$$scope.$watch(function(){var b=a.$$ngModelGet(a.$$scope);if(b!==a.$modelValue&&(a.$modelValue===a.$modelValue||b===b)){a.$modelValue=a.$$rawModelValue=b,a.$$parserValid=void 0;for(var c=a.$formatters,d=c.length,e=b;d--;)e=c[d](e);a.$viewValue!==e&&(a.$$updateEmptyClasses(e),a.$viewValue=a.$$lastCommittedViewValue=e,a.$render(),a.$$runValidators(a.$modelValue,a.$viewValue,n))}return b})}function Od(a){this.$$options=a}function Pd(a,b){d(b,function(b,c){s(a[c])||(a[c]=b)})}var Qd=/^\/(.+)\/([a-z]*)$/,Rd="validity",Sd=Object.prototype.hasOwnProperty,Td=function(a){return v(a)?a.toLowerCase():a},Ud=function(a){return v(a)?a.toUpperCase():a},Vd=function(a){return v(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Wd=function(a){return v(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)&-33)}):a};"i"!=="I".toLowerCase()&&(Td=Vd,Ud=Wd);var Xd,Yd,Zd,$d,_d=[].slice,ae=[].splice,be=[].push,ce=Object.prototype.toString,de=Object.getPrototypeOf,ee=b("ng"),fe=a.angular||(a.angular={}),ge=0;Xd=a.document.documentMode;var he=Number.isNaN||function(a){return a!==a};n.$inject=[],o.$inject=[];var ie=Array.isArray,je=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,ke=function(a){return v(a)?a.trim():a},le=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},me=function(){function b(){try{return new Function(""),!1}catch(a){return!0}}if(!s(me.rules)){var c=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");me.rules={noUnsafeEval:!d||d.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!d||d.indexOf("no-inline-style")!==-1}}else me.rules={noUnsafeEval:b(),noInlineStyle:!1}}return me.rules},ne=function(){if(s(ne.name_))return ne.name_;var b,c,d,e,f=pe.length;for(c=0;c<f;++c)if(d=pe[c],b=a.document.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return ne.name_=e},oe=/:/g,pe=["ng-","data-ng-","ng:","x-ng-"],qe=ea(a.document),re=/[A-Z]/g,se=!1,te=1,ue=2,ve=3,we=8,xe=9,ye=11,ze={full:"1.6.1",major:1,minor:6,dot:1,codeName:"promise-rectification"};Ia.expando="ng339";var Ae=Ia.cache={},Be=1;Ia._data=function(a){return this.cache[a[this.expando]]||{}};var Ce=/-([a-z])/g,De=/^-ms-/,Ee={mouseleave:"mouseout",mouseenter:"mouseover"},Fe=b("jqLite"),Ge=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,He=/<|&#?\w+;/,Ie=/<([\w:-]+)/,Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ke={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var Le=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Me=Ia.prototype={ready:Ya,toString:function(){var a=[];return d(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Yd(a>=0?this[a]:this[this.length+a])},length:0,push:be,sort:[].sort,splice:[].splice},Ne={};d("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Ne[Td(a)]=a});var Oe={};d("input,select,option,textarea,button,form,details".split(","),function(a){Oe[a]=!0});var Pe={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};d({data:Oa,removeData:Ma,hasData:Da,cleanData:Ea},function(a,b){Ia[b]=a}),d({data:Oa,inheritedData:Ua,scope:function(a){return Yd.data(a,"$scope")||Ua(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Yd.data(a,"$isolateScope")||Yd.data(a,"$isolateScopeNoTemplate")},controller:Ta,injector:function(a){return Ua(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Pa,css:function(a,b,c){return b=ya(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,c){var d,e=a.nodeType;if(e!==ve&&e!==ue&&e!==we&&a.getAttribute){var f=Td(b),g=Ne[f];return s(c)?void(null===c||c===!1&&g?a.removeAttribute(b):a.setAttribute(b,g?f:c)):(d=a.getAttribute(b),g&&null!==d&&(d=f),null===d?void 0:d)}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===te||c===ve?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===L(a)){var c=[];return d(a.options,function(a){a.selected&&c.push(a.value||a.text)}),c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(Ka(a,!0),void(a.innerHTML=b))},empty:Va},function(a,b){Ia.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Va&&r(2===a.length&&a!==Pa&&a!==Ta?b:c)){if(t(b)){for(d=0;d<f;d++)if(a===Oa)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=r(g)?Math.min(f,1):f,i=0;i<h;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;d<f;d++)a(this[d],b,c);return this}}),d({removeData:Ma,on:function(a,b,c,d){if(s(d))throw Fe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ca(a)){var e=Na(a,!0),f=e.events,g=e.handle;g||(g=e.handle=_a(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length,j=function(b,d,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=d,"$destroy"===b||e||a.addEventListener(b,g)),h.push(c)};i--;)b=h[i],Ee[b]?(j(Ee[b],bb),j(b,void 0,!0)):j(b)}},off:La,one:function(a,b,c){a=Yd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,e=a.parentNode;Ka(a),d(new Ia(b),function(b){c?e.insertBefore(b,c.nextSibling):e.replaceChild(b,a),c=b})},children:function(a){var b=[];return d(a.childNodes,function(a){a.nodeType===te&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===te||c===ye){b=new Ia(b);for(var d=0,e=b.length;d<e;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===te){var c=a.firstChild;d(new Ia(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Ha(a,Yd(b).eq(0).clone()[0])},remove:Wa,detach:function(a){Wa(a,!0)},after:function(a,b){var c=a,d=a.parentNode;
if(d){b=new Ia(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}}},addClass:Ra,removeClass:Qa,toggleClass:function(a,b,c){b&&d(b.split(" "),function(b){var d=c;r(d)&&(d=!Pa(a,b)),(d?Ra:Qa)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==ye?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ja,triggerHandler:function(a,b,c){var e,f,g,h=b.type||b,i=Na(a),k=i&&i.events,l=k&&k[h];l&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:n,type:h,target:a},b.type&&(e=j(e,b)),f=ta(l),g=c?[e].concat(c):[e],d(f,function(b){e.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Ia.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;f<g;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=Yd(e))):Sa(e,a(this[f],b,c,d));return s(e)?e:this}}),Ia.prototype.bind=Ia.prototype.on,Ia.prototype.unbind=Ia.prototype.off,eb.prototype={put:function(a,b){this[db(a,this.nextUid)]=b},get:function(a){return this[db(a,this.nextUid)]},remove:function(a){var b=this[a=db(a,this.nextUid)];return delete this[a],b}};var Qe=[function(){this.$get=[function(){return eb}]}],Re=/^([^(]+?)=>/,Se=/^[^(]*\(\s*([^)]*)\)/m,Te=/,/,Ue=/^\s*(_?)(\S+?)\1\s*$/,Ve=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,We=b("$injector");jb.$$annotate=ib;var Xe=b("$animate"),Ye=1,Ze="ng-animate",$e=function(){this.$get=n},_e=function(){var a=new eb,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,e){function f(a,b,c){var e=!1;return b&&(b=v(b)?b.split(" "):ie(b)?b:[],d(b,function(b){b&&(e=!0,a[b]=c)})),e}function g(){d(b,function(b){var c=a.get(b);if(c){var e=nb(b.attr("class")),f="",g="";d(c,function(a,b){var c=!!e[b];a!==c&&(a?f+=(f.length?" ":"")+b:g+=(g.length?" ":"")+b)}),d(b,function(a){f&&Ra(a,f),g&&Qa(a,g)}),a.remove(b)}}),b.length=0}function h(c,d,h){var i=a.get(c)||{},j=f(i,d,!0),k=f(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&e.$$postDigest(g))}return{enabled:n,on:n,off:n,pin:n,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},af=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Xe("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+Ze+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw Xe("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ze)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=mb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Yd(d),e=e&&Yd(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",ob(f))},move:function(c,d,e,f){return d=d&&Yd(d),e=e&&Yd(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",ob(f))},leave:function(b,c){return a.push(b,"leave",ob(c),function(){b.remove()})},addClass:function(b,c,d){return d=ob(d),d.addClass=lb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=ob(d),d.removeClass=lb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=ob(e),e.addClass=lb(e.addClass,c),e.removeClass=lb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=ob(f),f.from=f.from?j(f.from,c):c,f.to=f.to?j(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=lb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],bf=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},cf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,c,e,f){function g(a){this.setHost(a);var b=c(),d=function(a){f(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){e()?d(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){f=f&&c,++e===a.length&&b(f)}var e=0,f=!0;d(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:n,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(d(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},df=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=O(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},ef=b("$compile"),ff=new tb;ub.$inject=["$provide","$$sanitizeUriProvider"],vb.prototype.isFirstChange=function(){return this.previousValue===ff};var gf=/^((?:x|data)[:\-_])/i,hf=/[:\-_]+(.)/g,jf=b("$controller"),kf=/^(\S+)(\s+as\s+([\w$]+))?$/,lf=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Yd&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},mf="application/json",nf={"Content-Type":mf+";charset=utf-8"},of=/^\[|^\{(?!\{)/,pf={"[":/]$/,"{":/}$/},qf=/^\)]\}',?\n/,rf=b("$http"),sf=fe.$interpolateMinErr=b("$interpolate");sf.throwNoconcat=function(a){throw sf("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},sf.interr=function(a,b){return sf("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var tf=function(){this.$get=["$window",function(a){function b(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}var c=a.angular.callbacks,d={};return{createCallback:function(a){var e="_"+(c.$$counter++).toString(36),f="angular.callbacks."+e,g=b(e);return d[f]=c[e]=g,f},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){var b=d[a];delete c[b.id],delete d[a]}}}]},uf=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,vf={http:80,https:443,ftp:21},wf=b("$location"),xf=/^\s*[\\/]{2,}/,yf={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:dc("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=uf.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:dc("$$protocol"),host:dc("$$host"),port:dc("$$port"),path:ec("$$path",function(a){return a=null!==a?a.toString():"","/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(v(a)||w(a))a=a.toString(),this.$$search=_(a);else{if(!t(a))throw wf("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=O(a,{}),d(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:ec("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};d([cc,bc,ac],function(a){a.prototype=Object.create(yf),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==ac||!this.$$html5)throw wf("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var zf=b("$parse"),Af={}.constructor.prototype.valueOf,Bf=qa();d("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Bf[a]=!0});var Cf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Df=function(a){this.options=a};Df.prototype={constructor:Df,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=Bf[b],f=Bf[c],g=Bf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return b.indexOf(a)!==-1},peek:function(a){var b=a||1;return this.index+b<this.text.length&&this.text.charAt(this.index+b)},isNumber:function(a){return"0"<=a&&a<="9"&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var c=a.charCodeAt(0),d=b.charCodeAt(0);return c>=55296&&c<=56319&&d>=56320&&d<=57343?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw zf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Td(this.text.charAt(this.index));if("."===c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"===c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"===a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=Cf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Ef=function(a,b){this.lexer=a,this.options=b};Ef.Program="Program",Ef.ExpressionStatement="ExpressionStatement",Ef.AssignmentExpression="AssignmentExpression",Ef.ConditionalExpression="ConditionalExpression",Ef.LogicalExpression="LogicalExpression",Ef.BinaryExpression="BinaryExpression",Ef.UnaryExpression="UnaryExpression",Ef.CallExpression="CallExpression",Ef.MemberExpression="MemberExpression",Ef.Identifier="Identifier",Ef.Literal="Literal",Ef.ArrayExpression="ArrayExpression",Ef.Property="Property",Ef.ObjectExpression="ObjectExpression",Ef.ThisExpression="ThisExpression",Ef.LocalsExpression="LocalsExpression",Ef.NGValueParameter="NGValueParameter",Ef.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:Ef.Program,body:a}},expressionStatement:function(){return{type:Ef.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!nc(a))throw zf("lval","Trying to assign a value to a non l-value");a={type:Ef.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:Ef.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:Ef.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:Ef.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:Ef.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:Ef.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:Ef.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:Ef.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:Ef.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=O(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:Ef.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:Ef.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:Ef.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:Ef.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:Ef.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.filterChain());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:Ef.Identifier,name:a.text}},constant:function(){return{type:Ef.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ef.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:Ef.Property,kind:"init"},this.peek().constant?(a.key=this.constant(),a.computed=!1,this.consume(":"),a.value=this.expression()):this.peek().identifier?(a.key=this.identifier(),a.computed=!1,this.peek(":")?(this.consume(":"),a.value=this.expression()):a.value=a.key):this.peek("[")?(this.consume("["),a.key=this.expression(),this.consume("]"),a.computed=!0,this.consume(":"),a.value=this.expression()):this.throwError("invalid key",this.peek()),b.push(a)}while(this.expect(","));return this.consume("}"),{type:Ef.ObjectExpression,properties:b}},throwError:function(a,b){throw zf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw zf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw zf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return!!e&&(this.tokens.shift(),e)},selfReferential:{this:{type:Ef.ThisExpression},$locals:{type:Ef.LocalsExpression}}},rc.prototype={compile:function(a){var b=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},lc(c,b.$filter);var e,f="";if(this.stage="assign",e=oc(c)){this.state.computing="assign";var g=this.nextId();this.recurse(e,g),this.return_(g),f="fn.assign="+this.generateFunction("assign","s,v,l")}var h=mc(c.body);b.stage="inputs",d(h,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}},b.state.computing=d;var e=b.nextId();b.recurse(a,e),b.return_(e),b.state.inputs.push(d),a.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(c);var i='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+f+this.watchFns()+"return fn;",j=new Function("$filter","getStringValue","ifDefined","plus",i)(this.$filter,hc,ic,jc);return this.state=this.stage=void 0,j.literal=pc(c),j.constant=qc(c),j},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return d(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return d(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,e,f,g){var h,i,j,k,l,m=this;if(e=e||n,!g&&s(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,e,f,!0));switch(a.type){case Ef.Program:d(a.body,function(b,c){m.recurse(b.expression,void 0,void 0,function(a){i=a}),c!==a.body.length-1?m.current().body.push(i,";"):m.return_(i)});break;case Ef.Literal:k=this.escape(a.value),this.assign(b,k),e(b||k);break;case Ef.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){i=a}),k=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,k),e(k);break;case Ef.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){h=a}),this.recurse(a.right,void 0,void 0,function(a){i=a}),k="+"===a.operator?this.plus(h,i):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):"("+h+")"+a.operator+"("+i+")",this.assign(b,k),e(k);break;case Ef.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case Ef.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case Ef.Identifier:b=b||this.nextId(),c&&(c.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),c.computed=!1,c.name=a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){f&&1!==f&&m.if_(m.isNull(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),e(b);break;case Ef.MemberExpression:h=c&&(c.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,h,void 0,function(){m.if_(m.notNull(h),function(){a.computed?(i=m.nextId(),m.recurse(a.property,i),m.getStringValue(i),f&&1!==f&&m.if_(m.not(m.computedMember(h,i)),m.lazyAssign(m.computedMember(h,i),"{}")),k=m.computedMember(h,i),m.assign(b,k),c&&(c.computed=!0,c.name=i)):(f&&1!==f&&m.if_(m.isNull(m.nonComputedMember(h,a.property.name)),m.lazyAssign(m.nonComputedMember(h,a.property.name),"{}")),k=m.nonComputedMember(h,a.property.name),m.assign(b,k),c&&(c.computed=!1,c.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!f);break;case Ef.CallExpression:b=b||this.nextId(),a.filter?(i=m.filter(a.callee.name),j=[],d(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),j.push(b)}),k=i+"("+j.join(",")+")",m.assign(b,k),e(b)):(i=m.nextId(),h={},j=[],m.recurse(a.callee,i,h,function(){m.if_(m.notNull(i),function(){d(a.arguments,function(b){m.recurse(b,a.constant?void 0:m.nextId(),void 0,function(a){j.push(a)})}),k=h.name?m.member(h.context,h.name,h.computed)+"("+j.join(",")+")":i+"("+j.join(",")+")",m.assign(b,k)},function(){m.assign(b,"undefined")}),e(b)}));break;case Ef.AssignmentExpression:i=this.nextId(),h={},this.recurse(a.left,void 0,h,function(){m.if_(m.notNull(h.context),function(){m.recurse(a.right,i),k=m.member(h.context,h.name,h.computed)+a.operator+i,m.assign(b,k),e(b||k)})},1);break;case Ef.ArrayExpression:j=[],d(a.elements,function(b){m.recurse(b,a.constant?void 0:m.nextId(),void 0,function(a){j.push(a)})}),k="["+j.join(",")+"]",this.assign(b,k),e(b||k);break;case Ef.ObjectExpression:j=[],l=!1,d(a.properties,function(a){a.computed&&(l=!0)}),l?(b=b||this.nextId(),this.assign(b,"{}"),d(a.properties,function(a){a.computed?(h=m.nextId(),m.recurse(a.key,h)):h=a.key.type===Ef.Identifier?a.key.name:""+a.key.value,i=m.nextId(),m.recurse(a.value,i),m.assign(m.member(b,h,a.computed),i)})):(d(a.properties,function(b){m.recurse(b.value,a.constant?void 0:m.nextId(),void 0,function(a){j.push(m.escape(b.key.type===Ef.Identifier?b.key.name:""+b.key.value)+":"+a)})}),k="{"+j.join(",")+"}",this.assign(b,k)),e(b||k);break;case Ef.ThisExpression:this.assign(b,"s"),e(b||"s");break;case Ef.LocalsExpression:this.assign(b,"l"),e(b||"l");break;case Ef.NGValueParameter:this.assign(b,"v"),e(b||"v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,d=/[^$_a-zA-Z0-9]/g;return c.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(v(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw zf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},sc.prototype={compile:function(a){var b=this,c=this.astBuilder.ast(a);lc(c,b.$filter);var e,f;(e=oc(c))&&(f=this.recurse(e));var g,h=mc(c.body);h&&(g=[],d(h,function(a,c){var d=b.recurse(a);a.input=d,g.push(d),a.watchId=c}));var i=[];d(c.body,function(a){i.push(b.recurse(a.expression))});var j=0===c.body.length?n:1===c.body.length?i[0]:function(a,b){var c;return d(i,function(d){c=d(a,b)}),c};return f&&(j.assign=function(a,b,c){return f(a,c,b)}),g&&(j.inputs=g),j.literal=pc(c),j.constant=qc(c),j},recurse:function(a,b,c){var e,f,g,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case Ef.Literal:return this.value(a.value,b);case Ef.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,b);case Ef.BinaryExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case Ef.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case Ef.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case Ef.Identifier:return h.identifier(a.name,b,c);case Ef.MemberExpression:return e=this.recurse(a.object,!1,!!c),a.computed||(f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,b,c):this.nonComputedMember(e,f,b,c);case Ef.CallExpression:return g=[],d(a.arguments,function(a){g.push(h.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,c,d,e){for(var h=[],i=0;i<g.length;++i)h.push(g[i](a,c,d,e));var j=f.apply(void 0,h,e);return b?{context:void 0,name:void 0,value:j}:j}:function(a,c,d,e){var h,i=f(a,c,d,e);if(null!=i.value){for(var j=[],k=0;k<g.length;++k)j.push(g[k](a,c,d,e));h=i.value.apply(i.context,j)}return b?{value:h}:h};case Ef.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,c,d,g){var h=e(a,c,d,g),i=f(a,c,d,g);return h.context[h.name]=i,b?{value:i}:i};case Ef.ArrayExpression:return g=[],d(a.elements,function(a){g.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case Ef.ObjectExpression:return g=[],d(a.properties,function(a){a.computed?g.push({key:h.recurse(a.key),computed:!0,value:h.recurse(a.value)}):g.push({key:a.key.type===Ef.Identifier?a.key.name:""+a.key.value,computed:!1,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)g[h].computed?f[g[h].key(a,c,d,e)]=g[h].value(a,c,d,e):f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case Ef.ThisExpression:return function(a){return b?{value:a}:a};case Ef.LocalsExpression:return function(a,c){return b?{value:c}:c};case Ef.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?-g:-0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=jc(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(s(h)?h:0)-(s(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,c){return function(d,e,f,g){var h=e&&a in e?e:d;c&&1!==c&&h&&null==h[a]&&(h[a]={});var i=h?h[a]:void 0;return b?{context:h,name:a,value:i}:i}},computedMember:function(a,b,c,d){return function(e,f,g,h){var i,j,k=a(e,f,g,h);return null!=k&&(i=b(e,f,g,h),i=hc(i),d&&1!==d&&k&&!k[i]&&(k[i]={}),j=k[i]),c?{context:k,name:i,value:j}:j}},nonComputedMember:function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h);d&&1!==d&&i&&null==i[b]&&(i[b]={});var j=null!=i?i[b]:void 0;return c?{context:i,name:b,value:j}:j}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var Ff=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new Ef(a,c),this.astCompiler=c.csp?new sc(this.ast,b):new rc(this.ast,b)};Ff.prototype={constructor:Ff,parse:function(a){return this.astCompiler.compile(a)}};var Gf=b("$sce"),Hf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},If=/_([a-z])/g,Jf=b("$compile"),Kf=a.document.createElement("a"),Lf=Kc(a.location.href);Nc.$inject=["$document"],Pc.$inject=["$provide"];
var Mf=22,Nf=".",Of="0";Uc.$inject=["$locale"],Vc.$inject=["$locale"];var Pf={yyyy:$c("FullYear",4,0,!1,!0),yy:$c("FullYear",2,0,!0,!0),y:$c("FullYear",1,0,!1,!0),MMMM:_c("Month"),MMM:_c("Month",!0),MM:$c("Month",2,1),M:$c("Month",1,1),LLLL:_c("Month",!1,!0),dd:$c("Date",2),d:$c("Date",1),HH:$c("Hours",2),H:$c("Hours",1),hh:$c("Hours",2,-12),h:$c("Hours",1,-12),mm:$c("Minutes",2),m:$c("Minutes",1),ss:$c("Seconds",2),s:$c("Seconds",1),sss:$c("Milliseconds",3),EEEE:_c("Day"),EEE:_c("Day",!0),a:ed,Z:ad,ww:dd(2),w:dd(1),G:fd,GG:fd,GGG:fd,GGGG:gd},Qf=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Rf=/^-?\d+$/;hd.$inject=["$locale"];var Sf=p(Td),Tf=p(Ud);ld.$inject=["$parse"];var Uf=p({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===ce.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Vf={};d(Ne,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!==a){var d=wb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),Vf[d]=function(){return{restrict:"A",priority:100,link:e}}}}),d(Pe,function(a,b){Vf[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"===d.ngPattern.charAt(0)){var e=d.ngPattern.match(Qd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),d(["src","srcset","href"],function(a){var b=wb("ng-"+a);Vf[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ce.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Xd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Wf={$addControl:n,$$renameControl:nd,$removeControl:n,$setValidity:n,$setDirty:n,$setPristine:n,$setSubmitted:n},Xf="ng-pending",Yf="ng-submitted";od.$inject=["$element","$attrs","$scope","$animate","$interpolate"],od.prototype={$rollbackViewValue:function(){d(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){d(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){na(a.$name,"input"),this.$$controls.push(a),a.$name&&(this[a.$name]=a),a.$$parentForm=this},$$renameControl:function(a,b){var c=a.$name;this[c]===a&&delete this[c],this[b]=a,a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name],d(this.$pending,function(b,c){this.$setValidity(c,null,a)},this),d(this.$error,function(b,c){this.$setValidity(c,null,a)},this),d(this.$$success,function(b,c){this.$setValidity(c,null,a)},this),N(this.$$controls,a),a.$$parentForm=Wf},$setDirty:function(){this.$$animate.removeClass(this.$$element,Hg),this.$$animate.addClass(this.$$element,Ig),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Hg,Ig+" "+Yf),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,d(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){d(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Yf),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},qd({clazz:od,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);e===-1&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(N(d,c),0===d.length&&delete a[b])}});var Zf=function(a){return["$timeout","$parse",function(b,c){function d(a){return""===a?c('this[""]').assign:c(a).assign||n}var e={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:od,compile:function(c,e){c.addClass(Hg).addClass(Fg);var f=e.name?"name":!(!a||!e.ngForm)&&"ngForm";return{pre:function(a,c,e,g){var h=g[0];if(!("action"in e)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};c[0].addEventListener("submit",i),c.on("$destroy",function(){b(function(){c[0].removeEventListener("submit",i)},0,!1)})}var k=g[1]||h.$$parentForm;k.$addControl(h);var l=f?d(h.$name):n;f&&(l(a,h),e.$observe(f,function(b){h.$name!==b&&(l(a,void 0),h.$$parentForm.$$renameControl(h,b),(l=d(h.$name))(a,h))})),c.on("$destroy",function(){h.$$parentForm.$removeControl(h),l(a,void 0),j(h,Wf)})}}}};return e}]},$f=Zf(),_f=Zf(!0),ag=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,bg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,cg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,dg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,eg=/^(\d{4,})-(\d{2})-(\d{2})$/,fg=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,gg=/^(\d{4,})-W(\d\d)$/,hg=/^(\d{4,})-(\d\d)$/,ig=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,jg="keydown wheel mousedown",kg=qa();d("date,datetime-local,month,time,week".split(","),function(a){kg[a]=!0});var lg={text:td,date:xd("date",eg,wd(eg,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":xd("datetimelocal",fg,wd(fg,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:xd("time",ig,wd(ig,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:xd("week",gg,vd,"yyyy-Www"),month:xd("month",hg,wd(hg,["yyyy","MM"]),"yyyy-MM"),number:Ed,url:Gd,email:Hd,radio:Id,range:Fd,checkbox:Kd,hidden:n,button:n,submit:n,reset:n,file:n},mg=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(lg[Td(g.type)]||lg.text)(e,f,g,h[0],b,a,c,d)}}}}],ng=/^(true|false|\d+)$/,og=function(){function a(a,b,c){a.prop("value",c),b.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,c){return ng.test(c.ngValue)?function(b,c,d){var e=b.$eval(d.ngValue);a(c,d,e)}:function(b,c,d){b.$watch(d.ngValue,function(b){a(c,d,b)})}}}},pg=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=ra(a)})}}}}],qg=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=r(a)?"":a})}}}}],rg=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){var c=f(b);d.html(a.getTrustedHtml(c)||"")})}}}}],sg=p({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),tg=Ld("",!0),ug=Ld("Odd",0),vg=Ld("Even",1),wg=md({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),xg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],yg={},zg={blur:!0,focus:!0};d("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=wb("ng-"+a);yg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};zg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ag=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=pa(h.clone),a.leave(j).done(function(a){a!==!1&&(j=null)}),h=null))})}}}],Bg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:fe.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).done(function(a){a!==!1&&(m=null)}),m=n,n=null)};d.$watch(f,function(f){var i=function(a){a===!1||!s(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).done(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],Cg=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return ce.call(d[0]).match(/SVG/)?(d.empty(),void b(Fa(f.template,a.document).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void b(d.contents())(c))}}}],Dg=md({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Eg=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,e){var f=c.ngList||", ",g="false"!==c.ngTrim,h=g?ke(f):f,i=function(a){if(!r(a)){var b=[];return a&&d(a.split(h),function(a){a&&b.push(g?ke(a):a)}),b}};e.$parsers.push(i),e.$formatters.push(function(a){if(ie(a))return a.join(f)}),e.$isEmpty=function(a){return!a||!a.length}}}},Fg="ng-valid",Gg="ng-invalid",Hg="ng-pristine",Ig="ng-dirty",Jg="ng-untouched",Kg="ng-touched",Lg="ng-empty",Mg="ng-not-empty",Ng=b("ngModel");Md.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Md.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);return y(c)&&(c=a(b)),c},this.$$ngModelSet=function(a,c){y(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw Ng("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Z(this.$$element))},$render:n,$isEmpty:function(a){return r(a)||""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,Mg),this.$$animate.addClass(this.$$element,Lg)):(this.$$animate.removeClass(this.$$element,Lg),this.$$animate.addClass(this.$$element,Mg))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ig),this.$$animate.addClass(this.$$element,Hg)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Hg),this.$$animate.addClass(this.$$element,Ig),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Jg,Kg)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Kg,Jg)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!he(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,c=this.$valid,d=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||c===a||(f.$modelValue=a?b:void 0,f.$modelValue!==d&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,c){function e(){var a=k.$$parserName||"parse";return r(k.$$parserValid)?(h(a,null),!0):(k.$$parserValid||(d(k.$validators,function(a,b){h(b,null)}),d(k.$asyncValidators,function(a,b){h(b,null)})),h(a,k.$$parserValid),k.$$parserValid)}function f(){var c=!0;return d(k.$validators,function(d,e){var f=Boolean(d(a,b));c=c&&f,h(e,f)}),!!c||(d(k.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var c=[],e=!0;d(k.$asyncValidators,function(d,f){var g=d(a,b);if(!G(g))throw Ng("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",g);h(f,void 0),c.push(g.then(function(){h(f,!0)},function(){e=!1,h(f,!1)}))}),c.length?k.$$q.all(c).then(function(){i(e)},n):i(!0)}function h(a,b){j===k.$$currentValidationRunId&&k.$setValidity(a,b)}function i(a){j===k.$$currentValidationRunId&&c(a)}this.$$currentValidationRunId++;var j=this.$$currentValidationRunId,k=this;return e()&&f()?void g():void i(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function a(){d.$modelValue!==f&&d.$$writeModelToScope()}var b=this.$$lastCommittedViewValue,c=b,d=this;if(this.$$parserValid=!r(c)||void 0,this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(c=this.$parsers[e](c),r(c)){this.$$parserValid=!1;break}he(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var f=this.$modelValue,g=this.$options.getOption("allowInvalid");this.$$rawModelValue=c,g&&(this.$modelValue=c,a()),this.$$runValidators(c,this.$$lastCommittedViewValue,function(b){g||(d.$modelValue=b?c:void 0,a())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),d(this.$viewChangeListeners,function(a){try{a()}catch(a){this.$$exceptionHandler(a)}},this)},$setViewValue:function(a,b){this.$viewValue=a,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");w(b[a])?b=b[a]:w(b.default)&&(b=b.default),this.$$timeout.cancel(this.$$pendingDebounce);var c=this;b>0?this.$$pendingDebounce=this.$$timeout(function(){c.$commitViewValue()},b):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){c.$commitViewValue()})}},qd({clazz:Md,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Og,Pg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Md,priority:1,compile:function(b){return b.addClass(Hg).addClass(Jg).addClass(Fg),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm,g=d[2];g&&(e.$options=g.$options),e.$$initGetterSetters(),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){function f(){g.$setTouched()}var g=e[0];g.$options.getOption("updateOn")&&c.on(g.$options.getOption("updateOn"),function(a){g.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(f):b.$apply(f))})}}}}}],Qg=/(\s+|^)default(\s+|$)/;Od.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;return a=j({},a),d(a,function(c,d){"$inherit"===c?"*"===d?b=!0:(a[d]=this.$$options[d],"updateOn"===d&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===d&&(a.updateOnDefault=!1,a[d]=ke(c.replace(Qg,function(){return a.updateOnDefault=!0," "})))},this),b&&(delete a["*"],Pd(a,this.$$options)),Pd(a,Og.$$options),new Od(a)}},Og=new Od({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Rg=function(){function a(a,b){this.$$attrs=a,this.$$scope=b}return a.$inject=["$attrs","$scope"],a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Og,b=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(b)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Sg=md({terminal:!0,priority:1e3}),Tg=b("ngOptions"),Ug=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Vg=["$compile","$document","$parse",function(b,e,f){function g(a,b,d){function e(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&c(a))b=a;else{b=[];for(var d in a)a.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b.push(d)}return b}var h=a.match(Ug);if(!h)throw Tg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,Z(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=f(h[2]?h[1]:i),n=k&&f(k),o=n||m,p=l&&f(l),q=l?function(a,b){return p(d,b)}:function(a){return db(a)},r=function(a,b){return q(a,x(a,b))},s=f(h[2]||h[1]),t=f(h[3]||""),u=f(h[4]||""),v=f(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:f(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;f<e;f++){var i=a===c?f:c[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(d,k);b.push(m)}if(h[4]){var n=u(d,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],f=g(c),h=f.length,i=0;i<h;i++){var j=c===f?i:f[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new e(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?O(a.viewValue):a.viewValue}}}}}function h(a,c,f,h){function k(a,b){var c=i.cloneNode(!1);b.appendChild(c),m(a,c)}function l(a){var b=x.getOptionFromViewValue(a),c=b&&b.element;return c&&!c.selected&&(c.selected=!0),b}function m(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),b.value=a.selectValue}function n(){var a=x&&o.readValue();if(x)for(var b=x.items.length-1;b>=0;b--){var d=x.items[b];Wa(s(d.group)?d.element.parentNode:d.element)}x=y.getOptions();var e={};if(v&&c.prepend(o.emptyOption),x.items.forEach(function(a){var b;s(a.group)?(b=e[a.group],b||(b=j.cloneNode(!1),z.appendChild(b),b.label=null===a.group?"null":a.group,e[a.group]=b),k(a,b)):k(a,z)}),c[0].appendChild(z),p.$render(),!p.$isEmpty(a)){var f=o.readValue(),g=y.trackBy||q;(g?P(a,f):a===f)||(p.$setViewValue(f),p.$render())}}for(var o=h[0],p=h[1],q=f.multiple,r=0,t=c.children(),u=t.length;r<u;r++)if(""===t[r].value){o.hasEmptyOption=!0,o.emptyOption=t.eq(r);break}var v=!!o.emptyOption,w=Yd(i.cloneNode(!1));w.val("?");var x,y=g(f.ngOptions,c,a),z=e[0].createDocumentFragment();o.generateUnknownOptionValue=function(a){return"?"},q?(o.writeValue=function(a){var b=a&&a.map(l)||[];x.items.forEach(function(a){a.element.selected&&!M(b,a)&&(a.element.selected=!1)})},o.readValue=function(){var a=c.val()||[],b=[];return d(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&a.$watchCollection(function(){if(ie(p.$viewValue))return p.$viewValue.map(function(a){return y.getTrackByValue(a)})},function(){p.$render()})):(o.writeValue=function(a){var b=x.selectValueMap[c.val()],d=x.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected"),d?(c[0].value!==d.selectValue&&(o.removeUnknownOption(),o.unselectEmptyOption(),c[0].value=d.selectValue,d.element.selected=!0),d.element.setAttribute("selected","selected")):v?o.selectEmptyOption():o.unknownOption.parent().length?o.updateUnknownOption(a):o.renderUnknownOption(a)},o.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(o.unselectEmptyOption(),o.removeUnknownOption(),x.getViewValueFromOption(a)):null},y.trackBy&&a.$watch(function(){return y.getTrackByValue(p.$viewValue)},function(){p.$render()})),v&&(o.emptyOption.remove(),b(o.emptyOption)(a),o.emptyOption[0].nodeType===we?(o.hasEmptyOption=!1,o.registerOption=function(a,b){""===b.val()&&(o.hasEmptyOption=!0,o.emptyOption=b,o.emptyOption.removeClass("ng-scope"),p.$render(),b.on("$destroy",function(){o.hasEmptyOption=!1,o.emptyOption=void 0}))}):o.emptyOption.removeClass("ng-scope")),c.empty(),n(),a.$watchCollection(y.getWatchables,n)}var i=a.document.createElement("option"),j=a.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=n},post:h}}}],Wg=["$locale","$interpolate","$log",function(a,b,c){var e=/{}/g,f=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),o=i.offset||0,p=g.$eval(m)||{},q={},s=b.startSymbol(),t=b.endSymbol(),u=s+l+"-"+o+t,v=fe.noop;d(i,function(a,b){var c=f.exec(b);if(c){var d=(c[1]?"-":"")+Td(c[2]);p[d]=h.attr(i.$attr[b])}}),d(p,function(a,c){q[c]=b(a.replace(e,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=he(d);if(e||d in p||(d=a.pluralCat(d-o)),!(d===k||e&&he(k))){v();var f=q[d];r(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=n,j()):v=g.$watch(f,j),k=d}})}}}],Xg=["$parse","$animate","$compile",function(a,e,f){var g="$$NG_REMOVED",h=b("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},j=function(a){return a.clone[0]},k=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(b,l){var m=l.ngRepeat,n=f.$$createComment("end ngRepeat",m),o=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!o)throw h("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",m);var p=o[1],q=o[2],r=o[3],s=o[4];if(o=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!o)throw h("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var t=o[3]||o[1],u=o[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw h("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",r);var v,w,x,y,z={$id:db};return s?v=a(s):(x=function(a,b){return db(b)},y=function(a){return a}),function(a,b,f,l,o){v&&(w=function(b,c,d){return u&&(z[u]=b),z[t]=c,z.$index=d,v(a,z)});var p=qa();a.$watchCollection(q,function(f){var l,q,s,v,z,A,B,C,D,E,F,G,H=b[0],I=qa();if(r&&(a[r]=f),c(f))D=f,C=w||x;else{C=w||y,D=[];for(var J in f)Sd.call(f,J)&&"$"!==J.charAt(0)&&D.push(J)}for(v=D.length,F=new Array(v),l=0;l<v;l++)if(z=f===D?l:D[l],A=f[z],B=C(z,A,l),p[B])E=p[B],delete p[B],I[B]=E,F[l]=E;else{if(I[B])throw d(F,function(a){a&&a.scope&&(p[a.id]=a)}),h("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",m,B,A);F[l]={id:B,scope:void 0,clone:void 0},I[B]=!0}for(var K in p){if(E=p[K],G=pa(E.clone),e.leave(G),G[0].parentNode)for(l=0,q=G.length;l<q;l++)G[l][g]=!0;E.scope.$destroy()}for(l=0;l<v;l++)if(z=f===D?l:D[l],A=f[z],E=F[l],E.scope){s=H;do s=s.nextSibling;while(s&&s[g]);j(E)!==s&&e.move(pa(E.clone),null,H),H=k(E),i(E.scope,l,t,A,u,z,v)}else o(function(a,b){E.scope=b;var c=n.cloneNode(!1);a[a.length++]=c,e.enter(a,null,H),H=c,E.clone=a,I[E.id]=E,i(E.scope,l,t,A,u,z,v)});p=I})}}}}],Yg="ng-hide",Zg="ng-hide-animate",$g=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Yg,{tempClasses:Zg})})}}}],_g=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Yg,{tempClasses:Zg})})}}}],ah=md(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&d(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),bh=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,e,f,g){var h=f.ngSwitch||f.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(c){c!==!1&&a.splice(b,1)}};c.$watch(h,function(c){for(var e,f;k.length;)a.cancel(k.pop());for(e=0,f=l.length;e<f;++e){var h=pa(j[e].clone);l[e].$destroy();var n=k[e]=a.leave(h);n.done(m(k,e))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&d(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],ch=md({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,e,f){var g=c.ngSwitchWhen.split(c.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});d(g,function(a){e.cases["!"+a]=e.cases["!"+a]||[],e.cases["!"+a].push({transclude:f,element:b})})}}),dh=md({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),eh=b("ngTransclude"),fh=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var c=a(b.contents());return b.empty(),function(a,b,d,e,f){function g(a,c){a.length&&i(a)?b.append(a):(h(),c.$destroy())}function h(){c(a,function(a){b.append(a)})}function i(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d.nodeType!==ve||d.nodeValue.trim())return!0}}if(!f)throw eh("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(b));d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude="");var j=d.ngTransclude||d.ngTranscludeSlot;f(g,null,j),j&&!f.isSlotFilled(j)&&h()}}}}],gh=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"===c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],hh={$setViewValue:n,$render:n},ih=["$element","$scope",function(b,c){function d(){i||(i=!0,c.$$postDigest(function(){i=!1,g.ngModelCtrl.$render()}))}function e(a){j||(j=!0,c.$$postDigest(function(){c.$$destroyed||(j=!1,g.ngModelCtrl.$setViewValue(g.readValue()),a&&g.ngModelCtrl.$render())}))}function f(a){a.prop("selected",!0),a.attr("selected",!0)}var g=this,h=new eb;g.selectValueMap={},g.ngModelCtrl=hh,g.multiple=!1,g.unknownOption=Yd(a.document.createElement("option")),g.hasEmptyOption=!1,g.emptyOption=void 0,g.renderUnknownOption=function(a){var c=g.generateUnknownOptionValue(a);g.unknownOption.val(c),b.prepend(g.unknownOption),f(g.unknownOption),b.val(c)},g.updateUnknownOption=function(a){var c=g.generateUnknownOptionValue(a);g.unknownOption.val(c),f(g.unknownOption),b.val(c)},g.generateUnknownOptionValue=function(a){return"? "+db(a)+" ?"},g.removeUnknownOption=function(){g.unknownOption.parent()&&g.unknownOption.remove()},g.selectEmptyOption=function(){g.emptyOption&&(b.val(""),f(g.emptyOption))},g.unselectEmptyOption=function(){g.hasEmptyOption&&g.emptyOption.removeAttr("selected")},c.$on("$destroy",function(){g.renderUnknownOption=n}),g.readValue=function(){var a=b.val(),c=a in g.selectValueMap?g.selectValueMap[a]:a;return g.hasOption(c)?c:null},g.writeValue=function(a){var c=b[0].options[b[0].selectedIndex];if(c&&c.removeAttribute("selected"),g.hasOption(a)){g.removeUnknownOption();var d=db(a);b.val(d in g.selectValueMap?d:a);var e=b[0].options[b[0].selectedIndex];f(Yd(e))}else null==a&&g.emptyOption?(g.removeUnknownOption(),g.selectEmptyOption()):g.unknownOption.parent().length?g.updateUnknownOption(a):g.renderUnknownOption(a)},g.addOption=function(a,b){if(b[0].nodeType!==we){na(a,'"option value"'),""===a&&(g.hasEmptyOption=!0,g.emptyOption=b);var c=h.get(a)||0;h.put(a,c+1),d()}},g.removeOption=function(a){var b=h.get(a);b&&(1===b?(h.remove(a),""===a&&(g.hasEmptyOption=!1,g.emptyOption=void 0)):h.put(a,b-1))},g.hasOption=function(a){return!!h.get(a)};var i=!1,j=!1;g.registerOption=function(a,b,c,d,f){if(c.$attr.ngValue){var h,i=NaN;c.$observe("value",function(a){var c,d=b.prop("selected");s(i)&&(g.removeOption(h),delete g.selectValueMap[i],c=!0),i=db(a),h=a,g.selectValueMap[i]=a,g.addOption(a,b),b.attr("value",i),c&&d&&e()})}else d?c.$observe("value",function(a){g.readValue();var c,d=b.prop("selected");s(h)&&(g.removeOption(h),c=!0),h=a,g.addOption(a,b),c&&d&&e()}):f?a.$watch(f,function(a,d){c.$set("value",a);var f=b.prop("selected");d!==a&&g.removeOption(d),g.addOption(a,b),d&&f&&e()}):g.addOption(c.value,b);c.$observe("disabled",function(a){("true"===a||a&&b.prop("selected"))&&(g.multiple?e(!0):(g.ngModelCtrl.$setViewValue(null),g.ngModelCtrl.$render()))}),b.on("$destroy",function(){var a=g.readValue(),b=c.value;g.removeOption(b),g.ngModelCtrl.$render(),(g.multiple&&a&&a.indexOf(b)!==-1||a===b)&&e(!0)})}}],jh=function(){function a(a,b,c,e){var f=e[0],g=e[1];if(!g)return void(f.registerOption=n);if(f.ngModelCtrl=g,b.on("change",function(){f.removeUnknownOption(),a.$apply(function(){g.$setViewValue(f.readValue())})}),c.multiple){f.multiple=!0,f.readValue=function(){var a=[];return d(b.find("option"),function(b){if(b.selected&&!b.disabled){var c=b.value;a.push(c in f.selectValueMap?f.selectValueMap[c]:c)}}),a},f.writeValue=function(a){var c=new eb(a);d(b.find("option"),function(a){a.selected=s(c.get(a.value))||s(c.get(f.selectValueMap[a.value]))})};var h,i=NaN;a.$watch(function(){i!==g.$viewValue||P(h,g.$viewValue)||(h=ta(g.$viewValue),g.$render()),i=g.$viewValue}),g.$isEmpty=function(a){return!a||0===a.length}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:ih,priority:1,link:{pre:a,post:b}}},kh=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){var d,e;return s(c.ngValue)||(s(c.value)?d=a(c.value,!0):(e=a(b.text(),!0),e||c.$set("value",b.text()))),function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],lh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},mh=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(v(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw b("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,a,Z(c));f=a||void 0,e.$validate()}),e.$validators.pattern=function(a,b){return e.$isEmpty(b)||r(f)||f.test(b)}}}}},nh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=l(a);e=he(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return e<0||d.$isEmpty(b)||b.length<=e}}}}},oh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=l(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void(a.console&&console.log("WARNING: Tried to load angular more than once.")):(ka(),wa(fe),fe.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return b==-1?0:a.length-b-1}function c(a,c){var d=c;void 0===d&&(d=Math.min(b(a),3));var e=Math.pow(10,d),f=(a*e|0)%e;return{v:d,f:f}}var d={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],
STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var e=0|a,f=c(a,b);return 1==e&&0==f.v?d.ONE:d.OTHER}})}]),void Yd(function(){fa(a.document,ga)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')}(this),d()}),System.register("app/core/core_module.js",["angular"],function(a,b){"use strict";var c;b&&b.id;return{setters:[function(a){c=a}],execute:function(){a("default",c.default.module("grafana.core",["ngRoute"]))}}}),System.register("app/core/components/help/help.js",["../../core_module","app/core/app_events"],function(a,b){"use strict";function c(){return{restrict:"E",templateUrl:"public/app/core/components/help/help.html",controller:f,bindToController:!0,transclude:!0,controllerAs:"ctrl",scope:{}}}b&&b.id;a("helpModal",c);var d,e,f;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b){this.$scope=a,this.tabIndex=0,this.shortcuts={Global:[{keys:["g","h"],description:"Go to Home Dashboard"},{keys:["g","p"],description:"Go to Profile"},{keys:["s","o"],description:"Open search"},{keys:["s","s"],description:"Open search with starred filter"},{keys:["s","t"],description:"Open search in tags view"},{keys:["esc"],description:"Exit edit/setting views"}],Dashboard:[{keys:["mod+s"],description:"Save dashboard"},{keys:["mod+h"],description:"Hide row controls"},{keys:["d","r"],description:"Refresh all panels"},{keys:["d","s"],description:"Dashboard settings"},{keys:["d","v"],description:"Toggle in-active / view mode"},{keys:["d","k"],description:"Toggle kiosk mode (hides top nav)"},{keys:["d","E"],description:"Expand all rows"},{keys:["d","C"],description:"Collapse all rows"},{keys:["mod+o"],description:"Toggle shared graph crosshair"}],"Focused Panel":[{keys:["e"],description:"Toggle panel edit view"},{keys:["v"],description:"Toggle panel fullscreen view"},{keys:["p","s"],description:"Open Panel Share Modal"},{keys:["p","r"],description:"Remove Panel"}],"Focused Row":[{keys:["r","c"],description:"Collapse Row"},{keys:["r","r"],description:"Remove Row"}],"Time Range":[{keys:["t","z"],description:"Zoom out time range"},{keys:["t",'<i class="fa fa-long-arrow-left"></i>'],description:"Move time range back"},{keys:["t",'<i class="fa fa-long-arrow-right"></i>'],description:"Move time range forward"}]}}return a.$inject=["$scope","$sce"],a.prototype.dismiss=function(){e.default.emit("hide-modal")},a}(),a("HelpCtrl",f),d.default.directive("helpModal",c)}}}),System.register("app/core/core.js",["./directives/dash_class","./directives/confirm_click","./directives/dash_edit_link","./directives/dropdown_typeahead","./directives/metric_segment","./directives/misc","./directives/ng_model_on_blur","./directives/password_strength","./directives/spectrum_picker","./directives/tags","./directives/value_select_dropdown","./directives/plugin_component","./directives/rebuild_on_change","./directives/give_focus","./jquery_extended","./partials","./components/jsontree/jsontree","./components/grafana_app","./components/sidemenu/sidemenu","./components/search/search","./components/info_popover","./components/colorpicker","./components/navbar/navbar","./directives/array_join","./live/live_srv","./utils/emitter","./components/layout_selector/layout_selector","./components/switch","./components/dashboard_selector","./components/query_part/query_part_editor","./components/wizard/wizard","app/core/controllers/all","app/core/services/all","app/core/routes/routes","./filters/filters","./core_module","./app_events","./utils/colors","./utils/model_utils","./services/context_srv","./services/keybindingSrv","./components/help/help"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;b&&b.id;return{setters:[function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a},function(a){k=a},function(a){l=a},function(a){m=a},function(a){n=a},function(a){o=a},function(a){p=a},function(a){},function(a){},function(a){},function(a){},function(a){q=a},function(a){r=a},function(a){s=a},function(a){t=a},function(a){u=a},function(a){v=a},function(a){w=a}],execute:function(){a("grafanaAppDirective",c.grafanaAppDirective),a("sideMenuDirective",d.sideMenuDirective),a("searchDirective",e.searchDirective),a("infoPopover",f.infoPopover),a("colorPicker",g.colorPicker),a("navbarDirective",h.navbarDirective),a("arrayJoin",i.arrayJoin),a("liveSrv",j.liveSrv),a("Emitter",k.Emitter),a("layoutSelector",l.layoutSelector),a("switchDirective",m.switchDirective),a("dashboardSelector",n.dashboardSelector),a("queryPartEditorDirective",o.queryPartEditorDirective),a("WizardFlow",p.WizardFlow),a("coreModule",q.default),a("appEvents",r.default),a("colors",s.default),a("assignModelProperties",t.assignModelProperties),a("contextSrv",u.contextSrv),a("KeybindingSrv",v.KeybindingSrv),a("helpModal",w.helpModal)}}}),System.register("app/features/panel/panel_ctrl.js",["app/core/config","lodash","jquery","app/core/profiler","remarkable","app/core/core"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){l=a}],execute:function(){h=25,i=9,j=5,k=2,m=function(){function a(a,b){var d=this;this.$injector=b,this.$scope=a,this.$timeout=b.get("$timeout"),this.editorTabIndex=0,this.events=new l.Emitter,this.timing={};var e=c.default.panels[this.panel.type];e&&(this.pluginId=e.id,this.pluginName=e.name),a.$on("refresh",function(){return d.refresh()}),a.$on("render",function(){return d.render()}),a.$on("$destroy",function(){d.events.emit("panel-teardown"),d.events.removeAllListeners()}),this.panel.isNew&&delete this.panel.isNew}return a.prototype.init=function(){this.calculatePanelHeight(),this.publishAppEvent("panel-initialized",{scope:this.$scope}),this.events.emit("panel-initialized")},a.prototype.renderingCompleted=function(){f.profiler.renderingCompleted(this.panel.id,this.timing)},a.prototype.refresh=function(){this.events.emit("refresh",null)},a.prototype.publishAppEvent=function(a,b){this.$scope.$root.appEvent(a,b)},a.prototype.changeView=function(a,b){this.publishAppEvent("panel-change-view",{fullscreen:a,edit:b,panelId:this.panel.id})},a.prototype.viewPanel=function(){this.changeView(!0,!1)},a.prototype.editPanel=function(){this.changeView(!0,!0)},a.prototype.exitFullscreen=function(){this.changeView(!1,!1)},a.prototype.initEditMode=function(){var a=this;this.editorTabs=[],this.addEditorTab("General","public/app/partials/panelgeneral.html"),this.editModeInitiated=!0,this.events.emit("init-edit-mode",null);var b=(this.$injector.get("$routeParams").tab||"").toLowerCase();b&&this.editorTabs.forEach(function(c,d){c.title.toLowerCase()===b&&(a.editorTabIndex=d)})},a.prototype.changeTab=function(a){this.editorTabIndex=a;var b=this.$injector.get("$route");b.current.params.tab=this.editorTabs[a].title.toLowerCase(),b.updateParams()},a.prototype.addEditorTab=function(a,b,c){var e={title:a,directiveFn:b};d.default.isString(b)&&(e.directiveFn=function(){return{templateUrl:b}}),c?this.editorTabs.splice(c,0,e):this.editorTabs.push(e)},a.prototype.getMenu=function(){var a=[];return a.push({text:"View",click:"ctrl.viewPanel(); dismiss();"}),a.push({text:"Edit",click:"ctrl.editPanel(); dismiss();",role:"Editor"}),this.fullscreen||a.push({text:"Duplicate",click:"ctrl.duplicate()",role:"Editor"}),a.push({text:"Share",click:"ctrl.sharePanel(); dismiss();"}),a},a.prototype.getExtendedMenu=function(){var a=[{text:"Panel JSON",click:"ctrl.editPanelJson(); dismiss();"}];return this.events.emit("init-panel-actions",a),a},a.prototype.otherPanelInFullscreenMode=function(){return this.dashboard.meta.fullscreen&&!this.fullscreen},a.prototype.calculatePanelHeight=function(){if(this.fullscreen){var a=e.default(window).height(),b=Math.floor(.4*a),c=Math.floor(.8*a);this.containerHeight=this.editMode?b:c}else this.containerHeight=this.panel.height||this.row.height,d.default.isString(this.containerHeight)&&(this.containerHeight=parseInt(this.containerHeight.replace("px",""),10));this.height=this.containerHeight-(k+j+(this.panel.title?h:i))},a.prototype.render=function(a){this.otherPanelInFullscreenMode()||(this.calculatePanelHeight(),this.timing.renderStart=(new Date).getTime(),this.events.emit("render",a))},a.prototype.toggleEditorHelp=function(a){return this.editorHelpIndex===a?void(this.editorHelpIndex=null):void(this.editorHelpIndex=a)},a.prototype.duplicate=function(){var a=this;this.dashboard.duplicatePanel(this.panel,this.row),this.$timeout(function(){a.$scope.$root.$broadcast("render")})},a.prototype.updateColumnSpan=function(a){var b=this;this.panel.span=Math.min(Math.max(Math.floor(this.panel.span+a),1),12),this.row.panelSpanChanged(),this.$timeout(function(){b.render()})},a.prototype.removePanel=function(){this.row.removePanel(this.panel)},a.prototype.editPanelJson=function(){this.publishAppEvent("show-json-editor",{object:this.panel,updateHandler:this.replacePanel.bind(this)})},a.prototype.replacePanel=function(a,b){var c=this,e=(this.row,d.default.indexOf(this.row.panels,b));this.row.panels.splice(e,1),this.$timeout(function(){a.id=b.id,a.span=b.span,c.row.panels.splice(e,0,a)})},a.prototype.sharePanel=function(){var a=this.$scope.$new();a.panel=this.panel,a.dashboard=this.dashboard,this.publishAppEvent("show-modal",{src:"public/app/features/dashboard/partials/shareModal.html",scope:a})},a.prototype.getInfoMode=function(){return this.error?"error":this.panel.description?"info":this.panel.links&&this.panel.links.length?"links":""},a.prototype.getInfoContent=function(a){var b=this.panel.description;"tooltip"===a.mode&&(b=this.error||this.panel.description);var c=this.$injector.get("linkSrv"),d=this.$injector.get("templateSrv"),e=d.replace(b,this.panel.scopedVars),f='<div class="markdown-html">';if(f+=(new g.default).render(e),this.panel.links&&this.panel.links.length>0){f+="<ul>";for(var h=0,i=this.panel.links;h<i.length;h++){var j=i[h],k=c.getPanelLinkAnchorInfo(j,this.panel.scopedVars);f+='<li><a class="panel-menu-link" href="'+k.href+'" target="'+k.target+'">'+k.title+"</a></li>"}f+="</ul>"}return f+"</div>"},a.prototype.openInspector=function(){var a=this.$scope.$new();a.panel=this.panel,a.dashboard=this.dashboard,a.panelInfoHtml=this.getInfoContent({mode:"inspector"}),a.inspector=e.default.extend(!0,{},this.inspector),this.publishAppEvent("show-modal",{src:"public/app/features/dashboard/partials/inspector.html",scope:a})},a}(),a("PanelCtrl",m)}}}),System.register("app/core/utils/rangeutil.js",["lodash","moment","./datemath"],function(a,b){"use strict";function c(a,b){var c=g.default.groupBy(k,function(a){return a.active=a.display===b,a.section});return c}function d(a){return a.format(l)}function e(a){var b=0!==a.indexOf("+");a.indexOf("now")===-1&&(a=(b?"now-":"now")+a);var c=m[a+" to now"];if(c)return c;c=b?{from:a,to:"now"}:{from:"now",to:a};var d=/^now([-+])(\d+)(\w)/.exec(a);if(d){var e=d[3],f=parseInt(d[2]),g=j[e];g&&(c.display=b?"Last ":"Next ",c.display+=f+" "+g.display,c.section=g.section,f>1&&(c.display+="s"))}else c.display=c.from+" to "+c.to,c.invalid=!0;return c}function f(a){var b=m[a.from.toString()+" to "+a.to.toString()];if(b)return b.display;if(h.default.isMoment(a.from)&&h.default.isMoment(a.to))return d(a.from)+" to "+d(a.to);if(h.default.isMoment(a.from)){var c=i.parse(a.to,!0);return d(a.from)+" to "+c.fromNow()}if(h.default.isMoment(a.to)){var f=i.parse(a.from,!1);return f.fromNow()+" to "+d(a.to)}if("now"===a.to.toString()){var g=e(a.from);return g.display}return a.from.toString()+" to "+a.to.toString()}b&&b.id;a("getRelativeTimesList",c),a("describeTextRange",e),a("describeTimeRange",f);var g,h,i,j,k,l,m;return{setters:[function(a){g=a},function(a){h=a},function(a){i=a}],execute:function(){j={s:{display:"second"},m:{display:"minute"},h:{display:"hour"},d:{display:"day"},w:{display:"week"},M:{display:"month"},y:{display:"year"}},k=[{from:"now/d",to:"now/d",display:"Today",section:2},{from:"now/d",to:"now",display:"Today so far",section:2},{from:"now/w",to:"now/w",display:"This week",section:2},{from:"now/w",to:"now",display:"This week so far",section:2},{from:"now/M",to:"now/M",display:"This month",section:2},{from:"now/M",to:"now",display:"This month so far",section:2},{from:"now/y",to:"now/y",display:"This year",section:2},{from:"now/y",to:"now",display:"This year so far",section:2},{from:"now-1d/d",to:"now-1d/d",display:"Yesterday",section:1},{from:"now-2d/d",to:"now-2d/d",display:"Day before yesterday",section:1},{from:"now-7d/d",to:"now-7d/d",display:"This day last week",section:1},{from:"now-1w/w",to:"now-1w/w",display:"Previous week",section:1},{from:"now-1M/M",to:"now-1M/M",display:"Previous month",section:1},{from:"now-1y/y",to:"now-1y/y",display:"Previous year",section:1},{from:"now-5m",to:"now",display:"Last 5 minutes",section:3},{from:"now-15m",to:"now",display:"Last 15 minutes",section:3},{from:"now-30m",to:"now",display:"Last 30 minutes",section:3},{from:"now-1h",to:"now",display:"Last 1 hour",section:3},{from:"now-3h",to:"now",display:"Last 3 hours",section:3},{from:"now-6h",to:"now",display:"Last 6 hours",section:3},{from:"now-12h",to:"now",display:"Last 12 hours",section:3},{from:"now-24h",to:"now",display:"Last 24 hours",section:3},{from:"now-2d",to:"now",display:"Last 2 days",section:0},{from:"now-7d",to:"now",display:"Last 7 days",section:0},{from:"now-30d",to:"now",display:"Last 30 days",section:0},{from:"now-90d",to:"now",display:"Last 90 days",section:0},{from:"now-6M",to:"now",display:"Last 6 months",section:0},{from:"now-1y",to:"now",display:"Last 1 year",section:0},{from:"now-2y",to:"now",display:"Last 2 years",section:0},{from:"now-5y",to:"now",display:"Last 5 years",section:0}],l="MMM D, YYYY HH:mm:ss",m={},g.default.each(k,function(a){m[a.from+" to "+a.to]=a})}}}),System.register("app/core/utils/datemath.js",["lodash","moment"],function(a,b){"use strict";function c(a,b){if(a){if(g.default.isMoment(a))return a;if(f.default.isDate(a))return g.default(a);var c,d,h,i="";return"now"===a.substring(0,3)?(c=g.default(),i=a.substring("now".length)):(d=a.indexOf("||"),d===-1?(h=a,i=""):(h=a.substring(0,d),i=a.substring(d+2)),c=g.default(h,g.default.ISO_8601)),i.length?e(i,c,b):c}}function d(a){var b=c(a);return!!b&&(!!g.default.isMoment(b)&&b.isValid())}function e(a,b,c){for(var d=b,e=0,g=a.length;e<g;){var i,j,k,l=a.charAt(e++);if("/"===l)i=0;else if("+"===l)i=1;else{if("-"!==l)return;i=2}if(isNaN(a.charAt(e)))j=1;else if(2===a.length)j=a.charAt(e);else{for(var m=e;!isNaN(a.charAt(e));)if(e++,e>10)return;j=parseInt(a.substring(m,e),10)}if(0===i&&1!==j)return;if(k=a.charAt(e++),!f.default.includes(h,k))return;0===i?c?d.endOf(k):d.startOf(k):1===i?d.add(j,k):2===i&&d.subtract(j,k)}return d}b&&b.id;a("parse",c),a("isValid",d),a("parseDateMath",e);var f,g,h;return{setters:[function(a){f=a},function(a){g=a}],execute:function(){h=["y","M","w","d","h","m","s"]}}}),System.register("app/features/panel/metrics_panel_ctrl.js",["app/core/config","jquery","lodash","app/core/utils/kbn","./panel_ctrl","app/core/utils/rangeutil","app/core/utils/datemath"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a}],execute:function(){j=function(a){function b(b,c){var d=a.call(this,b,c)||this;return d.editorTabIndex=1,d.$q=c.get("$q"),d.datasourceSrv=c.get("datasourceSrv"),d.timeSrv=c.get("timeSrv"),d.templateSrv=c.get("templateSrv"),d.scope=b,d.panel.targets||(d.panel.targets=[{}]),d.events.on("refresh",d.onMetricsPanelRefresh.bind(d)),d.events.on("init-edit-mode",d.onInitMetricsPanelEditMode.bind(d)),d.events.on("panel-teardown",d.onPanelTearDown.bind(d)),d}return k(b,a),b.prototype.onPanelTearDown=function(){this.dataSubscription&&(this.dataSubscription.unsubscribe(),this.dataSubscription=null)},b.prototype.onInitMetricsPanelEditMode=function(){this.addEditorTab("Metrics","public/app/partials/metrics.html"),this.addEditorTab("Time range","public/app/features/panel/partials/panelTime.html")},b.prototype.onMetricsPanelRefresh=function(){var a=this;if(!this.otherPanelInFullscreenMode()){if(this.panel.snapshotData){this.updateTimeRange();var b=this.panel.snapshotData;return e.default.isArray(b)||(b=b.data),void this.events.emit("data-snapshot-load",b)}this.dataStream||(delete this.error,this.loading=!0,this.setTimeQueryStart(),this.datasourceSrv.get(this.panel.datasource).then(this.updateTimeRange.bind(this)).then(this.issueQueries.bind(this)).then(this.handleQueryResult.bind(this)).catch(function(b){return b.cancelled?void console.log("Panel request cancelled",b):(a.loading=!1,a.error=b.message||"Request Error",a.inspector={error:b},b.data&&(b.data.message&&(a.error=b.data.message),b.data.error&&(a.error=b.data.error)),a.events.emit("data-error",b),void console.log("Panel data error:",b))}))}},b.prototype.setTimeQueryStart=function(){this.timing.queryStart=(new Date).getTime()},b.prototype.setTimeQueryEnd=function(){this.timing.queryEnd=(new Date).getTime()},b.prototype.updateTimeRange=function(a){return this.datasource=a||this.datasource,this.range=this.timeSrv.timeRange(),this.rangeRaw=this.range.raw,this.applyPanelTimeOverrides(),this.panel.maxDataPoints?this.resolution=this.panel.maxDataPoints:this.resolution=Math.ceil(d.default(window).width()*(this.panel.span/12)),this.calculateInterval(),this.datasource},b.prototype.calculateInterval=function(){var a=this.panel.interval;a?a=this.templateSrv.replace(a,this.panel.scopedVars):this.datasource&&this.datasource.interval&&(a=this.datasource.interval);var b=f.default.calculateInterval(this.range,this.resolution,a);this.interval=b.interval,this.intervalMs=b.intervalMs},b.prototype.applyPanelTimeOverrides=function(){if(this.timeInfo="",this.panel.timeFrom){var a=this.templateSrv.replace(this.panel.timeFrom,this.panel.scopedVars),b=h.describeTextRange(a);if(b.invalid)return void(this.timeInfo="invalid time override");if(e.default.isString(this.rangeRaw.from)){var c=i.parse(b.from);this.timeInfo=b.display,this.rangeRaw.from=b.from,this.rangeRaw.to=b.to,this.range.from=c,this.range.to=i.parse(b.to)}}if(this.panel.timeShift){var d=this.templateSrv.replace(this.panel.timeShift,this.panel.scopedVars),f=h.describeTextRange(d);if(f.invalid)return void(this.timeInfo="invalid timeshift");var g="-"+d;this.timeInfo+=" timeshift "+g,this.range.from=i.parseDateMath(g,this.range.from,!1),this.range.to=i.parseDateMath(g,this.range.to,!0),this.rangeRaw=this.range}this.panel.hideTimeOverride&&(this.timeInfo="")},b.prototype.issueQueries=function(a){if(this.datasource=a,!this.panel.targets||0===this.panel.targets.length)return this.$q.when([]);var b=Object.assign({},this.panel.scopedVars,{__interval:{text:this.interval,value:this.interval},__interval_ms:{text:this.intervalMs,value:this.intervalMs}}),c={panelId:this.panel.id,range:this.range,rangeRaw:this.rangeRaw,interval:this.interval,intervalMs:this.intervalMs,targets:this.panel.targets,format:"png"===this.panel.renderer?"png":"json",maxDataPoints:this.resolution,scopedVars:b,cacheTimeout:this.panel.cacheTimeout};return a.query(c)},b.prototype.handleQueryResult=function(a){return this.setTimeQueryEnd(),this.loading=!1,a&&a.subscribe?void this.handleDataStream(a):(this.dashboard.snapshot&&(this.panel.snapshotData=a.data),a&&a.data||(console.log("Data source query result invalid, missing data field:",a),a={data:[]}),this.events.emit("data-received",a.data))},b.prototype.handleDataStream=function(a){var b=this;return this.dataStream?void console.log("two stream observables!"):(this.dataStream=a,void(this.dataSubscription=a.subscribe({next:function(a){console.log("dataSubject next!"),a.range&&(b.range=a.range),b.events.emit("data-received",a.data)},error:function(a){b.events.emit("data-error",a),console.log("panel: observer got error")},complete:function(){console.log("panel: observer got complete"),b.dataStream=null}})))},b.prototype.setDatasource=function(a){var b=this;a.meta.mixed?e.default.each(this.panel.targets,function(a){a.datasource=b.panel.datasource,a.datasource||(a.datasource=c.default.defaultDatasource)}):this.datasource&&this.datasource.meta.mixed&&e.default.each(this.panel.targets,function(a){delete a.datasource}),this.panel.datasource=a.value,this.datasourceName=a.name,this.datasource=null,this.refresh()},b}(g.PanelCtrl),a("MetricsPanelCtrl",j)}}}),System.register("app/features/panel/query_ctrl.js",[],function(a,b){"use strict";var c;b&&b.id;return{setters:[],execute:function(){c=function(){function a(a,b){this.$scope=a,this.$injector=b,this.panel=this.panelCtrl.panel}return a.prototype.refresh=function(){this.panelCtrl.refresh()},a}(),a("QueryCtrl",c)}}}),System.register("app/features/alerting/threshold_mapper.js",[],function(a,b){"use strict";var c;b&&b.id;return{setters:[],execute:function(){c=function(){function a(){}return a.alertToGraphThresholds=function(a){a.alert;if("graph"!==a.type)return!1;for(var b=0;b<a.alert.conditions.length;b++){var c=a.alert.conditions[b];if("query"===c.type){var d=c.evaluator,e=a.thresholds=[];switch(d.type){case"gt":var f=d.params[0];e.push({value:f,op:"gt"});break;case"lt":var f=d.params[0];e.push({value:f,op:"lt"});break;case"outside_range":var g=d.params[0],h=d.params[1];g>h?(e.push({value:g,op:"gt"}),e.push({value:h,op:"lt"})):(e.push({value:g,op:"lt"}),e.push({value:h,op:"gt"}));break;case"within_range":var g=d.params[0],h=d.params[1];g>h?(e.push({value:g,op:"lt"}),e.push({value:h,op:"gt"})):(e.push({value:g,op:"gt"}),e.push({value:h,op:"lt"}))}break}}for(var i=0,j=a.thresholds;i<j.length;i++){var k=j[i];k.fill=!0,k.line=!0,k.colorMode="critical"}var l=!0;return l},a}(),a("ThresholdMapper",c)}}}),System.register("app/core/components/query_part/query_part.js",["lodash"],function(a,b){"use strict";function c(a,b){var c=a.def.type+"(",d=g.default.map(a.params,function(b,c){var d=a.def.params[c];return"time"===d.type&&"auto"===b&&(b="$__interval"),"single"===d.quote?"'"+b+"'":"double"===d.quote?'"'+b+'"':b});return b&&d.unshift(b),c+d.join(", ")+")"}function d(a,b){return b+" "+a.params[0]}function e(a,b){return a.params[0]}function f(a,b){return'"'+a.params[0]+'"'}b&&b.id;a("functionRenderer",c),a("suffixRenderer",d),a("identityRenderer",e),a("quotedIdentityRenderer",f);var g,h,i;return{setters:[function(a){g=a}],execute:function(){h=function(){function a(a){this.type=a.type,this.params=a.params,this.defaultParams=a.defaultParams,this.renderer=a.renderer,this.category=a.category,this.addStrategy=a.addStrategy}return a}(),a("QueryPartDef",h),i=function(){function a(a,b){if(this.part=a,this.def=b,!this.def)throw{message:"Could not find query part "+a.type};a.params=a.params||g.default.clone(this.def.defaultParams),this.params=a.params,this.updateText()}return a.prototype.render=function(a){return this.def.renderer(this,a)},a.prototype.hasMultipleParamsInString=function(a,b){return a.indexOf(",")!==-1&&(this.def.params[b+1]&&this.def.params[b+1].optional)},a.prototype.updateParam=function(a,b){var c=this;return this.hasMultipleParamsInString(a,b)?void g.default.each(a.split(","),function(a,b){c.updateParam(a.trim(),b)}):(""===a&&this.def.params[b].optional?this.params.splice(b,1):this.params[b]=a,this.part.params=this.params,void this.updateText())},a.prototype.updateText=function(){if(0===this.params.length)return void(this.text=this.def.type+"()");var a=this.def.type+"(";a+=this.params.join(", "),a+=")",this.text=a},a}(),a("QueryPart",i)}}}),System.register("app/features/alerting/alert_def.js",["lodash","app/core/components/query_part/query_part"],function(a,b){"use strict";function c(a){var b=new h.QueryPartDef({type:a.type,defaultParams:[]});return new h.QueryPart(a,b)}function d(a){switch(a){case"ok":return{text:"OK",iconClass:"icon-gf icon-gf-online",stateClass:"alert-state-ok"};case"alerting":return{text:"ALERTING",iconClass:"icon-gf icon-gf-critical",stateClass:"alert-state-critical"};case"no_data":return{text:"NO DATA",iconClass:"fa fa-question",stateClass:"alert-state-warning"};case"paused":return{text:"PAUSED",iconClass:"fa fa-pause",stateClass:"alert-state-paused"};case"pending":return{text:"PENDING",iconClass:"fa fa-exclamation",stateClass:"alert-state-warning"}}}function e(a,b){return g.default.reduce(a,function(a,b){return void 0!==b.metric&&void 0!==b.value&&a.push(b.metric+"="+b.value),void 0!==b.Metric&&void 0!==b.Value&&a.push(b.Metric+"="+b.Value),a},[]).join(b)}function f(a){return g.default.isArray(a.data)?e(a.data,", "):g.default.isArray(a.data.evalMatches)?e(a.data.evalMatches,", "):a.data.error?"Error: "+a.data.error:a.data.noData||a.data.no_data?"No Data":""}var g,h,i,j,k,l,m,n,o,p;b&&b.id;return{setters:[function(a){g=a},function(a){h=a}],execute:function(){i=new h.QueryPartDef({type:"query",params:[{name:"queryRefId",type:"string",dynamicLookup:!0},{name:"from",type:"string",options:["1s","10s","1m","5m","10m","15m","1h","24h","48h"]},{name:"to",type:"string",options:["now"]}],defaultParams:["#A","15m","now","avg"]}),j=[{text:"Query",value:"query"}],k={alerting:1,no_data:2,pending:3,ok:4,paused:5},l=[{text:"IS ABOVE",value:"gt"},{text:"IS BELOW",value:"lt"},{text:"IS OUTSIDE RANGE",value:"outside_range"},{text:"IS WITHIN RANGE",value:"within_range"},{text:"HAS NO VALUE",value:"no_value"}],m=[{text:"OR",value:"or"},{text:"AND",value:"and"}],n=[{text:"avg()",value:"avg"},{text:"min()",value:"min"},{text:"max()",value:"max"},{text:"sum()",value:"sum"},{text:"count()",value:"count"},{text:"last()",value:"last"},{text:"median()",value:"median"}],o=[{text:"Alerting",value:"alerting"},{text:"No Data",value:"no_data"},{text:"Keep Last State",value:"keep_state"},{text:"Ok",value:"ok"}],p=[{text:"Alerting",value:"alerting"},{text:"Keep Last State",value:"keep_state"}],a("default",{alertQueryDef:i,getStateDisplayModel:d,conditionTypes:j,evalFunctions:l,evalOperators:m,noDataModes:o,executionErrorModes:p,reducerTypes:n,createReducerPart:c,getAlertAnnotationInfo:f,alertStateSortScore:k})}}}),function(){var a=System.amdDefine;!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof a&&a.amd?a("moment",[],c):b.moment=c()}(this,function(){"use strict";function a(){return je.apply(null,arguments)}function b(a){je=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function g(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function h(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function i(a,b){for(var c in b)h(b,c)&&(a[c]=b[c]);return h(b,"toString")&&(a.toString=b.toString),h(b,"valueOf")&&(a.valueOf=b.valueOf),a}function j(a,b,c,d){return qb(a,b,c,d,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(a){return null==a._pf&&(a._pf=k()),a._pf}function m(a){if(null==a._isValid){var b=l(a),c=ke.call(b.parsedDateParts,function(a){return null!=a});a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function n(a){var b=j(NaN);return null!=a?i(l(b),a):l(b).userInvalidated=!0,b}function o(a){return void 0===a}function p(a,b){var c,d,e;if(o(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),o(b._i)||(a._i=b._i),o(b._f)||(a._f=b._f),o(b._l)||(a._l=b._l),o(b._strict)||(a._strict=b._strict),o(b._tzm)||(a._tzm=b._tzm),o(b._isUTC)||(a._isUTC=b._isUTC),o(b._offset)||(a._offset=b._offset),o(b._pf)||(a._pf=l(b)),o(b._locale)||(a._locale=b._locale),le.length>0)for(c in le)d=le[c],e=b[d],o(e)||(a[d]=e);return a}function q(b){p(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),me===!1&&(me=!0,a.updateOffset(this),me=!1)}function r(a){return a instanceof q||null!=a&&null!=a._isAMomentObject}function s(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function t(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=s(b)),c}function u(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&t(a[d])!==t(b[d]))&&g++;return g+f}function v(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function w(b,c){var d=!0;return i(function(){return null!=a.deprecationHandler&&a.deprecationHandler(null,b),d&&(v(b+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),d=!1),c.apply(this,arguments)},c)}function x(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),ne[b]||(v(c),ne[b]=!0)}function y(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function z(a){var b,c;for(c in a)b=a[c],y(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function A(a,b){var c,e=i({},a);for(c in b)h(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},i(e[c],a[c]),i(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)h(a,c)&&!h(b,c)&&d(a[c])&&(e[c]=i({},e[c]));return e}function B(a){null!=a&&this.set(a)}function C(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return y(d)?d.call(b,c):d}function D(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function E(){return this._invalidDate}function F(a){return this._ordinal.replace("%d",a)}function G(a,b,c,d){var e=this._relativeTime[c];return y(e)?e(a,b,c,d):e.replace(/%d/i,a)}function H(a,b){var c=this._relativeTime[a>0?"future":"past"];return y(c)?c(b):c.replace(/%s/i,b)}function I(a,b){var c=a.toLowerCase();we[c]=we[c+"s"]=we[b]=a}function J(a){return"string"==typeof a?we[a]||we[a.toLowerCase()]:void 0}function K(a){var b,c,d={};for(c in a)h(a,c)&&(b=J(c),b&&(d[b]=a[c]));return d}function L(a,b){xe[a]=b}function M(a){var b=[];for(var c in a)b.push({unit:c,priority:xe[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function N(b,c){return function(d){
return null!=d?(P(this,b,d),a.updateOffset(this,c),this):O(this,b)}}function O(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function P(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function Q(a){return a=J(a),y(this[a])?this[a]():this}function R(a,b){if("object"==typeof a){a=K(a);for(var c=M(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=J(a),y(this[a]))return this[a](b);return this}function S(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function T(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Be[a]=e),b&&(Be[b[0]]=function(){return S(e.apply(this,arguments),b[1],b[2])}),c&&(Be[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function U(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function V(a){var b,c,d=a.match(ye);for(b=0,c=d.length;b<c;b++)Be[d[b]]?d[b]=Be[d[b]]:d[b]=U(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function W(a,b){return a.isValid()?(b=X(b,a.localeData()),Ae[b]=Ae[b]||V(b),Ae[b](a)):a.localeData().invalidDate()}function X(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(ze.lastIndex=0;d>=0&&ze.test(a);)a=a.replace(ze,c),ze.lastIndex=0,d-=1;return a}function Y(a,b,c){Te[a]=y(b)?b:function(a,d){return a&&c?c:b}}function Z(a,b){return h(Te,a)?Te[a](b._strict,b._locale):new RegExp($(a))}function $(a){return _(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function _(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function aa(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=t(a)}),c=0;c<a.length;c++)Ue[a[c]]=d}function ba(a,b){aa(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function ca(a,b,c){null!=b&&h(Ue,a)&&Ue[a](b,c._a,c,a)}function da(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ea(a,b){return c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||cf).test(b)?"format":"standalone"][a.month()]}function fa(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[cf.test(b)?"format":"standalone"][a.month()]}function ga(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=j([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=pe.call(this._shortMonthsParse,g),e!==-1?e:null):(e=pe.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=pe.call(this._shortMonthsParse,g),e!==-1?e:(e=pe.call(this._longMonthsParse,g),e!==-1?e:null)):(e=pe.call(this._longMonthsParse,g),e!==-1?e:(e=pe.call(this._shortMonthsParse,g),e!==-1?e:null))}function ha(a,b,c){var d,e,f;if(this._monthsParseExact)return ga.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=j([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ia(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=t(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),da(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ja(b){return null!=b?(ia(this,b),a.updateOffset(this,!0),this):O(this,"Month")}function ka(){return da(this.year(),this.month())}function la(a){return this._monthsParseExact?(h(this,"_monthsRegex")||na.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=ff),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function ma(a){return this._monthsParseExact?(h(this,"_monthsRegex")||na.call(this),a?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=gf),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function na(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=j([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=_(d[b]),e[b]=_(e[b]);for(b=0;b<24;b++)f[b]=_(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function oa(a){return pa(a)?366:365}function pa(a){return a%4===0&&a%100!==0||a%400===0}function qa(){return pa(this.year())}function ra(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function sa(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ta(a,b,c){var d=7+b-c,e=(7+sa(a,0,d).getUTCDay()-b)%7;return-e+d-1}function ua(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ta(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=oa(f)+j):j>oa(a)?(f=a+1,g=j-oa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function va(a,b,c){var d,e,f=ta(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+wa(e,b,c)):g>wa(a.year(),b,c)?(d=g-wa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function wa(a,b,c){var d=ta(a,b,c),e=ta(a+1,b,c);return(oa(a)-d+e)/7}function xa(a){return va(a,this._week.dow,this._week.doy).week}function ya(){return this._week.dow}function za(){return this._week.doy}function Aa(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ba(a){var b=va(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Ca(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Da(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ea(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function Fa(a){return this._weekdaysShort[a.day()]}function Ga(a){return this._weekdaysMin[a.day()]}function Ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=j([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=pe.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=pe.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=pe.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=pe.call(this._weekdaysParse,g),e!==-1?e:(e=pe.call(this._shortWeekdaysParse,g),e!==-1?e:(e=pe.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=pe.call(this._shortWeekdaysParse,g),e!==-1?e:(e=pe.call(this._weekdaysParse,g),e!==-1?e:(e=pe.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=pe.call(this._minWeekdaysParse,g),e!==-1?e:(e=pe.call(this._weekdaysParse,g),e!==-1?e:(e=pe.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ia(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ha.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=j([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ja(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Ca(a,this.localeData()),this.add(a-b,"d")):b}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function La(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Da(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Ma(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=nf),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Na(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=of),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Oa(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pf),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Pa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],k=[];for(b=0;b<7;b++)c=j([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),k.push(d),k.push(e),k.push(f);for(g.sort(a),h.sort(a),i.sort(a),k.sort(a),b=0;b<7;b++)h[b]=_(h[b]),i[b]=_(i[b]),k[b]=_(k[b]);this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Qa(){return this.hours()%12||12}function Ra(){return this.hours()||24}function Sa(a,b){T(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ta(a,b){return b._meridiemParse}function Ua(a){return"p"===(a+"").toLowerCase().charAt(0)}function Va(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wa(a){return a?a.toLowerCase().replace("_","-"):a}function Xa(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Wa(a[f]).split("-"),b=e.length,c=Wa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Ya(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&u(e,c,!0)>=b-1)break;b--}f++}return null}function Ya(a){var b=null;if(!uf[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=qf._abbr,require("./locale/"+a),Za(b)}catch(a){}return uf[a]}function Za(a,b){var c;return a&&(c=o(b)?ab(a):$a(a,b),c&&(qf=c)),qf._abbr}function $a(a,b){if(null!==b){var c=tf;return b.abbr=a,null!=uf[a]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=uf[a]._config):null!=b.parentLocale&&(null!=uf[b.parentLocale]?c=uf[b.parentLocale]._config:x("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),uf[a]=new B(A(c,b)),Za(a),uf[a]}return delete uf[a],null}function _a(a,b){if(null!=b){var c,d=tf;null!=uf[a]&&(d=uf[a]._config),b=A(d,b),c=new B(b),c.parentLocale=uf[a],uf[a]=c,Za(a)}else null!=uf[a]&&(null!=uf[a].parentLocale?uf[a]=uf[a].parentLocale:null!=uf[a]&&delete uf[a]);return uf[a]}function ab(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return qf;if(!c(a)){if(b=Ya(a))return b;a=[a]}return Xa(a)}function bb(){return oe(uf)}function cb(a){var b,c=a._a;return c&&l(a).overflow===-2&&(b=c[We]<0||c[We]>11?We:c[Xe]<1||c[Xe]>da(c[Ve],c[We])?Xe:c[Ye]<0||c[Ye]>24||24===c[Ye]&&(0!==c[Ze]||0!==c[$e]||0!==c[_e])?Ye:c[Ze]<0||c[Ze]>59?Ze:c[$e]<0||c[$e]>59?$e:c[_e]<0||c[_e]>999?_e:-1,l(a)._overflowDayOfYear&&(b<Ve||b>Xe)&&(b=Xe),l(a)._overflowWeeks&&b===-1&&(b=af),l(a)._overflowWeekday&&b===-1&&(b=bf),l(a).overflow=b),a}function db(a){var b,c,d,e,f,g,h=a._i,i=vf.exec(h)||wf.exec(h);if(i){for(l(a).iso=!0,b=0,c=yf.length;b<c;b++)if(yf[b][1].exec(i[1])){e=yf[b][0],d=yf[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=zf.length;b<c;b++)if(zf[b][1].exec(i[3])){f=(i[2]||" ")+zf[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!xf.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),jb(a)}else a._isValid=!1}function eb(b){var c=Af.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(db(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function fb(a,b,c){return null!=a?a:null!=b?b:c}function gb(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function hb(a){var b,c,d,e,f=[];if(!a._d){for(d=gb(a),a._w&&null==a._a[Xe]&&null==a._a[We]&&ib(a),a._dayOfYear&&(e=fb(a._a[Ve],d[Ve]),a._dayOfYear>oa(e)&&(l(a)._overflowDayOfYear=!0),c=sa(e,0,a._dayOfYear),a._a[We]=c.getUTCMonth(),a._a[Xe]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Ye]&&0===a._a[Ze]&&0===a._a[$e]&&0===a._a[_e]&&(a._nextDay=!0,a._a[Ye]=0),a._d=(a._useUTC?sa:ra).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Ye]=24)}}function ib(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=fb(b.GG,a._a[Ve],va(rb(),1,4).year),d=fb(b.W,1),e=fb(b.E,1),(e<1||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=fb(b.gg,a._a[Ve],va(rb(),f,g).year),d=fb(b.w,1),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),d<1||d>wa(c,f,g)?l(a)._overflowWeeks=!0:null!=i?l(a)._overflowWeekday=!0:(h=ua(c,d,e,f,g),a._a[Ve]=h.year,a._dayOfYear=h.dayOfYear)}function jb(b){if(b._f===a.ISO_8601)return void db(b);b._a=[],l(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=X(b._f,b._locale).match(ye)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(Z(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&l(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Be[f]?(d?l(b).empty=!1:l(b).unusedTokens.push(f),ca(f,d,b)):b._strict&&!d&&l(b).unusedTokens.push(f);l(b).charsLeftOver=i-j,h.length>0&&l(b).unusedInput.push(h),b._a[Ye]<=12&&l(b).bigHour===!0&&b._a[Ye]>0&&(l(b).bigHour=void 0),l(b).parsedDateParts=b._a.slice(0),l(b).meridiem=b._meridiem,b._a[Ye]=kb(b._locale,b._a[Ye],b._meridiem),hb(b),cb(b)}function kb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function lb(a){var b,c,d,e,f;if(0===a._f.length)return l(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],jb(b),m(b)&&(f+=l(b).charsLeftOver,f+=10*l(b).unusedTokens.length,l(b).score=f,(null==d||f<d)&&(d=f,c=b));i(a,c||b)}function mb(a){if(!a._d){var b=K(a._i);a._a=g([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),hb(a)}}function nb(a){var b=new q(cb(ob(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function ob(a){var b=a._i,d=a._f;return a._locale=a._locale||ab(a._l),null===b||void 0===d&&""===b?n({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),r(b)?new q(cb(b)):(c(d)?lb(a):f(b)?a._d=b:d?jb(a):pb(a),m(a)||(a._d=null),a))}function pb(b){var d=b._i;void 0===d?b._d=new Date(a.now()):f(d)?b._d=new Date(d.valueOf()):"string"==typeof d?eb(b):c(d)?(b._a=g(d.slice(0),function(a){return parseInt(a,10)}),hb(b)):"object"==typeof d?mb(b):"number"==typeof d?b._d=new Date(d):a.createFromInputFallback(b)}function qb(a,b,f,g,h){var i={};return"boolean"==typeof f&&(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,nb(i)}function rb(a,b,c,d){return qb(a,b,c,d,!1)}function sb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return rb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function tb(){var a=[].slice.call(arguments,0);return sb("isBefore",a)}function ub(){var a=[].slice.call(arguments,0);return sb("isAfter",a)}function vb(a){var b=K(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ab(),this._bubble()}function wb(a){return a instanceof vb}function xb(a,b){T(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+S(~~(a/60),2)+b+S(~~a%60,2)})}function yb(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Ef)||["-",0,0],f=+(60*e[1])+t(e[2]);return"+"===e[0]?f:-f}function zb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(r(b)||f(b)?b.valueOf():rb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):rb(b).local()}function Ab(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Bb(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=yb(Qe,b):Math.abs(b)<16&&(b*=60),!this._isUTC&&c&&(d=Ab(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?Sb(this,Mb(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ab(this):null!=b?this:NaN}function Cb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Db(a){return this.utcOffset(0,a)}function Eb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ab(this),"m")),this}function Fb(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(yb(Pe,this._i)),this}function Gb(a){return!!this.isValid()&&(a=a?rb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Hb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ib(){if(!o(this._isDSTShifted))return this._isDSTShifted;var a={};if(p(a,this),a=ob(a),a._a){var b=a._isUTC?j(a._a):rb(a._a);this._isDSTShifted=this.isValid()&&u(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jb(){return!!this.isValid()&&!this._isUTC}function Kb(){return!!this.isValid()&&this._isUTC}function Lb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Mb(a,b){var c,d,e,f=a,g=null;return wb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Ff.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:t(g[Xe])*c,h:t(g[Ye])*c,m:t(g[Ze])*c,s:t(g[$e])*c,ms:t(g[_e])*c}):(g=Gf.exec(a))?(c="-"===g[1]?-1:1,f={y:Nb(g[2],c),M:Nb(g[3],c),w:Nb(g[4],c),d:Nb(g[5],c),h:Nb(g[6],c),m:Nb(g[7],c),s:Nb(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Pb(rb(f.from),rb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new vb(f),wb(a)&&h(a,"_locale")&&(d._locale=a._locale),d}function Nb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Ob(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Pb(a,b){var c;return a.isValid()&&b.isValid()?(b=zb(b,a),a.isBefore(b)?c=Ob(a,b):(c=Ob(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Qb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function Rb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(x(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Mb(c,d),Sb(this,e,a),this}}function Sb(b,c,d,e){var f=c._milliseconds,g=Qb(c._days),h=Qb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&P(b,"Date",O(b,"Date")+g*d),h&&ia(b,O(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Tb(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Ub(b,c){var d=b||rb(),e=zb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(y(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,rb(d)))}function Vb(){return new q(this)}function Wb(a,b){var c=r(a)?a:rb(a);return!(!this.isValid()||!c.isValid())&&(b=J(o(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function Xb(a,b){var c=r(a)?a:rb(a);return!(!this.isValid()||!c.isValid())&&(b=J(o(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function Yb(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function Zb(a,b){var c,d=r(a)?a:rb(a);return!(!this.isValid()||!d.isValid())&&(b=J(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function $b(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function _b(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function ac(a,b,c){var d,e,f,g;return this.isValid()?(d=zb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=J(b),"year"===b||"month"===b||"quarter"===b?(g=bc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:s(g)):NaN):NaN}function bc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function cc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dc(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?y(Date.prototype.toISOString)?this.toDate().toISOString():W(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ec(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=W(this,b);return this.localeData().postformat(c)}function fc(a,b){return this.isValid()&&(r(a)&&a.isValid()||rb(a).isValid())?Mb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function gc(a){return this.from(rb(),a)}function hc(a,b){return this.isValid()&&(r(a)&&a.isValid()||rb(a).isValid())?Mb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ic(a){return this.to(rb(),a)}function jc(a){var b;return void 0===a?this._locale._abbr:(b=ab(a),null!=b&&(this._locale=b),this)}function kc(){return this._locale}function lc(a){switch(a=J(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function mc(a){return a=J(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function nc(){return this._d.valueOf()-6e4*(this._offset||0)}function oc(){return Math.floor(this.valueOf()/1e3)}function pc(){return new Date(this.valueOf())}function qc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function rc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function sc(){return this.isValid()?this.toISOString():null}function tc(){return m(this)}function uc(){return i({},l(this))}function vc(){return l(this).overflow}function wc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xc(a,b){T(0,[a,a.length],0,b)}function yc(a){return Cc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zc(a){return Cc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Ac(){return wa(this.year(),1,4)}function Bc(){var a=this.localeData()._week;return wa(this.year(),a.dow,a.doy)}function Cc(a,b,c,d,e){var f;return null==a?va(this,d,e).year:(f=wa(a,d,e),b>f&&(b=f),Dc.call(this,a,b,c,d,e))}function Dc(a,b,c,d,e){var f=ua(a,b,c,d,e),g=sa(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Ec(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Fc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Gc(a,b){b[_e]=t(1e3*("0."+a))}function Hc(){return this._isUTC?"UTC":""}function Ic(){return this._isUTC?"Coordinated Universal Time":""}function Jc(a){return rb(1e3*a)}function Kc(){return rb.apply(null,arguments).parseZone()}function Lc(a){return a}function Mc(a,b,c,d){var e=ab(),f=j().set(d,b);return e[c](f,a)}function Nc(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Mc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Mc(a,d,c,"month");return e}function Oc(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=ab(),f=a?e._week.dow:0;if(null!=c)return Mc(b,(c+f)%7,d,"day");var g,h=[];for(g=0;g<7;g++)h[g]=Mc(b,(g+f)%7,d,"day");return h}function Pc(a,b){return Nc(a,b,"months")}function Qc(a,b){return Nc(a,b,"monthsShort")}function Rc(a,b,c){return Oc(a,b,c,"weekdays")}function Sc(a,b,c){return Oc(a,b,c,"weekdaysShort")}function Tc(a,b,c){return Oc(a,b,c,"weekdaysMin")}function Uc(){var a=this._data;return this._milliseconds=Sf(this._milliseconds),this._days=Sf(this._days),this._months=Sf(this._months),a.milliseconds=Sf(a.milliseconds),a.seconds=Sf(a.seconds),a.minutes=Sf(a.minutes),a.hours=Sf(a.hours),a.months=Sf(a.months),a.years=Sf(a.years),this}function Vc(a,b,c,d){var e=Mb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Wc(a,b){return Vc(this,a,b,1)}function Xc(a,b){return Vc(this,a,b,-1)}function Yc(a){return a<0?Math.floor(a):Math.ceil(a)}function Zc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*Yc(_c(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=s(f/1e3),i.seconds=a%60,b=s(a/60),i.minutes=b%60,c=s(b/60),i.hours=c%24,g+=s(c/24),e=s($c(g)),h+=e,g-=Yc(_c(e)),d=s(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function $c(a){return 4800*a/146097}function _c(a){return 146097*a/4800}function ad(a){var b,c,d=this._milliseconds;if(a=J(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+$c(b),"month"===a?c:c/12;switch(b=this._days+Math.round(_c(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function bd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12)}function cd(a){return function(){return this.as(a)}}function dd(a){return a=J(a),this[a+"s"]()}function ed(a){return function(){return this._data[a]}}function fd(){return s(this.days()/7)}function gd(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function hd(a,b,c){var d=Mb(a).abs(),e=gg(d.as("s")),f=gg(d.as("m")),g=gg(d.as("h")),h=gg(d.as("d")),i=gg(d.as("M")),j=gg(d.as("y")),k=e<hg.s&&["s",e]||f<=1&&["m"]||f<hg.m&&["mm",f]||g<=1&&["h"]||g<hg.h&&["hh",g]||h<=1&&["d"]||h<hg.d&&["dd",h]||i<=1&&["M"]||i<hg.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,gd.apply(null,k)}function id(a){return void 0===a?gg:"function"==typeof a&&(gg=a,!0)}function jd(a,b){return void 0!==hg[a]&&(void 0===b?hg[a]:(hg[a]=b,!0))}function kd(a){var b=this.localeData(),c=hd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function ld(){var a,b,c,d=ig(this._milliseconds)/1e3,e=ig(this._days),f=ig(this._months);a=s(d/60),b=s(a/60),d%=60,a%=60,c=s(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}function md(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function nd(a,b,c){var d={mm:b?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:b?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===c?b?"хвіліна":"хвіліну":"h"===c?b?"гадзіна":"гадзіну":a+" "+md(d[c],+a)}function od(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+rd(d[c],a)}function pd(a){switch(qd(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function qd(a){return a>9?qd(a%10):a}function rd(a,b){return 2===b?sd(a):a}function sd(a){var b={m:"v",b:"v",d:"z"};return void 0===b[a.charAt(0)]?a:b[a.charAt(0)]+a.substring(1)}function td(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function ud(a){return a>1&&a<5&&1!==~~(a/10)}function vd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pár sekund":"pár sekundami";case"m":return b?"minuta":d?"minutu":"minutou";case"mm":return b||d?e+(ud(a)?"minuty":"minut"):e+"minutami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(ud(a)?"hodiny":"hodin"):e+"hodinami";case"d":return b||d?"den":"dnem";case"dd":return b||d?e+(ud(a)?"dny":"dní"):e+"dny";case"M":return b||d?"měsíc":"měsícem";case"MM":return b||d?e+(ud(a)?"měsíce":"měsíců"):e+"měsíci";case"y":return b||d?"rok":"rokem";case"yy":return b||d?e+(ud(a)?"roky":"let"):e+"lety"}}function wd(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function xd(a,b,c,d){var e={m:["eine Minute","einer Minute"],
h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function yd(a,b,c,d){var e={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[a+" minuti",a+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[a+" tunni",a+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[a+" kuu",a+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[a+" aasta",a+" aastat"]};return b?e[c][2]?e[c][2]:e[c][1]:d?e[c][0]:e[c][1]}function zd(a,b,c,d){var e="";switch(c){case"s":return d?"muutaman sekunnin":"muutama sekunti";case"m":return d?"minuutin":"minuutti";case"mm":e=d?"minuutin":"minuuttia";break;case"h":return d?"tunnin":"tunti";case"hh":e=d?"tunnin":"tuntia";break;case"d":return d?"päivän":"päivä";case"dd":e=d?"päivän":"päivää";break;case"M":return d?"kuukauden":"kuukausi";case"MM":e=d?"kuukauden":"kuukautta";break;case"y":return d?"vuoden":"vuosi";case"yy":e=d?"vuoden":"vuotta"}return e=Ad(a,d)+" "+e}function Ad(a,b){return a<10?b?Jg[a]:Ig[a]:a}function Bd(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Cd(a,b,c,d){var e=a;switch(c){case"s":return d||b?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" óra":" órája");case"hh":return e+(d||b?" óra":" órája");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hónap":" hónapja");case"MM":return e+(d||b?" hónap":" hónapja");case"y":return"egy"+(d||b?" év":" éve");case"yy":return e+(d||b?" év":" éve")}return""}function Dd(a){return(a?"":"[múlt] ")+"["+Tg[this.day()]+"] LT[-kor]"}function Ed(a){return a%100===11||a%10!==1}function Fd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return b?"mínúta":"mínútu";case"mm":return Ed(a)?e+(b||d?"mínútur":"mínútum"):b?e+"mínúta":e+"mínútu";case"hh":return Ed(a)?e+(b||d?"klukkustundir":"klukkustundum"):e+"klukkustund";case"d":return b?"dagur":d?"dag":"degi";case"dd":return Ed(a)?b?e+"dagar":e+(d?"daga":"dögum"):b?e+"dagur":e+(d?"dag":"degi");case"M":return b?"mánuður":d?"mánuð":"mánuði";case"MM":return Ed(a)?b?e+"mánuðir":e+(d?"mánuði":"mánuðum"):b?e+"mánuður":e+(d?"mánuð":"mánuði");case"y":return b||d?"ár":"ári";case"yy":return Ed(a)?e+(b||d?"ár":"árum"):e+(b||d?"ár":"ári")}}function Gd(a,b,c,d){var e={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?e[c][0]:e[c][1]}function Hd(a){var b=a.substr(0,a.indexOf(" "));return Jd(b)?"a "+a:"an "+a}function Id(a){var b=a.substr(0,a.indexOf(" "));return Jd(b)?"viru "+a:"virun "+a}function Jd(a){if(a=parseInt(a,10),isNaN(a))return!1;if(a<0)return!0;if(a<10)return 4<=a&&a<=7;if(a<100){var b=a%10,c=a/10;return Jd(0===b?c:b)}if(a<1e4){for(;a>=10;)a/=10;return Jd(a)}return a/=1e3,Jd(a)}function Kd(a,b,c,d){return b?"kelios sekundės":d?"kelių sekundžių":"kelias sekundes"}function Ld(a,b,c,d){return b?Nd(c)[0]:d?Nd(c)[1]:Nd(c)[2]}function Md(a){return a%10===0||a>10&&a<20}function Nd(a){return Wg[a].split("_")}function Od(a,b,c,d){var e=a+" ";return 1===a?e+Ld(a,b,c[0],d):b?e+(Md(a)?Nd(c)[1]:Nd(c)[0]):d?e+Nd(c)[1]:e+(Md(a)?Nd(c)[1]:Nd(c)[2])}function Pd(a,b,c){return c?b%10===1&&b%100!==11?a[2]:a[3]:b%10===1&&b%100!==11?a[0]:a[1]}function Qd(a,b,c){return a+" "+Pd(Xg[c],a,b)}function Rd(a,b,c){return Pd(Xg[c],a,b)}function Sd(a,b){return b?"dažas sekundes":"dažām sekundēm"}function Td(a,b,c,d){var e="";if(b)switch(c){case"s":e="काही सेकंद";break;case"m":e="एक मिनिट";break;case"mm":e="%d मिनिटे";break;case"h":e="एक तास";break;case"hh":e="%d तास";break;case"d":e="एक दिवस";break;case"dd":e="%d दिवस";break;case"M":e="एक महिना";break;case"MM":e="%d महिने";break;case"y":e="एक वर्ष";break;case"yy":e="%d वर्षे"}else switch(c){case"s":e="काही सेकंदां";break;case"m":e="एका मिनिटा";break;case"mm":e="%d मिनिटां";break;case"h":e="एका तासा";break;case"hh":e="%d तासां";break;case"d":e="एका दिवसा";break;case"dd":e="%d दिवसां";break;case"M":e="एका महिन्या";break;case"MM":e="%d महिन्यां";break;case"y":e="एका वर्षा";break;case"yy":e="%d वर्षां"}return e.replace(/%d/i,a)}function Ud(a){return a%10<5&&a%10>1&&~~(a/10)%10!==1}function Vd(a,b,c){var d=a+" ";switch(c){case"m":return b?"minuta":"minutę";case"mm":return d+(Ud(a)?"minuty":"minut");case"h":return b?"godzina":"godzinę";case"hh":return d+(Ud(a)?"godziny":"godzin");case"MM":return d+(Ud(a)?"miesiące":"miesięcy");case"yy":return d+(Ud(a)?"lata":"lat")}}function Wd(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";return(a%100>=20||a>=100&&a%100===0)&&(e=" de "),a+e+d[c]}function Xd(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function Yd(a,b,c){var d={mm:b?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===c?b?"минута":"минуту":a+" "+Xd(d[c],+a)}function Zd(a){return a>1&&a<5}function $d(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pár sekúnd":"pár sekundami";case"m":return b?"minúta":d?"minútu":"minútou";case"mm":return b||d?e+(Zd(a)?"minúty":"minút"):e+"minútami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(Zd(a)?"hodiny":"hodín"):e+"hodinami";case"d":return b||d?"deň":"dňom";case"dd":return b||d?e+(Zd(a)?"dni":"dní"):e+"dňami";case"M":return b||d?"mesiac":"mesiacom";case"MM":return b||d?e+(Zd(a)?"mesiace":"mesiacov"):e+"mesiacmi";case"y":return b||d?"rok":"rokom";case"yy":return b||d?e+(Zd(a)?"roky":"rokov"):e+"rokmi"}}function _d(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nekaj sekund":"nekaj sekundami";case"m":return b?"ena minuta":"eno minuto";case"mm":return e+=1===a?b?"minuta":"minuto":2===a?b||d?"minuti":"minutama":a<5?b||d?"minute":"minutami":b||d?"minut":"minutami";case"h":return b?"ena ura":"eno uro";case"hh":return e+=1===a?b?"ura":"uro":2===a?b||d?"uri":"urama":a<5?b||d?"ure":"urami":b||d?"ur":"urami";case"d":return b||d?"en dan":"enim dnem";case"dd":return e+=1===a?b||d?"dan":"dnem":2===a?b||d?"dni":"dnevoma":b||d?"dni":"dnevi";case"M":return b||d?"en mesec":"enim mesecem";case"MM":return e+=1===a?b||d?"mesec":"mesecem":2===a?b||d?"meseca":"mesecema":a<5?b||d?"mesece":"meseci":b||d?"mesecev":"meseci";case"y":return b||d?"eno leto":"enim letom";case"yy":return e+=1===a?b||d?"leto":"letom":2===a?b||d?"leti":"letoma":a<5?b||d?"leta":"leti":b||d?"let":"leti"}}function ae(a){var b=a;return b=a.indexOf("jaj")!==-1?b.slice(0,-3)+"leS":a.indexOf("jar")!==-1?b.slice(0,-3)+"waQ":a.indexOf("DIS")!==-1?b.slice(0,-3)+"nem":b+" pIq"}function be(a){var b=a;return b=a.indexOf("jaj")!==-1?b.slice(0,-3)+"Hu’":a.indexOf("jar")!==-1?b.slice(0,-3)+"wen":a.indexOf("DIS")!==-1?b.slice(0,-3)+"ben":b+" ret"}function ce(a,b,c,d){var e=de(a);switch(c){case"mm":return e+" tup";case"hh":return e+" rep";case"dd":return e+" jaj";case"MM":return e+" jar";case"yy":return e+" DIS"}}function de(a){var b=Math.floor(a%1e3/100),c=Math.floor(a%100/10),d=a%10,e="";return b>0&&(e+=qh[b]+"vatlh"),c>0&&(e+=(""!==e?" ":"")+qh[c]+"maH"),d>0&&(e+=(""!==e?" ":"")+qh[d]),""===e?"pagh":e}function ee(a,b,c,d){var e={s:["viensas secunds","'iensas secunds"],m:["'n míut","'iens míut"],mm:[a+" míuts",""+a+" míuts"],h:["'n þora","'iensa þora"],hh:[a+" þoras",""+a+" þoras"],d:["'n ziua","'iensa ziua"],dd:[a+" ziuas",""+a+" ziuas"],M:["'n mes","'iens mes"],MM:[a+" mesen",""+a+" mesen"],y:["'n ar","'iens ar"],yy:[a+" ars",""+a+" ars"]};return d?e[c][0]:b?e[c][0]:e[c][1]}function fe(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function ge(a,b,c){var d={mm:b?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:b?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===c?b?"хвилина":"хвилину":"h"===c?b?"година":"годину":a+" "+fe(d[c],+a)}function he(a,b){var c={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},d=/(\[[ВвУу]\]) ?dddd/.test(b)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function ie(a){return function(){return a+"о"+(11===this.hours()?"б":"")+"] LT"}}var je,ke;ke=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var le=a.momentProperties=[],me=!1,ne={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var oe;oe=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)h(a,b)&&c.push(b);return c};var pe,qe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},se="Invalid date",te="%d",ue=/\d{1,2}/,ve={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},we={},xe={},ye=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ze=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ae={},Be={},Ce=/\d/,De=/\d\d/,Ee=/\d{3}/,Fe=/\d{4}/,Ge=/[+-]?\d{6}/,He=/\d\d?/,Ie=/\d\d\d\d?/,Je=/\d\d\d\d\d\d?/,Ke=/\d{1,3}/,Le=/\d{1,4}/,Me=/[+-]?\d{1,6}/,Ne=/\d+/,Oe=/[+-]?\d+/,Pe=/Z|[+-]\d\d:?\d\d/gi,Qe=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Te={},Ue={},Ve=0,We=1,Xe=2,Ye=3,Ze=4,$e=5,_e=6,af=7,bf=8;pe=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},T("M",["MM",2],"Mo",function(){return this.month()+1}),T("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),T("MMMM",0,0,function(a){return this.localeData().months(this,a)}),I("month","M"),L("month",8),Y("M",He),Y("MM",He,De),Y("MMM",function(a,b){return b.monthsShortRegex(a)}),Y("MMMM",function(a,b){return b.monthsRegex(a)}),aa(["M","MM"],function(a,b){b[We]=t(a)-1}),aa(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[We]=e:l(c).invalidMonth=a});var cf=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,df="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ef="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ff=Se,gf=Se;T("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),T(0,["YY",2],0,function(){return this.year()%100}),T(0,["YYYY",4],0,"year"),T(0,["YYYYY",5],0,"year"),T(0,["YYYYYY",6,!0],0,"year"),I("year","y"),L("year",1),Y("Y",Oe),Y("YY",He,De),Y("YYYY",Le,Fe),Y("YYYYY",Me,Ge),Y("YYYYYY",Me,Ge),aa(["YYYYY","YYYYYY"],Ve),aa("YYYY",function(b,c){c[Ve]=2===b.length?a.parseTwoDigitYear(b):t(b)}),aa("YY",function(b,c){c[Ve]=a.parseTwoDigitYear(b)}),aa("Y",function(a,b){b[Ve]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return t(a)+(t(a)>68?1900:2e3)};var hf=N("FullYear",!0);T("w",["ww",2],"wo","week"),T("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),L("week",5),L("isoWeek",5),Y("w",He),Y("ww",He,De),Y("W",He),Y("WW",He,De),ba(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=t(a)});var jf={dow:0,doy:6};T("d",0,"do","day"),T("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),T("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),T("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),T("e",0,0,"weekday"),T("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),Y("d",He),Y("e",He),Y("E",He),Y("dd",function(a,b){return b.weekdaysMinRegex(a)}),Y("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Y("dddd",function(a,b){return b.weekdaysRegex(a)}),ba(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:l(c).invalidWeekday=a}),ba(["d","e","E"],function(a,b,c,d){b[d]=t(a)});var kf="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lf="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mf="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),nf=Se,of=Se,pf=Se;T("H",["HH",2],0,"hour"),T("h",["hh",2],0,Qa),T("k",["kk",2],0,Ra),T("hmm",0,0,function(){return""+Qa.apply(this)+S(this.minutes(),2)}),T("hmmss",0,0,function(){return""+Qa.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),T("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),T("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)}),Sa("a",!0),Sa("A",!1),I("hour","h"),L("hour",13),Y("a",Ta),Y("A",Ta),Y("H",He),Y("h",He),Y("HH",He,De),Y("hh",He,De),Y("hmm",Ie),Y("hmmss",Je),Y("Hmm",Ie),Y("Hmmss",Je),aa(["H","HH"],Ye),aa(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),aa(["h","hh"],function(a,b,c){b[Ye]=t(a),l(c).bigHour=!0}),aa("hmm",function(a,b,c){var d=a.length-2;b[Ye]=t(a.substr(0,d)),b[Ze]=t(a.substr(d)),l(c).bigHour=!0}),aa("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Ye]=t(a.substr(0,d)),b[Ze]=t(a.substr(d,2)),b[$e]=t(a.substr(e)),l(c).bigHour=!0}),aa("Hmm",function(a,b,c){var d=a.length-2;b[Ye]=t(a.substr(0,d)),b[Ze]=t(a.substr(d))}),aa("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Ye]=t(a.substr(0,d)),b[Ze]=t(a.substr(d,2)),b[$e]=t(a.substr(e))});var qf,rf=/[ap]\.?m?\.?/i,sf=N("Hours",!0),tf={calendar:qe,longDateFormat:re,invalidDate:se,ordinal:te,ordinalParse:ue,relativeTime:ve,months:df,monthsShort:ef,week:jf,weekdays:kf,weekdaysMin:mf,weekdaysShort:lf,meridiemParse:rf},uf={},vf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,wf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,xf=/Z|[+-]\d\d(?::?\d\d)?/,yf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Af=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){};var Bf=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=rb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:n()}),Cf=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=rb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:n()}),Df=function(){return Date.now?Date.now():+new Date};xb("Z",":"),xb("ZZ",""),Y("Z",Qe),Y("ZZ",Qe),aa(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=yb(Qe,a)});var Ef=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Ff=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Gf=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Mb.fn=vb.prototype;var Hf=Rb(1,"add"),If=Rb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jf=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});T(0,["gg",2],0,function(){return this.weekYear()%100}),T(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xc("gggg","weekYear"),xc("ggggg","weekYear"),xc("GGGG","isoWeekYear"),xc("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),Y("G",Oe),Y("g",Oe),Y("GG",He,De),Y("gg",He,De),Y("GGGG",Le,Fe),Y("gggg",Le,Fe),Y("GGGGG",Me,Ge),Y("ggggg",Me,Ge),ba(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=t(a)}),ba(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),T("Q",0,"Qo","quarter"),I("quarter","Q"),L("quarter",7),Y("Q",Ce),aa("Q",function(a,b){b[We]=3*(t(a)-1)}),T("D",["DD",2],"Do","date"),I("date","D"),L("date",9),Y("D",He),Y("DD",He,De),Y("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),aa(["D","DD"],Xe),aa("Do",function(a,b){b[Xe]=t(a.match(He)[0],10)});var Kf=N("Date",!0);T("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),L("dayOfYear",4),Y("DDD",Ke),Y("DDDD",Ee),aa(["DDD","DDDD"],function(a,b,c){c._dayOfYear=t(a)}),T("m",["mm",2],0,"minute"),I("minute","m"),L("minute",14),Y("m",He),Y("mm",He,De),aa(["m","mm"],Ze);var Lf=N("Minutes",!1);T("s",["ss",2],0,"second"),I("second","s"),L("second",15),Y("s",He),Y("ss",He,De),aa(["s","ss"],$e);var Mf=N("Seconds",!1);T("S",0,0,function(){return~~(this.millisecond()/100)}),T(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),T(0,["SSS",3],0,"millisecond"),T(0,["SSSS",4],0,function(){return 10*this.millisecond()}),T(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),T(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),T(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),T(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),T(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),L("millisecond",16),Y("S",Ke,Ce),Y("SS",Ke,De),Y("SSS",Ke,Ee);var Nf;for(Nf="SSSS";Nf.length<=9;Nf+="S")Y(Nf,Ne);for(Nf="S";Nf.length<=9;Nf+="S")aa(Nf,Gc);var Of=N("Milliseconds",!1);T("z",0,0,"zoneAbbr"),T("zz",0,0,"zoneName");var Pf=q.prototype;Pf.add=Hf,Pf.calendar=Ub,Pf.clone=Vb,Pf.diff=ac,Pf.endOf=mc,Pf.format=ec,Pf.from=fc,Pf.fromNow=gc,Pf.to=hc,Pf.toNow=ic,Pf.get=Q,Pf.invalidAt=vc,Pf.isAfter=Wb,Pf.isBefore=Xb,Pf.isBetween=Yb,Pf.isSame=Zb,Pf.isSameOrAfter=$b,Pf.isSameOrBefore=_b,Pf.isValid=tc,Pf.lang=Jf,Pf.locale=jc,Pf.localeData=kc,Pf.max=Cf,Pf.min=Bf,Pf.parsingFlags=uc,Pf.set=R,Pf.startOf=lc,Pf.subtract=If,Pf.toArray=qc,Pf.toObject=rc,Pf.toDate=pc,Pf.toISOString=dc,Pf.toJSON=sc,Pf.toString=cc,Pf.unix=oc,Pf.valueOf=nc,Pf.creationData=wc,Pf.year=hf,Pf.isLeapYear=qa,Pf.weekYear=yc,Pf.isoWeekYear=zc,Pf.quarter=Pf.quarters=Ec,Pf.month=ja,Pf.daysInMonth=ka,Pf.week=Pf.weeks=Aa,Pf.isoWeek=Pf.isoWeeks=Ba,Pf.weeksInYear=Bc,Pf.isoWeeksInYear=Ac,Pf.date=Kf,Pf.day=Pf.days=Ja,Pf.weekday=Ka,Pf.isoWeekday=La,Pf.dayOfYear=Fc,Pf.hour=Pf.hours=sf,Pf.minute=Pf.minutes=Lf,Pf.second=Pf.seconds=Mf,Pf.millisecond=Pf.milliseconds=Of,Pf.utcOffset=Bb,Pf.utc=Db,Pf.local=Eb,Pf.parseZone=Fb,Pf.hasAlignedHourOffset=Gb,Pf.isDST=Hb,Pf.isLocal=Jb,Pf.isUtcOffset=Kb,Pf.isUtc=Lb,Pf.isUTC=Lb,Pf.zoneAbbr=Hc,Pf.zoneName=Ic,Pf.dates=w("dates accessor is deprecated. Use date instead.",Kf),Pf.months=w("months accessor is deprecated. Use month instead",ja),Pf.years=w("years accessor is deprecated. Use year instead",hf),Pf.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Cb),Pf.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ib);var Qf=Pf,Rf=B.prototype;Rf.calendar=C,Rf.longDateFormat=D,Rf.invalidDate=E,Rf.ordinal=F,Rf.preparse=Lc,Rf.postformat=Lc,Rf.relativeTime=G,Rf.pastFuture=H,Rf.set=z,Rf.months=ea,Rf.monthsShort=fa,Rf.monthsParse=ha,Rf.monthsRegex=ma,Rf.monthsShortRegex=la,Rf.week=xa,Rf.firstDayOfYear=za,Rf.firstDayOfWeek=ya,Rf.weekdays=Ea,Rf.weekdaysMin=Ga,Rf.weekdaysShort=Fa,Rf.weekdaysParse=Ia,Rf.weekdaysRegex=Ma,Rf.weekdaysShortRegex=Na,Rf.weekdaysMinRegex=Oa,Rf.isPM=Ua,Rf.meridiem=Va,Za("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===t(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=w("moment.lang is deprecated. Use moment.locale instead.",Za),a.langData=w("moment.langData is deprecated. Use moment.localeData instead.",ab);var Sf=Math.abs,Tf=cd("ms"),Uf=cd("s"),Vf=cd("m"),Wf=cd("h"),Xf=cd("d"),Yf=cd("w"),Zf=cd("M"),$f=cd("y"),_f=ed("milliseconds"),ag=ed("seconds"),bg=ed("minutes"),cg=ed("hours"),dg=ed("days"),eg=ed("months"),fg=ed("years"),gg=Math.round,hg={s:45,m:45,h:22,d:26,M:11},ig=Math.abs,jg=vb.prototype;jg.abs=Uc,jg.add=Wc,jg.subtract=Xc,jg.as=ad,jg.asMilliseconds=Tf,jg.asSeconds=Uf,jg.asMinutes=Vf,jg.asHours=Wf,jg.asDays=Xf,jg.asWeeks=Yf,jg.asMonths=Zf,jg.asYears=$f,jg.valueOf=bd,jg._bubble=Zc,jg.get=dd,jg.milliseconds=_f,jg.seconds=ag,jg.minutes=bg,jg.hours=cg,jg.days=dg,jg.weeks=fd,jg.months=eg,jg.years=fg,jg.humanize=kd,jg.toISOString=ld,jg.toString=ld,jg.toJSON=ld,jg.locale=jc,jg.localeData=kc,jg.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ld),jg.lang=Jf,T("X",0,0,"unix"),T("x",0,0,"valueOf"),Y("x",Oe),Y("X",Re),aa("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),aa("x",function(a,b,c){c._d=new Date(t(a))}),a.version="2.14.1",b(rb),a.fn=Qf,a.min=tb,a.max=ub,a.now=Df,a.utc=j,a.unix=Jc,a.months=Pc,a.isDate=f,a.locale=Za,a.invalid=n,a.duration=Mb,a.isMoment=r,a.weekdays=Rc,a.parseZone=Kc,a.localeData=ab,a.isDuration=wb,a.monthsShort=Qc,a.weekdaysMin=Tc,a.defineLocale=$a,a.updateLocale=_a,a.locales=bb,a.weekdaysShort=Sc,a.normalizeUnits=J,a.relativeTimeRounding=id,a.relativeTimeThreshold=jd,a.calendarFormat=Tb,a.prototype=Qf;var kg=a,lg=(kg.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){return a<12?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),kg.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}}),{1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"}),mg={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},ng=(kg.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(a){return"م"===a},meridiem:function(a,b,c){return a<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(a){return a.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(a){return mg[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return lg[a]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),kg.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}}),{1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"}),og={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},pg=function(a){return 0===a?0:1===a?1:2===a?2:a%100>=3&&a%100<=10?3:a%100>=11?4:5},qg={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},rg=function(a){return function(b,c,d,e){var f=pg(b),g=qg[a][pg(b)];return 2===f&&(g=g[c?0:1]),g.replace(/%d/i,b)}},sg=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],tg=(kg.defineLocale("ar",{months:sg,monthsShort:sg,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(a){return"م"===a},meridiem:function(a,b,c){return a<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:rg("s"),m:rg("m"),mm:rg("m"),h:rg("h"),hh:rg("h"),d:rg("d"),dd:rg("d"),M:rg("M"),MM:rg("M"),y:rg("y"),yy:rg("y")},preparse:function(a){return a.replace(/\u200f/g,"").replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(a){return og[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return ng[a]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"}),ug=(kg.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(a){return/^(gündüz|axşam)$/.test(a)},meridiem:function(a,b,c){return a<4?"gecə":a<12?"səhər":a<17?"gündüz":"axşam"},ordinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(a){if(0===a)return a+"-ıncı";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(tg[b]||tg[c]||tg[d])},week:{dow:1,doy:7}}),kg.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:nd,mm:nd,h:nd,hh:nd,d:"дзень",dd:nd,M:"месяц",MM:nd,y:"год",yy:nd},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(a){return/^(дня|вечара)$/.test(a)},meridiem:function(a,b,c){return a<4?"ночы":a<12?"раніцы":a<17?"дня":"вечара";
},ordinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a%10!==2&&a%10!==3||a%100===12||a%100===13?a+"-ы":a+"-і";case"D":return a+"-га";default:return a}},week:{dow:1,doy:7}}),kg.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ев":0===c?a+"-ен":c>10&&c<20?a+"-ти":1===b?a+"-ви":2===b?a+"-ри":7===b||8===b?a+"-ми":a+"-ти"},week:{dow:1,doy:7}}),{1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"}),vg={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"},wg=(kg.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্র_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(a){return a.replace(/[১২৩৪৫৬৭৮৯০]/g,function(a){return vg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return ug[a]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(a,b){return 12===a&&(a=0),"রাত"===b&&a>=4||"দুপুর"===b&&a<5||"বিকাল"===b?a+12:a},meridiem:function(a,b,c){return a<4?"রাত":a<10?"সকাল":a<17?"দুপুর":a<20?"বিকাল":"রাত"},week:{dow:0,doy:6}}),{1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"}),xg={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"},yg=(kg.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(a){return a.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(a){return xg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return wg[a]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(a,b){return 12===a&&(a=0),"མཚན་མོ"===b&&a>=4||"ཉིན་གུང"===b&&a<5||"དགོང་དག"===b?a+12:a},meridiem:function(a,b,c){return a<4?"མཚན་མོ":a<10?"ཞོགས་ཀས":a<17?"ཉིན་གུང":a<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}}),kg.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:od,h:"un eur",hh:"%d eur",d:"un devezh",dd:od,M:"ur miz",MM:od,y:"ur bloaz",yy:pd},ordinalParse:/\d{1,2}(añ|vet)/,ordinal:function(a){var b=1===a?"añ":"vet";return a+b},week:{dow:1,doy:4}}),kg.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:td,mm:td,h:td,hh:td,d:"dan",dd:td,M:"mjesec",MM:td,y:"godinu",yy:td},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),kg.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(a,b){var c=1===a?"r":2===a?"n":3===a?"r":4===a?"t":"è";return"w"!==b&&"W"!==b||(c="a"),a+c},week:{dow:1,doy:4}}),"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_")),zg="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),Ag=(kg.defineLocale("cs",{months:yg,monthsShort:zg,monthsParse:function(a,b){var c,d=[];for(c=0;c<12;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(yg,zg),shortMonthsParse:function(a){var b,c=[];for(b=0;b<12;b++)c[b]=new RegExp("^"+a[b]+"$","i");return c}(zg),longMonthsParse:function(a){var b,c=[];for(b=0;b<12;b++)c[b]=new RegExp("^"+a[b]+"$","i");return c}(yg),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:vd,m:vd,mm:vd,h:vd,hh:vd,d:vd,dd:vd,M:vd,MM:vd,y:vd,yy:vd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(a){var b=/сехет$/i.exec(a)?"рен":/ҫул$/i.exec(a)?"тан":"ран";return a+b},past:"%s каялла",s:"пӗр-ик ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},ordinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}}),kg.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}}),kg.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:wd,mm:"%d Minuten",h:wd,hh:"%d Stunden",d:wd,dd:wd,M:wd,MM:wd,y:wd,yy:wd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:xd,mm:"%d Minuten",h:xd,hh:"%d Stunden",d:xd,dd:xd,M:xd,MM:xd,y:xd,yy:xd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"]),Bg=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"],Cg=(kg.defineLocale("dv",{months:Ag,monthsShort:Ag,weekdays:Bg,weekdaysShort:Bg,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(a){return"މފ"===a},meridiem:function(a,b,c){return a<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(a){return a.replace(/،/g,",")},postformat:function(a){return a.replace(/,/g,"،")},week:{dow:7,doy:12}}),kg.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(a,b,c){return a>11?c?"μμ":"ΜΜ":c?"πμ":"ΠΜ"},isPM:function(a){return"μ"===(a+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return y(c)&&(c=c.apply(b)),c.replace("{}",d%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}}),kg.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),kg.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),kg.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),kg.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),kg.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),kg.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(a){return"p"===a.charAt(0).toLowerCase()},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),Dg="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Eg=(kg.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Dg[a.month()]:Cg[a.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),Fg="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Gg=(kg.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Fg[a.month()]:Eg[a.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),kg.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:yd,m:yd,mm:yd,h:yd,hh:yd,d:yd,dd:"%d päeva",M:yd,MM:yd,y:yd,yy:yd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"}),Hg={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"},Ig=(kg.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(a){return/بعد از ظهر/.test(a)},meridiem:function(a,b,c){return a<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(a){return a.replace(/[۰-۹]/g,function(a){return Hg[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return Gg[a]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" ")),Jg=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",Ig[7],Ig[8],Ig[9]],Kg=(kg.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:zd,m:zd,mm:zd,h:zd,hh:zd,d:zd,dd:zd,M:zd,MM:zd,y:zd,yy:zd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinalParse:/\d{1,2}\./,
ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){return a+(1===a?"er":"e")}}),kg.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){return a+(1===a?"er":"e")},week:{dow:1,doy:4}}),kg.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),Lg="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),Mg=(kg.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Lg[a.month()]:Kg[a.month()]},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"]),Ng=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],Og=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],Pg=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],Qg=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],Rg=(kg.defineLocale("gd",{months:Mg,monthsShort:Ng,monthsParseExact:!0,weekdays:Og,weekdaysShort:Pg,weekdaysMin:Qg,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},ordinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(a){var b=1===a?"d":a%10===2?"na":"mh";return a+b},week:{dow:1,doy:4}}),kg.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),monthsParseExact:!0,weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:7}}),kg.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(a){return 2===a?"שעתיים":a+" שעות"},d:"יום",dd:function(a){return 2===a?"יומיים":a+" ימים"},M:"חודש",MM:function(a){return 2===a?"חודשיים":a+" חודשים"},y:"שנה",yy:function(a){return 2===a?"שנתיים":a%10===0&&10!==a?a+" שנה":a+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(a){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(a)},meridiem:function(a,b,c){return a<5?"לפנות בוקר":a<10?"בבוקר":a<12?c?'לפנה"צ':"לפני הצהריים":a<18?c?'אחה"צ':"אחרי הצהריים":"בערב"}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),Sg={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},Tg=(kg.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return Sg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Rg[a]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(a,b){return 12===a&&(a=0),"रात"===b?a<4?a:a+12:"सुबह"===b?a:"दोपहर"===b?a>=10?a:a+12:"शाम"===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"रात":a<10?"सुबह":a<17?"दोपहर":a<20?"शाम":"रात"},week:{dow:0,doy:6}}),kg.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Bd,mm:Bd,h:Bd,hh:Bd,d:"dan",dd:Bd,M:"mjesec",MM:Bd,y:"godinu",yy:Bd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),"vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ")),Ug=(kg.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(a){return"u"===a.charAt(1).toLowerCase()},meridiem:function(a,b,c){return a<12?c===!0?"de":"DE":c===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Dd.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Dd.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:Cd,m:Cd,mm:Cd,h:Cd,hh:Cd,d:Cd,dd:Cd,M:Cd,MM:Cd,y:Cd,yy:Cd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),kg.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(a){return/^(ցերեկվա|երեկոյան)$/.test(a)},meridiem:function(a){return a<4?"գիշերվա":a<12?"առավոտվա":a<17?"ցերեկվա":"երեկոյան"},ordinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===a?a+"-ին":a+"-րդ";default:return a}},week:{dow:1,doy:7}}),kg.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"siang"===b?a>=11?a:a+12:"sore"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"pagi":a<15?"siang":a<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),kg.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:Fd,m:Fd,mm:Fd,h:"klukkustund",hh:Fd,d:Fd,dd:Fd,M:Fd,MM:Fd,y:Fd,yy:Fd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),kg.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(a){return"午後"===a},meridiem:function(a,b,c){return a<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},ordinalParse:/\d{1,2}日/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";default:return a}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}}),kg.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(a,b){return 12===a&&(a=0),"enjing"===b?a:"siyang"===b?a>=11?a:a+12:"sonten"===b||"ndalu"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"enjing":a<15?"siyang":a<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),kg.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(a){return/(წამი|წუთი|საათი|წელი)/.test(a)?a.replace(/ი$/,"ში"):a+"ში"},past:function(a){return/(წამი|წუთი|საათი|დღე|თვე)/.test(a)?a.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(a)?a.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(a){return 0===a?a:1===a?a+"-ლი":a<20||a<=100&&a%20===0||a%100===0?"მე-"+a:a+"-ე"},week:{dow:1,doy:7}}),{0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"}),Vg=(kg.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},ordinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(a){var b=a%10,c=a>=100?100:null;return a+(Ug[a]||Ug[b]||Ug[c])},week:{dow:1,doy:7}}),kg.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}}),kg.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h시 m분",LLLL:"YYYY년 MMMM D일 dddd A h시 m분"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"일분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(a){return"오후"===a},meridiem:function(a,b,c){return a<12?"오전":"오후"}}),{0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"}),Wg=(kg.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},ordinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(a){var b=a%10,c=a>=100?100:null;return a+(Vg[a]||Vg[b]||Vg[c])},week:{dow:1,doy:7}}),kg.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:Hd,past:Id,s:"e puer Sekonnen",m:Gd,mm:"%d Minutten",h:Gd,hh:"%d Stonnen",d:Gd,dd:"%d Deeg",M:Gd,MM:"%d Méint",y:Gd,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(a){return"ຕອນແລງ"===a},meridiem:function(a,b,c){return a<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},ordinalParse:/(ທີ່)\d{1,2}/,ordinal:function(a){return"ທີ່"+a}}),{m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"}),Xg=(kg.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?|MMMM?(\[[^\[\]]*\]|\s+)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:Kd,m:Ld,mm:Od,h:Ld,hh:Od,d:Ld,dd:Od,M:Ld,MM:Od,y:Ld,yy:Od},ordinalParse:/\d{1,2}-oji/,ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}}),{m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")}),Yg=(kg.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:Sd,m:Rd,mm:Qd,h:Rd,hh:Qd,d:Rd,dd:Qd,M:Rd,MM:Qd,y:Rd,yy:Qd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=Yg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Yg.correctGrammaticalCase(a,d)}}),Zg=(kg.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var a=["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:Yg.translate,mm:Yg.translate,h:Yg.translate,hh:Yg.translate,d:"dan",dd:Yg.translate,M:"mjesec",MM:Yg.translate,y:"godinu",yy:Yg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),kg.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",
m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ев":0===c?a+"-ен":c>10&&c<20?a+"-ти":1===b?a+"-ви":2===b?a+"-ри":7===b||8===b?a+"-ми":a+"-ти"},week:{dow:1,doy:7}}),kg.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(a,b){return 12===a&&(a=0),"രാത്രി"===b&&a>=4||"ഉച്ച കഴിഞ്ഞ്"===b||"വൈകുന്നേരം"===b?a+12:a},meridiem:function(a,b,c){return a<4?"രാത്രി":a<12?"രാവിലെ":a<17?"ഉച്ച കഴിഞ്ഞ്":a<20?"വൈകുന്നേരം":"രാത്രി"}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),$g={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},_g=(kg.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:Td,m:Td,mm:Td,h:Td,hh:Td,d:Td,dd:Td,M:Td,MM:Td,y:Td,yy:Td},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return $g[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Zg[a]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(a,b){return 12===a&&(a=0),"रात्री"===b?a<4?a:a+12:"सकाळी"===b?a:"दुपारी"===b?a>=10?a:a+12:"सायंकाळी"===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"रात्री":a<10?"सकाळी":a<17?"दुपारी":a<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}}),kg.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"pagi":a<15?"tengahari":a<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),kg.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"pagi":a<15?"tengahari":a<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),{1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"}),ah={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"},bh=(kg.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(a){return a.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(a){return ah[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return _g[a]})},week:{dow:1,doy:4}}),kg.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),ch={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},dh=(kg.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return ch[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return bh[a]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(a,b){return 12===a&&(a=0),"राति"===b?a<4?a:a+12:"बिहान"===b?a:"दिउँसो"===b?a>=10?a:a+12:"साँझ"===b?a+12:void 0},meridiem:function(a,b,c){return a<3?"राति":a<12?"बिहान":a<16?"दिउँसो":a<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),eh="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),fh=(kg.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?eh[a.month()]:dh[a.month()]},monthsParseExact:!0,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),kg.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"}),gh={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"},hh=(kg.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(a){return a.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(a){return gh[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return fh[a]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(a,b){return 12===a&&(a=0),"ਰਾਤ"===b?a<4?a:a+12:"ਸਵੇਰ"===b?a:"ਦੁਪਹਿਰ"===b?a>=10?a:a+12:"ਸ਼ਾਮ"===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"ਰਾਤ":a<10?"ਸਵੇਰ":a<17?"ਦੁਪਹਿਰ":a<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}}),"styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_")),ih="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),jh=(kg.defineLocale("pl",{months:function(a,b){return""===b?"("+ih[a.month()]+"|"+hh[a.month()]+")":/D MMMM/.test(b)?ih[a.month()]:hh[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:Vd,mm:Vd,h:Vd,hh:Vd,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:Vd,y:"rok",yy:Vd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"}),kg.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),kg.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:Wd,h:"o oră",hh:Wd,d:"o zi",dd:Wd,M:"o lună",MM:Wd,y:"un an",yy:Wd},week:{dow:1,doy:7}}),[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i]),kh=(kg.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:jh,longMonthsParse:jh,shortMonthsParse:jh,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:Yd,mm:Yd,h:"час",hh:Yd,d:"день",dd:Yd,M:"месяц",MM:Yd,y:"год",yy:Yd},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(a){return/^(дня|вечера)$/.test(a)},meridiem:function(a,b,c){return a<4?"ночи":a<12?"утра":a<17?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-й";case"D":return a+"-го";case"w":case"W":return a+"-я";default:return a}},week:{dow:1,doy:7}}),kg.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},ordinalParse:/\d{1,2} වැනි/,ordinal:function(a){return a+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(a){return"ප.ව."===a||"පස් වරු"===a},meridiem:function(a,b,c){return a>11?c?"ප.ව.":"පස් වරු":c?"පෙ.ව.":"පෙර වරු"}}),"január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_")),lh="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_"),mh=(kg.defineLocale("sk",{months:kh,monthsShort:lh,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:$d,m:$d,mm:$d,h:$d,hh:$d,d:$d,dd:$d,M:$d,MM:$d,y:$d,yy:$d},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:_d,m:_d,mm:_d,h:_d,hh:_d,d:_d,dd:_d,M:_d,MM:_d,y:_d,yy:_d},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),kg.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(a){return"M"===a.charAt(0)},meridiem:function(a,b,c){return a<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=mh.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+mh.correctGrammaticalCase(a,d)}}),nh=(kg.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var a=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:mh.translate,mm:mh.translate,h:mh.translate,hh:mh.translate,d:"дан",dd:mh.translate,M:"месец",MM:mh.translate,y:"годину",yy:mh.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=nh.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+nh.correctGrammaticalCase(a,d)}}),oh=(kg.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var a=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:nh.translate,mm:nh.translate,h:nh.translate,hh:nh.translate,d:"dan",dd:nh.translate,M:"mesec",MM:nh.translate,y:"godinu",yy:nh.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),kg.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(a,b,c){return a<11?"ekuseni":a<15?"emini":a<19?"entsambama":"ebusuku"},meridiemHour:function(a,b){return 12===a&&(a=0),"ekuseni"===b?a:"emini"===b?a>=11?a:a+12:"entsambama"===b||"ebusuku"===b?0===a?0:a+12:void 0},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),kg.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":"e";return a+c},week:{dow:1,doy:4}}),kg.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",
nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}}),{1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"}),ph={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"},qh=(kg.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinalParse:/\d{1,2}வது/,ordinal:function(a){return a+"வது"},preparse:function(a){return a.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(a){return ph[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return oh[a]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(a,b,c){return a<2?" யாமம்":a<6?" வைகறை":a<10?" காலை":a<14?" நண்பகல்":a<18?" எற்பாடு":a<22?" மாலை":" யாமம்"},meridiemHour:function(a,b){return 12===a&&(a=0),"யாமம்"===b?a<2?a:a+12:"வைகறை"===b||"காலை"===b?a:"நண்பகல்"===b&&a>=10?a:a+12},week:{dow:0,doy:6}}),kg.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},ordinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(a,b){return 12===a&&(a=0),"రాత్రి"===b?a<4?a:a+12:"ఉదయం"===b?a:"మధ్యాహ్నం"===b?a>=10?a:a+12:"సాయంత్రం"===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"రాత్రి":a<10?"ఉదయం":a<17?"మధ్యాహ్నం":a<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}}),kg.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H นาฬิกา m นาที",LTS:"H นาฬิกา m นาที s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H นาฬิกา m นาที",LLLL:"วันddddที่ D MMMM YYYY เวลา H นาฬิกา m นาที"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(a){return"หลังเที่ยง"===a},meridiem:function(a,b,c){return a<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}}),kg.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),"pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_")),rh=(kg.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:ae,past:be,s:"puS lup",m:"wa’ tup",mm:ce,h:"wa’ rep",hh:ce,d:"wa’ jaj",dd:ce,M:"wa’ jar",MM:ce,y:"wa’ DIS",yy:ce},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"}),sh=(kg.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(a){if(0===a)return a+"'ıncı";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(rh[b]||rh[c]||rh[d])},week:{dow:1,doy:7}}),kg.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(a){return"d'o"===a.toLowerCase()},meridiem:function(a,b,c){return a>11?c?"d'o":"D'O":c?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:ee,m:ee,mm:ee,h:ee,hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),kg.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),kg.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}}),kg.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:he,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:ie("[Сьогодні "),nextDay:ie("[Завтра "),lastDay:ie("[Вчора "),nextWeek:ie("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return ie("[Минулої] dddd [").call(this);case 1:case 2:case 4:return ie("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:ge,mm:ge,h:"годину",hh:ge,d:"день",dd:ge,M:"місяць",MM:ge,y:"рік",yy:ge},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(a){return/^(дня|вечора)$/.test(a)},meridiem:function(a,b,c){return a<4?"ночі":a<12?"ранку":a<17?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-й";case"D":return a+"-го";default:return a}},week:{dow:1,doy:7}}),kg.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}}),kg.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(a){return/^ch$/i.test(a)},meridiem:function(a,b,c){return a<12?c?"sa":"SA":c?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),kg.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),kg.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(a,b){return 12===a&&(a=0),"凌晨"===b||"早上"===b||"上午"===b?a:"下午"===b||"晚上"===b?a+12:a>=11?a:a+12},meridiem:function(a,b,c){var d=100*a+b;return d<600?"凌晨":d<900?"早上":d<1130?"上午":d<1230?"中午":d<1800?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var a,b;return a=kg().startOf("week"),b=this.diff(a,"days")>=7?"[下]":"[本]",0===this.minutes()?b+"dddAh点整":b+"dddAh点mm"},lastWeek:function(){var a,b;return a=kg().startOf("week"),b=this.unix()<a.unix()?"[上]":"[本]",0===this.minutes()?b+"dddAh点整":b+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"周";default:return a}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}}),kg.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm分",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah點mm分",LLLL:"YYYY年MMMD日ddddAh點mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah點mm分",llll:"YYYY年MMMD日ddddAh點mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(a,b){return 12===a&&(a=0),"凌晨"===b||"早上"===b||"上午"===b?a:"中午"===b?a>=11?a:a+12:"下午"===b||"晚上"===b?a+12:void 0},meridiem:function(a,b,c){var d=100*a+b;return d<600?"凌晨":d<900?"早上":d<1130?"上午":d<1230?"中午":d<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"週";default:return a}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),kg);return sh.locale("en"),sh})}(),System.registerDynamic("eventemitter3",[],!0,function(a,b,c){"use strict";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(){this._events=new d,this._eventsCount=0}var g=(this||self,Object.prototype.hasOwnProperty),h="~";Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(h=!1)),f.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)g.call(a,b)&&c.push(h?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},f.prototype.listeners=function(a,b){var c=h?h+a:a,d=this._events[c];if(b)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=new Array(f);e<f;e++)g[e]=d[e].fn;return g},f.prototype.emit=function(a,b,c,d,e,f){var g=h?h+a:a;if(!this._events[g])return!1;var i,j,k=this._events[g],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,e),!0;case 6:return k.fn.call(k.context,b,c,d,e,f),!0}for(j=1,i=new Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=new Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},f.prototype.on=function(a,b,c){var d=new e(b,c||this),f=h?h+a:a;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],d]:this._events[f].push(d):(this._events[f]=d,this._eventsCount++),this},f.prototype.once=function(a,b,c){var d=new e(b,c||this,!0),f=h?h+a:a;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],d]:this._events[f].push(d):(this._events[f]=d,this._eventsCount++),this},f.prototype.removeListener=function(a,b,c,e){var f=h?h+a:a;if(!this._events[f])return this;if(!b)return 0===--this._eventsCount?this._events=new d:delete this._events[f],this;var g=this._events[f];if(g.fn)g.fn!==b||e&&!g.once||c&&g.context!==c||(0===--this._eventsCount?this._events=new d:delete this._events[f]);else{for(var i=0,j=[],k=g.length;i<k;i++)(g[i].fn!==b||e&&!g[i].once||c&&g[i].context!==c)&&j.push(g[i]);j.length?this._events[f]=1===j.length?j[0]:j:0===--this._eventsCount?this._events=new d:delete this._events[f]}return this},f.prototype.removeAllListeners=function(a){var b;return a?(b=h?h+a:a,this._events[b]&&(0===--this._eventsCount?this._events=new d:delete this._events[b])):(this._events=new d,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prototype.setMaxListeners=function(){return this},f.prefixed=h,f.EventEmitter=f,"undefined"!=typeof c&&(c.exports=f)}),System.register("app/core/utils/emitter.js",["eventemitter3"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d={}.hasOwnProperty,e=function(){function a(){this.emitter=new c.default}return a.prototype.emit=function(a,b){this.emitter.emit(a,b)},a.prototype.on=function(a,b,c){var d=this;if(this.emitter.on(a,b),c)var e=c.$on("$destroy",function(){d.emitter.off(a,b),e()})},a.prototype.removeAllListeners=function(a){this.emitter.removeAllListeners(a)},a.prototype.off=function(a,b){this.emitter.off(a,b)},a}(),a("Emitter",e)}}}),System.register("app/core/app_events.js",["./utils/emitter"],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=new c.Emitter,a("default",d)}}}),System.register("app/features/alerting/alert_tab_ctrl.js",["lodash","./threshold_mapper","app/core/components/query_part/query_part","./alert_def","app/core/config","moment","app/core/app_events"],function(a,b){"use strict";function c(){return{restrict:"E",scope:!0,templateUrl:"public/app/features/alerting/partials/alert_tab.html",controller:k}}b&&b.id;a("alertTab",c);var d,e,f,g,h,i,j,k;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a}],execute:function(){k=function(){function a(a,b,c,d,e,f,i,j){this.$scope=a,this.$timeout=b,this.backendSrv=c,this.dashboardSrv=d,this.uiSegmentSrv=e,this.$q=f,this.datasourceSrv=i,this.templateSrv=j,this.panelCtrl=a.ctrl,this.panel=this.panelCtrl.panel,this.$scope.ctrl=this,this.subTabIndex=0,this.evalFunctions=g.default.evalFunctions,this.evalOperators=g.default.evalOperators,this.conditionTypes=g.default.conditionTypes,this.noDataModes=g.default.noDataModes,this.executionErrorModes=g.default.executionErrorModes,this.appSubUrl=h.default.appSubUrl}return a.$inject=["$scope","$timeout","backendSrv","dashboardSrv","uiSegmentSrv","$q","datasourceSrv","templateSrv"],a.prototype.$onInit=function(){var a=this;this.addNotificationSegment=this.uiSegmentSrv.newPlusButton();var b=this.graphThresholdChanged.bind(this);return this.panelCtrl.events.on("threshold-changed",b),this.$scope.$on("$destroy",function(){a.panelCtrl.events.off("threshold-changed",b),a.panelCtrl.editingThresholds=!1,a.panelCtrl.render()}),this.notifications=[],this.alertNotifications=[],this.alertHistory=[],this.backendSrv.get("/api/alert-notifications").then(function(b){a.notifications=b,a.initModel(),a.validateModel()})},a.prototype.getAlertHistory=function(){var a=this;this.backendSrv.get("/api/annotations?dashboardId="+this.panelCtrl.dashboard.id+"&panelId="+this.panel.id+"&limit=50").then(function(b){a.alertHistory=d.default.map(b,function(a){return a.time=i.default(a.time).format("MMM D, YYYY HH:mm:ss"),a.stateModel=g.default.getStateDisplayModel(a.newState),a.info=g.default.getAlertAnnotationInfo(a),a})})},a.prototype.getNotificationIcon=function(a){switch(a){case"email":return"fa fa-envelope";case"slack":return"fa fa-slack";case"victorops":return"fa fa-pagelines";case"webhook":return"fa fa-cubes";case"pagerduty":return"fa fa-bullhorn";case"opsgenie":return"fa fa-bell";case"hipchat":return"fa fa-mail-forward";case"pushover":return"fa fa-mobile"}},a.prototype.getNotifications=function(){var a=this;return Promise.resolve(this.notifications.map(function(b){return a.uiSegmentSrv.newSegment(b.name)}))},a.prototype.changeTabIndex=function(a){this.subTabIndex=a,2===this.subTabIndex&&this.getAlertHistory()},a.prototype.notificationAdded=function(){var a=d.default.find(this.notifications,{name:this.addNotificationSegment.value});a&&(this.alertNotifications.push({name:a.name,iconClass:this.getNotificationIcon(a.type),isDefault:!1}),this.alert.notifications.push({id:a.id}),this.addNotificationSegment.value=this.uiSegmentSrv.newPlusButton().value,this.addNotificationSegment.html=this.uiSegmentSrv.newPlusButton().html)},a.prototype.removeNotification=function(a){this.alert.notifications.splice(a,1),this.alertNotifications.splice(a,1)},a.prototype.initModel=function(){var a=this,b=this.alert=this.panel.alert;if(b){b.conditions=b.conditions||[],0===b.conditions.length&&b.conditions.push(this.buildDefaultCondition()),b.noDataState=b.noDataState||"no_data",b.executionErrorState=b.executionErrorState||"alerting",b.frequency=b.frequency||"60s",b.handler=b.handler||1,b.notifications=b.notifications||[];var c=this.panel.title+" alert";b.name=b.name||c,this.conditionModels=d.default.reduce(b.conditions,function(b,c){return b.push(a.buildConditionModel(c)),b},[]),e.ThresholdMapper.alertToGraphThresholds(this.panel);for(var f=0,g=b.notifications;f<g.length;f++){var h=g[f],i=d.default.find(this.notifications,{id:h.id});i&&i.isDefault===!1&&(i.iconClass=this.getNotificationIcon(i.type),this.alertNotifications.push(i))}for(var j=0,k=this.notifications;j<k.length;j++){var l=k[j];l.isDefault&&(l.iconClass=this.getNotificationIcon(l.type),l.bgColor="#00678b",this.alertNotifications.push(l))}this.panelCtrl.editingThresholds=!0,this.panelCtrl.render()}},a.prototype.graphThresholdChanged=function(a){for(var b=0,c=this.alert.conditions;b<c.length;b++){var d=c[b];if("query"===d.type){d.evaluator.params[a.handleIndex]=a.threshold.value,this.evaluatorParamsChanged();break}}},a.prototype.buildDefaultCondition=function(){return{type:"query",query:{params:["A","5m","now"]},reducer:{type:"avg",params:[]},evaluator:{type:"gt",params:[null]},operator:{type:"and"}}},a.prototype.validateModel=function(){var a=this;if(this.alert)for(var b,c=!1,d=null,e=0,f=this.alert.conditions;e<f.length;e++){var g=f[e];if("query"===g.type){for(var h=0,i=this.panel.targets;h<i.length;h++){var j=i[h];if(b||(b=j),g.query.params[0]===j.refId){d=j;break}}d||(b?(g.query.params[0]=b.refId,d=b,c=!0):this.error="Could not find any metric queries");var k=d.datasource||this.panel.datasource;this.datasourceSrv.get(k).then(function(b){b.meta.alerting?b.targetContainsTemplate(d)?a.error="Template variables are not supported in alert queries":a.error="":a.error="The datasource does not support alerting queries"})}}},a.prototype.buildConditionModel=function(a){var b={source:a,type:a.type};return b.queryPart=new f.QueryPart(a.query,g.default.alertQueryDef),b.reducerPart=g.default.createReducerPart(a.reducer),b.evaluator=a.evaluator,b.operator=a.operator,b},a.prototype.handleQueryPartEvent=function(a,b){var c=this;switch(b.name){case"action-remove-part":break;case"get-part-actions":return this.$q.when([]);case"part-param-changed":this.validateModel();case"get-param-options":var d=this.panel.targets.map(function(a){return c.uiSegmentSrv.newSegment({value:a.refId})});return this.$q.when(d)}},a.prototype.handleReducerPartEvent=function(a,b){switch(b.name){case"action":a.source.reducer.type=b.action.value,a.reducerPart=g.default.createReducerPart(a.source.reducer);break;case"get-part-actions":for(var c=[],d=0,e=g.default.reducerTypes;d<e.length;d++){var f=e[d];f.value!==a.source.reducer.type&&c.push(f)}return this.$q.when(c)}},a.prototype.addCondition=function(a){var b=this.buildDefaultCondition();this.alert.conditions.push(b),this.conditionModels.push(this.buildConditionModel(b))},a.prototype.removeCondition=function(a){this.alert.conditions.splice(a,1),this.conditionModels.splice(a,1)},a.prototype.delete=function(){var a=this;j.default.emit("confirm-modal",{title:"Delete Alert",text:"Are you sure you want to delete this alert rule?",text2:"You need to save dashboard for the delete to take effect",icon:"fa-trash",yesText:"Delete",onConfirm:function(){delete a.panel.alert,a.alert=null,a.panel.thresholds=[],a.conditionModels=[],a.panelCtrl.alertState=null,a.panelCtrl.render()}})},a.prototype.enable=function(){this.panel.alert={},this.initModel()},a.prototype.evaluatorParamsChanged=function(){e.ThresholdMapper.alertToGraphThresholds(this.panel),this.panelCtrl.render()},a.prototype.evaluatorTypeChanged=function(a){switch(a.type){case"lt":case"gt":a.params=[a.params[0]];break;case"within_range":case"outside_range":a.params=[a.params[0],a.params[1]];break;case"no_value":a.params=[]}this.evaluatorParamsChanged()},a.prototype.clearHistory=function(){var a=this;j.default.emit("confirm-modal",{title:"Delete Alert History",text:"Are you sure you want to remove all history & annotations for this alert?",icon:"fa-trash",yesText:"Yes",onConfirm:function(){a.backendSrv.post("/api/annotations/mass-delete",{dashboardId:a.panelCtrl.dashboard.id,panelId:a.panel.id}).then(function(b){a.alertHistory=[],a.panelCtrl.refresh()})}})},a.prototype.test=function(){var a=this;this.testing=!0;var b={dashboard:this.dashboardSrv.getCurrent().getSaveModelClone(),panelId:this.panelCtrl.panel.id};return this.backendSrv.post("/api/alerts/test",b).then(function(b){a.testResult=b,a.testing=!1})},a}(),a("AlertTabCtrl",k)}}}),function(){var a=System.amdDefine;(function(){function b(a,b){return a.set(b[0],b[1]),a}function c(a,b){return a.add(b),a}function d(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function e(a,b,c,d){for(var e=-1,f=a?a.length:0;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function f(a,b){for(var c=-1,d=a?a.length:0;++c<d&&b(a[c],c,a)!==!1;);return a}function g(a,b){for(var c=a?a.length:0;c--&&b(a[c],c,a)!==!1;);return a}function h(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(!b(a[c],c,a))return!1;return!0}function i(a,b){for(var c=-1,d=a?a.length:0,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function j(a,b){var c=a?a.length:0;return!!c&&u(a,b,0)>-1}function k(a,b,c){for(var d=-1,e=a?a.length:0;++d<e;)if(c(b,a[d]))return!0;return!1}function l(a,b){for(var c=-1,d=a?a.length:0,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function m(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function n(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function o(a,b,c,d){var e=a?a.length:0;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function p(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(b(a[c],c,a))return!0;return!1}function q(a){return a.split("")}function r(a){return a.match(Db)||[]}function s(a,b,c){var d;return c(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function t(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function u(a,b,c){if(b!==b)return t(a,w,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function v(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function w(a){return a!==a}function x(a,b){var c=a?a.length:0;return c?C(a,b)/c:Ca}function y(a){return function(b){return null==b?aa:b[a]}}function z(a){return function(b){return null==a?aa:a[b]}}function A(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function B(a,b){
var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function C(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==aa&&(c=c===aa?f:c+f)}return c}function D(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function E(a,b){return l(b,function(b){return[b,a[b]]})}function F(a){return function(b){return a(b)}}function G(a,b){return l(b,function(b){return a[b]})}function H(a,b){return a.has(b)}function I(a,b){for(var c=-1,d=a.length;++c<d&&u(b,a[c],0)>-1;);return c}function J(a,b){for(var c=a.length;c--&&u(b,a[c],0)>-1;);return c}function K(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&d++;return d}function L(a){return"\\"+Mc[a]}function M(a,b){return null==a?aa:a[b]}function N(a){return Dc.test(a)}function O(a){return Ec.test(a)}function P(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}function Q(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function R(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function S(a,b){return function(c){return a(b(c))}}function T(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];g!==b&&g!==fa||(a[c]=fa,f[e++]=c)}return f}function U(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function V(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function W(a){return N(a)?Y(a):bd(a)}function X(a){return N(a)?Z(a):q(a)}function Y(a){for(var b=Bc.lastIndex=0;Bc.test(a);)b++;return b}function Z(a){return a.match(Bc)||[]}function $(a){return a.match(Cc)||[]}function _(a){function q(a){if(Kh(a)&&!Pl(a)&&!(a instanceof Z)){if(a instanceof Y)return a;if(Wj.call(a,"__wrapped__"))return Gf(a)}return new Y(a)}function z(){}function Y(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=aa}function Z(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Da,this.__views__=[]}function Db(){var a=new Z(this.__wrapped__);return a.__actions__=xe(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=xe(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=xe(this.__views__),a}function Qb(){if(this.__filtered__){var a=new Z(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Rb(){var a=this.__wrapped__.value(),b=this.__dir__,c=Pl(a),d=b<0,e=c?a.length:0,f=gf(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=uk(i,this.__takeCount__);if(!c||e<ca||e==i&&n==i)return ee(a,this.__actions__);var o=[];a:for(;i--&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==xa)q=u;else if(!u){if(t==wa)continue a;break a}}o[m++]=q}return o}function Sb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Tb(){this.__data__=Dk?Dk(null):{}}function Ub(a){return this.has(a)&&delete this.__data__[a]}function Vb(a){var b=this.__data__;if(Dk){var c=b[a];return c===ea?aa:c}return Wj.call(b,a)?b[a]:aa}function Wb(a){var b=this.__data__;return Dk?b[a]!==aa:Wj.call(b,a)}function Xb(a,b){var c=this.__data__;return c[a]=Dk&&b===aa?ea:b,this}function Yb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Zb(){this.__data__=[]}function $b(a){var b=this.__data__,c=vc(b,a);if(c<0)return!1;var d=b.length-1;return c==d?b.pop():hk.call(b,c,1),!0}function _b(a){var b=this.__data__,c=vc(b,a);return c<0?aa:b[c][1]}function ac(a){return vc(this.__data__,a)>-1}function bc(a,b){var c=this.__data__,d=vc(c,a);return d<0?c.push([a,b]):c[d][1]=b,this}function cc(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function dc(){this.__data__={hash:new Sb,map:new(zk||Yb),string:new Sb}}function ec(a){return df(this,a).delete(a)}function fc(a){return df(this,a).get(a)}function gc(a){return df(this,a).has(a)}function hc(a,b){return df(this,a).set(a,b),this}function ic(a){var b=-1,c=a?a.length:0;for(this.__data__=new cc;++b<c;)this.add(a[b])}function jc(a){return this.__data__.set(a,ea),this}function kc(a){return this.__data__.has(a)}function lc(a){this.__data__=new Yb(a)}function mc(){this.__data__=new Yb}function nc(a){return this.__data__.delete(a)}function oc(a){return this.__data__.get(a)}function pc(a){return this.__data__.has(a)}function qc(a,b){var c=this.__data__;if(c instanceof Yb){var d=c.__data__;if(!zk||d.length<ca-1)return d.push([a,b]),this;c=this.__data__=new cc(d)}return c.set(a,b),this}function rc(a,b){var c=Pl(a)||wh(a)?D(a.length,Oj):[],d=c.length,e=!!d;for(var f in a)!b&&!Wj.call(a,f)||e&&("length"==f||pf(f,d))||c.push(f);return c}function sc(a,b,c,d){return a===aa||vh(a,Sj[c])&&!Wj.call(d,c)?b:a}function tc(a,b,c){(c===aa||vh(a[b],c))&&("number"!=typeof b||c!==aa||b in a)||(a[b]=c)}function uc(a,b,c){var d=a[b];Wj.call(a,b)&&vh(d,c)&&(c!==aa||b in a)||(a[b]=c)}function vc(a,b){for(var c=a.length;c--;)if(vh(a[c][0],b))return c;return-1}function wc(a,b,c,d){return Qk(a,function(a,e,f){b(d,a,c(a),f)}),d}function xc(a,b){return a&&ye(b,ri(b),a)}function yc(a,b){for(var c=-1,d=null==a,e=b.length,f=Hj(e);++c<e;)f[c]=d?aa:oi(a,b[c]);return f}function Bc(a,b,c){return a===a&&(c!==aa&&(a=a<=c?a:c),b!==aa&&(a=a>=b?a:b)),a}function Cc(a,b,c,d,e,g,h){var i;if(d&&(i=g?d(a,e,g,h):d(a)),i!==aa)return i;if(!Jh(a))return a;var j=Pl(a);if(j){if(i=kf(a),!b)return xe(a,i)}else{var k=$k(a),l=k==Ma||k==Na;if(Rl(a))return le(a,b);if(k==Qa||k==Ha||l&&!g){if(P(a))return g?a:{};if(i=lf(l?{}:a),!b)return ze(a,xc(i,a))}else{if(!Ic[k])return g?a:{};i=mf(a,k,Cc,b)}}h||(h=new lc);var m=h.get(a);if(m)return m;if(h.set(a,i),!j)var n=c?$e(a):ri(a);return f(n||a,function(e,f){n&&(f=e,e=a[f]),uc(i,f,Cc(e,b,c,d,f,a,h))}),i}function Dc(a){var b=ri(a);return function(c){return Ec(c,a,b)}}function Ec(a,b,c){var d=c.length;if(null==a)return!d;for(a=Mj(a);d--;){var e=c[d],f=b[e],g=a[e];if(g===aa&&!(e in a)||!f(g))return!1}return!0}function Jc(a){return Jh(a)?fk(a):{}}function Kc(a,b,c){if("function"!=typeof a)throw new Pj(da);return bl(function(){a.apply(aa,c)},b)}function Lc(a,b,c,d){var e=-1,f=j,g=!0,h=a.length,i=[],m=b.length;if(!h)return i;c&&(b=l(b,F(c))),d?(f=k,g=!1):b.length>=ca&&(f=H,g=!1,b=new ic(b));a:for(;++e<h;){var n=a[e],o=c?c(n):n;if(n=d||0!==n?n:0,g&&o===o){for(var p=m;p--;)if(b[p]===o)continue a;i.push(n)}else f(b,o,d)||i.push(n)}return i}function Mc(a,b){var c=!0;return Qk(a,function(a,d,e){return c=!!b(a,d,e)}),c}function Pc(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===aa?g===g&&!Vh(g):c(g,h)))var h=g,i=f}return i}function Qc(a,b,c,d){var e=a.length;for(c=_h(c),c<0&&(c=-c>e?0:e+c),d=d===aa||d>e?e:_h(d),d<0&&(d+=e),d=c>d?0:ai(d);c<d;)a[c++]=b;return a}function Sc(a,b){var c=[];return Qk(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Tc(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=of),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?Tc(h,b-1,c,d,e):m(e,h):d||(e[e.length]=h)}return e}function Vc(a,b){return a&&Sk(a,b,ri)}function Wc(a,b){return a&&Tk(a,b,ri)}function bd(a,b){return i(b,function(b){return Gh(a[b])})}function gd(a,b){b=rf(b,a)?[b]:je(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[Df(b[c++])];return c&&c==d?a:aa}function hd(a,b,c){var d=b(a);return Pl(a)?d:m(d,c(a))}function id(a){return Zj.call(a)}function jd(a,b){return a>b}function kd(a,b){return null!=a&&Wj.call(a,b)}function ld(a,b){return null!=a&&b in Mj(a)}function md(a,b,c){return a>=uk(b,c)&&a<tk(b,c)}function nd(a,b,c){for(var d=c?k:j,e=a[0].length,f=a.length,g=f,h=Hj(f),i=1/0,m=[];g--;){var n=a[g];g&&b&&(n=l(n,F(b))),i=uk(n.length,i),h[g]=!c&&(b||e>=120&&n.length>=120)?new ic(g&&n):aa}n=a[0];var o=-1,p=h[0];a:for(;++o<e&&m.length<i;){var q=n[o],r=b?b(q):q;if(q=c||0!==q?q:0,!(p?H(p,r):d(m,r,c))){for(g=f;--g;){var s=h[g];if(!(s?H(s,r):d(a[g],r,c)))continue a}p&&p.push(r),m.push(q)}}return m}function od(a,b,c,d){return Vc(a,function(a,e,f){b(d,c(a),e,f)}),d}function pd(a,b,c){rf(b,a)||(b=je(b),a=Bf(a,b),b=Zf(b));var e=null==a?a:a[Df(b)];return null==e?aa:d(e,a,c)}function qd(a){return Kh(a)&&Zj.call(a)==Ya}function rd(a){return Kh(a)&&Zj.call(a)==Ka}function sd(a,b,c,d,e){return a===b||(null==a||null==b||!Jh(a)&&!Kh(b)?a!==a&&b!==b:td(a,b,sd,c,d,e))}function td(a,b,c,d,e,f){var g=Pl(a),h=Pl(b),i=Ia,j=Ia;g||(i=$k(a),i=i==Ha?Qa:i),h||(j=$k(b),j=j==Ha?Qa:j);var k=i==Qa&&!P(a),l=j==Qa&&!P(b),m=i==j;if(m&&!k)return f||(f=new lc),g||Wl(a)?Xe(a,b,c,d,e,f):Ye(a,b,i,c,d,e,f);if(!(e&ra)){var n=k&&Wj.call(a,"__wrapped__"),o=l&&Wj.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new lc),c(p,q,d,e,f)}}return!!m&&(f||(f=new lc),Ze(a,b,c,d,e,f))}function ud(a){return Kh(a)&&$k(a)==Oa}function vd(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Mj(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===aa&&!(i in a))return!1}else{var l=new lc;if(d)var m=d(j,k,i,a,b,l);if(!(m===aa?sd(k,j,d,qa|ra,l):m))return!1}}return!0}function wd(a){if(!Jh(a)||uf(a))return!1;var b=Gh(a)||P(a)?_j:Kb;return b.test(Ef(a))}function xd(a){return Jh(a)&&Zj.call(a)==Sa}function yd(a){return Kh(a)&&$k(a)==Ta}function zd(a){return Kh(a)&&Ih(a.length)&&!!Hc[Zj.call(a)]}function Ad(a){return"function"==typeof a?a:null==a?hj:"object"==typeof a?Pl(a)?Gd(a[0],a[1]):Fd(a):pj(a)}function Bd(a){if(!vf(a))return sk(a);var b=[];for(var c in Mj(a))Wj.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Cd(a){if(!Jh(a))return Af(a);var b=vf(a),c=[];for(var d in a)("constructor"!=d||!b&&Wj.call(a,d))&&c.push(d);return c}function Dd(a,b){return a<b}function Ed(a,b){var c=-1,d=xh(a)?Hj(a.length):[];return Qk(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Fd(a){var b=ef(a);return 1==b.length&&b[0][2]?xf(b[0][0],b[0][1]):function(c){return c===a||vd(c,a,b)}}function Gd(a,b){return rf(a)&&wf(b)?xf(Df(a),b):function(c){var d=oi(c,a);return d===aa&&d===b?qi(c,a):sd(b,d,aa,qa|ra)}}function Hd(a,b,c,d,e){if(a!==b){if(!Pl(b)&&!Wl(b))var g=Cd(b);f(g||b,function(f,h){if(g&&(h=f,f=b[h]),Jh(f))e||(e=new lc),Id(a,b,h,c,Hd,d,e);else{var i=d?d(a[h],f,h+"",a,b,e):aa;i===aa&&(i=f),tc(a,h,i)}})}}function Id(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)return void tc(a,c,j);var k=f?f(h,i,c+"",a,b,g):aa,l=k===aa;l&&(k=i,Pl(i)||Wl(i)?Pl(h)?k=h:yh(h)?k=xe(h):(l=!1,k=Cc(i,!0)):Sh(i)||wh(i)?wh(h)?k=ci(h):!Jh(h)||d&&Gh(h)?(l=!1,k=Cc(i,!0)):k=h:l=!1),l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),tc(a,c,k)}function Jd(a,b){var c=a.length;if(c)return b+=b<0?c:0,pf(b,c)?a[b]:aa}function Kd(a,b,c){var d=-1;b=l(b.length?b:[hj],F(cf()));var e=Ed(a,function(a,c,e){var f=l(b,function(b){return b(a)});return{criteria:f,index:++d,value:a}});return B(e,function(a,b){return ue(a,b,c)})}function Ld(a,b){return a=Mj(a),Md(a,b,function(b,c){return c in a})}function Md(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=a[g];c(h,g)&&(f[g]=h)}return f}function Nd(a){return function(b){return gd(b,a)}}function Od(a,b,c,d){var e=d?v:u,f=-1,g=b.length,h=a;for(a===b&&(b=xe(b)),c&&(h=l(a,F(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))>-1;)h!==a&&hk.call(h,i,1),hk.call(a,i,1);return a}function Pd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;if(pf(e))hk.call(a,e,1);else if(rf(e,a))delete a[Df(e)];else{var g=je(e),h=Bf(a,g);null!=h&&delete h[Df(Zf(g))]}}}return a}function Qd(a,b){return a+nk(wk()*(b-a+1))}function Rd(a,b,c,d){for(var e=-1,f=tk(mk((b-a)/(c||1)),0),g=Hj(f);f--;)g[d?f:++e]=a,a+=c;return g}function Sd(a,b){var c="";if(!a||b<1||b>Aa)return c;do b%2&&(c+=a),b=nk(b/2),b&&(a+=a);while(b);return c}function Td(a,b){return b=tk(b===aa?a.length-1:b,0),function(){for(var c=arguments,e=-1,f=tk(c.length-b,0),g=Hj(f);++e<f;)g[e]=c[b+e];e=-1;for(var h=Hj(b+1);++e<b;)h[e]=c[e];return h[b]=g,d(a,this,h)}}function Ud(a,b,c,d){if(!Jh(a))return a;b=rf(b,a)?[b]:je(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=Df(b[e]),j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):aa,j===aa&&(j=Jh(k)?k:pf(b[e+1])?[]:{})}uc(h,i,j),h=h[i]}return a}function Vd(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),c=c>e?e:c,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Hj(e);++d<e;)f[d]=a[d+b];return f}function Wd(a,b){var c;return Qk(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Xd(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&e<=Fa){for(;d<e;){var f=d+e>>>1,g=a[f];null!==g&&!Vh(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return Yd(a,b,hj,c)}function Yd(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=Vh(b),j=b===aa;e<f;){var k=nk((e+f)/2),l=c(a[k]),m=l!==aa,n=null===l,o=l===l,p=Vh(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):!n&&!p&&(d?l<=b:l<b);q?e=k+1:f=k}return uk(f,Ea)}function Zd(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!vh(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function $d(a){return"number"==typeof a?a:Vh(a)?Ca:+a}function _d(a){if("string"==typeof a)return a;if(Vh(a))return Pk?Pk.call(a):"";var b=a+"";return"0"==b&&1/a==-za?"-0":b}function ae(a,b,c){var d=-1,e=j,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=k;else if(f>=ca){var l=b?null:Wk(a);if(l)return U(l);g=!1,e=H,i=new ic}else i=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(m=c||0!==m?m:0,g&&n===n){for(var o=i.length;o--;)if(i[o]===n)continue a;b&&i.push(n),h.push(m)}else e(i,n,c)||(i!==h&&i.push(n),h.push(m))}return h}function be(a,b){b=rf(b,a)?[b]:je(b),a=Bf(a,b);var c=Df(Zf(b));return!(null!=a&&Wj.call(a,c))||delete a[c]}function ce(a,b,c,d){return Ud(a,b,c(gd(a,b)),d)}function de(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Vd(a,d?0:f,d?f+1:e):Vd(a,d?f+1:0,d?e:f)}function ee(a,b){var c=a;return c instanceof Z&&(c=c.value()),n(b,function(a,b){return b.func.apply(b.thisArg,m([a],b.args))},c)}function fe(a,b,c){for(var d=-1,e=a.length;++d<e;)var f=f?m(Lc(f,a[d],b,c),Lc(a[d],f,b,c)):a[d];return f&&f.length?ae(f,b,c):[]}function ge(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=d<f?b[d]:aa;c(g,a[d],h)}return g}function he(a){return yh(a)?a:[]}function ie(a){return"function"==typeof a?a:hj}function je(a){return Pl(a)?a:dl(a)}function ke(a,b,c){var d=a.length;return c=c===aa?d:c,!b&&c>=d?a:Vd(a,b,c)}function le(a,b){if(b)return a.slice();var c=new a.constructor(a.length);return a.copy(c),c}function me(a){var b=new a.constructor(a.byteLength);return new ck(b).set(new ck(a)),b}function ne(a,b){var c=b?me(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function oe(a,c,d){var e=c?d(R(a),!0):R(a);return n(e,b,new a.constructor)}function pe(a){var b=new a.constructor(a.source,Gb.exec(a));return b.lastIndex=a.lastIndex,b}function qe(a,b,d){var e=b?d(U(a),!0):U(a);return n(e,c,new a.constructor)}function re(a){return Ok?Mj(Ok.call(a)):{}}function se(a,b){var c=b?me(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function te(a,b){if(a!==b){var c=a!==aa,d=null===a,e=a===a,f=Vh(a),g=b!==aa,h=null===b,i=b===b,j=Vh(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&a<b||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function ue(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=te(e[d],f[d]);if(i){if(d>=h)return i;var j=c[d];return i*("desc"==j?-1:1)}}return a.index-b.index}function ve(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=tk(f-g,0),k=Hj(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||e<f)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function we(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=tk(f-h,0),l=Hj(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||e<f)&&(l[n+c[g]]=a[e++]);return l}function xe(a,b){var c=-1,d=a.length;for(b||(b=Hj(d));++c<d;)b[c]=a[c];return b}function ye(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):aa;uc(c,g,h===aa?a[g]:h)}return c}function ze(a,b){return ye(a,Yk(a),b)}function Ae(a,b){return function(c,d){var f=Pl(c)?e:wc,g=b?b():{};return f(c,a,cf(d,2),g)}}function Be(a){return Td(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:aa,g=e>2?c[2]:aa;for(f=a.length>3&&"function"==typeof f?(e--,f):aa,g&&qf(c[0],c[1],g)&&(f=e<3?aa:f,e=1),b=Mj(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Ce(a,b){return function(c,d){if(null==c)return c;if(!xh(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Mj(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function De(a){return function(b,c,d){for(var e=-1,f=Mj(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}function Ee(a,b,c){function d(){var b=this&&this!==Rc&&this instanceof d?f:a;return b.apply(e?c:this,arguments)}var e=b&ga,f=He(a);return d}function Fe(a){return function(b){b=ei(b);var c=N(b)?X(b):aa,d=c?c[0]:b.charAt(0),e=c?ke(c,1).join(""):b.slice(1);return d[a]()+e}}function Ge(a){return function(b){return n(cj(Ki(b).replace(zc,"")),a,"")}}function He(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Jc(a.prototype),d=a.apply(c,b);return Jh(d)?d:c}}function Ie(a,b,c){function e(){for(var g=arguments.length,h=Hj(g),i=g,j=bf(e);i--;)h[i]=arguments[i];var k=g<3&&h[0]!==j&&h[g-1]!==j?[]:T(h,j);if(g-=k.length,g<c)return Te(a,b,Le,e.placeholder,aa,h,k,aa,aa,c-g);var l=this&&this!==Rc&&this instanceof e?f:a;return d(l,this,h)}var f=He(a);return e}function Je(a){return function(b,c,d){var e=Mj(b);if(!xh(b)){var f=cf(c,3);b=ri(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:aa}}function Ke(a){return Td(function(b){b=Tc(b,1);var c=b.length,d=c,e=Y.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new Pj(da);if(e&&!g&&"wrapper"==af(f))var g=new Y([],!0)}for(d=g?d:c;++d<c;){f=b[d];var h=af(f),i="wrapper"==h?Xk(f):aa;g=i&&tf(i[0])&&i[1]==(na|ja|la|oa)&&!i[4].length&&1==i[9]?g[af(i[0])].apply(g,i[3]):1==f.length&&tf(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&Pl(d)&&d.length>=ca)return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function Le(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=Hj(r),t=r;t--;)s[t]=arguments[t];if(o)var u=bf(k),v=K(s,u);if(d&&(s=ve(s,d,e,o)),f&&(s=we(s,f,g,o)),r-=v,o&&r<j){var w=T(s,u);return Te(a,b,Le,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=Cf(s,h):p&&r>1&&s.reverse(),l&&i<r&&(s.length=i),this&&this!==Rc&&this instanceof k&&(y=q||He(y)),y.apply(x,s)}var l=b&na,m=b&ga,n=b&ha,o=b&(ja|ka),p=b&pa,q=n?aa:He(a);return k}function Me(a,b){return function(c,d){return od(c,a,b(d),{})}}function Ne(a,b){return function(c,d){var e;if(c===aa&&d===aa)return b;if(c!==aa&&(e=c),d!==aa){if(e===aa)return d;"string"==typeof c||"string"==typeof d?(c=_d(c),d=_d(d)):(c=$d(c),d=$d(d)),e=a(c,d)}return e}}function Oe(a){return Td(function(b){return b=1==b.length&&Pl(b[0])?l(b[0],F(cf())):l(Tc(b,1),F(cf())),Td(function(c){var e=this;return a(b,function(a){return d(a,e,c)})})})}function Pe(a,b){b=b===aa?" ":_d(b);var c=b.length;if(c<2)return c?Sd(b,a):b;var d=Sd(b,mk(a/W(b)));return N(b)?ke(X(d),0,a).join(""):d.slice(0,a)}function Qe(a,b,c,e){function f(){for(var b=-1,i=arguments.length,j=-1,k=e.length,l=Hj(k+i),m=this&&this!==Rc&&this instanceof f?h:a;++j<k;)l[j]=e[j];for(;i--;)l[j++]=arguments[++b];return d(m,g?c:this,l)}var g=b&ga,h=He(a);return f}function Re(a){return function(b,c,d){return d&&"number"!=typeof d&&qf(b,c,d)&&(c=d=aa),b=$h(b),c===aa?(c=b,b=0):c=$h(c),d=d===aa?b<c?1:-1:$h(d),Rd(b,c,d,a)}}function Se(a){return function(b,c){return"string"==typeof b&&"string"==typeof c||(b=bi(b),c=bi(c)),a(b,c)}}function Te(a,b,c,d,e,f,g,h,i,j){var k=b&ja,l=k?g:aa,m=k?aa:g,n=k?f:aa,o=k?aa:f;b|=k?la:ma,b&=~(k?ma:la),b&ia||(b&=~(ga|ha));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(aa,p);return tf(a)&&al(q,p),q.placeholder=d,cl(q,a,b)}function Ue(a){var b=Lj[a];return function(a,c){if(a=bi(a),c=uk(_h(c),292)){var d=(ei(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return d=(ei(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function Ve(a){return function(b){var c=$k(b);return c==Oa?R(b):c==Ta?V(b):E(b,a(b))}}function We(a,b,c,d,e,f,g,h){var i=b&ha;if(!i&&"function"!=typeof a)throw new Pj(da);var j=d?d.length:0;if(j||(b&=~(la|ma),d=e=aa),g=g===aa?g:tk(_h(g),0),h=h===aa?h:_h(h),j-=e?e.length:0,b&ma){var k=d,l=e;d=e=aa}var m=i?aa:Xk(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&yf(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=null==n[9]?i?0:a.length:tk(n[9]-j,0),!h&&b&(ja|ka)&&(b&=~(ja|ka)),b&&b!=ga)o=b==ja||b==ka?Ie(a,b,h):b!=la&&b!=(ga|la)||e.length?Le.apply(aa,n):Qe(a,b,c,d);else var o=Ee(a,b,c);var p=m?Uk:al;return cl(p(o,n),a,b)}function Xe(a,b,c,d,e,f){var g=e&ra,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=e&qa?new ic:aa;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var q=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(q!==aa){if(q)continue;l=!1;break}if(m){if(!p(b,function(a,b){if(!m.has(b)&&(n===a||c(n,a,d,e,f)))return m.add(b)})){l=!1;break}}else if(n!==o&&!c(n,o,d,e,f)){l=!1;break}}return f.delete(a),f.delete(b),l}function Ye(a,b,c,d,e,f,g){switch(c){case Za:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Ya:return!(a.byteLength!=b.byteLength||!d(new ck(a),new ck(b)));case Ja:case Ka:case Pa:return vh(+a,+b);case La:return a.name==b.name&&a.message==b.message;case Sa:case Ua:return a==b+"";case Oa:var h=R;case Ta:var i=f&ra;if(h||(h=U),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;f|=qa,g.set(a,b);var k=Xe(h(a),h(b),d,e,f,g);return g.delete(a),k;case Va:if(Ok)return Ok.call(a)==Ok.call(b)}return!1}function Ze(a,b,c,d,e,f){var g=e&ra,h=ri(a),i=h.length,j=ri(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:Wj.call(b,m)))return!1}var n=f.get(a);if(n&&f.get(b))return n==b;var o=!0;f.set(a,b),f.set(b,a);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(s===aa?q===r||c(q,r,d,e,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f.delete(a),f.delete(b),o}function $e(a){return hd(a,ri,Yk)}function _e(a){return hd(a,si,Zk)}function af(a){for(var b=a.name+"",c=Hk[b],d=Wj.call(Hk,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function bf(a){var b=Wj.call(q,"placeholder")?q:a;return b.placeholder}function cf(){var a=q.iteratee||ij;return a=a===ij?Ad:a,arguments.length?a(arguments[0],arguments[1]):a}function df(a,b){var c=a.__data__;return sf(b)?c["string"==typeof b?"string":"hash"]:c.map}function ef(a){for(var b=ri(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,wf(e)]}return b}function ff(a,b){var c=M(a,b);return wd(c)?c:aa}function gf(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=uk(b,a+g);break;case"takeRight":a=tk(a,b-g)}}return{start:a,end:b}}function hf(a){var b=a.match(Bb);return b?b[1].split(Cb):[]}function jf(a,b,c){b=rf(b,a)?[b]:je(b);for(var d,e=-1,f=b.length;++e<f;){var g=Df(b[e]);if(!(d=null!=a&&c(a,g)))break;a=a[g]}if(d)return d;var f=a?a.length:0;return!!f&&Ih(f)&&pf(g,f)&&(Pl(a)||wh(a))}function kf(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&Wj.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function lf(a){return"function"!=typeof a.constructor||vf(a)?{}:Jc(dk(a))}function mf(a,b,c,d){var e=a.constructor;switch(b){case Ya:return me(a);case Ja:case Ka:return new e(+a);case Za:return ne(a,d);case $a:case _a:case ab:case bb:case cb:case db:case eb:case fb:case gb:return se(a,d);case Oa:return oe(a,d,c);case Pa:case Ua:return new e(a);case Sa:return pe(a);case Ta:return qe(a,d,c);case Va:return re(a)}}function nf(a,b){var c=b.length,d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(Ab,"{\n/* [wrapped with "+b+"] */\n")}function of(a){return Pl(a)||wh(a)||!!(ik&&a&&a[ik])}function pf(a,b){return b=null==b?Aa:b,!!b&&("number"==typeof a||Mb.test(a))&&a>-1&&a%1==0&&a<b}function qf(a,b,c){if(!Jh(c))return!1;var d=typeof b;return!!("number"==d?xh(c)&&pf(b,c.length):"string"==d&&b in c)&&vh(c[b],a)}function rf(a,b){if(Pl(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!Vh(a))||(sb.test(a)||!rb.test(a)||null!=b&&a in Mj(b))}function sf(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function tf(a){var b=af(a),c=q[b];if("function"!=typeof c||!(b in Z.prototype))return!1;if(a===c)return!0;var d=Xk(c);return!!d&&a===d[0]}function uf(a){return!!Uj&&Uj in a}function vf(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||Sj;return a===c}function wf(a){return a===a&&!Jh(a)}function xf(a,b){return function(c){return null!=c&&(c[a]===b&&(b!==aa||a in Mj(c)))}}function yf(a,b){var c=a[1],d=b[1],e=c|d,f=e<(ga|ha|na),g=d==na&&c==ja||d==na&&c==oa&&a[7].length<=b[8]||d==(na|oa)&&b[7].length<=b[8]&&c==ja;if(!f&&!g)return a;d&ga&&(a[2]=b[2],e|=c&ga?0:ia);var h=b[3];if(h){var i=a[3];a[3]=i?ve(i,h,b[4]):h,a[4]=i?T(a[3],fa):b[4]}return h=b[5],h&&(i=a[5],a[5]=i?we(i,h,b[6]):h,a[6]=i?T(a[5],fa):b[6]),h=b[7],h&&(a[7]=h),d&na&&(a[8]=null==a[8]?b[8]:uk(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function zf(a,b,c,d,e,f){return Jh(a)&&Jh(b)&&(f.set(b,a),Hd(a,b,aa,zf,f),f.delete(b)),a}function Af(a){var b=[];if(null!=a)for(var c in Mj(a))b.push(c);return b}function Bf(a,b){return 1==b.length?a:gd(a,Vd(b,0,-1))}function Cf(a,b){for(var c=a.length,d=uk(b.length,c),e=xe(a);d--;){var f=b[d];a[d]=pf(f,c)?e[f]:aa}return a}function Df(a){if("string"==typeof a||Vh(a))return a;var b=a+"";return"0"==b&&1/a==-za?"-0":b}function Ef(a){if(null!=a){try{return Vj.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function Ff(a,b){return f(Ga,function(c){var d="_."+c[0];b&c[1]&&!j(a,d)&&a.push(d)}),a.sort()}function Gf(a){if(a instanceof Z)return a.clone();var b=new Y(a.__wrapped__,a.__chain__);return b.__actions__=xe(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function Hf(a,b,c){b=(c?qf(a,b,c):b===aa)?1:tk(_h(b),0);var d=a?a.length:0;if(!d||b<1)return[];for(var e=0,f=0,g=Hj(mk(d/b));e<d;)g[f++]=Vd(a,e,e+=b);return g}function If(a){for(var b=-1,c=a?a.length:0,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function Jf(){for(var a=arguments.length,b=Hj(a?a-1:0),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return a?m(Pl(c)?xe(c):[c],Tc(b,1)):[]}function Kf(a,b,c){var d=a?a.length:0;return d?(b=c||b===aa?1:_h(b),Vd(a,b<0?0:b,d)):[]}function Lf(a,b,c){var d=a?a.length:0;return d?(b=c||b===aa?1:_h(b),b=d-b,Vd(a,0,b<0?0:b)):[]}function Mf(a,b){return a&&a.length?de(a,cf(b,3),!0,!0):[]}function Nf(a,b){return a&&a.length?de(a,cf(b,3),!0):[]}function Of(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&qf(a,b,c)&&(c=0,d=e),Qc(a,b,c,d)):[]}function Pf(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=null==c?0:_h(c);return e<0&&(e=tk(d+e,0)),t(a,cf(b,3),e)}function Qf(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d-1;return c!==aa&&(e=_h(c),e=c<0?tk(d+e,0):uk(e,d-1)),t(a,cf(b,3),e,!0)}function Rf(a){var b=a?a.length:0;return b?Tc(a,1):[]}function Sf(a){var b=a?a.length:0;return b?Tc(a,za):[]}function Tf(a,b){var c=a?a.length:0;return c?(b=b===aa?1:_h(b),Tc(a,b)):[]}function Uf(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function Vf(a){return a&&a.length?a[0]:aa}function Wf(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=null==c?0:_h(c);return e<0&&(e=tk(d+e,0)),u(a,b,e)}function Xf(a){var b=a?a.length:0;return b?Vd(a,0,-1):[]}function Yf(a,b){return a?rk.call(a,b):""}function Zf(a){var b=a?a.length:0;return b?a[b-1]:aa}function $f(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if(c!==aa&&(e=_h(c),e=(e<0?tk(d+e,0):uk(e,d-1))+1),b!==b)return t(a,w,e-1,!0);for(;e--;)if(a[e]===b)return e;return-1}function _f(a,b){return a&&a.length?Jd(a,_h(b)):aa}function ag(a,b){return a&&a.length&&b&&b.length?Od(a,b):a}function bg(a,b,c){return a&&a.length&&b&&b.length?Od(a,b,cf(c,2)):a}function cg(a,b,c){return a&&a.length&&b&&b.length?Od(a,b,aa,c):a}function dg(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=cf(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return Pd(a,e),c}function eg(a){return a?xk.call(a):a}function fg(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&qf(a,b,c)?(b=0,c=d):(b=null==b?0:_h(b),c=c===aa?d:_h(c)),Vd(a,b,c)):[]}function gg(a,b){return Xd(a,b)}function hg(a,b,c){return Yd(a,b,cf(c,2))}function ig(a,b){var c=a?a.length:0;if(c){var d=Xd(a,b);if(d<c&&vh(a[d],b))return d}return-1}function jg(a,b){return Xd(a,b,!0)}function kg(a,b,c){return Yd(a,b,cf(c,2),!0)}function lg(a,b){var c=a?a.length:0;if(c){var d=Xd(a,b,!0)-1;if(vh(a[d],b))return d}return-1}function mg(a){return a&&a.length?Zd(a):[]}function ng(a,b){return a&&a.length?Zd(a,cf(b,2)):[]}function og(a){var b=a?a.length:0;return b?Vd(a,1,b):[]}function pg(a,b,c){return a&&a.length?(b=c||b===aa?1:_h(b),Vd(a,0,b<0?0:b)):[]}function qg(a,b,c){var d=a?a.length:0;return d?(b=c||b===aa?1:_h(b),b=d-b,Vd(a,b<0?0:b,d)):[]}function rg(a,b){return a&&a.length?de(a,cf(b,3),!1,!0):[]}function sg(a,b){return a&&a.length?de(a,cf(b,3)):[]}function tg(a){return a&&a.length?ae(a):[]}function ug(a,b){return a&&a.length?ae(a,cf(b,2)):[]}function vg(a,b){return a&&a.length?ae(a,aa,b):[]}function wg(a){if(!a||!a.length)return[];var b=0;return a=i(a,function(a){if(yh(a))return b=tk(a.length,b),!0}),D(b,function(b){return l(a,y(b))})}function xg(a,b){if(!a||!a.length)return[];var c=wg(a);return null==b?c:l(c,function(a){return d(b,aa,a)})}function yg(a,b){return ge(a||[],b||[],uc)}function zg(a,b){return ge(a||[],b||[],Ud)}function Ag(a){var b=q(a);return b.__chain__=!0,b}function Bg(a,b){return b(a),a}function Cg(a,b){return b(a)}function Dg(){return Ag(this)}function Eg(){return new Y(this.value(),this.__chain__)}function Fg(){this.__values__===aa&&(this.__values__=Zh(this.value()));var a=this.__index__>=this.__values__.length,b=a?aa:this.__values__[this.__index__++];return{done:a,value:b}}function Gg(){return this}function Hg(a){for(var b,c=this;c instanceof z;){var d=Gf(c);d.__index__=0,d.__values__=aa,b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Ig(){var a=this.__wrapped__;if(a instanceof Z){var b=a;return this.__actions__.length&&(b=new Z(this)),b=b.reverse(),b.__actions__.push({func:Cg,args:[eg],thisArg:aa}),new Y(b,this.__chain__)}return this.thru(eg)}function Jg(){return ee(this.__wrapped__,this.__actions__)}function Kg(a,b,c){var d=Pl(a)?h:Mc;return c&&qf(a,b,c)&&(b=aa),d(a,cf(b,3))}function Lg(a,b){var c=Pl(a)?i:Sc;return c(a,cf(b,3))}function Mg(a,b){return Tc(Sg(a,b),1)}function Ng(a,b){return Tc(Sg(a,b),za)}function Og(a,b,c){return c=c===aa?1:_h(c),Tc(Sg(a,b),c)}function Pg(a,b){var c=Pl(a)?f:Qk;return c(a,cf(b,3))}function Qg(a,b){var c=Pl(a)?g:Rk;return c(a,cf(b,3))}function Rg(a,b,c,d){a=xh(a)?a:Ei(a),c=c&&!d?_h(c):0;var e=a.length;return c<0&&(c=tk(e+c,0)),Uh(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&u(a,b,c)>-1}function Sg(a,b){var c=Pl(a)?l:Ed;return c(a,cf(b,3))}function Tg(a,b,c,d){return null==a?[]:(Pl(b)||(b=null==b?[]:[b]),c=d?aa:c,Pl(c)||(c=null==c?[]:[c]),Kd(a,b,c))}function Ug(a,b,c){var d=Pl(a)?n:A,e=arguments.length<3;return d(a,cf(b,4),c,e,Qk)}function Vg(a,b,c){var d=Pl(a)?o:A,e=arguments.length<3;return d(a,cf(b,4),c,e,Rk)}function Wg(a,b){var c=Pl(a)?i:Sc;return c(a,ih(cf(b,3)))}function Xg(a){var b=xh(a)?a:Ei(a),c=b.length;return c>0?b[Qd(0,c-1)]:aa;
}function Yg(a,b,c){var d=-1,e=Zh(a),f=e.length,g=f-1;for(b=(c?qf(a,b,c):b===aa)?1:Bc(_h(b),0,f);++d<b;){var h=Qd(d,g),i=e[h];e[h]=e[d],e[d]=i}return e.length=b,e}function Zg(a){return Yg(a,Da)}function $g(a){if(null==a)return 0;if(xh(a))return Uh(a)?W(a):a.length;var b=$k(a);return b==Oa||b==Ta?a.size:Bd(a).length}function _g(a,b,c){var d=Pl(a)?p:Wd;return c&&qf(a,b,c)&&(b=aa),d(a,cf(b,3))}function ah(a,b){if("function"!=typeof b)throw new Pj(da);return a=_h(a),function(){if(--a<1)return b.apply(this,arguments)}}function bh(a,b,c){return b=c?aa:b,b=a&&null==b?a.length:b,We(a,na,aa,aa,aa,aa,b)}function ch(a,b){var c;if("function"!=typeof b)throw new Pj(da);return a=_h(a),function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=aa),c}}function dh(a,b,c){b=c?aa:b;var d=We(a,ja,aa,aa,aa,aa,aa,b);return d.placeholder=dh.placeholder,d}function eh(a,b,c){b=c?aa:b;var d=We(a,ka,aa,aa,aa,aa,aa,b);return d.placeholder=eh.placeholder,d}function fh(a,b,c){function d(b){var c=m,d=n;return m=n=aa,s=b,p=a.apply(d,c)}function e(a){return s=a,q=bl(h,b),t?d(a):p}function f(a){var c=a-r,d=a-s,e=b-c;return u?uk(e,o-d):e}function g(a){var c=a-r,d=a-s;return r===aa||c>=b||c<0||u&&d>=o}function h(){var a=El();return g(a)?i(a):void(q=bl(h,f(a)))}function i(a){return q=aa,v&&m?d(a):(m=n=aa,p)}function j(){q!==aa&&Vk(q),s=0,m=r=n=q=aa}function k(){return q===aa?p:i(El())}function l(){var a=El(),c=g(a);if(m=arguments,n=this,r=a,c){if(q===aa)return e(r);if(u)return q=bl(h,b),d(r)}return q===aa&&(q=bl(h,b)),p}var m,n,o,p,q,r,s=0,t=!1,u=!1,v=!0;if("function"!=typeof a)throw new Pj(da);return b=bi(b)||0,Jh(c)&&(t=!!c.leading,u="maxWait"in c,o=u?tk(bi(c.maxWait)||0,b):o,v="trailing"in c?!!c.trailing:v),l.cancel=j,l.flush=k,l}function gh(a){return We(a,pa)}function hh(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Pj(da);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new(hh.Cache||cc),c}function ih(a){if("function"!=typeof a)throw new Pj(da);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function jh(a){return ch(2,a)}function kh(a,b){if("function"!=typeof a)throw new Pj(da);return b=b===aa?b:_h(b),Td(a,b)}function lh(a,b){if("function"!=typeof a)throw new Pj(da);return b=b===aa?0:tk(_h(b),0),Td(function(c){var e=c[b],f=ke(c,0,b);return e&&m(f,e),d(a,this,f)})}function mh(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Pj(da);return Jh(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),fh(a,b,{leading:d,maxWait:b,trailing:e})}function nh(a){return bh(a,1)}function oh(a,b){return b=null==b?hj:b,Kl(b,a)}function ph(){if(!arguments.length)return[];var a=arguments[0];return Pl(a)?a:[a]}function qh(a){return Cc(a,!1,!0)}function rh(a,b){return Cc(a,!1,!0,b)}function sh(a){return Cc(a,!0,!0)}function th(a,b){return Cc(a,!0,!0,b)}function uh(a,b){return null==b||Ec(a,b,ri(b))}function vh(a,b){return a===b||a!==a&&b!==b}function wh(a){return yh(a)&&Wj.call(a,"callee")&&(!gk.call(a,"callee")||Zj.call(a)==Ha)}function xh(a){return null!=a&&Ih(a.length)&&!Gh(a)}function yh(a){return Kh(a)&&xh(a)}function zh(a){return a===!0||a===!1||Kh(a)&&Zj.call(a)==Ja}function Ah(a){return!!a&&1===a.nodeType&&Kh(a)&&!Sh(a)}function Bh(a){if(xh(a)&&(Pl(a)||"string"==typeof a||"function"==typeof a.splice||Rl(a)||wh(a)))return!a.length;var b=$k(a);if(b==Oa||b==Ta)return!a.size;if(Gk||vf(a))return!sk(a).length;for(var c in a)if(Wj.call(a,c))return!1;return!0}function Ch(a,b){return sd(a,b)}function Dh(a,b,c){c="function"==typeof c?c:aa;var d=c?c(a,b):aa;return d===aa?sd(a,b,c):!!d}function Eh(a){return!!Kh(a)&&(Zj.call(a)==La||"string"==typeof a.message&&"string"==typeof a.name)}function Fh(a){return"number"==typeof a&&qk(a)}function Gh(a){var b=Jh(a)?Zj.call(a):"";return b==Ma||b==Na}function Hh(a){return"number"==typeof a&&a==_h(a)}function Ih(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=Aa}function Jh(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Kh(a){return!!a&&"object"==typeof a}function Lh(a,b){return a===b||vd(a,b,ef(b))}function Mh(a,b,c){return c="function"==typeof c?c:aa,vd(a,b,ef(b),c)}function Nh(a){return Rh(a)&&a!=+a}function Oh(a){if(_k(a))throw new Jj("This method is not supported with core-js. Try https://github.com/es-shims.");return wd(a)}function Ph(a){return null===a}function Qh(a){return null==a}function Rh(a){return"number"==typeof a||Kh(a)&&Zj.call(a)==Pa}function Sh(a){if(!Kh(a)||Zj.call(a)!=Qa||P(a))return!1;var b=dk(a);if(null===b)return!0;var c=Wj.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&Vj.call(c)==Yj}function Th(a){return Hh(a)&&a>=-Aa&&a<=Aa}function Uh(a){return"string"==typeof a||!Pl(a)&&Kh(a)&&Zj.call(a)==Ua}function Vh(a){return"symbol"==typeof a||Kh(a)&&Zj.call(a)==Va}function Wh(a){return a===aa}function Xh(a){return Kh(a)&&$k(a)==Wa}function Yh(a){return Kh(a)&&Zj.call(a)==Xa}function Zh(a){if(!a)return[];if(xh(a))return Uh(a)?X(a):xe(a);if(ek&&a[ek])return Q(a[ek]());var b=$k(a),c=b==Oa?R:b==Ta?U:Ei;return c(a)}function $h(a){if(!a)return 0===a?a:0;if(a=bi(a),a===za||a===-za){var b=a<0?-1:1;return b*Ba}return a===a?a:0}function _h(a){var b=$h(a),c=b%1;return b===b?c?b-c:b:0}function ai(a){return a?Bc(_h(a),0,Da):0}function bi(a){if("number"==typeof a)return a;if(Vh(a))return Ca;if(Jh(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=Jh(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(xb,"");var c=Jb.test(a);return c||Lb.test(a)?Oc(a.slice(2),c?2:8):Ib.test(a)?Ca:+a}function ci(a){return ye(a,si(a))}function di(a){return Bc(_h(a),-Aa,Aa)}function ei(a){return null==a?"":_d(a)}function fi(a,b){var c=Jc(a);return b?xc(c,b):c}function gi(a,b){return s(a,cf(b,3),Vc)}function hi(a,b){return s(a,cf(b,3),Wc)}function ii(a,b){return null==a?a:Sk(a,cf(b,3),si)}function ji(a,b){return null==a?a:Tk(a,cf(b,3),si)}function ki(a,b){return a&&Vc(a,cf(b,3))}function li(a,b){return a&&Wc(a,cf(b,3))}function mi(a){return null==a?[]:bd(a,ri(a))}function ni(a){return null==a?[]:bd(a,si(a))}function oi(a,b,c){var d=null==a?aa:gd(a,b);return d===aa?c:d}function pi(a,b){return null!=a&&jf(a,b,kd)}function qi(a,b){return null!=a&&jf(a,b,ld)}function ri(a){return xh(a)?rc(a):Bd(a)}function si(a){return xh(a)?rc(a,!0):Cd(a)}function ti(a,b){var c={};return b=cf(b,3),Vc(a,function(a,d,e){c[b(a,d,e)]=a}),c}function ui(a,b){var c={};return b=cf(b,3),Vc(a,function(a,d,e){c[d]=b(a,d,e)}),c}function vi(a,b){return wi(a,ih(cf(b)))}function wi(a,b){return null==a?{}:Md(a,_e(a),cf(b))}function xi(a,b,c){b=rf(b,a)?[b]:je(b);var d=-1,e=b.length;for(e||(a=aa,e=1);++d<e;){var f=null==a?aa:a[Df(b[d])];f===aa&&(d=e,f=c),a=Gh(f)?f.call(a):f}return a}function yi(a,b,c){return null==a?a:Ud(a,b,c)}function zi(a,b,c,d){return d="function"==typeof d?d:aa,null==a?a:Ud(a,b,c,d)}function Ai(a,b,c){var d=Pl(a)||Wl(a);if(b=cf(b,4),null==c)if(d||Jh(a)){var e=a.constructor;c=d?Pl(a)?new e:[]:Gh(e)?Jc(dk(a)):{}}else c={};return(d?f:Vc)(a,function(a,d,e){return b(c,a,d,e)}),c}function Bi(a,b){return null==a||be(a,b)}function Ci(a,b,c){return null==a?a:ce(a,b,ie(c))}function Di(a,b,c,d){return d="function"==typeof d?d:aa,null==a?a:ce(a,b,ie(c),d)}function Ei(a){return a?G(a,ri(a)):[]}function Fi(a){return null==a?[]:G(a,si(a))}function Gi(a,b,c){return c===aa&&(c=b,b=aa),c!==aa&&(c=bi(c),c=c===c?c:0),b!==aa&&(b=bi(b),b=b===b?b:0),Bc(bi(a),b,c)}function Hi(a,b,c){return b=$h(b),c===aa?(c=b,b=0):c=$h(c),a=bi(a),md(a,b,c)}function Ii(a,b,c){if(c&&"boolean"!=typeof c&&qf(a,b,c)&&(b=c=aa),c===aa&&("boolean"==typeof b?(c=b,b=aa):"boolean"==typeof a&&(c=a,a=aa)),a===aa&&b===aa?(a=0,b=1):(a=$h(a),b===aa?(b=a,a=0):b=$h(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=wk();return uk(a+e*(b-a+Nc("1e-"+((e+"").length-1))),b)}return Qd(a,b)}function Ji(a){return um(ei(a).toLowerCase())}function Ki(a){return a=ei(a),a&&a.replace(Nb,cd).replace(Ac,"")}function Li(a,b,c){a=ei(a),b=_d(b);var d=a.length;c=c===aa?d:Bc(_h(c),0,d);var e=c;return c-=b.length,c>=0&&a.slice(c,e)==b}function Mi(a){return a=ei(a),a&&nb.test(a)?a.replace(lb,dd):a}function Ni(a){return a=ei(a),a&&wb.test(a)?a.replace(vb,"\\$&"):a}function Oi(a,b,c){a=ei(a),b=_h(b);var d=b?W(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return Pe(nk(e),c)+a+Pe(mk(e),c)}function Pi(a,b,c){a=ei(a),b=_h(b);var d=b?W(a):0;return b&&d<b?a+Pe(b-d,c):a}function Qi(a,b,c){a=ei(a),b=_h(b);var d=b?W(a):0;return b&&d<b?Pe(b-d,c)+a:a}function Ri(a,b,c){return c||null==b?b=0:b&&(b=+b),a=ei(a).replace(xb,""),vk(a,b||(Hb.test(a)?16:10))}function Si(a,b,c){return b=(c?qf(a,b,c):b===aa)?1:_h(b),Sd(ei(a),b)}function Ti(){var a=arguments,b=ei(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function Ui(a,b,c){return c&&"number"!=typeof c&&qf(a,b,c)&&(b=c=aa),(c=c===aa?Da:c>>>0)?(a=ei(a),a&&("string"==typeof b||null!=b&&!Ul(b))&&(b=_d(b),!b&&N(a))?ke(X(a),0,c):a.split(b,c)):[]}function Vi(a,b,c){return a=ei(a),c=Bc(_h(c),0,a.length),b=_d(b),a.slice(c,c+b.length)==b}function Wi(a,b,c){var d=q.templateSettings;c&&qf(a,b,c)&&(b=aa),a=ei(a),b=_l({},b,d,sc);var e,f,g=_l({},b.imports,d.imports,sc),h=ri(g),i=G(g,h),j=0,k=b.interpolate||Ob,l="__p += '",m=Nj((b.escape||Ob).source+"|"+k.source+"|"+(k===qb?Fb:Ob).source+"|"+(b.evaluate||Ob).source+"|$","g"),n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Gc+"]")+"\n";a.replace(m,function(b,c,d,g,h,i){return d||(d=g),l+=a.slice(j,i).replace(Pb,L),c&&(e=!0,l+="' +\n__e("+c+") +\n'"),h&&(f=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var o=b.variable;o||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(hb,""):l).replace(ib,"$1").replace(jb,"$1;"),l="function("+(o||"obj")+") {\n"+(o?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(e?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var p=vm(function(){return Kj(h,n+"return "+l).apply(aa,i)});if(p.source=l,Eh(p))throw p;return p}function Xi(a){return ei(a).toLowerCase()}function Yi(a){return ei(a).toUpperCase()}function Zi(a,b,c){if(a=ei(a),a&&(c||b===aa))return a.replace(xb,"");if(!a||!(b=_d(b)))return a;var d=X(a),e=X(b),f=I(d,e),g=J(d,e)+1;return ke(d,f,g).join("")}function $i(a,b,c){if(a=ei(a),a&&(c||b===aa))return a.replace(zb,"");if(!a||!(b=_d(b)))return a;var d=X(a),e=J(d,X(b))+1;return ke(d,0,e).join("")}function _i(a,b,c){if(a=ei(a),a&&(c||b===aa))return a.replace(yb,"");if(!a||!(b=_d(b)))return a;var d=X(a),e=I(d,X(b));return ke(d,e).join("")}function aj(a,b){var c=sa,d=ta;if(Jh(b)){var e="separator"in b?b.separator:e;c="length"in b?_h(b.length):c,d="omission"in b?_d(b.omission):d}a=ei(a);var f=a.length;if(N(a)){var g=X(a);f=g.length}if(c>=f)return a;var h=c-W(d);if(h<1)return d;var i=g?ke(g,0,h).join(""):a.slice(0,h);if(e===aa)return i+d;if(g&&(h+=i.length-h),Ul(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=Nj(e.source,ei(Gb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===aa?h:l)}}else if(a.indexOf(_d(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function bj(a){return a=ei(a),a&&mb.test(a)?a.replace(kb,ed):a}function cj(a,b,c){return a=ei(a),b=c?aa:b,b===aa?O(a)?$(a):r(a):a.match(b)||[]}function dj(a){var b=a?a.length:0,c=cf();return a=b?l(a,function(a){if("function"!=typeof a[1])throw new Pj(da);return[c(a[0]),a[1]]}):[],Td(function(c){for(var e=-1;++e<b;){var f=a[e];if(d(f[0],this,c))return d(f[1],this,c)}})}function ej(a){return Dc(Cc(a,!0))}function fj(a){return function(){return a}}function gj(a,b){return null==a||a!==a?b:a}function hj(a){return a}function ij(a){return Ad("function"==typeof a?a:Cc(a,!0))}function jj(a){return Fd(Cc(a,!0))}function kj(a,b){return Gd(a,Cc(b,!0))}function lj(a,b,c){var d=ri(b),e=bd(b,d);null!=c||Jh(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=bd(b,ri(b)));var g=!(Jh(c)&&"chain"in c&&!c.chain),h=Gh(a);return f(e,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(g||b){var c=a(this.__wrapped__),e=c.__actions__=xe(this.__actions__);return e.push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,m([this.value()],arguments))})}),a}function mj(){return Rc._===this&&(Rc._=$j),this}function nj(){}function oj(a){return a=_h(a),Td(function(b){return Jd(b,a)})}function pj(a){return rf(a)?y(Df(a)):Nd(a)}function qj(a){return function(b){return null==a?aa:gd(a,b)}}function rj(){return[]}function sj(){return!1}function tj(){return{}}function uj(){return""}function vj(){return!0}function wj(a,b){if(a=_h(a),a<1||a>Aa)return[];var c=Da,d=uk(a,Da);b=cf(b),a-=Da;for(var e=D(d,b);++c<a;)b(c);return e}function xj(a){return Pl(a)?l(a,Df):Vh(a)?[a]:xe(dl(a))}function yj(a){var b=++Xj;return ei(a)+b}function zj(a){return a&&a.length?Pc(a,hj,jd):aa}function Aj(a,b){return a&&a.length?Pc(a,cf(b,2),jd):aa}function Bj(a){return x(a,hj)}function Cj(a,b){return x(a,cf(b,2))}function Dj(a){return a&&a.length?Pc(a,hj,Dd):aa}function Ej(a,b){return a&&a.length?Pc(a,cf(b,2),Dd):aa}function Fj(a){return a&&a.length?C(a,hj):0}function Gj(a,b){return a&&a.length?C(a,cf(b,2)):0}a=a?fd.defaults(Rc.Object(),a,fd.pick(Rc,Fc)):Rc;var Hj=a.Array,Ij=a.Date,Jj=a.Error,Kj=a.Function,Lj=a.Math,Mj=a.Object,Nj=a.RegExp,Oj=a.String,Pj=a.TypeError,Qj=Hj.prototype,Rj=Kj.prototype,Sj=Mj.prototype,Tj=a["__core-js_shared__"],Uj=function(){var a=/[^.]+$/.exec(Tj&&Tj.keys&&Tj.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Vj=Rj.toString,Wj=Sj.hasOwnProperty,Xj=0,Yj=Vj.call(Mj),Zj=Sj.toString,$j=Rc._,_j=Nj("^"+Vj.call(Wj).replace(vb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ak=Uc?a.Buffer:aa,bk=a.Symbol,ck=a.Uint8Array,dk=S(Mj.getPrototypeOf,Mj),ek=bk?bk.iterator:aa,fk=Mj.create,gk=Sj.propertyIsEnumerable,hk=Qj.splice,ik=bk?bk.isConcatSpreadable:aa,jk=a.clearTimeout!==Rc.clearTimeout&&a.clearTimeout,kk=Ij&&Ij.now!==Rc.Date.now&&Ij.now,lk=a.setTimeout!==Rc.setTimeout&&a.setTimeout,mk=Lj.ceil,nk=Lj.floor,ok=Mj.getOwnPropertySymbols,pk=ak?ak.isBuffer:aa,qk=a.isFinite,rk=Qj.join,sk=S(Mj.keys,Mj),tk=Lj.max,uk=Lj.min,vk=a.parseInt,wk=Lj.random,xk=Qj.reverse,yk=ff(a,"DataView"),zk=ff(a,"Map"),Ak=ff(a,"Promise"),Bk=ff(a,"Set"),Ck=ff(a,"WeakMap"),Dk=ff(Mj,"create"),Ek=function(){var a=ff(Mj,"defineProperty"),b=ff.name;return b&&b.length>2?a:aa}(),Fk=Ck&&new Ck,Gk=!gk.call({valueOf:1},"valueOf"),Hk={},Ik=Ef(yk),Jk=Ef(zk),Kk=Ef(Ak),Lk=Ef(Bk),Mk=Ef(Ck),Nk=bk?bk.prototype:aa,Ok=Nk?Nk.valueOf:aa,Pk=Nk?Nk.toString:aa;q.templateSettings={escape:ob,evaluate:pb,interpolate:qb,variable:"",imports:{_:q}},q.prototype=z.prototype,q.prototype.constructor=q,Y.prototype=Jc(z.prototype),Y.prototype.constructor=Y,Z.prototype=Jc(z.prototype),Z.prototype.constructor=Z,Sb.prototype.clear=Tb,Sb.prototype.delete=Ub,Sb.prototype.get=Vb,Sb.prototype.has=Wb,Sb.prototype.set=Xb,Yb.prototype.clear=Zb,Yb.prototype.delete=$b,Yb.prototype.get=_b,Yb.prototype.has=ac,Yb.prototype.set=bc,cc.prototype.clear=dc,cc.prototype.delete=ec,cc.prototype.get=fc,cc.prototype.has=gc,cc.prototype.set=hc,ic.prototype.add=ic.prototype.push=jc,ic.prototype.has=kc,lc.prototype.clear=mc,lc.prototype.delete=nc,lc.prototype.get=oc,lc.prototype.has=pc,lc.prototype.set=qc;var Qk=Ce(Vc),Rk=Ce(Wc,!0),Sk=De(),Tk=De(!0),Uk=Fk?function(a,b){return Fk.set(a,b),a}:hj,Vk=jk||function(a){return Rc.clearTimeout(a)},Wk=Bk&&1/U(new Bk([,-0]))[1]==za?function(a){return new Bk(a)}:nj,Xk=Fk?function(a){return Fk.get(a)}:nj,Yk=ok?S(ok,Mj):rj,Zk=ok?function(a){for(var b=[];a;)m(b,Yk(a)),a=dk(a);return b}:rj,$k=id;(yk&&$k(new yk(new ArrayBuffer(1)))!=Za||zk&&$k(new zk)!=Oa||Ak&&$k(Ak.resolve())!=Ra||Bk&&$k(new Bk)!=Ta||Ck&&$k(new Ck)!=Wa)&&($k=function(a){var b=Zj.call(a),c=b==Qa?a.constructor:aa,d=c?Ef(c):aa;if(d)switch(d){case Ik:return Za;case Jk:return Oa;case Kk:return Ra;case Lk:return Ta;case Mk:return Wa}return b});var _k=Tj?Gh:sj,al=function(){var a=0,b=0;return function(c,d){var e=El(),f=va-(e-b);if(b=e,f>0){if(++a>=ua)return c}else a=0;return Uk(c,d)}}(),bl=lk||function(a,b){return Rc.setTimeout(a,b)},cl=Ek?function(a,b,c){var d=b+"";return Ek(a,"toString",{configurable:!0,enumerable:!1,value:fj(nf(d,Ff(hf(d),c)))})}:hj,dl=hh(function(a){a=ei(a);var b=[];return tb.test(a)&&b.push(""),a.replace(ub,function(a,c,d,e){b.push(d?e.replace(Eb,"$1"):c||a)}),b}),el=Td(function(a,b){return yh(a)?Lc(a,Tc(b,1,yh,!0)):[]}),fl=Td(function(a,b){var c=Zf(b);return yh(c)&&(c=aa),yh(a)?Lc(a,Tc(b,1,yh,!0),cf(c,2)):[]}),gl=Td(function(a,b){var c=Zf(b);return yh(c)&&(c=aa),yh(a)?Lc(a,Tc(b,1,yh,!0),aa,c):[]}),hl=Td(function(a){var b=l(a,he);return b.length&&b[0]===a[0]?nd(b):[]}),il=Td(function(a){var b=Zf(a),c=l(a,he);return b===Zf(c)?b=aa:c.pop(),c.length&&c[0]===a[0]?nd(c,cf(b,2)):[]}),jl=Td(function(a){var b=Zf(a),c=l(a,he);return b===Zf(c)?b=aa:c.pop(),c.length&&c[0]===a[0]?nd(c,aa,b):[]}),kl=Td(ag),ll=Td(function(a,b){b=Tc(b,1);var c=a?a.length:0,d=yc(a,b);return Pd(a,l(b,function(a){return pf(a,c)?+a:a}).sort(te)),d}),ml=Td(function(a){return ae(Tc(a,1,yh,!0))}),nl=Td(function(a){var b=Zf(a);return yh(b)&&(b=aa),ae(Tc(a,1,yh,!0),cf(b,2))}),ol=Td(function(a){var b=Zf(a);return yh(b)&&(b=aa),ae(Tc(a,1,yh,!0),aa,b)}),pl=Td(function(a,b){return yh(a)?Lc(a,b):[]}),ql=Td(function(a){return fe(i(a,yh))}),rl=Td(function(a){var b=Zf(a);return yh(b)&&(b=aa),fe(i(a,yh),cf(b,2))}),sl=Td(function(a){var b=Zf(a);return yh(b)&&(b=aa),fe(i(a,yh),aa,b)}),tl=Td(wg),ul=Td(function(a){var b=a.length,c=b>1?a[b-1]:aa;return c="function"==typeof c?(a.pop(),c):aa,xg(a,c)}),vl=Td(function(a){a=Tc(a,1);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return yc(b,a)};return!(b>1||this.__actions__.length)&&d instanceof Z&&pf(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:Cg,args:[e],thisArg:aa}),new Y(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(aa),a})):this.thru(e)}),wl=Ae(function(a,b,c){Wj.call(a,c)?++a[c]:a[c]=1}),xl=Je(Pf),yl=Je(Qf),zl=Ae(function(a,b,c){Wj.call(a,c)?a[c].push(b):a[c]=[b]}),Al=Td(function(a,b,c){var e=-1,f="function"==typeof b,g=rf(b),h=xh(a)?Hj(a.length):[];return Qk(a,function(a){var i=f?b:g&&null!=a?a[b]:aa;h[++e]=i?d(i,a,c):pd(a,b,c)}),h}),Bl=Ae(function(a,b,c){a[c]=b}),Cl=Ae(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Dl=Td(function(a,b){if(null==a)return[];var c=b.length;return c>1&&qf(a,b[0],b[1])?b=[]:c>2&&qf(b[0],b[1],b[2])&&(b=[b[0]]),Kd(a,Tc(b,1),[])}),El=kk||function(){return Rc.Date.now()},Fl=Td(function(a,b,c){var d=ga;if(c.length){var e=T(c,bf(Fl));d|=la}return We(a,d,b,c,e)}),Gl=Td(function(a,b,c){var d=ga|ha;if(c.length){var e=T(c,bf(Gl));d|=la}return We(b,d,a,c,e)}),Hl=Td(function(a,b){return Kc(a,1,b)}),Il=Td(function(a,b,c){return Kc(a,bi(b)||0,c)});hh.Cache=cc;var Jl=Td(function(a,b){b=1==b.length&&Pl(b[0])?l(b[0],F(cf())):l(Tc(b,1),F(cf()));var c=b.length;return Td(function(e){for(var f=-1,g=uk(e.length,c);++f<g;)e[f]=b[f].call(this,e[f]);return d(a,this,e)})}),Kl=Td(function(a,b){var c=T(b,bf(Kl));return We(a,la,aa,b,c)}),Ll=Td(function(a,b){var c=T(b,bf(Ll));return We(a,ma,aa,b,c)}),Ml=Td(function(a,b){return We(a,oa,aa,aa,aa,Tc(b,1))}),Nl=Se(jd),Ol=Se(function(a,b){return a>=b}),Pl=Hj.isArray,Ql=Xc?F(Xc):qd,Rl=pk||sj,Sl=Yc?F(Yc):rd,Tl=Zc?F(Zc):ud,Ul=$c?F($c):xd,Vl=_c?F(_c):yd,Wl=ad?F(ad):zd,Xl=Se(Dd),Yl=Se(function(a,b){return a<=b}),Zl=Be(function(a,b){if(Gk||vf(b)||xh(b))return void ye(b,ri(b),a);for(var c in b)Wj.call(b,c)&&uc(a,c,b[c])}),$l=Be(function(a,b){ye(b,si(b),a)}),_l=Be(function(a,b,c,d){ye(b,si(b),a,d)}),am=Be(function(a,b,c,d){ye(b,ri(b),a,d)}),bm=Td(function(a,b){return yc(a,Tc(b,1))}),cm=Td(function(a){return a.push(aa,sc),d(_l,aa,a)}),dm=Td(function(a){return a.push(aa,zf),d(im,aa,a)}),em=Me(function(a,b,c){a[b]=c},fj(hj)),fm=Me(function(a,b,c){Wj.call(a,b)?a[b].push(c):a[b]=[c]},cf),gm=Td(pd),hm=Be(function(a,b,c){Hd(a,b,c)}),im=Be(function(a,b,c,d){Hd(a,b,c,d)}),jm=Td(function(a,b){return null==a?{}:(b=l(Tc(b,1),Df),Ld(a,Lc(_e(a),b)))}),km=Td(function(a,b){return null==a?{}:Ld(a,l(Tc(b,1),Df))}),lm=Ve(ri),mm=Ve(si),nm=Ge(function(a,b,c){return b=b.toLowerCase(),a+(c?Ji(b):b)}),om=Ge(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),pm=Ge(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),qm=Fe("toLowerCase"),rm=Ge(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),sm=Ge(function(a,b,c){return a+(c?" ":"")+um(b)}),tm=Ge(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),um=Fe("toUpperCase"),vm=Td(function(a,b){try{return d(a,aa,b)}catch(a){return Eh(a)?a:new Jj(a)}}),wm=Td(function(a,b){return f(Tc(b,1),function(b){b=Df(b),a[b]=Fl(a[b],a)}),a}),xm=Ke(),ym=Ke(!0),zm=Td(function(a,b){return function(c){return pd(c,a,b)}}),Am=Td(function(a,b){return function(c){return pd(a,c,b)}}),Bm=Oe(l),Cm=Oe(h),Dm=Oe(p),Em=Re(),Fm=Re(!0),Gm=Ne(function(a,b){return a+b},0),Hm=Ue("ceil"),Im=Ne(function(a,b){return a/b},1),Jm=Ue("floor"),Km=Ne(function(a,b){return a*b},1),Lm=Ue("round"),Mm=Ne(function(a,b){return a-b},0);return q.after=ah,q.ary=bh,q.assign=Zl,q.assignIn=$l,q.assignInWith=_l,q.assignWith=am,q.at=bm,q.before=ch,q.bind=Fl,q.bindAll=wm,q.bindKey=Gl,q.castArray=ph,q.chain=Ag,q.chunk=Hf,q.compact=If,q.concat=Jf,q.cond=dj,q.conforms=ej,q.constant=fj,q.countBy=wl,q.create=fi,q.curry=dh,q.curryRight=eh,q.debounce=fh,q.defaults=cm,q.defaultsDeep=dm,q.defer=Hl,q.delay=Il,q.difference=el,q.differenceBy=fl,q.differenceWith=gl,q.drop=Kf,q.dropRight=Lf,q.dropRightWhile=Mf,q.dropWhile=Nf,q.fill=Of,q.filter=Lg,q.flatMap=Mg,q.flatMapDeep=Ng,q.flatMapDepth=Og,q.flatten=Rf,q.flattenDeep=Sf,q.flattenDepth=Tf,q.flip=gh,q.flow=xm,q.flowRight=ym,q.fromPairs=Uf,q.functions=mi,q.functionsIn=ni,q.groupBy=zl,q.initial=Xf,q.intersection=hl,q.intersectionBy=il,q.intersectionWith=jl,q.invert=em,q.invertBy=fm,q.invokeMap=Al,q.iteratee=ij,q.keyBy=Bl,q.keys=ri,q.keysIn=si,q.map=Sg,q.mapKeys=ti,q.mapValues=ui,q.matches=jj,q.matchesProperty=kj,q.memoize=hh,q.merge=hm,q.mergeWith=im,q.method=zm,q.methodOf=Am,q.mixin=lj,q.negate=ih,q.nthArg=oj,q.omit=jm,q.omitBy=vi,q.once=jh,q.orderBy=Tg,q.over=Bm,q.overArgs=Jl,q.overEvery=Cm,q.overSome=Dm,q.partial=Kl,q.partialRight=Ll,q.partition=Cl,q.pick=km,q.pickBy=wi,q.property=pj,q.propertyOf=qj,q.pull=kl,q.pullAll=ag,q.pullAllBy=bg,q.pullAllWith=cg,q.pullAt=ll,q.range=Em,q.rangeRight=Fm,q.rearg=Ml,q.reject=Wg,q.remove=dg,q.rest=kh,q.reverse=eg,q.sampleSize=Yg,q.set=yi,q.setWith=zi,q.shuffle=Zg,q.slice=fg,q.sortBy=Dl,q.sortedUniq=mg,q.sortedUniqBy=ng,q.split=Ui,q.spread=lh,q.tail=og,q.take=pg,q.takeRight=qg,q.takeRightWhile=rg,q.takeWhile=sg,q.tap=Bg,q.throttle=mh,q.thru=Cg,q.toArray=Zh,q.toPairs=lm,q.toPairsIn=mm,q.toPath=xj,q.toPlainObject=ci,q.transform=Ai,q.unary=nh,q.union=ml,q.unionBy=nl,q.unionWith=ol,q.uniq=tg,q.uniqBy=ug,q.uniqWith=vg,q.unset=Bi,q.unzip=wg,q.unzipWith=xg,q.update=Ci,q.updateWith=Di,q.values=Ei,q.valuesIn=Fi,q.without=pl,q.words=cj,q.wrap=oh,q.xor=ql,q.xorBy=rl,q.xorWith=sl,q.zip=tl,q.zipObject=yg,q.zipObjectDeep=zg,q.zipWith=ul,q.entries=lm,q.entriesIn=mm,q.extend=$l,q.extendWith=_l,lj(q,q),q.add=Gm,q.attempt=vm,q.camelCase=nm,q.capitalize=Ji,q.ceil=Hm,q.clamp=Gi,q.clone=qh,q.cloneDeep=sh,q.cloneDeepWith=th,q.cloneWith=rh,q.conformsTo=uh,q.deburr=Ki,q.defaultTo=gj,q.divide=Im,q.endsWith=Li,q.eq=vh,q.escape=Mi,q.escapeRegExp=Ni,q.every=Kg,q.find=xl,q.findIndex=Pf,q.findKey=gi,q.findLast=yl,q.findLastIndex=Qf,q.findLastKey=hi,q.floor=Jm,q.forEach=Pg,q.forEachRight=Qg,q.forIn=ii,q.forInRight=ji,q.forOwn=ki,q.forOwnRight=li,q.get=oi,q.gt=Nl,q.gte=Ol,q.has=pi,q.hasIn=qi,q.head=Vf,q.identity=hj,q.includes=Rg,q.indexOf=Wf,q.inRange=Hi,q.invoke=gm,q.isArguments=wh,q.isArray=Pl,q.isArrayBuffer=Ql,q.isArrayLike=xh,q.isArrayLikeObject=yh,q.isBoolean=zh,q.isBuffer=Rl,q.isDate=Sl,q.isElement=Ah,q.isEmpty=Bh,q.isEqual=Ch,q.isEqualWith=Dh,q.isError=Eh,q.isFinite=Fh,q.isFunction=Gh,q.isInteger=Hh,q.isLength=Ih,q.isMap=Tl,q.isMatch=Lh,q.isMatchWith=Mh,q.isNaN=Nh,q.isNative=Oh,q.isNil=Qh,q.isNull=Ph,q.isNumber=Rh,q.isObject=Jh,q.isObjectLike=Kh,q.isPlainObject=Sh,q.isRegExp=Ul,q.isSafeInteger=Th,q.isSet=Vl,q.isString=Uh,q.isSymbol=Vh,q.isTypedArray=Wl,q.isUndefined=Wh,q.isWeakMap=Xh,q.isWeakSet=Yh,q.join=Yf,q.kebabCase=om,q.last=Zf,q.lastIndexOf=$f,q.lowerCase=pm,q.lowerFirst=qm,q.lt=Xl,q.lte=Yl,q.max=zj,q.maxBy=Aj,q.mean=Bj,q.meanBy=Cj,q.min=Dj,q.minBy=Ej,q.stubArray=rj,q.stubFalse=sj,q.stubObject=tj,q.stubString=uj,q.stubTrue=vj,q.multiply=Km,q.nth=_f,q.noConflict=mj,q.noop=nj,q.now=El,q.pad=Oi,q.padEnd=Pi,q.padStart=Qi,q.parseInt=Ri,q.random=Ii,q.reduce=Ug,q.reduceRight=Vg,q.repeat=Si,q.replace=Ti,q.result=xi,q.round=Lm,q.runInContext=_,q.sample=Xg,q.size=$g,q.snakeCase=rm,q.some=_g,q.sortedIndex=gg,q.sortedIndexBy=hg,q.sortedIndexOf=ig,q.sortedLastIndex=jg,q.sortedLastIndexBy=kg,q.sortedLastIndexOf=lg,q.startCase=sm,q.startsWith=Vi,q.subtract=Mm,q.sum=Fj,q.sumBy=Gj,q.template=Wi,q.times=wj,q.toFinite=$h,q.toInteger=_h,q.toLength=ai,q.toLower=Xi,q.toNumber=bi,q.toSafeInteger=di,q.toString=ei,q.toUpper=Yi,q.trim=Zi,q.trimEnd=$i,q.trimStart=_i,q.truncate=aj,q.unescape=bj,q.uniqueId=yj,q.upperCase=tm,q.upperFirst=um,q.each=Pg,q.eachRight=Qg,q.first=Vf,lj(q,function(){var a={};return Vc(q,function(b,c){Wj.call(q.prototype,c)||(a[c]=b)}),a}(),{chain:!1}),q.VERSION=ba,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){q[a].placeholder=q}),f(["drop","take"],function(a,b){Z.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Z(this);c=c===aa?1:tk(_h(c),0);var e=this.clone();return d?e.__takeCount__=uk(c,e.__takeCount__):e.__views__.push({size:uk(c,Da),type:a+(e.__dir__<0?"Right":"")}),e},Z.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),f(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==wa||c==ya;Z.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:cf(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),f(["head","last"],function(a,b){var c="take"+(b?"Right":"");Z.prototype[a]=function(){return this[c](1).value()[0]}}),f(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");Z.prototype[a]=function(){return this.__filtered__?new Z(this):this[c](1)}}),Z.prototype.compact=function(){return this.filter(hj)},Z.prototype.find=function(a){return this.filter(a).head()},Z.prototype.findLast=function(a){return this.reverse().find(a)},Z.prototype.invokeMap=Td(function(a,b){return"function"==typeof a?new Z(this):this.map(function(c){return pd(c,a,b)})}),Z.prototype.reject=function(a){return this.filter(ih(cf(a)))},Z.prototype.slice=function(a,b){a=_h(a);var c=this;return c.__filtered__&&(a>0||b<0)?new Z(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==aa&&(b=_h(b),c=b<0?c.dropRight(-b):c.take(b-a)),c)},Z.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Z.prototype.toArray=function(){return this.take(Da)},Vc(Z.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=q[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(q.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,h=b instanceof Z,i=g[0],j=h||Pl(b),k=function(a){var b=e.apply(q,m([a],g));return d&&l?b[0]:b};j&&c&&"function"==typeof i&&1!=i.length&&(h=j=!1);var l=this.__chain__,n=!!this.__actions__.length,o=f&&!l,p=h&&!n;if(!f&&j){b=p?b:new Z(this);var r=a.apply(b,g);return r.__actions__.push({func:Cg,args:[k],thisArg:aa}),new Y(r,l)}return o&&p?a.apply(this,g):(r=this.thru(k),o?d?r.value()[0]:r.value():r)})}),f(["pop","push","shift","sort","splice","unshift"],function(a){var b=Qj[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);q.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(Pl(e)?e:[],a)}return this[c](function(c){return b.apply(Pl(c)?c:[],a)})}}),Vc(Z.prototype,function(a,b){var c=q[b];if(c){var d=c.name+"",e=Hk[d]||(Hk[d]=[]);e.push({name:b,func:c})}}),Hk[Le(aa,ha).name]=[{name:"wrapper",func:aa}],Z.prototype.clone=Db,Z.prototype.reverse=Qb,Z.prototype.value=Rb,q.prototype.at=vl,q.prototype.chain=Dg,q.prototype.commit=Eg,q.prototype.next=Fg,q.prototype.plant=Hg,q.prototype.reverse=Ig,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=Jg,q.prototype.first=q.prototype.head,ek&&(q.prototype[ek]=Gg),q}var aa,ba="4.15.0",ca=200,da="Expected a function",ea="__lodash_hash_undefined__",fa="__lodash_placeholder__",ga=1,ha=2,ia=4,ja=8,ka=16,la=32,ma=64,na=128,oa=256,pa=512,qa=1,ra=2,sa=30,ta="...",ua=150,va=16,wa=1,xa=2,ya=3,za=1/0,Aa=9007199254740991,Ba=1.7976931348623157e308,Ca=NaN,Da=4294967295,Ea=Da-1,Fa=Da>>>1,Ga=[["ary",na],["bind",ga],["bindKey",ha],["curry",ja],["curryRight",ka],["flip",pa],["partial",la],["partialRight",ma],["rearg",oa]],Ha="[object Arguments]",Ia="[object Array]",Ja="[object Boolean]",Ka="[object Date]",La="[object Error]",Ma="[object Function]",Na="[object GeneratorFunction]",Oa="[object Map]",Pa="[object Number]",Qa="[object Object]",Ra="[object Promise]",Sa="[object RegExp]",Ta="[object Set]",Ua="[object String]",Va="[object Symbol]",Wa="[object WeakMap]",Xa="[object WeakSet]",Ya="[object ArrayBuffer]",Za="[object DataView]",$a="[object Float32Array]",_a="[object Float64Array]",ab="[object Int8Array]",bb="[object Int16Array]",cb="[object Int32Array]",db="[object Uint8Array]",eb="[object Uint8ClampedArray]",fb="[object Uint16Array]",gb="[object Uint32Array]",hb=/\b__p \+= '';/g,ib=/\b(__p \+=) '' \+/g,jb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kb=/&(?:amp|lt|gt|quot|#39|#96);/g,lb=/[&<>"'`]/g,mb=RegExp(kb.source),nb=RegExp(lb.source),ob=/<%-([\s\S]+?)%>/g,pb=/<%([\s\S]+?)%>/g,qb=/<%=([\s\S]+?)%>/g,rb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sb=/^\w*$/,tb=/^\./,ub=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vb=/[\\^$.*+?()[\]{}|]/g,wb=RegExp(vb.source),xb=/^\s+|\s+$/g,yb=/^\s+/,zb=/\s+$/,Ab=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bb=/\{\n\/\* \[wrapped with (.+)\] \*/,Cb=/,? & /,Db=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Eb=/\\(\\)?/g,Fb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gb=/\w*$/,Hb=/^0x/i,Ib=/^[-+]0x[0-9a-f]+$/i,Jb=/^0b[01]+$/i,Kb=/^\[object .+?Constructor\]$/,Lb=/^0o[0-7]+$/i,Mb=/^(?:0|[1-9]\d*)$/,Nb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ob=/($^)/,Pb=/['\n\r\u2028\u2029\\]/g,Qb="\\ud800-\\udfff",Rb="\\u0300-\\u036f\\ufe20-\\ufe23",Sb="\\u20d0-\\u20f0",Tb="\\u2700-\\u27bf",Ub="a-z\\xdf-\\xf6\\xf8-\\xff",Vb="\\xac\\xb1\\xd7\\xf7",Wb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xb="\\u2000-\\u206f",Yb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zb="A-Z\\xc0-\\xd6\\xd8-\\xde",$b="\\ufe0e\\ufe0f",_b=Vb+Wb+Xb+Yb,ac="['’]",bc="["+Qb+"]",cc="["+_b+"]",dc="["+Rb+Sb+"]",ec="\\d+",fc="["+Tb+"]",gc="["+Ub+"]",hc="[^"+Qb+_b+ec+Tb+Ub+Zb+"]",ic="\\ud83c[\\udffb-\\udfff]",jc="(?:"+dc+"|"+ic+")",kc="[^"+Qb+"]",lc="(?:\\ud83c[\\udde6-\\uddff]){2}",mc="[\\ud800-\\udbff][\\udc00-\\udfff]",nc="["+Zb+"]",oc="\\u200d",pc="(?:"+gc+"|"+hc+")",qc="(?:"+nc+"|"+hc+")",rc="(?:"+ac+"(?:d|ll|m|re|s|t|ve))?",sc="(?:"+ac+"(?:D|LL|M|RE|S|T|VE))?",tc=jc+"?",uc="["+$b+"]?",vc="(?:"+oc+"(?:"+[kc,lc,mc].join("|")+")"+uc+tc+")*",wc=uc+tc+vc,xc="(?:"+[fc,lc,mc].join("|")+")"+wc,yc="(?:"+[kc+dc+"?",dc,lc,mc,bc].join("|")+")",zc=RegExp(ac,"g"),Ac=RegExp(dc,"g"),Bc=RegExp(ic+"(?="+ic+")|"+yc+wc,"g"),Cc=RegExp([nc+"?"+gc+"+"+rc+"(?="+[cc,nc,"$"].join("|")+")",qc+"+"+sc+"(?="+[cc,nc+pc,"$"].join("|")+")",nc+"?"+pc+"+"+rc,nc+"+"+sc,ec,xc].join("|"),"g"),Dc=RegExp("["+oc+Qb+Rb+Sb+$b+"]"),Ec=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gc=-1,Hc={};
Hc[$a]=Hc[_a]=Hc[ab]=Hc[bb]=Hc[cb]=Hc[db]=Hc[eb]=Hc[fb]=Hc[gb]=!0,Hc[Ha]=Hc[Ia]=Hc[Ya]=Hc[Ja]=Hc[Za]=Hc[Ka]=Hc[La]=Hc[Ma]=Hc[Oa]=Hc[Pa]=Hc[Qa]=Hc[Sa]=Hc[Ta]=Hc[Ua]=Hc[Wa]=!1;var Ic={};Ic[Ha]=Ic[Ia]=Ic[Ya]=Ic[Za]=Ic[Ja]=Ic[Ka]=Ic[$a]=Ic[_a]=Ic[ab]=Ic[bb]=Ic[cb]=Ic[Oa]=Ic[Pa]=Ic[Qa]=Ic[Sa]=Ic[Ta]=Ic[Ua]=Ic[Va]=Ic[db]=Ic[eb]=Ic[fb]=Ic[gb]=!0,Ic[La]=Ic[Ma]=Ic[Wa]=!1;var Jc={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},Kc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Lc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Mc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nc=parseFloat,Oc=parseInt,Pc="object"==typeof global&&global&&global.Object===Object&&global,Qc="object"==typeof self&&self&&self.Object===Object&&self,Rc=Pc||Qc||Function("return this")(),Sc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tc=Sc&&"object"==typeof module&&module&&!module.nodeType&&module,Uc=Tc&&Tc.exports===Sc,Vc=Uc&&Pc.process,Wc=function(){try{return Vc&&Vc.binding("util")}catch(a){}}(),Xc=Wc&&Wc.isArrayBuffer,Yc=Wc&&Wc.isDate,Zc=Wc&&Wc.isMap,$c=Wc&&Wc.isRegExp,_c=Wc&&Wc.isSet,ad=Wc&&Wc.isTypedArray,bd=y("length"),cd=z(Jc),dd=z(Kc),ed=z(Lc),fd=_();"function"==typeof a&&"object"==typeof a.amd&&a.amd?(Rc._=fd,a("lodash-src",[],function(){return fd})):Tc?((Tc.exports=fd)._=fd,Sc._=fd):Rc._=fd}).call(this)}(),function(){var a=System.amdDefine;a("lodash",["lodash-src"],function(){"use strict";var a=window._;return a.mixin({move:function(a,b,c){return a.splice(c,0,a.splice(b,1)[0]),a},toggle:function(a,b,c){return a===b?c:b},toggleInOut:function(b,c){return a.includes(b,c)?b=a.without(b,c):b.push(c),b}}),a})}(),function(){var a=System.amdDefine;a("app/core/settings.js",["lodash"],function(a){"use strict";return function(b){var c={datasources:{},window_title_prefix:"Grafana - ",panels:{},new_panel_title:"Panel Title",playlist_timespan:"1m",unsaved_changes_warning:!0,appSubUrl:""};return a.extend({},c,b)}})}(),function(){var a=System.amdDefine;a("app/core/config.js",["app/core/settings"],function(a){"use strict";var b=window.grafanaBootData||{settings:{}},c=b.settings;return c.bootData=b,new a(c)})}(),System.register("app/plugins/sdk.js",["app/features/panel/panel_ctrl","app/features/panel/metrics_panel_ctrl","app/features/panel/query_ctrl","app/features/alerting/alert_tab_ctrl","app/core/config"],function(a,b){"use strict";function c(a){h.default.bootData.user.lightTheme?System.import(a.light+"!css"):System.import(a.dark+"!css")}b&&b.id;a("loadPluginCss",c);var d,e,f,g,h;return{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){a("PanelCtrl",d.PanelCtrl),a("MetricsPanelCtrl",e.MetricsPanelCtrl),a("QueryCtrl",f.QueryCtrl),a("alertTab",g.alertTab)}}}),System.register("app/plugins/panel/text/module.js",["lodash","app/plugins/sdk"],function(a,b){"use strict";var c,d,e,f=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(a){function b(b,d,e,f){var g=a.call(this,b,d)||this;return g.templateSrv=e,g.$sce=f,g.panelDefaults={mode:"markdown",content:"# title"},c.default.defaults(g.panel,g.panelDefaults),g.events.on("init-edit-mode",g.onInitEditMode.bind(g)),g.events.on("refresh",g.onRefresh.bind(g)),g.events.on("render",g.onRender.bind(g)),g}return f(b,a),b.$inject=["$scope","$injector","templateSrv","$sce"],b.prototype.onInitEditMode=function(){this.addEditorTab("Options","public/app/plugins/panel/text/editor.html"),this.editorTabIndex=1,"text"===this.panel.mode&&(this.panel.mode="markdown")},b.prototype.onRefresh=function(){this.render()},b.prototype.onRender=function(){"markdown"===this.panel.mode?this.renderMarkdown(this.panel.content):"html"===this.panel.mode&&this.updateContent(this.panel.content),this.renderingCompleted()},b.prototype.renderText=function(a){a=a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\n/g,"<br/>"),this.updateContent(a)},b.prototype.renderMarkdown=function(a){var b=this;return this.remarkable?void this.updateContent(this.remarkable.render(a)):System.import("remarkable").then(function(c){b.remarkable=new c,b.$scope.$apply(function(){b.updateContent(b.remarkable.render(a))})})},b.prototype.updateContent=function(a){try{this.content=this.$sce.trustAsHtml(this.templateSrv.replace(a,this.panel.scopedVars))}catch(b){console.log("Text panel error: ",b),this.content=this.$sce.trustAsHtml(a)}},b}(d.PanelCtrl),e.templateUrl="public/app/plugins/panel/text/module.html",a("TextPanelCtrl",e),a("PanelCtrl",e)}}}),function(){"use strict";var a=System.locate;System.locate=function(b){var c=this;return Promise.resolve(a.call(this,b)).then(function(a){return a+c.cacheBust})},System.cacheBust="?bust="+Date.now(),System.import("app/app").then(function(a){a.default.init()}).catch(function(a){console.log("Loading app module failed: ",a)})}();